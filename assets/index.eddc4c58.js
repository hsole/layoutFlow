var Mae=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var MXe=Mae((es,ts)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function Qx(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const Nae="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Rae=Qx(Nae);function ZU(e){return!!e||e===""}function gn(e){if(Sn(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=Kn(r)?kae(r):gn(r);if(o)for(const i in o)t[i]=o[i]}return t}else{if(Kn(e))return e;if(Er(e))return e}}const Iae=/;(?![^(]*\))/g,Dae=/:(.+)/;function kae(e){const t={};return e.split(Iae).forEach(n=>{if(n){const r=n.split(Dae);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Z(e){let t="";if(Kn(e))t=e;else if(Sn(e))for(let n=0;n<e.length;n++){const r=Z(e[n]);r&&(t+=r+" ")}else if(Er(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function fl(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Kn(t)&&(e.class=Z(t)),n&&(e.style=gn(n)),e}function Lae(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=oy(e[r],t[r]);return n}function oy(e,t){if(e===t)return!0;let n=Dh(e),r=Dh(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=nb(e),r=nb(t),n||r)return e===t;if(n=Sn(e),r=Sn(t),n||r)return n&&r?Lae(e,t):!1;if(n=Er(e),r=Er(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,i=Object.keys(t).length;if(o!==i)return!1;for(const a in e){const s=e.hasOwnProperty(a),f=t.hasOwnProperty(a);if(s&&!f||!s&&f||!oy(e[a],t[a]))return!1}}return String(e)===String(t)}function JU(e,t){return e.findIndex(n=>oy(n,t))}const Bt=e=>Kn(e)?e:e==null?"":Sn(e)||Er(e)&&(e.toString===qU||!Wn(e.toString))?JSON.stringify(e,QU,2):String(e),QU=(e,t)=>t&&t.__v_isRef?QU(e,t.value):Gv(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:JO(t)?{[`Set(${t.size})`]:[...t.values()]}:Er(t)&&!Sn(t)&&!eV(t)?String(t):t,Co={},Hv=[],to=()=>{},$ae=()=>!1,Bae=/^on[^a-z]/,ZO=e=>Bae.test(e),qx=e=>e.startsWith("onUpdate:"),xi=Object.assign,eM=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},jae=Object.prototype.hasOwnProperty,xr=(e,t)=>jae.call(e,t),Sn=Array.isArray,Gv=e=>Py(e)==="[object Map]",JO=e=>Py(e)==="[object Set]",Dh=e=>Py(e)==="[object Date]",Wn=e=>typeof e=="function",Kn=e=>typeof e=="string",nb=e=>typeof e=="symbol",Er=e=>e!==null&&typeof e=="object",rb=e=>Er(e)&&Wn(e.then)&&Wn(e.catch),qU=Object.prototype.toString,Py=e=>qU.call(e),yw=e=>Py(e).slice(8,-1),eV=e=>Py(e)==="[object Object]",tM=e=>Kn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,mw=Qx(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),QO=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Fae=/-(\w)/g,Is=QO(e=>e.replace(Fae,(t,n)=>n?n.toUpperCase():"")),zae=/\B([A-Z])/g,rd=QO(e=>e.replace(zae,"-$1").toLowerCase()),zb=QO(e=>e.charAt(0).toUpperCase()+e.slice(1)),gw=QO(e=>e?`on${zb(e)}`:""),ob=(e,t)=>!Object.is(e,t),bw=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},iO=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},aO=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let O3;const Uae=()=>O3||(O3=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Qa;class tV{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&Qa&&(this.parent=Qa,this.index=(Qa.scopes||(Qa.scopes=[])).push(this)-1)}run(t){if(this.active){const n=Qa;try{return Qa=this,t()}finally{Qa=n}}}on(){Qa=this}off(){Qa=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.active=!1}}}function Vae(e){return new tV(e)}function Hae(e,t=Qa){t&&t.active&&t.effects.push(e)}function Gae(){return Qa}function nV(e){Qa&&Qa.cleanups.push(e)}const nM=e=>{const t=new Set(e);return t.w=0,t.n=0,t},rV=e=>(e.w&Xf)>0,oV=e=>(e.n&Xf)>0,Wae=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Xf},Kae=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];rV(o)&&!oV(o)?o.delete(e):t[n++]=o,o.w&=~Xf,o.n&=~Xf}t.length=n}},lP=new WeakMap;let Mg=0,Xf=1;const uP=30;let cl;const Ch=Symbol(""),cP=Symbol("");class rM{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Hae(this,r)}run(){if(!this.active)return this.fn();let t=cl,n=Wf;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=cl,cl=this,Wf=!0,Xf=1<<++Mg,Mg<=uP?Wae(this):_3(this),this.fn()}finally{Mg<=uP&&Kae(this),Xf=1<<--Mg,cl=this.parent,Wf=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){cl===this?this.deferStop=!0:this.active&&(_3(this),this.onStop&&this.onStop(),this.active=!1)}}function _3(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Wf=!0;const iV=[];function Kh(){iV.push(Wf),Wf=!1}function Xh(){const e=iV.pop();Wf=e===void 0?!0:e}function rs(e,t,n){if(Wf&&cl){let r=lP.get(e);r||lP.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=nM()),aV(o)}}function aV(e,t){let n=!1;Mg<=uP?oV(e)||(e.n|=Xf,n=!rV(e)):n=!e.has(cl),n&&(e.add(cl),cl.deps.push(e))}function vc(e,t,n,r,o,i){const a=lP.get(e);if(!a)return;let s=[];if(t==="clear")s=[...a.values()];else if(n==="length"&&Sn(e))a.forEach((f,d)=>{(d==="length"||d>=r)&&s.push(f)});else switch(n!==void 0&&s.push(a.get(n)),t){case"add":Sn(e)?tM(n)&&s.push(a.get("length")):(s.push(a.get(Ch)),Gv(e)&&s.push(a.get(cP)));break;case"delete":Sn(e)||(s.push(a.get(Ch)),Gv(e)&&s.push(a.get(cP)));break;case"set":Gv(e)&&s.push(a.get(Ch));break}if(s.length===1)s[0]&&fP(s[0]);else{const f=[];for(const d of s)d&&f.push(...d);fP(nM(f))}}function fP(e,t){const n=Sn(e)?e:[...e];for(const r of n)r.computed&&T3(r);for(const r of n)r.computed||T3(r)}function T3(e,t){(e!==cl||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Xae=Qx("__proto__,__v_isRef,__isVue"),sV=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(nb)),Yae=oM(),Zae=oM(!1,!0),Jae=oM(!0),C3=Qae();function Qae(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Zr(this);for(let i=0,a=this.length;i<a;i++)rs(r,"get",i+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(Zr)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Kh();const r=Zr(this)[t].apply(this,n);return Xh(),r}}),e}function oM(e=!1,t=!1){return function(r,o,i){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&i===(e?t?pse:dV:t?fV:cV).get(r))return r;const a=Sn(r);if(!e&&a&&xr(C3,o))return Reflect.get(C3,o,i);const s=Reflect.get(r,o,i);return(nb(o)?sV.has(o):Xae(o))||(e||rs(r,"get",o),t)?s:uo(s)?a&&tM(o)?s:s.value:Er(s)?e?Ub(s):Xr(s):s}}const qae=lV(),ese=lV(!0);function lV(e=!1){return function(n,r,o,i){let a=n[r];if(iy(a)&&uo(a)&&!uo(o))return!1;if(!e&&(!sO(o)&&!iy(o)&&(a=Zr(a),o=Zr(o)),!Sn(n)&&uo(a)&&!uo(o)))return a.value=o,!0;const s=Sn(n)&&tM(r)?Number(r)<n.length:xr(n,r),f=Reflect.set(n,r,o,i);return n===Zr(i)&&(s?ob(o,a)&&vc(n,"set",r,o):vc(n,"add",r,o)),f}}function tse(e,t){const n=xr(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&vc(e,"delete",t,void 0),r}function nse(e,t){const n=Reflect.has(e,t);return(!nb(t)||!sV.has(t))&&rs(e,"has",t),n}function rse(e){return rs(e,"iterate",Sn(e)?"length":Ch),Reflect.ownKeys(e)}const uV={get:Yae,set:qae,deleteProperty:tse,has:nse,ownKeys:rse},ose={get:Jae,set(e,t){return!0},deleteProperty(e,t){return!0}},ise=xi({},uV,{get:Zae,set:ese}),iM=e=>e,qO=e=>Reflect.getPrototypeOf(e);function RS(e,t,n=!1,r=!1){e=e.__v_raw;const o=Zr(e),i=Zr(t);n||(t!==i&&rs(o,"get",t),rs(o,"get",i));const{has:a}=qO(o),s=r?iM:n?lM:ib;if(a.call(o,t))return s(e.get(t));if(a.call(o,i))return s(e.get(i));e!==o&&e.get(t)}function IS(e,t=!1){const n=this.__v_raw,r=Zr(n),o=Zr(e);return t||(e!==o&&rs(r,"has",e),rs(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function DS(e,t=!1){return e=e.__v_raw,!t&&rs(Zr(e),"iterate",Ch),Reflect.get(e,"size",e)}function A3(e){e=Zr(e);const t=Zr(this);return qO(t).has.call(t,e)||(t.add(e),vc(t,"add",e,e)),this}function P3(e,t){t=Zr(t);const n=Zr(this),{has:r,get:o}=qO(n);let i=r.call(n,e);i||(e=Zr(e),i=r.call(n,e));const a=o.call(n,e);return n.set(e,t),i?ob(t,a)&&vc(n,"set",e,t):vc(n,"add",e,t),this}function x3(e){const t=Zr(this),{has:n,get:r}=qO(t);let o=n.call(t,e);o||(e=Zr(e),o=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return o&&vc(t,"delete",e,void 0),i}function M3(){const e=Zr(this),t=e.size!==0,n=e.clear();return t&&vc(e,"clear",void 0,void 0),n}function kS(e,t){return function(r,o){const i=this,a=i.__v_raw,s=Zr(a),f=t?iM:e?lM:ib;return!e&&rs(s,"iterate",Ch),a.forEach((d,h)=>r.call(o,f(d),f(h),i))}}function LS(e,t,n){return function(...r){const o=this.__v_raw,i=Zr(o),a=Gv(i),s=e==="entries"||e===Symbol.iterator&&a,f=e==="keys"&&a,d=o[e](...r),h=n?iM:t?lM:ib;return!t&&rs(i,"iterate",f?cP:Ch),{next(){const{value:v,done:y}=d.next();return y?{value:v,done:y}:{value:s?[h(v[0]),h(v[1])]:h(v),done:y}},[Symbol.iterator](){return this}}}}function Cf(e){return function(...t){return e==="delete"?!1:this}}function ase(){const e={get(i){return RS(this,i)},get size(){return DS(this)},has:IS,add:A3,set:P3,delete:x3,clear:M3,forEach:kS(!1,!1)},t={get(i){return RS(this,i,!1,!0)},get size(){return DS(this)},has:IS,add:A3,set:P3,delete:x3,clear:M3,forEach:kS(!1,!0)},n={get(i){return RS(this,i,!0)},get size(){return DS(this,!0)},has(i){return IS.call(this,i,!0)},add:Cf("add"),set:Cf("set"),delete:Cf("delete"),clear:Cf("clear"),forEach:kS(!0,!1)},r={get(i){return RS(this,i,!0,!0)},get size(){return DS(this,!0)},has(i){return IS.call(this,i,!0)},add:Cf("add"),set:Cf("set"),delete:Cf("delete"),clear:Cf("clear"),forEach:kS(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=LS(i,!1,!1),n[i]=LS(i,!0,!1),t[i]=LS(i,!1,!0),r[i]=LS(i,!0,!0)}),[e,n,t,r]}const[sse,lse,use,cse]=ase();function aM(e,t){const n=t?e?cse:use:e?lse:sse;return(r,o,i)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(xr(n,o)&&o in r?n:r,o,i)}const fse={get:aM(!1,!1)},dse={get:aM(!1,!0)},hse={get:aM(!0,!1)},cV=new WeakMap,fV=new WeakMap,dV=new WeakMap,pse=new WeakMap;function vse(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function yse(e){return e.__v_skip||!Object.isExtensible(e)?0:vse(yw(e))}function Xr(e){return iy(e)?e:sM(e,!1,uV,fse,cV)}function hV(e){return sM(e,!1,ise,dse,fV)}function Ub(e){return sM(e,!0,ose,hse,dV)}function sM(e,t,n,r,o){if(!Er(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const a=yse(e);if(a===0)return e;const s=new Proxy(e,a===2?r:n);return o.set(e,s),s}function Wv(e){return iy(e)?Wv(e.__v_raw):!!(e&&e.__v_isReactive)}function iy(e){return!!(e&&e.__v_isReadonly)}function sO(e){return!!(e&&e.__v_isShallow)}function pV(e){return Wv(e)||iy(e)}function Zr(e){const t=e&&e.__v_raw;return t?Zr(t):e}function Ah(e){return iO(e,"__v_skip",!0),e}const ib=e=>Er(e)?Xr(e):e,lM=e=>Er(e)?Ub(e):e;function vV(e){Wf&&cl&&(e=Zr(e),aV(e.dep||(e.dep=nM())))}function uM(e,t){e=Zr(e),e.dep&&fP(e.dep)}function uo(e){return!!(e&&e.__v_isRef===!0)}function re(e){return yV(e,!1)}function bo(e){return yV(e,!0)}function yV(e,t){return uo(e)?e:new mse(e,t)}class mse{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Zr(t),this._value=n?t:ib(t)}get value(){return vV(this),this._value}set value(t){const n=this.__v_isShallow||sO(t)||iy(t);t=n?t:Zr(t),ob(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:ib(t),uM(this))}}function tg(e){uM(e)}function E(e){return uo(e)?e.value:e}const gse={get:(e,t,n)=>E(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return uo(o)&&!uo(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function mV(e){return Wv(e)?e:new Proxy(e,gse)}function mi(e){const t=Sn(e)?new Array(e.length):{};for(const n in e)t[n]=Do(e,n);return t}class bse{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function Do(e,t,n){const r=e[t];return uo(r)?r:new bse(e,t,n)}var gV;class Ese{constructor(t,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[gV]=!1,this._dirty=!0,this.effect=new rM(t,()=>{this._dirty||(this._dirty=!0,uM(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=Zr(this);return vV(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}gV="__v_isReadonly";function bV(e,t,n=!1){let r,o;const i=Wn(e);return i?(r=e,o=to):(r=e.get,o=e.set),new Ese(r,o,i||!o,n)}const $g=[];function Sse(e,...t){Kh();const n=$g.length?$g[$g.length-1].component:null,r=n&&n.appContext.config.warnHandler,o=wse();if(r)dc(r,n,11,[e+t.join(""),n&&n.proxy,o.map(({vnode:i})=>`at <${XV(n,i.type)}>`).join(`
`),o]);else{const i=[`[Vue warn]: ${e}`,...t];o.length&&i.push(`
`,...Ose(o)),console.warn(...i)}Xh()}function wse(){let e=$g[$g.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const r=e.component&&e.component.parent;e=r&&r.vnode}return t}function Ose(e){const t=[];return e.forEach((n,r)=>{t.push(...r===0?[]:[`
`],..._se(n))}),t}function _se({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",r=e.component?e.component.parent==null:!1,o=` at <${XV(e.component,e.type,r)}`,i=">"+n;return e.props?[o,...Tse(e.props),i]:[o+i]}function Tse(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(r=>{t.push(...EV(r,e[r]))}),n.length>3&&t.push(" ..."),t}function EV(e,t,n){return Kn(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:uo(t)?(t=EV(e,Zr(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):Wn(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Zr(t),n?t:[`${e}=`,t])}function dc(e,t,n,r){let o;try{o=r?e(...r):e()}catch(i){e_(i,t,n)}return o}function Ms(e,t,n,r){if(Wn(e)){const i=dc(e,t,n,r);return i&&rb(i)&&i.catch(a=>{e_(a,t,n)}),i}const o=[];for(let i=0;i<e.length;i++)o.push(Ms(e[i],t,n,r));return o}function e_(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let i=t.parent;const a=t.proxy,s=n;for(;i;){const d=i.ec;if(d){for(let h=0;h<d.length;h++)if(d[h](e,a,s)===!1)return}i=i.parent}const f=t.appContext.config.errorHandler;if(f){dc(f,null,10,[e,a,s]);return}}Cse(e,n,o,r)}function Cse(e,t,n,r=!0){console.error(e)}let ab=!1,dP=!1;const ea=[];let au=0;const Kv=[];let oc=null,dh=0;const SV=Promise.resolve();let cM=null;function bn(e){const t=cM||SV;return e?t.then(this?e.bind(this):e):t}function Ase(e){let t=au+1,n=ea.length;for(;t<n;){const r=t+n>>>1;sb(ea[r])<e?t=r+1:n=r}return t}function fM(e){(!ea.length||!ea.includes(e,ab&&e.allowRecurse?au+1:au))&&(e.id==null?ea.push(e):ea.splice(Ase(e.id),0,e),wV())}function wV(){!ab&&!dP&&(dP=!0,cM=SV.then(_V))}function Pse(e){const t=ea.indexOf(e);t>au&&ea.splice(t,1)}function xse(e){Sn(e)?Kv.push(...e):(!oc||!oc.includes(e,e.allowRecurse?dh+1:dh))&&Kv.push(e),wV()}function N3(e,t=ab?au+1:0){for(;t<ea.length;t++){const n=ea[t];n&&n.pre&&(ea.splice(t,1),t--,n())}}function OV(e){if(Kv.length){const t=[...new Set(Kv)];if(Kv.length=0,oc){oc.push(...t);return}for(oc=t,oc.sort((n,r)=>sb(n)-sb(r)),dh=0;dh<oc.length;dh++)oc[dh]();oc=null,dh=0}}const sb=e=>e.id==null?1/0:e.id,Mse=(e,t)=>{const n=sb(e)-sb(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function _V(e){dP=!1,ab=!0,ea.sort(Mse);const t=to;try{for(au=0;au<ea.length;au++){const n=ea[au];n&&n.active!==!1&&dc(n,null,14)}}finally{au=0,ea.length=0,OV(),ab=!1,cM=null,(ea.length||Kv.length)&&_V()}}function Nse(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Co;let o=n;const i=t.startsWith("update:"),a=i&&t.slice(7);if(a&&a in r){const h=`${a==="modelValue"?"model":a}Modifiers`,{number:v,trim:y}=r[h]||Co;y&&(o=n.map(m=>m.trim())),v&&(o=n.map(aO))}let s,f=r[s=gw(t)]||r[s=gw(Is(t))];!f&&i&&(f=r[s=gw(rd(t))]),f&&Ms(f,e,6,o);const d=r[s+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,Ms(d,e,6,o)}}function TV(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const i=e.emits;let a={},s=!1;if(!Wn(e)){const f=d=>{const h=TV(d,t,!0);h&&(s=!0,xi(a,h))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!i&&!s?(Er(e)&&r.set(e,null),null):(Sn(i)?i.forEach(f=>a[f]=null):xi(a,i),Er(e)&&r.set(e,a),a)}function t_(e,t){return!e||!ZO(t)?!1:(t=t.slice(2).replace(/Once$/,""),xr(e,t[0].toLowerCase()+t.slice(1))||xr(e,rd(t))||xr(e,t))}let ta=null,n_=null;function lO(e){const t=ta;return ta=e,n_=e&&e.type.__scopeId||null,t}function dM(e){n_=e}function hM(){n_=null}function Be(e,t=ta,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&V3(-1);const i=lO(t),a=e(...o);return lO(i),r._d&&V3(1),a};return r._n=!0,r._c=!0,r._d=!0,r}function tA(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:i,propsOptions:[a],slots:s,attrs:f,emit:d,render:h,renderCache:v,data:y,setupState:m,ctx:b,inheritAttrs:S}=e;let O,_;const A=lO(e);try{if(n.shapeFlag&4){const P=o||r;O=iu(h.call(P,P,v,i,m,y,b)),_=f}else{const P=t;O=iu(P.length>1?P(i,{attrs:f,slots:s,emit:d}):P(i,null)),_=t.props?f:Rse(f)}}catch(P){Fg.length=0,e_(P,e,1),O=Te(ba)}let T=O;if(_&&S!==!1){const P=Object.keys(_),{shapeFlag:x}=T;P.length&&x&7&&(a&&P.some(qx)&&(_=Ise(_,a)),T=yc(T,_))}return n.dirs&&(T=yc(T),T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&(T.transition=n.transition),O=T,lO(A),O}const Rse=e=>{let t;for(const n in e)(n==="class"||n==="style"||ZO(n))&&((t||(t={}))[n]=e[n]);return t},Ise=(e,t)=>{const n={};for(const r in e)(!qx(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Dse(e,t,n){const{props:r,children:o,component:i}=e,{props:a,children:s,patchFlag:f}=t,d=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?R3(r,a,d):!!a;if(f&8){const h=t.dynamicProps;for(let v=0;v<h.length;v++){const y=h[v];if(a[y]!==r[y]&&!t_(d,y))return!0}}}else return(o||s)&&(!s||!s.$stable)?!0:r===a?!1:r?a?R3(r,a,d):!0:!!a;return!1}function R3(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(t[i]!==e[i]&&!t_(n,i))return!0}return!1}function kse({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Lse=e=>e.__isSuspense;function $se(e,t){t&&t.pendingBranch?Sn(e)?t.effects.push(...e):t.effects.push(e):xse(e)}function Sr(e,t){if(Pi){let n=Pi.provides;const r=Pi.parent&&Pi.parent.provides;r===n&&(n=Pi.provides=Object.create(r)),n[e]=t}}function Cn(e,t,n=!1){const r=Pi||ta;if(r){const o=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Wn(t)?t.call(r.proxy):t}}function ns(e,t){return pM(e,null,t)}const I3={};function At(e,t,n){return pM(e,t,n)}function pM(e,t,{immediate:n,deep:r,flush:o,onTrack:i,onTrigger:a}=Co){const s=Pi;let f,d=!1,h=!1;if(uo(e)?(f=()=>e.value,d=sO(e)):Wv(e)?(f=()=>e,r=!0):Sn(e)?(h=!0,d=e.some(_=>Wv(_)||sO(_)),f=()=>e.map(_=>{if(uo(_))return _.value;if(Wv(_))return bh(_);if(Wn(_))return dc(_,s,2)})):Wn(e)?t?f=()=>dc(e,s,2):f=()=>{if(!(s&&s.isUnmounted))return v&&v(),Ms(e,s,3,[y])}:f=to,t&&r){const _=f;f=()=>bh(_())}let v,y=_=>{v=O.onStop=()=>{dc(_,s,4)}};if(fb)return y=to,t?n&&Ms(t,s,3,[f(),h?[]:void 0,y]):f(),to;let m=h?[]:I3;const b=()=>{if(!!O.active)if(t){const _=O.run();(r||d||(h?_.some((A,T)=>ob(A,m[T])):ob(_,m)))&&(v&&v(),Ms(t,s,3,[_,m===I3?void 0:m,y]),m=_)}else O.run()};b.allowRecurse=!!t;let S;o==="sync"?S=b:o==="post"?S=()=>Da(b,s&&s.suspense):(b.pre=!0,s&&(b.id=s.uid),S=()=>fM(b));const O=new rM(f,S);return t?n?b():m=O.run():o==="post"?Da(O.run.bind(O),s&&s.suspense):O.run(),()=>{O.stop(),s&&s.scope&&eM(s.scope.effects,O)}}function Bse(e,t,n){const r=this.proxy,o=Kn(e)?e.includes(".")?CV(r,e):()=>r[e]:e.bind(r,r);let i;Wn(t)?i=t:(i=t.handler,n=t);const a=Pi;ay(this);const s=pM(o,i.bind(r),n);return a?ay(a):Ph(),s}function CV(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function bh(e,t){if(!Er(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),uo(e))bh(e.value,t);else if(Sn(e))for(let n=0;n<e.length;n++)bh(e[n],t);else if(JO(e)||Gv(e))e.forEach(n=>{bh(n,t)});else if(eV(e))for(const n in e)bh(e[n],t);return e}function AV(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ir(()=>{e.isMounted=!0}),Go(()=>{e.isUnmounting=!0}),e}const Ss=[Function,Array],jse={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ss,onEnter:Ss,onAfterEnter:Ss,onEnterCancelled:Ss,onBeforeLeave:Ss,onLeave:Ss,onAfterLeave:Ss,onLeaveCancelled:Ss,onBeforeAppear:Ss,onAppear:Ss,onAfterAppear:Ss,onAppearCancelled:Ss},setup(e,{slots:t}){const n=cr(),r=AV();let o;return()=>{const i=t.default&&vM(t.default(),!0);if(!i||!i.length)return;let a=i[0];if(i.length>1){for(const S of i)if(S.type!==ba){a=S;break}}const s=Zr(e),{mode:f}=s;if(r.isLeaving)return nA(a);const d=D3(a);if(!d)return nA(a);const h=lb(d,s,r,n);ub(d,h);const v=n.subTree,y=v&&D3(v);let m=!1;const{getTransitionKey:b}=d.type;if(b){const S=b();o===void 0?o=S:S!==o&&(o=S,m=!0)}if(y&&y.type!==ba&&(!hh(d,y)||m)){const S=lb(y,s,r,n);if(ub(y,S),f==="out-in")return r.isLeaving=!0,S.afterLeave=()=>{r.isLeaving=!1,n.update()},nA(a);f==="in-out"&&d.type!==ba&&(S.delayLeave=(O,_,A)=>{const T=xV(r,y);T[String(y.key)]=y,O._leaveCb=()=>{_(),O._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=A})}return a}}},PV=jse;function xV(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function lb(e,t,n,r){const{appear:o,mode:i,persisted:a=!1,onBeforeEnter:s,onEnter:f,onAfterEnter:d,onEnterCancelled:h,onBeforeLeave:v,onLeave:y,onAfterLeave:m,onLeaveCancelled:b,onBeforeAppear:S,onAppear:O,onAfterAppear:_,onAppearCancelled:A}=t,T=String(e.key),P=xV(n,e),x=(j,k)=>{j&&Ms(j,r,9,k)},N=(j,k)=>{const F=k[1];x(j,k),Sn(j)?j.every(z=>z.length<=1)&&F():j.length<=1&&F()},L={mode:i,persisted:a,beforeEnter(j){let k=s;if(!n.isMounted)if(o)k=S||s;else return;j._leaveCb&&j._leaveCb(!0);const F=P[T];F&&hh(e,F)&&F.el._leaveCb&&F.el._leaveCb(),x(k,[j])},enter(j){let k=f,F=d,z=h;if(!n.isMounted)if(o)k=O||f,F=_||d,z=A||h;else return;let M=!1;const D=j._enterCb=B=>{M||(M=!0,B?x(z,[j]):x(F,[j]),L.delayedLeave&&L.delayedLeave(),j._enterCb=void 0)};k?N(k,[j,D]):D()},leave(j,k){const F=String(e.key);if(j._enterCb&&j._enterCb(!0),n.isUnmounting)return k();x(v,[j]);let z=!1;const M=j._leaveCb=D=>{z||(z=!0,k(),D?x(b,[j]):x(m,[j]),j._leaveCb=void 0,P[F]===e&&delete P[F])};P[F]=e,y?N(y,[j,M]):M()},clone(j){return lb(j,t,n,r)}};return L}function nA(e){if(r_(e))return e=yc(e),e.children=null,e}function D3(e){return r_(e)?e.children?e.children[0]:void 0:e}function ub(e,t){e.shapeFlag&6&&e.component?ub(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function vM(e,t=!1,n){let r=[],o=0;for(let i=0;i<e.length;i++){let a=e[i];const s=n==null?a.key:String(n)+String(a.key!=null?a.key:i);a.type===wn?(a.patchFlag&128&&o++,r=r.concat(vM(a.children,t,s))):(t||a.type!==ba)&&r.push(s!=null?yc(a,{key:s}):a)}if(o>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function St(e){return Wn(e)?{setup:e,name:e.name}:e}const Bg=e=>!!e.type.__asyncLoader,r_=e=>e.type.__isKeepAlive;function Fse(e,t){NV(e,"a",t)}function MV(e,t){NV(e,"da",t)}function NV(e,t,n=Pi){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(o_(t,r,n),n){let o=n.parent;for(;o&&o.parent;)r_(o.parent.vnode)&&zse(r,t,n,o),o=o.parent}}function zse(e,t,n,r){const o=o_(t,e,r,!0);Yh(()=>{eM(r[t],o)},n)}function o_(e,t,n=Pi,r=!1){if(n){const o=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;Kh(),ay(n);const s=Ms(t,n,e,a);return Ph(),Xh(),s});return r?o.unshift(i):o.push(i),i}}const Oc=e=>(t,n=Pi)=>(!fb||e==="sp")&&o_(e,t,n),i_=Oc("bm"),ir=Oc("m"),RV=Oc("bu"),gu=Oc("u"),Go=Oc("bum"),Yh=Oc("um"),Use=Oc("sp"),Vse=Oc("rtg"),Hse=Oc("rtc");function Gse(e,t=Pi){o_("ec",e,t)}function Gn(e,t){const n=ta;if(n===null)return e;const r=l_(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,s,f,d=Co]=t[i];Wn(a)&&(a={mounted:a,updated:a}),a.deep&&bh(s),o.push({dir:a,instance:r,value:s,oldValue:void 0,arg:f,modifiers:d})}return e}function qd(e,t,n,r){const o=e.dirs,i=t&&t.dirs;for(let a=0;a<o.length;a++){const s=o[a];i&&(s.oldValue=i[a].value);let f=s.dir[r];f&&(Kh(),Ms(f,n,8,[e.el,s,e,t]),Xh())}}const yM="components",Wse="directives";function _n(e,t){return mM(yM,e,!0,t)||e}const IV=Symbol();function mr(e){return Kn(e)?mM(yM,e,!1)||e:e||IV}function kh(e){return mM(Wse,e)}function mM(e,t,n=!0,r=!1){const o=ta||Pi;if(o){const i=o.type;if(e===yM){const s=KV(i,!1);if(s&&(s===t||s===Is(t)||s===zb(Is(t))))return i}const a=k3(o[e]||i[e],t)||k3(o.appContext[e],t);return!a&&r?i:a}}function k3(e,t){return e&&(e[t]||e[Is(t)]||e[zb(Is(t))])}function _r(e,t,n,r){let o;const i=n&&n[r];if(Sn(e)||Kn(e)){o=new Array(e.length);for(let a=0,s=e.length;a<s;a++)o[a]=t(e[a],a,void 0,i&&i[a])}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,i&&i[a])}else if(Er(e))if(e[Symbol.iterator])o=Array.from(e,(a,s)=>t(a,s,void 0,i&&i[s]));else{const a=Object.keys(e);o=new Array(a.length);for(let s=0,f=a.length;s<f;s++){const d=a[s];o[s]=t(e[d],d,s,i&&i[s])}}else o=[];return n&&(n[r]=o),o}function Yf(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(Sn(r))for(let o=0;o<r.length;o++)e[r[o].name]=r[o].fn;else r&&(e[r.name]=r.key?(...o)=>{const i=r.fn(...o);return i.key=r.key,i}:r.fn)}return e}function bt(e,t,n={},r,o){if(ta.isCE||ta.parent&&Bg(ta.parent)&&ta.parent.isCE)return Te("slot",t==="default"?null:{name:t},r&&r());let i=e[t];i&&i._c&&(i._d=!1),H();const a=i&&DV(i(n)),s=et(wn,{key:n.key||a&&a.key||`_${t}`},a||(r?r():[]),a&&e._===1?64:-2);return!o&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),i&&i._c&&(i._d=!0),s}function DV(e){return e.some(t=>Ho(t)?!(t.type===ba||t.type===wn&&!DV(t.children)):!0)?e:null}function Kse(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:gw(r)]=e[r];return n}const hP=e=>e?HV(e)?l_(e)||e.proxy:hP(e.parent):null,uO=xi(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>hP(e.parent),$root:e=>hP(e.root),$emit:e=>e.emit,$options:e=>gM(e),$forceUpdate:e=>e.f||(e.f=()=>fM(e.update)),$nextTick:e=>e.n||(e.n=bn.bind(e.proxy)),$watch:e=>Bse.bind(e)}),Xse={get({_:e},t){const{ctx:n,setupState:r,data:o,props:i,accessCache:a,type:s,appContext:f}=e;let d;if(t[0]!=="$"){const m=a[t];if(m!==void 0)switch(m){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return i[t]}else{if(r!==Co&&xr(r,t))return a[t]=1,r[t];if(o!==Co&&xr(o,t))return a[t]=2,o[t];if((d=e.propsOptions[0])&&xr(d,t))return a[t]=3,i[t];if(n!==Co&&xr(n,t))return a[t]=4,n[t];pP&&(a[t]=0)}}const h=uO[t];let v,y;if(h)return t==="$attrs"&&rs(e,"get",t),h(e);if((v=s.__cssModules)&&(v=v[t]))return v;if(n!==Co&&xr(n,t))return a[t]=4,n[t];if(y=f.config.globalProperties,xr(y,t))return y[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:i}=e;return o!==Co&&xr(o,t)?(o[t]=n,!0):r!==Co&&xr(r,t)?(r[t]=n,!0):xr(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:i}},a){let s;return!!n[a]||e!==Co&&xr(e,a)||t!==Co&&xr(t,a)||(s=i[0])&&xr(s,a)||xr(r,a)||xr(uO,a)||xr(o.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:xr(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let pP=!0;function Yse(e){const t=gM(e),n=e.proxy,r=e.ctx;pP=!1,t.beforeCreate&&L3(t.beforeCreate,e,"bc");const{data:o,computed:i,methods:a,watch:s,provide:f,inject:d,created:h,beforeMount:v,mounted:y,beforeUpdate:m,updated:b,activated:S,deactivated:O,beforeDestroy:_,beforeUnmount:A,destroyed:T,unmounted:P,render:x,renderTracked:N,renderTriggered:L,errorCaptured:j,serverPrefetch:k,expose:F,inheritAttrs:z,components:M,directives:D,filters:B}=t;if(d&&Zse(d,r,null,e.appContext.config.unwrapInjectedRef),a)for(const K in a){const X=a[K];Wn(X)&&(r[K]=X.bind(n))}if(o){const K=o.call(n,n);Er(K)&&(e.data=Xr(K))}if(pP=!0,i)for(const K in i){const X=i[K],W=Wn(X)?X.bind(n,n):Wn(X.get)?X.get.bind(n,n):to,ie=!Wn(X)&&Wn(X.set)?X.set.bind(n):to,oe=G({get:W,set:ie});Object.defineProperty(r,K,{enumerable:!0,configurable:!0,get:()=>oe.value,set:ee=>oe.value=ee})}if(s)for(const K in s)kV(s[K],r,n,K);if(f){const K=Wn(f)?f.call(n):f;Reflect.ownKeys(K).forEach(X=>{Sr(X,K[X])})}h&&L3(h,e,"c");function Y(K,X){Sn(X)?X.forEach(W=>K(W.bind(n))):X&&K(X.bind(n))}if(Y(i_,v),Y(ir,y),Y(RV,m),Y(gu,b),Y(Fse,S),Y(MV,O),Y(Gse,j),Y(Hse,N),Y(Vse,L),Y(Go,A),Y(Yh,P),Y(Use,k),Sn(F))if(F.length){const K=e.exposed||(e.exposed={});F.forEach(X=>{Object.defineProperty(K,X,{get:()=>n[X],set:W=>n[X]=W})})}else e.exposed||(e.exposed={});x&&e.render===to&&(e.render=x),z!=null&&(e.inheritAttrs=z),M&&(e.components=M),D&&(e.directives=D)}function Zse(e,t,n=to,r=!1){Sn(e)&&(e=vP(e));for(const o in e){const i=e[o];let a;Er(i)?"default"in i?a=Cn(i.from||o,i.default,!0):a=Cn(i.from||o):a=Cn(i),uo(a)&&r?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:s=>a.value=s}):t[o]=a}}function L3(e,t,n){Ms(Sn(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function kV(e,t,n,r){const o=r.includes(".")?CV(n,r):()=>n[r];if(Kn(e)){const i=t[e];Wn(i)&&At(o,i)}else if(Wn(e))At(o,e.bind(n));else if(Er(e))if(Sn(e))e.forEach(i=>kV(i,t,n,r));else{const i=Wn(e.handler)?e.handler.bind(n):t[e.handler];Wn(i)&&At(o,i,e)}}function gM(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,s=i.get(t);let f;return s?f=s:!o.length&&!n&&!r?f=t:(f={},o.length&&o.forEach(d=>cO(f,d,a,!0)),cO(f,t,a)),Er(t)&&i.set(t,f),f}function cO(e,t,n,r=!1){const{mixins:o,extends:i}=t;i&&cO(e,i,n,!0),o&&o.forEach(a=>cO(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const s=Jse[a]||n&&n[a];e[a]=s?s(e[a],t[a]):t[a]}return e}const Jse={data:$3,props:lh,emits:lh,methods:lh,computed:lh,beforeCreate:ga,created:ga,beforeMount:ga,mounted:ga,beforeUpdate:ga,updated:ga,beforeDestroy:ga,beforeUnmount:ga,destroyed:ga,unmounted:ga,activated:ga,deactivated:ga,errorCaptured:ga,serverPrefetch:ga,components:lh,directives:lh,watch:qse,provide:$3,inject:Qse};function $3(e,t){return t?e?function(){return xi(Wn(e)?e.call(this,this):e,Wn(t)?t.call(this,this):t)}:t:e}function Qse(e,t){return lh(vP(e),vP(t))}function vP(e){if(Sn(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ga(e,t){return e?[...new Set([].concat(e,t))]:t}function lh(e,t){return e?xi(xi(Object.create(null),e),t):t}function qse(e,t){if(!e)return t;if(!t)return e;const n=xi(Object.create(null),e);for(const r in t)n[r]=ga(e[r],t[r]);return n}function ele(e,t,n,r=!1){const o={},i={};iO(i,a_,1),e.propsDefaults=Object.create(null),LV(e,t,o,i);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=r?o:hV(o):e.type.props?e.props=o:e.props=i,e.attrs=i}function tle(e,t,n,r){const{props:o,attrs:i,vnode:{patchFlag:a}}=e,s=Zr(o),[f]=e.propsOptions;let d=!1;if((r||a>0)&&!(a&16)){if(a&8){const h=e.vnode.dynamicProps;for(let v=0;v<h.length;v++){let y=h[v];if(t_(e.emitsOptions,y))continue;const m=t[y];if(f)if(xr(i,y))m!==i[y]&&(i[y]=m,d=!0);else{const b=Is(y);o[b]=yP(f,s,b,m,e,!1)}else m!==i[y]&&(i[y]=m,d=!0)}}}else{LV(e,t,o,i)&&(d=!0);let h;for(const v in s)(!t||!xr(t,v)&&((h=rd(v))===v||!xr(t,h)))&&(f?n&&(n[v]!==void 0||n[h]!==void 0)&&(o[v]=yP(f,s,v,void 0,e,!0)):delete o[v]);if(i!==s)for(const v in i)(!t||!xr(t,v)&&!0)&&(delete i[v],d=!0)}d&&vc(e,"set","$attrs")}function LV(e,t,n,r){const[o,i]=e.propsOptions;let a=!1,s;if(t)for(let f in t){if(mw(f))continue;const d=t[f];let h;o&&xr(o,h=Is(f))?!i||!i.includes(h)?n[h]=d:(s||(s={}))[h]=d:t_(e.emitsOptions,f)||(!(f in r)||d!==r[f])&&(r[f]=d,a=!0)}if(i){const f=Zr(n),d=s||Co;for(let h=0;h<i.length;h++){const v=i[h];n[v]=yP(o,f,v,d[v],e,!xr(d,v))}}return a}function yP(e,t,n,r,o,i){const a=e[n];if(a!=null){const s=xr(a,"default");if(s&&r===void 0){const f=a.default;if(a.type!==Function&&Wn(f)){const{propsDefaults:d}=o;n in d?r=d[n]:(ay(o),r=d[n]=f.call(null,t),Ph())}else r=f}a[0]&&(i&&!s?r=!1:a[1]&&(r===""||r===rd(n))&&(r=!0))}return r}function $V(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const i=e.props,a={},s=[];let f=!1;if(!Wn(e)){const h=v=>{f=!0;const[y,m]=$V(v,t,!0);xi(a,y),m&&s.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!i&&!f)return Er(e)&&r.set(e,Hv),Hv;if(Sn(i))for(let h=0;h<i.length;h++){const v=Is(i[h]);B3(v)&&(a[v]=Co)}else if(i)for(const h in i){const v=Is(h);if(B3(v)){const y=i[h],m=a[v]=Sn(y)||Wn(y)?{type:y}:y;if(m){const b=z3(Boolean,m.type),S=z3(String,m.type);m[0]=b>-1,m[1]=S<0||b<S,(b>-1||xr(m,"default"))&&s.push(v)}}}const d=[a,s];return Er(e)&&r.set(e,d),d}function B3(e){return e[0]!=="$"}function j3(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function F3(e,t){return j3(e)===j3(t)}function z3(e,t){return Sn(t)?t.findIndex(n=>F3(n,e)):Wn(t)&&F3(t,e)?0:-1}const BV=e=>e[0]==="_"||e==="$stable",bM=e=>Sn(e)?e.map(iu):[iu(e)],nle=(e,t,n)=>{if(t._n)return t;const r=Be((...o)=>bM(t(...o)),n);return r._c=!1,r},jV=(e,t,n)=>{const r=e._ctx;for(const o in e){if(BV(o))continue;const i=e[o];if(Wn(i))t[o]=nle(o,i,r);else if(i!=null){const a=bM(i);t[o]=()=>a}}},FV=(e,t)=>{const n=bM(t);e.slots.default=()=>n},rle=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Zr(t),iO(t,"_",n)):jV(t,e.slots={})}else e.slots={},t&&FV(e,t);iO(e.slots,a_,1)},ole=(e,t,n)=>{const{vnode:r,slots:o}=e;let i=!0,a=Co;if(r.shapeFlag&32){const s=t._;s?n&&s===1?i=!1:(xi(o,t),!n&&s===1&&delete o._):(i=!t.$stable,jV(t,o)),a=t}else t&&(FV(e,t),a={default:1});if(i)for(const s in o)!BV(s)&&!(s in a)&&delete o[s]};function zV(){return{app:null,config:{isNativeTag:$ae,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ile=0;function ale(e,t){return function(r,o=null){Wn(r)||(r=Object.assign({},r)),o!=null&&!Er(o)&&(o=null);const i=zV(),a=new Set;let s=!1;const f=i.app={_uid:ile++,_component:r,_props:o,_container:null,_context:i,_instance:null,version:Tle,get config(){return i.config},set config(d){},use(d,...h){return a.has(d)||(d&&Wn(d.install)?(a.add(d),d.install(f,...h)):Wn(d)&&(a.add(d),d(f,...h))),f},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),f},component(d,h){return h?(i.components[d]=h,f):i.components[d]},directive(d,h){return h?(i.directives[d]=h,f):i.directives[d]},mount(d,h,v){if(!s){const y=Te(r,o);return y.appContext=i,h&&t?t(y,d):e(y,d,v),s=!0,f._container=d,d.__vue_app__=f,l_(y.component)||y.component.proxy}},unmount(){s&&(e(null,f._container),delete f._container.__vue_app__)},provide(d,h){return i.provides[d]=h,f}};return f}}function mP(e,t,n,r,o=!1){if(Sn(e)){e.forEach((y,m)=>mP(y,t&&(Sn(t)?t[m]:t),n,r,o));return}if(Bg(r)&&!o)return;const i=r.shapeFlag&4?l_(r.component)||r.component.proxy:r.el,a=o?null:i,{i:s,r:f}=e,d=t&&t.r,h=s.refs===Co?s.refs={}:s.refs,v=s.setupState;if(d!=null&&d!==f&&(Kn(d)?(h[d]=null,xr(v,d)&&(v[d]=null)):uo(d)&&(d.value=null)),Wn(f))dc(f,s,12,[a,h]);else{const y=Kn(f),m=uo(f);if(y||m){const b=()=>{if(e.f){const S=y?h[f]:f.value;o?Sn(S)&&eM(S,i):Sn(S)?S.includes(i)||S.push(i):y?(h[f]=[i],xr(v,f)&&(v[f]=h[f])):(f.value=[i],e.k&&(h[e.k]=f.value))}else y?(h[f]=a,xr(v,f)&&(v[f]=a)):m&&(f.value=a,e.k&&(h[e.k]=a))};a?(b.id=-1,Da(b,n)):b()}}}const Da=$se;function sle(e){return lle(e)}function lle(e,t){const n=Uae();n.__VUE__=!0;const{insert:r,remove:o,patchProp:i,createElement:a,createText:s,createComment:f,setText:d,setElementText:h,parentNode:v,nextSibling:y,setScopeId:m=to,cloneNode:b,insertStaticContent:S}=e,O=(se,de,ze,lt=null,Re=null,qe=null,pe=!1,Ue=null,Ke=!!de.dynamicChildren)=>{if(se===de)return;se&&!hh(se,de)&&(lt=he(se),ue(se,Re,qe,!0),se=null),de.patchFlag===-2&&(Ke=!1,de.dynamicChildren=null);const{type:Ve,ref:ne,shapeFlag:fe}=de;switch(Ve){case Hb:_(se,de,ze,lt);break;case ba:A(se,de,ze,lt);break;case Ew:se==null&&T(de,ze,lt,pe);break;case wn:D(se,de,ze,lt,Re,qe,pe,Ue,Ke);break;default:fe&1?N(se,de,ze,lt,Re,qe,pe,Ue,Ke):fe&6?B(se,de,ze,lt,Re,qe,pe,Ue,Ke):(fe&64||fe&128)&&Ve.process(se,de,ze,lt,Re,qe,pe,Ue,Ke,ae)}ne!=null&&Re&&mP(ne,se&&se.ref,qe,de||se,!de)},_=(se,de,ze,lt)=>{if(se==null)r(de.el=s(de.children),ze,lt);else{const Re=de.el=se.el;de.children!==se.children&&d(Re,de.children)}},A=(se,de,ze,lt)=>{se==null?r(de.el=f(de.children||""),ze,lt):de.el=se.el},T=(se,de,ze,lt)=>{[se.el,se.anchor]=S(se.children,de,ze,lt,se.el,se.anchor)},P=({el:se,anchor:de},ze,lt)=>{let Re;for(;se&&se!==de;)Re=y(se),r(se,ze,lt),se=Re;r(de,ze,lt)},x=({el:se,anchor:de})=>{let ze;for(;se&&se!==de;)ze=y(se),o(se),se=ze;o(de)},N=(se,de,ze,lt,Re,qe,pe,Ue,Ke)=>{pe=pe||de.type==="svg",se==null?L(de,ze,lt,Re,qe,pe,Ue,Ke):F(se,de,Re,qe,pe,Ue,Ke)},L=(se,de,ze,lt,Re,qe,pe,Ue)=>{let Ke,Ve;const{type:ne,props:fe,shapeFlag:Me,transition:it,patchFlag:Oe,dirs:_e}=se;if(se.el&&b!==void 0&&Oe===-1)Ke=se.el=b(se.el);else{if(Ke=se.el=a(se.type,qe,fe&&fe.is,fe),Me&8?h(Ke,se.children):Me&16&&k(se.children,Ke,null,lt,Re,qe&&ne!=="foreignObject",pe,Ue),_e&&qd(se,null,lt,"created"),fe){for(const Se in fe)Se!=="value"&&!mw(Se)&&i(Ke,Se,null,fe[Se],qe,se.children,lt,Re,Le);"value"in fe&&i(Ke,"value",null,fe.value),(Ve=fe.onVnodeBeforeMount)&&eu(Ve,lt,se)}j(Ke,se,se.scopeId,pe,lt)}_e&&qd(se,null,lt,"beforeMount");const nt=(!Re||Re&&!Re.pendingBranch)&&it&&!it.persisted;nt&&it.beforeEnter(Ke),r(Ke,de,ze),((Ve=fe&&fe.onVnodeMounted)||nt||_e)&&Da(()=>{Ve&&eu(Ve,lt,se),nt&&it.enter(Ke),_e&&qd(se,null,lt,"mounted")},Re)},j=(se,de,ze,lt,Re)=>{if(ze&&m(se,ze),lt)for(let qe=0;qe<lt.length;qe++)m(se,lt[qe]);if(Re){let qe=Re.subTree;if(de===qe){const pe=Re.vnode;j(se,pe,pe.scopeId,pe.slotScopeIds,Re.parent)}}},k=(se,de,ze,lt,Re,qe,pe,Ue,Ke=0)=>{for(let Ve=Ke;Ve<se.length;Ve++){const ne=se[Ve]=Ue?Lf(se[Ve]):iu(se[Ve]);O(null,ne,de,ze,lt,Re,qe,pe,Ue)}},F=(se,de,ze,lt,Re,qe,pe)=>{const Ue=de.el=se.el;let{patchFlag:Ke,dynamicChildren:Ve,dirs:ne}=de;Ke|=se.patchFlag&16;const fe=se.props||Co,Me=de.props||Co;let it;ze&&eh(ze,!1),(it=Me.onVnodeBeforeUpdate)&&eu(it,ze,de,se),ne&&qd(de,se,ze,"beforeUpdate"),ze&&eh(ze,!0);const Oe=Re&&de.type!=="foreignObject";if(Ve?z(se.dynamicChildren,Ve,Ue,ze,lt,Oe,qe):pe||W(se,de,Ue,null,ze,lt,Oe,qe,!1),Ke>0){if(Ke&16)M(Ue,de,fe,Me,ze,lt,Re);else if(Ke&2&&fe.class!==Me.class&&i(Ue,"class",null,Me.class,Re),Ke&4&&i(Ue,"style",fe.style,Me.style,Re),Ke&8){const _e=de.dynamicProps;for(let nt=0;nt<_e.length;nt++){const Se=_e[nt],tt=fe[Se],we=Me[Se];(we!==tt||Se==="value")&&i(Ue,Se,tt,we,Re,se.children,ze,lt,Le)}}Ke&1&&se.children!==de.children&&h(Ue,de.children)}else!pe&&Ve==null&&M(Ue,de,fe,Me,ze,lt,Re);((it=Me.onVnodeUpdated)||ne)&&Da(()=>{it&&eu(it,ze,de,se),ne&&qd(de,se,ze,"updated")},lt)},z=(se,de,ze,lt,Re,qe,pe)=>{for(let Ue=0;Ue<de.length;Ue++){const Ke=se[Ue],Ve=de[Ue],ne=Ke.el&&(Ke.type===wn||!hh(Ke,Ve)||Ke.shapeFlag&70)?v(Ke.el):ze;O(Ke,Ve,ne,null,lt,Re,qe,pe,!0)}},M=(se,de,ze,lt,Re,qe,pe)=>{if(ze!==lt){for(const Ue in lt){if(mw(Ue))continue;const Ke=lt[Ue],Ve=ze[Ue];Ke!==Ve&&Ue!=="value"&&i(se,Ue,Ve,Ke,pe,de.children,Re,qe,Le)}if(ze!==Co)for(const Ue in ze)!mw(Ue)&&!(Ue in lt)&&i(se,Ue,ze[Ue],null,pe,de.children,Re,qe,Le);"value"in lt&&i(se,"value",ze.value,lt.value)}},D=(se,de,ze,lt,Re,qe,pe,Ue,Ke)=>{const Ve=de.el=se?se.el:s(""),ne=de.anchor=se?se.anchor:s("");let{patchFlag:fe,dynamicChildren:Me,slotScopeIds:it}=de;it&&(Ue=Ue?Ue.concat(it):it),se==null?(r(Ve,ze,lt),r(ne,ze,lt),k(de.children,ze,ne,Re,qe,pe,Ue,Ke)):fe>0&&fe&64&&Me&&se.dynamicChildren?(z(se.dynamicChildren,Me,ze,Re,qe,pe,Ue),(de.key!=null||Re&&de===Re.subTree)&&EM(se,de,!0)):W(se,de,ze,ne,Re,qe,pe,Ue,Ke)},B=(se,de,ze,lt,Re,qe,pe,Ue,Ke)=>{de.slotScopeIds=Ue,se==null?de.shapeFlag&512?Re.ctx.activate(de,ze,lt,pe,Ke):V(de,ze,lt,Re,qe,pe,Ke):Y(se,de,Ke)},V=(se,de,ze,lt,Re,qe,pe)=>{const Ue=se.component=gle(se,lt,Re);if(r_(se)&&(Ue.ctx.renderer=ae),ble(Ue),Ue.asyncDep){if(Re&&Re.registerDep(Ue,K),!se.el){const Ke=Ue.subTree=Te(ba);A(null,Ke,de,ze)}return}K(Ue,se,de,ze,Re,qe,pe)},Y=(se,de,ze)=>{const lt=de.component=se.component;if(Dse(se,de,ze))if(lt.asyncDep&&!lt.asyncResolved){X(lt,de,ze);return}else lt.next=de,Pse(lt.update),lt.update();else de.el=se.el,lt.vnode=de},K=(se,de,ze,lt,Re,qe,pe)=>{const Ue=()=>{if(se.isMounted){let{next:ne,bu:fe,u:Me,parent:it,vnode:Oe}=se,_e=ne,nt;eh(se,!1),ne?(ne.el=Oe.el,X(se,ne,pe)):ne=Oe,fe&&bw(fe),(nt=ne.props&&ne.props.onVnodeBeforeUpdate)&&eu(nt,it,ne,Oe),eh(se,!0);const Se=tA(se),tt=se.subTree;se.subTree=Se,O(tt,Se,v(tt.el),he(tt),se,Re,qe),ne.el=Se.el,_e===null&&kse(se,Se.el),Me&&Da(Me,Re),(nt=ne.props&&ne.props.onVnodeUpdated)&&Da(()=>eu(nt,it,ne,Oe),Re)}else{let ne;const{el:fe,props:Me}=de,{bm:it,m:Oe,parent:_e}=se,nt=Bg(de);if(eh(se,!1),it&&bw(it),!nt&&(ne=Me&&Me.onVnodeBeforeMount)&&eu(ne,_e,de),eh(se,!0),fe&&Ze){const Se=()=>{se.subTree=tA(se),Ze(fe,se.subTree,se,Re,null)};nt?de.type.__asyncLoader().then(()=>!se.isUnmounted&&Se()):Se()}else{const Se=se.subTree=tA(se);O(null,Se,ze,lt,se,Re,qe),de.el=Se.el}if(Oe&&Da(Oe,Re),!nt&&(ne=Me&&Me.onVnodeMounted)){const Se=de;Da(()=>eu(ne,_e,Se),Re)}(de.shapeFlag&256||_e&&Bg(_e.vnode)&&_e.vnode.shapeFlag&256)&&se.a&&Da(se.a,Re),se.isMounted=!0,de=ze=lt=null}},Ke=se.effect=new rM(Ue,()=>fM(Ve),se.scope),Ve=se.update=()=>Ke.run();Ve.id=se.uid,eh(se,!0),Ve()},X=(se,de,ze)=>{de.component=se;const lt=se.vnode.props;se.vnode=de,se.next=null,tle(se,de.props,lt,ze),ole(se,de.children,ze),Kh(),N3(),Xh()},W=(se,de,ze,lt,Re,qe,pe,Ue,Ke=!1)=>{const Ve=se&&se.children,ne=se?se.shapeFlag:0,fe=de.children,{patchFlag:Me,shapeFlag:it}=de;if(Me>0){if(Me&128){oe(Ve,fe,ze,lt,Re,qe,pe,Ue,Ke);return}else if(Me&256){ie(Ve,fe,ze,lt,Re,qe,pe,Ue,Ke);return}}it&8?(ne&16&&Le(Ve,Re,qe),fe!==Ve&&h(ze,fe)):ne&16?it&16?oe(Ve,fe,ze,lt,Re,qe,pe,Ue,Ke):Le(Ve,Re,qe,!0):(ne&8&&h(ze,""),it&16&&k(fe,ze,lt,Re,qe,pe,Ue,Ke))},ie=(se,de,ze,lt,Re,qe,pe,Ue,Ke)=>{se=se||Hv,de=de||Hv;const Ve=se.length,ne=de.length,fe=Math.min(Ve,ne);let Me;for(Me=0;Me<fe;Me++){const it=de[Me]=Ke?Lf(de[Me]):iu(de[Me]);O(se[Me],it,ze,null,Re,qe,pe,Ue,Ke)}Ve>ne?Le(se,Re,qe,!0,!1,fe):k(de,ze,lt,Re,qe,pe,Ue,Ke,fe)},oe=(se,de,ze,lt,Re,qe,pe,Ue,Ke)=>{let Ve=0;const ne=de.length;let fe=se.length-1,Me=ne-1;for(;Ve<=fe&&Ve<=Me;){const it=se[Ve],Oe=de[Ve]=Ke?Lf(de[Ve]):iu(de[Ve]);if(hh(it,Oe))O(it,Oe,ze,null,Re,qe,pe,Ue,Ke);else break;Ve++}for(;Ve<=fe&&Ve<=Me;){const it=se[fe],Oe=de[Me]=Ke?Lf(de[Me]):iu(de[Me]);if(hh(it,Oe))O(it,Oe,ze,null,Re,qe,pe,Ue,Ke);else break;fe--,Me--}if(Ve>fe){if(Ve<=Me){const it=Me+1,Oe=it<ne?de[it].el:lt;for(;Ve<=Me;)O(null,de[Ve]=Ke?Lf(de[Ve]):iu(de[Ve]),ze,Oe,Re,qe,pe,Ue,Ke),Ve++}}else if(Ve>Me)for(;Ve<=fe;)ue(se[Ve],Re,qe,!0),Ve++;else{const it=Ve,Oe=Ve,_e=new Map;for(Ve=Oe;Ve<=Me;Ve++){const Wt=de[Ve]=Ke?Lf(de[Ve]):iu(de[Ve]);Wt.key!=null&&_e.set(Wt.key,Ve)}let nt,Se=0;const tt=Me-Oe+1;let we=!1,ht=0;const yt=new Array(tt);for(Ve=0;Ve<tt;Ve++)yt[Ve]=0;for(Ve=it;Ve<=fe;Ve++){const Wt=se[Ve];if(Se>=tt){ue(Wt,Re,qe,!0);continue}let ur;if(Wt.key!=null)ur=_e.get(Wt.key);else for(nt=Oe;nt<=Me;nt++)if(yt[nt-Oe]===0&&hh(Wt,de[nt])){ur=nt;break}ur===void 0?ue(Wt,Re,qe,!0):(yt[ur-Oe]=Ve+1,ur>=ht?ht=ur:we=!0,O(Wt,de[ur],ze,null,Re,qe,pe,Ue,Ke),Se++)}const Et=we?ule(yt):Hv;for(nt=Et.length-1,Ve=tt-1;Ve>=0;Ve--){const Wt=Oe+Ve,ur=de[Wt],tn=Wt+1<ne?de[Wt+1].el:lt;yt[Ve]===0?O(null,ur,ze,tn,Re,qe,pe,Ue,Ke):we&&(nt<0||Ve!==Et[nt]?ee(ur,ze,tn,2):nt--)}}},ee=(se,de,ze,lt,Re=null)=>{const{el:qe,type:pe,transition:Ue,children:Ke,shapeFlag:Ve}=se;if(Ve&6){ee(se.component.subTree,de,ze,lt);return}if(Ve&128){se.suspense.move(de,ze,lt);return}if(Ve&64){pe.move(se,de,ze,ae);return}if(pe===wn){r(qe,de,ze);for(let fe=0;fe<Ke.length;fe++)ee(Ke[fe],de,ze,lt);r(se.anchor,de,ze);return}if(pe===Ew){P(se,de,ze);return}if(lt!==2&&Ve&1&&Ue)if(lt===0)Ue.beforeEnter(qe),r(qe,de,ze),Da(()=>Ue.enter(qe),Re);else{const{leave:fe,delayLeave:Me,afterLeave:it}=Ue,Oe=()=>r(qe,de,ze),_e=()=>{fe(qe,()=>{Oe(),it&&it()})};Me?Me(qe,Oe,_e):_e()}else r(qe,de,ze)},ue=(se,de,ze,lt=!1,Re=!1)=>{const{type:qe,props:pe,ref:Ue,children:Ke,dynamicChildren:Ve,shapeFlag:ne,patchFlag:fe,dirs:Me}=se;if(Ue!=null&&mP(Ue,null,ze,se,!0),ne&256){de.ctx.deactivate(se);return}const it=ne&1&&Me,Oe=!Bg(se);let _e;if(Oe&&(_e=pe&&pe.onVnodeBeforeUnmount)&&eu(_e,de,se),ne&6)Ie(se.component,ze,lt);else{if(ne&128){se.suspense.unmount(ze,lt);return}it&&qd(se,null,de,"beforeUnmount"),ne&64?se.type.remove(se,de,ze,Re,ae,lt):Ve&&(qe!==wn||fe>0&&fe&64)?Le(Ve,de,ze,!1,!0):(qe===wn&&fe&384||!Re&&ne&16)&&Le(Ke,de,ze),lt&&Ne(se)}(Oe&&(_e=pe&&pe.onVnodeUnmounted)||it)&&Da(()=>{_e&&eu(_e,de,se),it&&qd(se,null,de,"unmounted")},ze)},Ne=se=>{const{type:de,el:ze,anchor:lt,transition:Re}=se;if(de===wn){$e(ze,lt);return}if(de===Ew){x(se);return}const qe=()=>{o(ze),Re&&!Re.persisted&&Re.afterLeave&&Re.afterLeave()};if(se.shapeFlag&1&&Re&&!Re.persisted){const{leave:pe,delayLeave:Ue}=Re,Ke=()=>pe(ze,qe);Ue?Ue(se.el,qe,Ke):Ke()}else qe()},$e=(se,de)=>{let ze;for(;se!==de;)ze=y(se),o(se),se=ze;o(de)},Ie=(se,de,ze)=>{const{bum:lt,scope:Re,update:qe,subTree:pe,um:Ue}=se;lt&&bw(lt),Re.stop(),qe&&(qe.active=!1,ue(pe,se,de,ze)),Ue&&Da(Ue,de),Da(()=>{se.isUnmounted=!0},de),de&&de.pendingBranch&&!de.isUnmounted&&se.asyncDep&&!se.asyncResolved&&se.suspenseId===de.pendingId&&(de.deps--,de.deps===0&&de.resolve())},Le=(se,de,ze,lt=!1,Re=!1,qe=0)=>{for(let pe=qe;pe<se.length;pe++)ue(se[pe],de,ze,lt,Re)},he=se=>se.shapeFlag&6?he(se.component.subTree):se.shapeFlag&128?se.suspense.next():y(se.anchor||se.el),te=(se,de,ze)=>{se==null?de._vnode&&ue(de._vnode,null,null,!0):O(de._vnode||null,se,de,null,null,null,ze),N3(),OV(),de._vnode=se},ae={p:O,um:ue,m:ee,r:Ne,mt:V,mc:k,pc:W,pbc:z,n:he,o:e};let Ce,Ze;return t&&([Ce,Ze]=t(ae)),{render:te,hydrate:Ce,createApp:ale(te,Ce)}}function eh({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function EM(e,t,n=!1){const r=e.children,o=t.children;if(Sn(r)&&Sn(o))for(let i=0;i<r.length;i++){const a=r[i];let s=o[i];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=o[i]=Lf(o[i]),s.el=a.el),n||EM(a,s))}}function ule(e){const t=e.slice(),n=[0];let r,o,i,a,s;const f=e.length;for(r=0;r<f;r++){const d=e[r];if(d!==0){if(o=n[n.length-1],e[o]<d){t[r]=o,n.push(r);continue}for(i=0,a=n.length-1;i<a;)s=i+a>>1,e[n[s]]<d?i=s+1:a=s;d<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=t[a];return n}const cle=e=>e.__isTeleport,jg=e=>e&&(e.disabled||e.disabled===""),U3=e=>typeof SVGElement<"u"&&e instanceof SVGElement,gP=(e,t)=>{const n=e&&e.to;return Kn(n)?t?t(n):null:n},fle={__isTeleport:!0,process(e,t,n,r,o,i,a,s,f,d){const{mc:h,pc:v,pbc:y,o:{insert:m,querySelector:b,createText:S,createComment:O}}=d,_=jg(t.props);let{shapeFlag:A,children:T,dynamicChildren:P}=t;if(e==null){const x=t.el=S(""),N=t.anchor=S("");m(x,n,r),m(N,n,r);const L=t.target=gP(t.props,b),j=t.targetAnchor=S("");L&&(m(j,L),a=a||U3(L));const k=(F,z)=>{A&16&&h(T,F,z,o,i,a,s,f)};_?k(n,N):L&&k(L,j)}else{t.el=e.el;const x=t.anchor=e.anchor,N=t.target=e.target,L=t.targetAnchor=e.targetAnchor,j=jg(e.props),k=j?n:N,F=j?x:L;if(a=a||U3(N),P?(y(e.dynamicChildren,P,k,o,i,a,s),EM(e,t,!0)):f||v(e,t,k,F,o,i,a,s,!1),_)j||$S(t,n,x,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const z=t.target=gP(t.props,b);z&&$S(t,z,null,d,0)}else j&&$S(t,N,L,d,1)}},remove(e,t,n,r,{um:o,o:{remove:i}},a){const{shapeFlag:s,children:f,anchor:d,targetAnchor:h,target:v,props:y}=e;if(v&&i(h),(a||!jg(y))&&(i(d),s&16))for(let m=0;m<f.length;m++){const b=f[m];o(b,t,n,!0,!!b.dynamicChildren)}},move:$S,hydrate:dle};function $S(e,t,n,{o:{insert:r},m:o},i=2){i===0&&r(e.targetAnchor,t,n);const{el:a,anchor:s,shapeFlag:f,children:d,props:h}=e,v=i===2;if(v&&r(a,t,n),(!v||jg(h))&&f&16)for(let y=0;y<d.length;y++)o(d[y],t,n,2);v&&r(s,t,n)}function dle(e,t,n,r,o,i,{o:{nextSibling:a,parentNode:s,querySelector:f}},d){const h=t.target=gP(t.props,f);if(h){const v=h._lpa||h.firstChild;if(t.shapeFlag&16)if(jg(t.props))t.anchor=d(a(e),t,s(e),n,r,o,i),t.targetAnchor=v;else{t.anchor=a(e);let y=v;for(;y;)if(y=a(y),y&&y.nodeType===8&&y.data==="teleport anchor"){t.targetAnchor=y,h._lpa=t.targetAnchor&&a(t.targetAnchor);break}d(v,t,h,n,r,o,i)}}return t.anchor&&a(t.anchor)}const Vb=fle,wn=Symbol(void 0),Hb=Symbol(void 0),ba=Symbol(void 0),Ew=Symbol(void 0),Fg=[];let dl=null;function H(e=!1){Fg.push(dl=e?null:[])}function hle(){Fg.pop(),dl=Fg[Fg.length-1]||null}let cb=1;function V3(e){cb+=e}function UV(e){return e.dynamicChildren=cb>0?dl||Hv:null,hle(),cb>0&&dl&&dl.push(e),e}function le(e,t,n,r,o,i){return UV(ve(e,t,n,r,o,i,!0))}function et(e,t,n,r,o){return UV(Te(e,t,n,r,o,!0))}function Ho(e){return e?e.__v_isVNode===!0:!1}function hh(e,t){return e.type===t.type&&e.key===t.key}const a_="__vInternal",VV=({key:e})=>e!=null?e:null,Sw=({ref:e,ref_key:t,ref_for:n})=>e!=null?Kn(e)||uo(e)||Wn(e)?{i:ta,r:e,k:t,f:!!n}:e:null;function ve(e,t=null,n=null,r=0,o=null,i=e===wn?0:1,a=!1,s=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&VV(t),ref:t&&Sw(t),scopeId:n_,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null};return s?(SM(f,n),i&128&&e.normalize(f)):n&&(f.shapeFlag|=Kn(n)?8:16),cb>0&&!a&&dl&&(f.patchFlag>0||i&6)&&f.patchFlag!==32&&dl.push(f),f}const Te=ple;function ple(e,t=null,n=null,r=0,o=null,i=!1){if((!e||e===IV)&&(e=ba),Ho(e)){const s=yc(e,t,!0);return n&&SM(s,n),cb>0&&!i&&dl&&(s.shapeFlag&6?dl[dl.indexOf(e)]=s:dl.push(s)),s.patchFlag|=-2,s}if(_le(e)&&(e=e.__vccOpts),t){t=s_(t);let{class:s,style:f}=t;s&&!Kn(s)&&(t.class=Z(s)),Er(f)&&(pV(f)&&!Sn(f)&&(f=xi({},f)),t.style=gn(f))}const a=Kn(e)?1:Lse(e)?128:cle(e)?64:Er(e)?4:Wn(e)?2:0;return ve(e,t,n,r,o,a,i,!0)}function s_(e){return e?pV(e)||a_ in e?xi({},e):e:null}function yc(e,t,n=!1){const{props:r,ref:o,patchFlag:i,children:a}=e,s=t?br(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&VV(s),ref:t&&t.ref?n&&o?Sn(o)?o.concat(Sw(t)):[o,Sw(t)]:Sw(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==wn?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&yc(e.ssContent),ssFallback:e.ssFallback&&yc(e.ssFallback),el:e.el,anchor:e.anchor}}function $r(e=" ",t=0){return Te(Hb,null,e,t)}function vle(e,t){const n=Te(Ew,null,e);return n.staticCount=t,n}function Ye(e="",t=!1){return t?(H(),et(ba,null,e)):Te(ba,null,e)}function iu(e){return e==null||typeof e=="boolean"?Te(ba):Sn(e)?Te(wn,null,e.slice()):typeof e=="object"?Lf(e):Te(Hb,null,String(e))}function Lf(e){return e.el===null||e.memo?e:yc(e)}function SM(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Sn(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),SM(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(a_ in t)?t._ctx=ta:o===3&&ta&&(ta.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Wn(t)?(t={default:t,_ctx:ta},n=32):(t=String(t),r&64?(n=16,t=[$r(t)]):n=8);e.children=t,e.shapeFlag|=n}function br(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=Z([t.class,r.class]));else if(o==="style")t.style=gn([t.style,r.style]);else if(ZO(o)){const i=t[o],a=r[o];a&&i!==a&&!(Sn(i)&&i.includes(a))&&(t[o]=i?[].concat(i,a):a)}else o!==""&&(t[o]=r[o])}return t}function eu(e,t,n,r=null){Ms(e,t,7,[n,r])}const yle=zV();let mle=0;function gle(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||yle,i={uid:mle++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new tV(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$V(r,o),emitsOptions:TV(r,o),emit:null,emitted:null,propsDefaults:Co,inheritAttrs:r.inheritAttrs,ctx:Co,data:Co,props:Co,attrs:Co,slots:Co,refs:Co,setupState:Co,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Nse.bind(null,i),e.ce&&e.ce(i),i}let Pi=null;const cr=()=>Pi||ta,ay=e=>{Pi=e,e.scope.on()},Ph=()=>{Pi&&Pi.scope.off(),Pi=null};function HV(e){return e.vnode.shapeFlag&4}let fb=!1;function ble(e,t=!1){fb=t;const{props:n,children:r}=e.vnode,o=HV(e);ele(e,n,o,t),rle(e,r);const i=o?Ele(e,t):void 0;return fb=!1,i}function Ele(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Ah(new Proxy(e.ctx,Xse));const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?WV(e):null;ay(e),Kh();const i=dc(r,e,0,[e.props,o]);if(Xh(),Ph(),rb(i)){if(i.then(Ph,Ph),t)return i.then(a=>{H3(e,a,t)}).catch(a=>{e_(a,e,0)});e.asyncDep=i}else H3(e,i,t)}else GV(e,t)}function H3(e,t,n){Wn(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Er(t)&&(e.setupState=mV(t)),GV(e,n)}let G3;function GV(e,t,n){const r=e.type;if(!e.render){if(!t&&G3&&!r.render){const o=r.template||gM(e).template;if(o){const{isCustomElement:i,compilerOptions:a}=e.appContext.config,{delimiters:s,compilerOptions:f}=r,d=xi(xi({isCustomElement:i,delimiters:s},a),f);r.render=G3(o,d)}}e.render=r.render||to}ay(e),Kh(),Yse(e),Xh(),Ph()}function Sle(e){return new Proxy(e.attrs,{get(t,n){return rs(e,"get","$attrs"),t[n]}})}function WV(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=Sle(e))},slots:e.slots,emit:e.emit,expose:t}}function l_(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(mV(Ah(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in uO)return uO[n](e)}}))}const wle=/(?:^|[-_])(\w)/g,Ole=e=>e.replace(wle,t=>t.toUpperCase()).replace(/[-_]/g,"");function KV(e,t=!0){return Wn(e)?e.displayName||e.name:e.name||t&&e.__name}function XV(e,t,n=!1){let r=KV(t);if(!r&&t.__file){const o=t.__file.match(/([^/\\]+)\.\w+$/);o&&(r=o[1])}if(!r&&e&&e.parent){const o=i=>{for(const a in i)if(i[a]===t)return a};r=o(e.components||e.parent.type.components)||o(e.appContext.components)}return r?Ole(r):n?"App":"Anonymous"}function _le(e){return Wn(e)&&"__vccOpts"in e}const G=(e,t)=>bV(e,t,fb);function Gi(){return YV().slots}function Gb(){return YV().attrs}function YV(){const e=cr();return e.setupContext||(e.setupContext=WV(e))}function Pn(e,t,n){const r=arguments.length;return r===2?Er(t)&&!Sn(t)?Ho(t)?Te(e,null,[t]):Te(e,t):Te(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ho(n)&&(n=[n]),Te(e,t,n))}const Tle="3.2.39",Cle="http://www.w3.org/2000/svg",ph=typeof document<"u"?document:null,W3=ph&&ph.createElement("template"),Ale={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?ph.createElementNS(Cle,e):ph.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>ph.createTextNode(e),createComment:e=>ph.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ph.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,o,i){const a=n?n.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===i||!(o=o.nextSibling)););else{W3.innerHTML=r?`<svg>${e}</svg>`:e;const s=W3.content;if(r){const f=s.firstChild;for(;f.firstChild;)s.appendChild(f.firstChild);s.removeChild(f)}t.insertBefore(s,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Ple(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function xle(e,t,n){const r=e.style,o=Kn(n);if(n&&!o){for(const i in n)bP(r,i,n[i]);if(t&&!Kn(t))for(const i in t)n[i]==null&&bP(r,i,"")}else{const i=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}const K3=/\s*!important$/;function bP(e,t,n){if(Sn(n))n.forEach(r=>bP(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Mle(e,t);K3.test(n)?e.setProperty(rd(r),n.replace(K3,""),"important"):e[r]=n}}const X3=["Webkit","Moz","ms"],rA={};function Mle(e,t){const n=rA[t];if(n)return n;let r=Is(t);if(r!=="filter"&&r in e)return rA[t]=r;r=zb(r);for(let o=0;o<X3.length;o++){const i=X3[o]+r;if(i in e)return rA[t]=i}return t}const Y3="http://www.w3.org/1999/xlink";function Nle(e,t,n,r,o){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Y3,t.slice(6,t.length)):e.setAttributeNS(Y3,t,n);else{const i=Rae(t);n==null||i&&!ZU(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function Rle(e,t,n,r,o,i,a){if(t==="innerHTML"||t==="textContent"){r&&a(r,o,i),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const f=n==null?"":n;(e.value!==f||e.tagName==="OPTION")&&(e.value=f),n==null&&e.removeAttribute(t);return}let s=!1;if(n===""||n==null){const f=typeof e[t];f==="boolean"?n=ZU(n):n==null&&f==="string"?(n="",s=!0):f==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(t)}const[ZV,Ile]=(()=>{let e=Date.now,t=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let EP=0;const Dle=Promise.resolve(),kle=()=>{EP=0},Lle=()=>EP||(Dle.then(kle),EP=ZV());function Bf(e,t,n,r){e.addEventListener(t,n,r)}function $le(e,t,n,r){e.removeEventListener(t,n,r)}function Ble(e,t,n,r,o=null){const i=e._vei||(e._vei={}),a=i[t];if(r&&a)a.value=r;else{const[s,f]=jle(t);if(r){const d=i[t]=Fle(r,o);Bf(e,s,d,f)}else a&&($le(e,s,a,f),i[t]=void 0)}}const Z3=/(?:Once|Passive|Capture)$/;function jle(e){let t;if(Z3.test(e)){t={};let r;for(;r=e.match(Z3);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):rd(e.slice(2)),t]}function Fle(e,t){const n=r=>{const o=r.timeStamp||ZV();(Ile||o>=n.attached-1)&&Ms(zle(r,n.value),t,5,[r])};return n.value=e,n.attached=Lle(),n}function zle(e,t){if(Sn(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const J3=/^on[a-z]/,Ule=(e,t,n,r,o=!1,i,a,s,f)=>{t==="class"?Ple(e,r,o):t==="style"?xle(e,n,r):ZO(t)?qx(t)||Ble(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Vle(e,t,r,o))?Rle(e,t,r,i,a,s,f):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Nle(e,t,r,o))};function Vle(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&J3.test(t)&&Wn(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||J3.test(t)&&Kn(n)?!1:t in e}const Af="transition",ng="animation",ti=(e,{slots:t})=>Pn(PV,QV(e),t);ti.displayName="Transition";const JV={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Hle=ti.props=xi({},PV.props,JV),th=(e,t=[])=>{Sn(e)?e.forEach(n=>n(...t)):e&&e(...t)},Q3=e=>e?Sn(e)?e.some(t=>t.length>1):e.length>1:!1;function QV(e){const t={};for(const M in e)M in JV||(t[M]=e[M]);if(e.css===!1)return t;const{name:n="v",type:r,duration:o,enterFromClass:i=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:f=i,appearActiveClass:d=a,appearToClass:h=s,leaveFromClass:v=`${n}-leave-from`,leaveActiveClass:y=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=e,b=Gle(o),S=b&&b[0],O=b&&b[1],{onBeforeEnter:_,onEnter:A,onEnterCancelled:T,onLeave:P,onLeaveCancelled:x,onBeforeAppear:N=_,onAppear:L=A,onAppearCancelled:j=T}=t,k=(M,D,B)=>{Rf(M,D?h:s),Rf(M,D?d:a),B&&B()},F=(M,D)=>{M._isLeaving=!1,Rf(M,v),Rf(M,m),Rf(M,y),D&&D()},z=M=>(D,B)=>{const V=M?L:A,Y=()=>k(D,M,B);th(V,[D,Y]),q3(()=>{Rf(D,M?f:i),tc(D,M?h:s),Q3(V)||e$(D,r,S,Y)})};return xi(t,{onBeforeEnter(M){th(_,[M]),tc(M,i),tc(M,a)},onBeforeAppear(M){th(N,[M]),tc(M,f),tc(M,d)},onEnter:z(!1),onAppear:z(!0),onLeave(M,D){M._isLeaving=!0;const B=()=>F(M,D);tc(M,v),eH(),tc(M,y),q3(()=>{!M._isLeaving||(Rf(M,v),tc(M,m),Q3(P)||e$(M,r,O,B))}),th(P,[M,B])},onEnterCancelled(M){k(M,!1),th(T,[M])},onAppearCancelled(M){k(M,!0),th(j,[M])},onLeaveCancelled(M){F(M),th(x,[M])}})}function Gle(e){if(e==null)return null;if(Er(e))return[oA(e.enter),oA(e.leave)];{const t=oA(e);return[t,t]}}function oA(e){return aO(e)}function tc(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Rf(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function q3(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Wle=0;function e$(e,t,n,r){const o=e._endId=++Wle,i=()=>{o===e._endId&&r()};if(n)return setTimeout(i,n);const{type:a,timeout:s,propCount:f}=qV(e,t);if(!a)return r();const d=a+"end";let h=0;const v=()=>{e.removeEventListener(d,y),i()},y=m=>{m.target===e&&++h>=f&&v()};setTimeout(()=>{h<f&&v()},s+1),e.addEventListener(d,y)}function qV(e,t){const n=window.getComputedStyle(e),r=b=>(n[b]||"").split(", "),o=r(Af+"Delay"),i=r(Af+"Duration"),a=t$(o,i),s=r(ng+"Delay"),f=r(ng+"Duration"),d=t$(s,f);let h=null,v=0,y=0;t===Af?a>0&&(h=Af,v=a,y=i.length):t===ng?d>0&&(h=ng,v=d,y=f.length):(v=Math.max(a,d),h=v>0?a>d?Af:ng:null,y=h?h===Af?i.length:f.length:0);const m=h===Af&&/\b(transform|all)(,|$)/.test(n[Af+"Property"]);return{type:h,timeout:v,propCount:y,hasTransform:m}}function t$(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>n$(n)+n$(e[r])))}function n$(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function eH(){return document.body.offsetHeight}const tH=new WeakMap,nH=new WeakMap,Kle={name:"TransitionGroup",props:xi({},Hle,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=cr(),r=AV();let o,i;return gu(()=>{if(!o.length)return;const a=e.moveClass||`${e.name||"v"}-move`;if(!Qle(o[0].el,n.vnode.el,a))return;o.forEach(Yle),o.forEach(Zle);const s=o.filter(Jle);eH(),s.forEach(f=>{const d=f.el,h=d.style;tc(d,a),h.transform=h.webkitTransform=h.transitionDuration="";const v=d._moveCb=y=>{y&&y.target!==d||(!y||/transform$/.test(y.propertyName))&&(d.removeEventListener("transitionend",v),d._moveCb=null,Rf(d,a))};d.addEventListener("transitionend",v)})}),()=>{const a=Zr(e),s=QV(a);let f=a.tag||wn;o=i,i=t.default?vM(t.default()):[];for(let d=0;d<i.length;d++){const h=i[d];h.key!=null&&ub(h,lb(h,s,r,n))}if(o)for(let d=0;d<o.length;d++){const h=o[d];ub(h,lb(h,s,r,n)),tH.set(h,h.el.getBoundingClientRect())}return Te(f,null,i)}}},Xle=Kle;function Yle(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function Zle(e){nH.set(e,e.el.getBoundingClientRect())}function Jle(e){const t=tH.get(e),n=nH.get(e),r=t.left-n.left,o=t.top-n.top;if(r||o){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${o}px)`,i.transitionDuration="0s",e}}function Qle(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach(a=>{a.split(/\s+/).forEach(s=>s&&r.classList.remove(s))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(r);const{hasTransform:i}=qV(r);return o.removeChild(r),i}const sy=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Sn(t)?n=>bw(t,n):t};function qle(e){e.target.composing=!0}function r$(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const u_={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e._assign=sy(o);const i=r||o.props&&o.props.type==="number";Bf(e,t?"change":"input",a=>{if(a.target.composing)return;let s=e.value;n&&(s=s.trim()),i&&(s=aO(s)),e._assign(s)}),n&&Bf(e,"change",()=>{e.value=e.value.trim()}),t||(Bf(e,"compositionstart",qle),Bf(e,"compositionend",r$),Bf(e,"change",r$))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:o}},i){if(e._assign=sy(i),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(o||e.type==="number")&&aO(e.value)===t))return;const a=t==null?"":t;e.value!==a&&(e.value=a)}},fO={deep:!0,created(e,t,n){e._assign=sy(n),Bf(e,"change",()=>{const r=e._modelValue,o=oH(e),i=e.checked,a=e._assign;if(Sn(r)){const s=JU(r,o),f=s!==-1;if(i&&!f)a(r.concat(o));else if(!i&&f){const d=[...r];d.splice(s,1),a(d)}}else if(JO(r)){const s=new Set(r);i?s.add(o):s.delete(o),a(s)}else a(iH(e,i))})},mounted:o$,beforeUpdate(e,t,n){e._assign=sy(n),o$(e,t,n)}};function o$(e,{value:t,oldValue:n},r){e._modelValue=t,Sn(t)?e.checked=JU(t,r.props.value)>-1:JO(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=oy(t,iH(e,!0)))}const rH={created(e,{value:t},n){e.checked=oy(t,n.props.value),e._assign=sy(n),Bf(e,"change",()=>{e._assign(oH(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=sy(r),t!==n&&(e.checked=oy(t,r.props.value))}};function oH(e){return"_value"in e?e._value:e.value}function iH(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const eue=["ctrl","shift","alt","meta"],tue={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>eue.some(n=>e[`${n}Key`]&&!t.includes(n))},Fn=(e,t)=>(n,...r)=>{for(let o=0;o<t.length;o++){const i=tue[t[o]];if(i&&i(n,t))return}return e(n,...r)},nue={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},kr=(e,t)=>n=>{if(!("key"in n))return;const r=rd(n.key);if(t.some(o=>o===r||nue[o]===r))return e(n)},Lr={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):rg(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),rg(e,!0),r.enter(e)):r.leave(e,()=>{rg(e,!1)}):rg(e,t))},beforeUnmount(e,{value:t}){rg(e,t)}};function rg(e,t){e.style.display=t?e._vod:"none"}const rue=xi({patchProp:Ule},Ale);let i$;function aH(){return i$||(i$=sle(rue))}const ly=(...e)=>{aH().render(...e)},Wb=(...e)=>{const t=aH().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=oue(r);if(!o)return;const i=t._component;!Wn(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function oue(e){return Kn(e)?document.querySelector(e):e}var iue=typeof global=="object"&&global&&global.Object===Object&&global;const sH=iue;var aue=typeof self=="object"&&self&&self.Object===Object&&self,sue=sH||aue||Function("return this")();const El=sue;var lue=El.Symbol;const Ds=lue;var lH=Object.prototype,uue=lH.hasOwnProperty,cue=lH.toString,og=Ds?Ds.toStringTag:void 0;function fue(e){var t=uue.call(e,og),n=e[og];try{e[og]=void 0;var r=!0}catch{}var o=cue.call(e);return r&&(t?e[og]=n:delete e[og]),o}var due=Object.prototype,hue=due.toString;function pue(e){return hue.call(e)}var vue="[object Null]",yue="[object Undefined]",a$=Ds?Ds.toStringTag:void 0;function xy(e){return e==null?e===void 0?yue:vue:a$&&a$ in Object(e)?fue(e):pue(e)}function mc(e){return e!=null&&typeof e=="object"}var mue="[object Symbol]";function c_(e){return typeof e=="symbol"||mc(e)&&xy(e)==mue}function gue(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var bue=Array.isArray;const vl=bue;var Eue=1/0,s$=Ds?Ds.prototype:void 0,l$=s$?s$.toString:void 0;function uH(e){if(typeof e=="string")return e;if(vl(e))return gue(e,uH)+"";if(c_(e))return l$?l$.call(e):"";var t=e+"";return t=="0"&&1/e==-Eue?"-0":t}var Sue=/\s/;function wue(e){for(var t=e.length;t--&&Sue.test(e.charAt(t)););return t}var Oue=/^\s+/;function _ue(e){return e&&e.slice(0,wue(e)+1).replace(Oue,"")}function yl(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var u$=0/0,Tue=/^[-+]0x[0-9a-f]+$/i,Cue=/^0b[01]+$/i,Aue=/^0o[0-7]+$/i,Pue=parseInt;function c$(e){if(typeof e=="number")return e;if(c_(e))return u$;if(yl(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=yl(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=_ue(e);var n=Cue.test(e);return n||Aue.test(e)?Pue(e.slice(2),n?2:8):Tue.test(e)?u$:+e}function cH(e){return e}var xue="[object AsyncFunction]",Mue="[object Function]",Nue="[object GeneratorFunction]",Rue="[object Proxy]";function fH(e){if(!yl(e))return!1;var t=xy(e);return t==Mue||t==Nue||t==xue||t==Rue}var Iue=El["__core-js_shared__"];const iA=Iue;var f$=function(){var e=/[^.]+$/.exec(iA&&iA.keys&&iA.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Due(e){return!!f$&&f$ in e}var kue=Function.prototype,Lue=kue.toString;function Zh(e){if(e!=null){try{return Lue.call(e)}catch{}try{return e+""}catch{}}return""}var $ue=/[\\^$.*+?()[\]{}|]/g,Bue=/^\[object .+?Constructor\]$/,jue=Function.prototype,Fue=Object.prototype,zue=jue.toString,Uue=Fue.hasOwnProperty,Vue=RegExp("^"+zue.call(Uue).replace($ue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Hue(e){if(!yl(e)||Due(e))return!1;var t=fH(e)?Vue:Bue;return t.test(Zh(e))}function Gue(e,t){return e==null?void 0:e[t]}function Jh(e,t){var n=Gue(e,t);return Hue(n)?n:void 0}var Wue=Jh(El,"WeakMap");const SP=Wue;var d$=Object.create,Kue=function(){function e(){}return function(t){if(!yl(t))return{};if(d$)return d$(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const Xue=Kue;function Yue(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Zue(){}function Jue(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var Que=800,que=16,ece=Date.now;function tce(e){var t=0,n=0;return function(){var r=ece(),o=que-(r-n);if(n=r,o>0){if(++t>=Que)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function nce(e){return function(){return e}}var rce=function(){try{var e=Jh(Object,"defineProperty");return e({},"",{}),e}catch{}}();const dO=rce;var oce=dO?function(e,t){return dO(e,"toString",{configurable:!0,enumerable:!1,value:nce(t),writable:!0})}:cH;const ice=oce;var ace=tce(ice);const dH=ace;function sce(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function lce(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function uce(e){return e!==e}function cce(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}function fce(e,t,n){return t===t?cce(e,t,n):lce(e,uce,n)}function dce(e,t){var n=e==null?0:e.length;return!!n&&fce(e,t,0)>-1}var hce=9007199254740991,pce=/^(?:0|[1-9]\d*)$/;function wM(e,t){var n=typeof e;return t=t==null?hce:t,!!t&&(n=="number"||n!="symbol"&&pce.test(e))&&e>-1&&e%1==0&&e<t}function hH(e,t,n){t=="__proto__"&&dO?dO(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function OM(e,t){return e===t||e!==e&&t!==t}var vce=Object.prototype,yce=vce.hasOwnProperty;function _M(e,t,n){var r=e[t];(!(yce.call(e,t)&&OM(r,n))||n===void 0&&!(t in e))&&hH(e,t,n)}function f_(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],f=r?r(n[s],e[s],s,n,e):void 0;f===void 0&&(f=e[s]),o?hH(n,s,f):_M(n,s,f)}return n}var h$=Math.max;function pH(e,t,n){return t=h$(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=h$(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),Yue(e,this,s)}}function mce(e,t){return dH(pH(e,t,cH),e+"")}var gce=9007199254740991;function TM(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=gce}function CM(e){return e!=null&&TM(e.length)&&!fH(e)}var bce=Object.prototype;function AM(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||bce;return e===n}function Ece(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Sce="[object Arguments]";function p$(e){return mc(e)&&xy(e)==Sce}var vH=Object.prototype,wce=vH.hasOwnProperty,Oce=vH.propertyIsEnumerable,_ce=p$(function(){return arguments}())?p$:function(e){return mc(e)&&wce.call(e,"callee")&&!Oce.call(e,"callee")};const PM=_ce;function Tce(){return!1}var yH=typeof es=="object"&&es&&!es.nodeType&&es,v$=yH&&typeof ts=="object"&&ts&&!ts.nodeType&&ts,Cce=v$&&v$.exports===yH,y$=Cce?El.Buffer:void 0,Ace=y$?y$.isBuffer:void 0,Pce=Ace||Tce;const hO=Pce;var xce="[object Arguments]",Mce="[object Array]",Nce="[object Boolean]",Rce="[object Date]",Ice="[object Error]",Dce="[object Function]",kce="[object Map]",Lce="[object Number]",$ce="[object Object]",Bce="[object RegExp]",jce="[object Set]",Fce="[object String]",zce="[object WeakMap]",Uce="[object ArrayBuffer]",Vce="[object DataView]",Hce="[object Float32Array]",Gce="[object Float64Array]",Wce="[object Int8Array]",Kce="[object Int16Array]",Xce="[object Int32Array]",Yce="[object Uint8Array]",Zce="[object Uint8ClampedArray]",Jce="[object Uint16Array]",Qce="[object Uint32Array]",Fo={};Fo[Hce]=Fo[Gce]=Fo[Wce]=Fo[Kce]=Fo[Xce]=Fo[Yce]=Fo[Zce]=Fo[Jce]=Fo[Qce]=!0;Fo[xce]=Fo[Mce]=Fo[Uce]=Fo[Nce]=Fo[Vce]=Fo[Rce]=Fo[Ice]=Fo[Dce]=Fo[kce]=Fo[Lce]=Fo[$ce]=Fo[Bce]=Fo[jce]=Fo[Fce]=Fo[zce]=!1;function qce(e){return mc(e)&&TM(e.length)&&!!Fo[xy(e)]}function xM(e){return function(t){return e(t)}}var mH=typeof es=="object"&&es&&!es.nodeType&&es,zg=mH&&typeof ts=="object"&&ts&&!ts.nodeType&&ts,efe=zg&&zg.exports===mH,aA=efe&&sH.process,tfe=function(){try{var e=zg&&zg.require&&zg.require("util").types;return e||aA&&aA.binding&&aA.binding("util")}catch{}}();const uy=tfe;var m$=uy&&uy.isTypedArray,nfe=m$?xM(m$):qce;const gH=nfe;var rfe=Object.prototype,ofe=rfe.hasOwnProperty;function bH(e,t){var n=vl(e),r=!n&&PM(e),o=!n&&!r&&hO(e),i=!n&&!r&&!o&&gH(e),a=n||r||o||i,s=a?Ece(e.length,String):[],f=s.length;for(var d in e)(t||ofe.call(e,d))&&!(a&&(d=="length"||o&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||wM(d,f)))&&s.push(d);return s}function EH(e,t){return function(n){return e(t(n))}}var ife=EH(Object.keys,Object);const afe=ife;var sfe=Object.prototype,lfe=sfe.hasOwnProperty;function ufe(e){if(!AM(e))return afe(e);var t=[];for(var n in Object(e))lfe.call(e,n)&&n!="constructor"&&t.push(n);return t}function MM(e){return CM(e)?bH(e):ufe(e)}function cfe(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var ffe=Object.prototype,dfe=ffe.hasOwnProperty;function hfe(e){if(!yl(e))return cfe(e);var t=AM(e),n=[];for(var r in e)r=="constructor"&&(t||!dfe.call(e,r))||n.push(r);return n}function NM(e){return CM(e)?bH(e,!0):hfe(e)}var pfe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vfe=/^\w*$/;function yfe(e,t){if(vl(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||c_(e)?!0:vfe.test(e)||!pfe.test(e)||t!=null&&e in Object(t)}var mfe=Jh(Object,"create");const db=mfe;function gfe(){this.__data__=db?db(null):{},this.size=0}function bfe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Efe="__lodash_hash_undefined__",Sfe=Object.prototype,wfe=Sfe.hasOwnProperty;function Ofe(e){var t=this.__data__;if(db){var n=t[e];return n===Efe?void 0:n}return wfe.call(t,e)?t[e]:void 0}var _fe=Object.prototype,Tfe=_fe.hasOwnProperty;function Cfe(e){var t=this.__data__;return db?t[e]!==void 0:Tfe.call(t,e)}var Afe="__lodash_hash_undefined__";function Pfe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=db&&t===void 0?Afe:t,this}function Lh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Lh.prototype.clear=gfe;Lh.prototype.delete=bfe;Lh.prototype.get=Ofe;Lh.prototype.has=Cfe;Lh.prototype.set=Pfe;function xfe(){this.__data__=[],this.size=0}function d_(e,t){for(var n=e.length;n--;)if(OM(e[n][0],t))return n;return-1}var Mfe=Array.prototype,Nfe=Mfe.splice;function Rfe(e){var t=this.__data__,n=d_(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Nfe.call(t,n,1),--this.size,!0}function Ife(e){var t=this.__data__,n=d_(t,e);return n<0?void 0:t[n][1]}function Dfe(e){return d_(this.__data__,e)>-1}function kfe(e,t){var n=this.__data__,r=d_(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function _c(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_c.prototype.clear=xfe;_c.prototype.delete=Rfe;_c.prototype.get=Ife;_c.prototype.has=Dfe;_c.prototype.set=kfe;var Lfe=Jh(El,"Map");const hb=Lfe;function $fe(){this.size=0,this.__data__={hash:new Lh,map:new(hb||_c),string:new Lh}}function Bfe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function h_(e,t){var n=e.__data__;return Bfe(t)?n[typeof t=="string"?"string":"hash"]:n.map}function jfe(e){var t=h_(this,e).delete(e);return this.size-=t?1:0,t}function Ffe(e){return h_(this,e).get(e)}function zfe(e){return h_(this,e).has(e)}function Ufe(e,t){var n=h_(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Tc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Tc.prototype.clear=$fe;Tc.prototype.delete=jfe;Tc.prototype.get=Ffe;Tc.prototype.has=zfe;Tc.prototype.set=Ufe;var Vfe="Expected a function";function p_(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Vfe);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(p_.Cache||Tc),n}p_.Cache=Tc;var Hfe=500;function Gfe(e){var t=p_(e,function(r){return n.size===Hfe&&n.clear(),r}),n=t.cache;return t}var Wfe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kfe=/\\(\\)?/g,Xfe=Gfe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Wfe,function(n,r,o,i){t.push(o?i.replace(Kfe,"$1"):r||n)}),t});const Yfe=Xfe;function Zfe(e){return e==null?"":uH(e)}function v_(e,t){return vl(e)?e:yfe(e,t)?[e]:Yfe(Zfe(e))}var Jfe=1/0;function RM(e){if(typeof e=="string"||c_(e))return e;var t=e+"";return t=="0"&&1/e==-Jfe?"-0":t}function SH(e,t){t=v_(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[RM(t[n++])];return n&&n==r?e:void 0}function Ao(e,t,n){var r=e==null?void 0:SH(e,t);return r===void 0?n:r}function IM(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var g$=Ds?Ds.isConcatSpreadable:void 0;function Qfe(e){return vl(e)||PM(e)||!!(g$&&e&&e[g$])}function y_(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=Qfe),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?y_(s,t-1,n,r,o):IM(o,s):r||(o[o.length]=s)}return o}function wH(e){var t=e==null?0:e.length;return t?y_(e,1):[]}function qfe(e){return dH(pH(e,void 0,wH),e+"")}var ede=EH(Object.getPrototypeOf,Object);const OH=ede;function cy(){if(!arguments.length)return[];var e=arguments[0];return vl(e)?e:[e]}function tde(){this.__data__=new _c,this.size=0}function nde(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function rde(e){return this.__data__.get(e)}function ode(e){return this.__data__.has(e)}var ide=200;function ade(e,t){var n=this.__data__;if(n instanceof _c){var r=n.__data__;if(!hb||r.length<ide-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Tc(r)}return n.set(e,t),this.size=n.size,this}function hc(e){var t=this.__data__=new _c(e);this.size=t.size}hc.prototype.clear=tde;hc.prototype.delete=nde;hc.prototype.get=rde;hc.prototype.has=ode;hc.prototype.set=ade;function sde(e,t){return e&&f_(t,MM(t),e)}function lde(e,t){return e&&f_(t,NM(t),e)}var _H=typeof es=="object"&&es&&!es.nodeType&&es,b$=_H&&typeof ts=="object"&&ts&&!ts.nodeType&&ts,ude=b$&&b$.exports===_H,E$=ude?El.Buffer:void 0,S$=E$?E$.allocUnsafe:void 0;function cde(e,t){if(t)return e.slice();var n=e.length,r=S$?S$(n):new e.constructor(n);return e.copy(r),r}function fde(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function TH(){return[]}var dde=Object.prototype,hde=dde.propertyIsEnumerable,w$=Object.getOwnPropertySymbols,pde=w$?function(e){return e==null?[]:(e=Object(e),fde(w$(e),function(t){return hde.call(e,t)}))}:TH;const DM=pde;function vde(e,t){return f_(e,DM(e),t)}var yde=Object.getOwnPropertySymbols,mde=yde?function(e){for(var t=[];e;)IM(t,DM(e)),e=OH(e);return t}:TH;const CH=mde;function gde(e,t){return f_(e,CH(e),t)}function AH(e,t,n){var r=t(e);return vl(e)?r:IM(r,n(e))}function wP(e){return AH(e,MM,DM)}function bde(e){return AH(e,NM,CH)}var Ede=Jh(El,"DataView");const OP=Ede;var Sde=Jh(El,"Promise");const _P=Sde;var wde=Jh(El,"Set");const Xv=wde;var O$="[object Map]",Ode="[object Object]",_$="[object Promise]",T$="[object Set]",C$="[object WeakMap]",A$="[object DataView]",_de=Zh(OP),Tde=Zh(hb),Cde=Zh(_P),Ade=Zh(Xv),Pde=Zh(SP),uh=xy;(OP&&uh(new OP(new ArrayBuffer(1)))!=A$||hb&&uh(new hb)!=O$||_P&&uh(_P.resolve())!=_$||Xv&&uh(new Xv)!=T$||SP&&uh(new SP)!=C$)&&(uh=function(e){var t=xy(e),n=t==Ode?e.constructor:void 0,r=n?Zh(n):"";if(r)switch(r){case _de:return A$;case Tde:return O$;case Cde:return _$;case Ade:return T$;case Pde:return C$}return t});const pb=uh;var xde=Object.prototype,Mde=xde.hasOwnProperty;function Nde(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Mde.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Rde=El.Uint8Array;const pO=Rde;function kM(e){var t=new e.constructor(e.byteLength);return new pO(t).set(new pO(e)),t}function Ide(e,t){var n=t?kM(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Dde=/\w*$/;function kde(e){var t=new e.constructor(e.source,Dde.exec(e));return t.lastIndex=e.lastIndex,t}var P$=Ds?Ds.prototype:void 0,x$=P$?P$.valueOf:void 0;function Lde(e){return x$?Object(x$.call(e)):{}}function $de(e,t){var n=t?kM(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Bde="[object Boolean]",jde="[object Date]",Fde="[object Map]",zde="[object Number]",Ude="[object RegExp]",Vde="[object Set]",Hde="[object String]",Gde="[object Symbol]",Wde="[object ArrayBuffer]",Kde="[object DataView]",Xde="[object Float32Array]",Yde="[object Float64Array]",Zde="[object Int8Array]",Jde="[object Int16Array]",Qde="[object Int32Array]",qde="[object Uint8Array]",ehe="[object Uint8ClampedArray]",the="[object Uint16Array]",nhe="[object Uint32Array]";function rhe(e,t,n){var r=e.constructor;switch(t){case Wde:return kM(e);case Bde:case jde:return new r(+e);case Kde:return Ide(e,n);case Xde:case Yde:case Zde:case Jde:case Qde:case qde:case ehe:case the:case nhe:return $de(e,n);case Fde:return new r;case zde:case Hde:return new r(e);case Ude:return kde(e);case Vde:return new r;case Gde:return Lde(e)}}function ohe(e){return typeof e.constructor=="function"&&!AM(e)?Xue(OH(e)):{}}var ihe="[object Map]";function ahe(e){return mc(e)&&pb(e)==ihe}var M$=uy&&uy.isMap,she=M$?xM(M$):ahe;const lhe=she;var uhe="[object Set]";function che(e){return mc(e)&&pb(e)==uhe}var N$=uy&&uy.isSet,fhe=N$?xM(N$):che;const dhe=fhe;var hhe=1,phe=2,vhe=4,PH="[object Arguments]",yhe="[object Array]",mhe="[object Boolean]",ghe="[object Date]",bhe="[object Error]",xH="[object Function]",Ehe="[object GeneratorFunction]",She="[object Map]",whe="[object Number]",MH="[object Object]",Ohe="[object RegExp]",_he="[object Set]",The="[object String]",Che="[object Symbol]",Ahe="[object WeakMap]",Phe="[object ArrayBuffer]",xhe="[object DataView]",Mhe="[object Float32Array]",Nhe="[object Float64Array]",Rhe="[object Int8Array]",Ihe="[object Int16Array]",Dhe="[object Int32Array]",khe="[object Uint8Array]",Lhe="[object Uint8ClampedArray]",$he="[object Uint16Array]",Bhe="[object Uint32Array]",Ro={};Ro[PH]=Ro[yhe]=Ro[Phe]=Ro[xhe]=Ro[mhe]=Ro[ghe]=Ro[Mhe]=Ro[Nhe]=Ro[Rhe]=Ro[Ihe]=Ro[Dhe]=Ro[She]=Ro[whe]=Ro[MH]=Ro[Ohe]=Ro[_he]=Ro[The]=Ro[Che]=Ro[khe]=Ro[Lhe]=Ro[$he]=Ro[Bhe]=!0;Ro[bhe]=Ro[xH]=Ro[Ahe]=!1;function ww(e,t,n,r,o,i){var a,s=t&hhe,f=t&phe,d=t&vhe;if(n&&(a=o?n(e,r,o,i):n(e)),a!==void 0)return a;if(!yl(e))return e;var h=vl(e);if(h){if(a=Nde(e),!s)return Jue(e,a)}else{var v=pb(e),y=v==xH||v==Ehe;if(hO(e))return cde(e,s);if(v==MH||v==PH||y&&!o){if(a=f||y?{}:ohe(e),!s)return f?gde(e,lde(a,e)):vde(e,sde(a,e))}else{if(!Ro[v])return o?e:{};a=rhe(e,v,s)}}i||(i=new hc);var m=i.get(e);if(m)return m;i.set(e,a),dhe(e)?e.forEach(function(O){a.add(ww(O,t,n,O,e,i))}):lhe(e)&&e.forEach(function(O,_){a.set(_,ww(O,t,n,_,e,i))});var b=d?f?bde:wP:f?NM:MM,S=h?void 0:b(e);return sce(S||e,function(O,_){S&&(_=O,O=e[_]),_M(a,_,ww(O,t,n,_,e,i))}),a}var jhe=4;function R$(e){return ww(e,jhe)}var Fhe="__lodash_hash_undefined__";function zhe(e){return this.__data__.set(e,Fhe),this}function Uhe(e){return this.__data__.has(e)}function vb(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Tc;++t<n;)this.add(e[t])}vb.prototype.add=vb.prototype.push=zhe;vb.prototype.has=Uhe;function Vhe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function NH(e,t){return e.has(t)}var Hhe=1,Ghe=2;function RH(e,t,n,r,o,i){var a=n&Hhe,s=e.length,f=t.length;if(s!=f&&!(a&&f>s))return!1;var d=i.get(e),h=i.get(t);if(d&&h)return d==t&&h==e;var v=-1,y=!0,m=n&Ghe?new vb:void 0;for(i.set(e,t),i.set(t,e);++v<s;){var b=e[v],S=t[v];if(r)var O=a?r(S,b,v,t,e,i):r(b,S,v,e,t,i);if(O!==void 0){if(O)continue;y=!1;break}if(m){if(!Vhe(t,function(_,A){if(!NH(m,A)&&(b===_||o(b,_,n,r,i)))return m.push(A)})){y=!1;break}}else if(!(b===S||o(b,S,n,r,i))){y=!1;break}}return i.delete(e),i.delete(t),y}function Whe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}function LM(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Khe=1,Xhe=2,Yhe="[object Boolean]",Zhe="[object Date]",Jhe="[object Error]",Qhe="[object Map]",qhe="[object Number]",epe="[object RegExp]",tpe="[object Set]",npe="[object String]",rpe="[object Symbol]",ope="[object ArrayBuffer]",ipe="[object DataView]",I$=Ds?Ds.prototype:void 0,sA=I$?I$.valueOf:void 0;function ape(e,t,n,r,o,i,a){switch(n){case ipe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ope:return!(e.byteLength!=t.byteLength||!i(new pO(e),new pO(t)));case Yhe:case Zhe:case qhe:return OM(+e,+t);case Jhe:return e.name==t.name&&e.message==t.message;case epe:case npe:return e==t+"";case Qhe:var s=Whe;case tpe:var f=r&Khe;if(s||(s=LM),e.size!=t.size&&!f)return!1;var d=a.get(e);if(d)return d==t;r|=Xhe,a.set(e,t);var h=RH(s(e),s(t),r,o,i,a);return a.delete(e),h;case rpe:if(sA)return sA.call(e)==sA.call(t)}return!1}var spe=1,lpe=Object.prototype,upe=lpe.hasOwnProperty;function cpe(e,t,n,r,o,i){var a=n&spe,s=wP(e),f=s.length,d=wP(t),h=d.length;if(f!=h&&!a)return!1;for(var v=f;v--;){var y=s[v];if(!(a?y in t:upe.call(t,y)))return!1}var m=i.get(e),b=i.get(t);if(m&&b)return m==t&&b==e;var S=!0;i.set(e,t),i.set(t,e);for(var O=a;++v<f;){y=s[v];var _=e[y],A=t[y];if(r)var T=a?r(A,_,y,t,e,i):r(_,A,y,e,t,i);if(!(T===void 0?_===A||o(_,A,n,r,i):T)){S=!1;break}O||(O=y=="constructor")}if(S&&!O){var P=e.constructor,x=t.constructor;P!=x&&"constructor"in e&&"constructor"in t&&!(typeof P=="function"&&P instanceof P&&typeof x=="function"&&x instanceof x)&&(S=!1)}return i.delete(e),i.delete(t),S}var fpe=1,D$="[object Arguments]",k$="[object Array]",BS="[object Object]",dpe=Object.prototype,L$=dpe.hasOwnProperty;function hpe(e,t,n,r,o,i){var a=vl(e),s=vl(t),f=a?k$:pb(e),d=s?k$:pb(t);f=f==D$?BS:f,d=d==D$?BS:d;var h=f==BS,v=d==BS,y=f==d;if(y&&hO(e)){if(!hO(t))return!1;a=!0,h=!1}if(y&&!h)return i||(i=new hc),a||gH(e)?RH(e,t,n,r,o,i):ape(e,t,f,n,r,o,i);if(!(n&fpe)){var m=h&&L$.call(e,"__wrapped__"),b=v&&L$.call(t,"__wrapped__");if(m||b){var S=m?e.value():e,O=b?t.value():t;return i||(i=new hc),o(S,O,n,r,i)}}return y?(i||(i=new hc),cpe(e,t,n,r,o,i)):!1}function IH(e,t,n,r,o){return e===t?!0:e==null||t==null||!mc(e)&&!mc(t)?e!==e&&t!==t:hpe(e,t,n,r,IH,o)}function ppe(e,t){return e!=null&&t in Object(e)}function vpe(e,t,n){t=v_(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var a=RM(t[r]);if(!(i=e!=null&&n(e,a)))break;e=e[a]}return i||++r!=o?i:(o=e==null?0:e.length,!!o&&TM(o)&&wM(a,o)&&(vl(e)||PM(e)))}function ype(e,t){return e!=null&&vpe(e,t,ppe)}var mpe=function(){return El.Date.now()};const lA=mpe;var gpe="Expected a function",bpe=Math.max,Epe=Math.min;function Sa(e,t,n){var r,o,i,a,s,f,d=0,h=!1,v=!1,y=!0;if(typeof e!="function")throw new TypeError(gpe);t=c$(t)||0,yl(n)&&(h=!!n.leading,v="maxWait"in n,i=v?bpe(c$(n.maxWait)||0,t):i,y="trailing"in n?!!n.trailing:y);function m(N){var L=r,j=o;return r=o=void 0,d=N,a=e.apply(j,L),a}function b(N){return d=N,s=setTimeout(_,t),h?m(N):a}function S(N){var L=N-f,j=N-d,k=t-L;return v?Epe(k,i-j):k}function O(N){var L=N-f,j=N-d;return f===void 0||L>=t||L<0||v&&j>=i}function _(){var N=lA();if(O(N))return A(N);s=setTimeout(_,S(N))}function A(N){return s=void 0,y&&r?m(N):(r=o=void 0,a)}function T(){s!==void 0&&clearTimeout(s),d=0,r=f=o=s=void 0}function P(){return s===void 0?a:A(lA())}function x(){var N=lA(),L=O(N);if(r=arguments,o=this,f=N,L){if(s===void 0)return b(f);if(v)return clearTimeout(s),s=setTimeout(_,t),m(f)}return s===void 0&&(s=setTimeout(_,t)),a}return x.cancel=T,x.flush=P,x}function Spe(e){return mc(e)&&CM(e)}function wpe(e,t,n){for(var r=-1,o=e==null?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}var Ope=1/0;function _pe(e){var t=e==null?0:e.length;return t?y_(e,Ope):[]}function DH(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r}function Ns(e,t){return IH(e,t)}function $a(e){return e==null}function kH(e,t,n,r){if(!yl(e))return e;t=v_(t,e);for(var o=-1,i=t.length,a=i-1,s=e;s!=null&&++o<i;){var f=RM(t[o]),d=n;if(f==="__proto__"||f==="constructor"||f==="prototype")return e;if(o!=a){var h=s[f];d=r?r(h,f,s):void 0,d===void 0&&(d=yl(h)?h:wM(t[o+1])?[]:{})}_M(s,f,d),s=s[f]}return e}function Tpe(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=SH(e,a);n(s,a)&&kH(i,v_(a,e),s)}return i}function Cpe(e,t){return Tpe(e,t,function(n,r){return ype(e,r)})}var Ape=qfe(function(e,t){return e==null?{}:Cpe(e,t)});const zf=Ape;function Ppe(e,t,n){return e==null?e:kH(e,t,n)}var xpe="Expected a function";function xh(e,t,n){var r=!0,o=!0;if(typeof e!="function")throw new TypeError(xpe);return yl(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Sa(e,t,{leading:r,maxWait:t,trailing:o})}var Mpe=1/0,Npe=Xv&&1/LM(new Xv([,-0]))[1]==Mpe?function(e){return new Xv(e)}:Zue;const Rpe=Npe;var Ipe=200;function Dpe(e,t,n){var r=-1,o=dce,i=e.length,a=!0,s=[],f=s;if(n)a=!1,o=wpe;else if(i>=Ipe){var d=t?null:Rpe(e);if(d)return LM(d);a=!1,o=NH,f=new vb}else f=t?[]:s;e:for(;++r<i;){var h=e[r],v=t?t(h):h;if(h=n||h!==0?h:0,a&&v===v){for(var y=f.length;y--;)if(f[y]===v)continue e;t&&f.push(v),s.push(h)}else o(f,v,n)||(f!==s&&f.push(v),s.push(h))}return s}var kpe=mce(function(e){return Dpe(y_(e,1,Spe,!0))});const uA=kpe,Lpe='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',$pe=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,$$=e=>Array.from(e.querySelectorAll(Lpe)).filter(t=>Bpe(t)&&$pe(t)),Bpe=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},Ow=function(e,t,...n){let r;t.includes("mouse")||t.includes("click")?r="MouseEvents":t.includes("key")?r="KeyboardEvent":r="HTMLEvents";const o=document.createEvent(r);return o.initEvent(t,...n),e.dispatchEvent(o),e},LH=e=>!e.getAttribute("aria-owns"),$H=(e,t,n)=>{const{parentNode:r}=e;if(!r)return null;const o=r.querySelectorAll(n),i=Array.prototype.indexOf.call(o,e);return o[i+t]||null},_w=e=>{!e||(e.focus(),!LH(e)&&e.click())},Io=(e,t,{checkForDefaultPrevented:n=!0}={})=>o=>{const i=e==null?void 0:e(o);if(n===!1||!i)return t==null?void 0:t(o)},B$=e=>t=>t.pointerType==="mouse"?e(t):void 0;var jpe=Object.defineProperty,Fpe=Object.defineProperties,zpe=Object.getOwnPropertyDescriptors,j$=Object.getOwnPropertySymbols,Upe=Object.prototype.hasOwnProperty,Vpe=Object.prototype.propertyIsEnumerable,F$=(e,t,n)=>t in e?jpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hpe=(e,t)=>{for(var n in t||(t={}))Upe.call(t,n)&&F$(e,n,t[n]);if(j$)for(var n of j$(t))Vpe.call(t,n)&&F$(e,n,t[n]);return e},Gpe=(e,t)=>Fpe(e,zpe(t));function z$(e,t){var n;const r=bo();return ns(()=>{r.value=e()},Gpe(Hpe({},t),{flush:(n=t==null?void 0:t.flush)!=null?n:"sync"})),Ub(r)}var U$;const Rr=typeof window<"u",Wpe=e=>typeof e<"u",_i=e=>typeof e=="boolean",Kpe=e=>typeof e=="function",Jn=e=>typeof e=="number",Xpe=e=>typeof e=="string",cA=()=>{};Rr&&((U$=window==null?void 0:window.navigator)==null?void 0:U$.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function yb(e){return typeof e=="function"?e():E(e)}function BH(e,t){function n(...r){e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})}return n}function Ype(e,t={}){let n,r;return i=>{const a=yb(e),s=yb(t.maxWait);if(n&&clearTimeout(n),a<=0||s!==void 0&&s<=0)return r&&(clearTimeout(r),r=null),i();s&&!r&&(r=setTimeout(()=>{n&&clearTimeout(n),r=null,i()},s)),n=setTimeout(()=>{r&&clearTimeout(r),r=null,i()},a)}}function Zpe(e,t=!0,n=!0){let r=0,o,i=!0;const a=()=>{o&&(clearTimeout(o),o=void 0)};return f=>{const d=yb(e),h=Date.now()-r;if(a(),d<=0)return r=Date.now(),f();h>d&&(n||!i)?(r=Date.now(),f()):t&&(o=setTimeout(()=>{r=Date.now(),i=!0,a(),f()},d)),!n&&!o&&(o=setTimeout(()=>i=!0,d)),i=!1}}function Jpe(e){return e}function m_(e){return Gae()?(nV(e),!0):!1}function Qpe(e,t=200,n={}){return BH(Ype(t,n),e)}function qpe(e,t=200,n={}){if(t<=0)return e;const r=re(e.value),o=Qpe(()=>{r.value=e.value},t,n);return At(e,()=>o()),r}function jH(e,t=200,n=!1,r=!0){return BH(Zpe(t,n,r),e)}function $M(e,t=!0){cr()?ir(e):t?e():bn(e)}function $h(e,t,n={}){const{immediate:r=!0}=n,o=re(!1);let i=null;function a(){i&&(clearTimeout(i),i=null)}function s(){o.value=!1,a()}function f(...d){a(),o.value=!0,i=setTimeout(()=>{o.value=!1,i=null,e(...d)},yb(t))}return r&&(o.value=!0,Rr&&f()),m_(s),{isPending:o,start:f,stop:s}}function Ps(e){var t;const n=yb(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Kb=Rr?window:void 0,eve=Rr?window.document:void 0;function Eo(...e){let t,n,r,o;if(Xpe(e[0])?([n,r,o]=e,t=Kb):[t,n,r,o]=e,!t)return cA;let i=cA;const a=At(()=>Ps(t),f=>{i(),f&&(f.addEventListener(n,r,o),i=()=>{f.removeEventListener(n,r,o),i=cA})},{immediate:!0,flush:"post"}),s=()=>{a(),i()};return m_(s),s}function BM(e,t,n={}){const{window:r=Kb,ignore:o,capture:i=!0,detectIframe:a=!1}=n;if(!r)return;const s=re(!0);let f;const d=m=>{r.clearTimeout(f);const b=Ps(e);!b||b===m.target||m.composedPath().includes(b)||!s.value||t(m)},h=m=>o&&o.some(b=>{const S=Ps(b);return S&&(m.target===S||m.composedPath().includes(S))}),v=[Eo(r,"click",d,{passive:!0,capture:i}),Eo(r,"pointerdown",m=>{const b=Ps(e);s.value=!!b&&!m.composedPath().includes(b)&&!h(m)},{passive:!0}),Eo(r,"pointerup",m=>{if(m.button===0){const b=m.composedPath();m.composedPath=()=>b,f=r.setTimeout(()=>d(m),50)}},{passive:!0}),a&&Eo(r,"blur",m=>{var b;const S=Ps(e);((b=document.activeElement)==null?void 0:b.tagName)==="IFRAME"&&!(S!=null&&S.contains(document.activeElement))&&t(m)})].filter(Boolean);return()=>v.forEach(m=>m())}function tve(e,t=!1){const n=re(),r=()=>n.value=Boolean(e());return r(),$M(r,t),n}function nve(e){return JSON.parse(JSON.stringify(e))}const TP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},CP="__vueuse_ssr_handlers__";TP[CP]=TP[CP]||{};TP[CP];function rve({document:e=eve}={}){if(!e)return re("visible");const t=re(e.visibilityState);return Eo(e,"visibilitychange",()=>{t.value=e.visibilityState}),t}var V$=Object.getOwnPropertySymbols,ove=Object.prototype.hasOwnProperty,ive=Object.prototype.propertyIsEnumerable,ave=(e,t)=>{var n={};for(var r in e)ove.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&V$)for(var r of V$(e))t.indexOf(r)<0&&ive.call(e,r)&&(n[r]=e[r]);return n};function oa(e,t,n={}){const r=n,{window:o=Kb}=r,i=ave(r,["window"]);let a;const s=tve(()=>o&&"ResizeObserver"in o),f=()=>{a&&(a.disconnect(),a=void 0)},d=At(()=>Ps(e),v=>{f(),s.value&&o&&v&&(a=new ResizeObserver(t),a.observe(v,i))},{immediate:!0,flush:"post"}),h=()=>{f(),d()};return m_(h),{isSupported:s,stop:h}}function H$(e,t={}){const{reset:n=!0,windowResize:r=!0,windowScroll:o=!0,immediate:i=!0}=t,a=re(0),s=re(0),f=re(0),d=re(0),h=re(0),v=re(0),y=re(0),m=re(0);function b(){const S=Ps(e);if(!S){n&&(a.value=0,s.value=0,f.value=0,d.value=0,h.value=0,v.value=0,y.value=0,m.value=0);return}const O=S.getBoundingClientRect();a.value=O.height,s.value=O.bottom,f.value=O.left,d.value=O.right,h.value=O.top,v.value=O.width,y.value=O.x,m.value=O.y}return oa(e,b),At(()=>Ps(e),S=>!S&&b()),o&&Eo("scroll",b,{passive:!0}),r&&Eo("resize",b,{passive:!0}),$M(()=>{i&&b()}),{height:a,bottom:s,left:f,right:d,top:h,width:v,x:y,y:m,update:b}}var G$;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(G$||(G$={}));var sve=Object.defineProperty,W$=Object.getOwnPropertySymbols,lve=Object.prototype.hasOwnProperty,uve=Object.prototype.propertyIsEnumerable,K$=(e,t,n)=>t in e?sve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cve=(e,t)=>{for(var n in t||(t={}))lve.call(t,n)&&K$(e,n,t[n]);if(W$)for(var n of W$(t))uve.call(t,n)&&K$(e,n,t[n]);return e};const fve={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};cve({linear:Jpe},fve);function dve(e,t,n,r={}){var o,i,a;const{clone:s=!1,passive:f=!1,eventName:d,deep:h=!1,defaultValue:v}=r,y=cr(),m=n||(y==null?void 0:y.emit)||((o=y==null?void 0:y.$emit)==null?void 0:o.bind(y))||((a=(i=y==null?void 0:y.proxy)==null?void 0:i.$emit)==null?void 0:a.bind(y==null?void 0:y.proxy));let b=d;t||(t="modelValue"),b=d||b||`update:${t.toString()}`;const S=_=>s?Kpe(s)?s(_):nve(_):_,O=()=>Wpe(e[t])?S(e[t]):v;if(f){const _=O(),A=re(_);return At(()=>e[t],T=>A.value=S(T)),At(A,T=>{(T!==e[t]||h)&&m(b,T)},{deep:h}),A}else return G({get(){return O()},set(_){m(b,_)}})}function hve({window:e=Kb}={}){if(!e)return re(!1);const t=re(e.document.hasFocus());return Eo(e,"blur",()=>{t.value=!1}),Eo(e,"focus",()=>{t.value=!0}),t}function pve(e={}){const{window:t=Kb,initialWidth:n=1/0,initialHeight:r=1/0,listenOrientation:o=!0,includeScrollbar:i=!0}=e,a=re(n),s=re(r),f=()=>{t&&(i?(a.value=t.innerWidth,s.value=t.innerHeight):(a.value=t.document.documentElement.clientWidth,s.value=t.document.documentElement.clientHeight))};return f(),$M(f),Eo("resize",f,{passive:!0}),o&&Eo("orientationchange",f,{passive:!0}),{width:a,height:s}}const vve=(e,t)=>{if(!Rr||!e||!t)return!1;const n=e.getBoundingClientRect();let r;return t instanceof Element?r=t.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right},X$=e=>{let t=0,n=e;for(;n;)t+=n.offsetTop,n=n.offsetParent;return t},yve=(e,t)=>Math.abs(X$(e)-X$(t)),jM=e=>{let t,n;return e.type==="touchend"?(n=e.changedTouches[0].clientY,t=e.changedTouches[0].clientX):e.type.startsWith("touch")?(n=e.touches[0].clientY,t=e.touches[0].clientX):(n=e.clientY,t=e.clientX),{clientX:t,clientY:n}},Vi=e=>e===void 0,As=e=>!e&&e!==0||Sn(e)&&e.length===0||Er(e)&&!Object.keys(e).length,gc=e=>typeof Element>"u"?!1:e instanceof Element,mve=e=>$a(e),gve=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),sc=e=>zb(e),mb=e=>Object.keys(e),bve=e=>Object.entries(e),Tw=(e,t,n)=>({get value(){return Ao(e,t,n)},set value(r){Ppe(e,t,r)}});class Eve extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function gi(e,t){throw new Eve(`[${e}] ${t}`)}const FH=(e="")=>e.split(" ").filter(t=>!!t.trim()),pl=(e,t)=>{if(!e||!t)return!1;if(t.includes(" "))throw new Error("className should not contain space.");return e.classList.contains(t)},su=(e,t)=>{!e||!t.trim()||e.classList.add(...FH(t))},Ba=(e,t)=>{!e||!t.trim()||e.classList.remove(...FH(t))},lc=(e,t)=>{var n;if(!Rr||!e||!t)return"";let r=Is(t);r==="float"&&(r="cssFloat");try{const o=e.style[r];if(o)return o;const i=(n=document.defaultView)==null?void 0:n.getComputedStyle(e,"");return i?i[r]:""}catch{return e.style[r]}};function yi(e,t="px"){if(!e)return"";if(Kn(e))return e;if(Jn(e))return`${e}${t}`}const Sve=(e,t)=>{if(!Rr)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],r=lc(e,n);return["scroll","auto","overlay"].some(o=>r.includes(o))},FM=(e,t)=>{if(!Rr)return;let n=e;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(Sve(n,t))return n;n=n.parentNode}return n};let jS;const zH=e=>{var t;if(!Rr)return 0;if(jS!==void 0)return jS;const n=document.createElement("div");n.className=`${e}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const r=n.offsetWidth;n.style.overflow="scroll";const o=document.createElement("div");o.style.width="100%",n.appendChild(o);const i=o.offsetWidth;return(t=n.parentNode)==null||t.removeChild(n),jS=r-i,jS};function UH(e,t){if(!Rr)return;if(!t){e.scrollTop=0;return}const n=[];let r=t.offsetParent;for(;r!==null&&e!==r&&e.contains(r);)n.push(r),r=r.offsetParent;const o=t.offsetTop+n.reduce((f,d)=>f+d.offsetTop,0),i=o+t.offsetHeight,a=e.scrollTop,s=a+e.clientHeight;o<a?e.scrollTop=o:i>s&&(e.scrollTop=i-e.clientHeight)}/*! Element Plus Icons Vue v2.0.9 */var Vr=(e,t)=>{let n=e.__vccOpts||e;for(let[r,o]of t)n[r]=o;return n},wve={name:"ArrowDown"},Ove={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_ve=ve("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),Tve=[_ve];function Cve(e,t,n,r,o,i){return H(),le("svg",Ove,Tve)}var od=Vr(wve,[["render",Cve],["__file","arrow-down.vue"]]),Ave={name:"ArrowLeft"},Pve={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},xve=ve("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),Mve=[xve];function Nve(e,t,n,r,o,i){return H(),le("svg",Pve,Mve)}var Zf=Vr(Ave,[["render",Nve],["__file","arrow-left.vue"]]),Rve={name:"ArrowRight"},Ive={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Dve=ve("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),kve=[Dve];function Lve(e,t,n,r,o,i){return H(),le("svg",Ive,kve)}var Ea=Vr(Rve,[["render",Lve],["__file","arrow-right.vue"]]),$ve={name:"ArrowUp"},Bve={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},jve=ve("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),Fve=[jve];function zve(e,t,n,r,o,i){return H(),le("svg",Bve,Fve)}var g_=Vr($ve,[["render",zve],["__file","arrow-up.vue"]]),Uve={name:"Back"},Vve={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Hve=ve("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64z"},null,-1),Gve=ve("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312L237.248 512z"},null,-1),Wve=[Hve,Gve];function Kve(e,t,n,r,o,i){return H(),le("svg",Vve,Wve)}var Xve=Vr(Uve,[["render",Kve],["__file","back.vue"]]),Yve={name:"Calendar"},Zve={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Jve=ve("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"},null,-1),Qve=[Jve];function qve(e,t,n,r,o,i){return H(),le("svg",Zve,Qve)}var eye=Vr(Yve,[["render",qve],["__file","calendar.vue"]]),tye={name:"CaretRight"},nye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},rye=ve("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"},null,-1),oye=[rye];function iye(e,t,n,r,o,i){return H(),le("svg",nye,oye)}var VH=Vr(tye,[["render",iye],["__file","caret-right.vue"]]),aye={name:"CaretTop"},sye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},lye=ve("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"},null,-1),uye=[lye];function cye(e,t,n,r,o,i){return H(),le("svg",sye,uye)}var fye=Vr(aye,[["render",cye],["__file","caret-top.vue"]]),dye={name:"Check"},hye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},pye=ve("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),vye=[pye];function yye(e,t,n,r,o,i){return H(),le("svg",hye,vye)}var Xb=Vr(dye,[["render",yye],["__file","check.vue"]]),mye={name:"CircleCheckFilled"},gye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},bye=ve("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),Eye=[bye];function Sye(e,t,n,r,o,i){return H(),le("svg",gye,Eye)}var wye=Vr(mye,[["render",Sye],["__file","circle-check-filled.vue"]]),Oye={name:"CircleCheck"},_ye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Tye=ve("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),Cye=ve("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),Aye=[Tye,Cye];function Pye(e,t,n,r,o,i){return H(),le("svg",_ye,Aye)}var zM=Vr(Oye,[["render",Pye],["__file","circle-check.vue"]]),xye={name:"CircleCloseFilled"},Mye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Nye=ve("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),Rye=[Nye];function Iye(e,t,n,r,o,i){return H(),le("svg",Mye,Rye)}var UM=Vr(xye,[["render",Iye],["__file","circle-close-filled.vue"]]),Dye={name:"CircleClose"},kye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Lye=ve("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),$ye=ve("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),Bye=[Lye,$ye];function jye(e,t,n,r,o,i){return H(),le("svg",kye,Bye)}var id=Vr(Dye,[["render",jye],["__file","circle-close.vue"]]),Fye={name:"Clock"},zye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Uye=ve("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),Vye=ve("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1),Hye=ve("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32z"},null,-1),Gye=[Uye,Vye,Hye];function Wye(e,t,n,r,o,i){return H(),le("svg",zye,Gye)}var HH=Vr(Fye,[["render",Wye],["__file","clock.vue"]]),Kye={name:"Close"},Xye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Yye=ve("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),Zye=[Yye];function Jye(e,t,n,r,o,i){return H(),le("svg",Xye,Zye)}var ml=Vr(Kye,[["render",Jye],["__file","close.vue"]]),Qye={name:"DArrowLeft"},qye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},eme=ve("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"},null,-1),tme=[eme];function nme(e,t,n,r,o,i){return H(),le("svg",qye,tme)}var fy=Vr(Qye,[["render",nme],["__file","d-arrow-left.vue"]]),rme={name:"DArrowRight"},ome={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ime=ve("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688zm-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"},null,-1),ame=[ime];function sme(e,t,n,r,o,i){return H(),le("svg",ome,ame)}var dy=Vr(rme,[["render",sme],["__file","d-arrow-right.vue"]]),lme={name:"Delete"},ume={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},cme=ve("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1),fme=[cme];function dme(e,t,n,r,o,i){return H(),le("svg",ume,fme)}var hme=Vr(lme,[["render",dme],["__file","delete.vue"]]),pme={name:"Document"},vme={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},yme=ve("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"},null,-1),mme=[yme];function gme(e,t,n,r,o,i){return H(),le("svg",vme,mme)}var bme=Vr(pme,[["render",gme],["__file","document.vue"]]),Eme={name:"FullScreen"},Sme={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},wme=ve("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64l-192 .192zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64v-.064z"},null,-1),Ome=[wme];function _me(e,t,n,r,o,i){return H(),le("svg",Sme,Ome)}var Tme=Vr(Eme,[["render",_me],["__file","full-screen.vue"]]),Cme={name:"Hide"},Ame={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Pme=ve("path",{d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z",fill:"currentColor"},null,-1),xme=ve("path",{d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z",fill:"currentColor"},null,-1),Mme=[Pme,xme];function Nme(e,t,n,r,o,i){return H(),le("svg",Ame,Mme)}var Rme=Vr(Cme,[["render",Nme],["__file","hide.vue"]]),Ime={name:"InfoFilled"},Dme={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},kme=ve("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),Lme=[kme];function $me(e,t,n,r,o,i){return H(),le("svg",Dme,Lme)}var VM=Vr(Ime,[["render",$me],["__file","info-filled.vue"]]),Bme={name:"Loading"},jme={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Fme=ve("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),zme=[Fme];function Ume(e,t,n,r,o,i){return H(),le("svg",jme,zme)}var ad=Vr(Bme,[["render",Ume],["__file","loading.vue"]]),Vme={name:"Minus"},Hme={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Gme=ve("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64z"},null,-1),Wme=[Gme];function Kme(e,t,n,r,o,i){return H(),le("svg",Hme,Wme)}var Xme=Vr(Vme,[["render",Kme],["__file","minus.vue"]]),Yme={name:"MoreFilled"},Zme={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Jme=ve("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224z"},null,-1),Qme=[Jme];function qme(e,t,n,r,o,i){return H(),le("svg",Zme,Qme)}var Y$=Vr(Yme,[["render",qme],["__file","more-filled.vue"]]),ege={name:"More"},tge={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},nge=ve("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"},null,-1),rge=[nge];function oge(e,t,n,r,o,i){return H(),le("svg",tge,rge)}var ige=Vr(ege,[["render",oge],["__file","more.vue"]]),age={name:"PictureFilled"},sge={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},lge=ve("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32H96zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112zM256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384z"},null,-1),uge=[lge];function cge(e,t,n,r,o,i){return H(),le("svg",sge,uge)}var fge=Vr(age,[["render",cge],["__file","picture-filled.vue"]]),dge={name:"Plus"},hge={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},pge=ve("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1),vge=[pge];function yge(e,t,n,r,o,i){return H(),le("svg",hge,vge)}var GH=Vr(dge,[["render",yge],["__file","plus.vue"]]),mge={name:"QuestionFilled"},gge={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},bge=ve("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"},null,-1),Ege=[bge];function Sge(e,t,n,r,o,i){return H(),le("svg",gge,Ege)}var wge=Vr(mge,[["render",Sge],["__file","question-filled.vue"]]),Oge={name:"RefreshLeft"},_ge={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Tge=ve("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"},null,-1),Cge=[Tge];function Age(e,t,n,r,o,i){return H(),le("svg",_ge,Cge)}var Pge=Vr(Oge,[["render",Age],["__file","refresh-left.vue"]]),xge={name:"RefreshRight"},Mge={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Nge=ve("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"},null,-1),Rge=[Nge];function Ige(e,t,n,r,o,i){return H(),le("svg",Mge,Rge)}var Dge=Vr(xge,[["render",Ige],["__file","refresh-right.vue"]]),kge={name:"ScaleToOriginal"},Lge={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},$ge=ve("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zM512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412zM512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512z"},null,-1),Bge=[$ge];function jge(e,t,n,r,o,i){return H(),le("svg",Lge,Bge)}var Fge=Vr(kge,[["render",jge],["__file","scale-to-original.vue"]]),zge={name:"Search"},Uge={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Vge=ve("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704z"},null,-1),Hge=[Vge];function Gge(e,t,n,r,o,i){return H(),le("svg",Uge,Hge)}var Wge=Vr(zge,[["render",Gge],["__file","search.vue"]]),Kge={name:"SortDown"},Xge={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Yge=ve("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0z"},null,-1),Zge=[Yge];function Jge(e,t,n,r,o,i){return H(),le("svg",Xge,Zge)}var Qge=Vr(Kge,[["render",Jge],["__file","sort-down.vue"]]),qge={name:"SortUp"},ebe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},tbe=ve("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248z"},null,-1),nbe=[tbe];function rbe(e,t,n,r,o,i){return H(),le("svg",ebe,nbe)}var obe=Vr(qge,[["render",rbe],["__file","sort-up.vue"]]),ibe={name:"StarFilled"},abe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},sbe=ve("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"},null,-1),lbe=[sbe];function ube(e,t,n,r,o,i){return H(),le("svg",abe,lbe)}var FS=Vr(ibe,[["render",ube],["__file","star-filled.vue"]]),cbe={name:"Star"},fbe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},dbe=ve("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72L512 747.84zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"},null,-1),hbe=[dbe];function pbe(e,t,n,r,o,i){return H(),le("svg",fbe,hbe)}var vbe=Vr(cbe,[["render",pbe],["__file","star.vue"]]),ybe={name:"SuccessFilled"},mbe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},gbe=ve("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),bbe=[gbe];function Ebe(e,t,n,r,o,i){return H(),le("svg",mbe,bbe)}var WH=Vr(ybe,[["render",Ebe],["__file","success-filled.vue"]]),Sbe={name:"View"},wbe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Obe=ve("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),_be=[Obe];function Tbe(e,t,n,r,o,i){return H(),le("svg",wbe,_be)}var Cbe=Vr(Sbe,[["render",Tbe],["__file","view.vue"]]),Abe={name:"WarningFilled"},Pbe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},xbe=ve("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),Mbe=[xbe];function Nbe(e,t,n,r,o,i){return H(),le("svg",Pbe,Mbe)}var b_=Vr(Abe,[["render",Nbe],["__file","warning-filled.vue"]]),Rbe={name:"ZoomIn"},Ibe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Dbe=ve("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zm-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96z"},null,-1),kbe=[Dbe];function Lbe(e,t,n,r,o,i){return H(),le("svg",Ibe,kbe)}var KH=Vr(Rbe,[["render",Lbe],["__file","zoom-in.vue"]]),$be={name:"ZoomOut"},Bbe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},jbe=ve("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zM352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),Fbe=[jbe];function zbe(e,t,n,r,o,i){return H(),le("svg",Bbe,Fbe)}var Ube=Vr($be,[["render",zbe],["__file","zoom-out.vue"]]);const XH="__epPropKey",ot=e=>e,Vbe=e=>Er(e)&&!!e[XH],Sl=(e,t)=>{if(!Er(e)||Vbe(e))return e;const{values:n,required:r,default:o,type:i,validator:a}=e,f={type:i,required:!!r,validator:n||a?d=>{let h=!1,v=[];if(n&&(v=Array.from(n),xr(e,"default")&&v.push(o),h||(h=v.includes(d))),a&&(h||(h=a(d))),!h&&v.length>0){const y=[...new Set(v)].map(m=>JSON.stringify(m)).join(", ");Sse(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${y}], got value ${JSON.stringify(d)}.`)}return h}:void 0,[XH]:!0};return xr(e,"default")&&(f.default=o),f},Kt=e=>DH(Object.entries(e).map(([t,n])=>[t,Sl(n,t)])),po=ot([String,Object,Function]),YH={Close:ml},HM={Close:ml,SuccessFilled:WH,InfoFilled:VM,WarningFilled:b_,CircleCloseFilled:UM},Jf={success:WH,warning:b_,error:UM,info:VM},ZH={validating:ad,success:zM,error:id},fr=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(t!=null?t:{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},JH=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),Hbe=(e,t)=>(e.install=n=>{n.directive(t,e)},e),ko=e=>(e.install=to,e),E_=(...e)=>t=>{e.forEach(n=>{Wn(n)?n(t):n.value=t})},Mn={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},Gbe=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],fA=["sun","mon","tue","wed","thu","fri","sat"],hr="update:modelValue",Po="change",ks="input",Z$=Symbol("INSTALLED_KEY"),Qh=["","default","small","large"],Wbe={large:40,default:32,small:24},Kbe=e=>Wbe[e||"default"],qh=e=>["",...Qh].includes(e);var Ts=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(Ts||{});function AP(e){return Ho(e)&&e.type===wn}function Xbe(e){return Ho(e)&&e.type===ba}function Ybe(e){return Ho(e)&&!AP(e)&&!Xbe(e)}const Zbe=e=>{if(!Ho(e))return{};const t=e.props||{},n=(Ho(e.type)?e.type.props:void 0)||{},r={};return Object.keys(n).forEach(o=>{xr(n[o],"default")&&(r[o]=n[o].default)}),Object.keys(t).forEach(o=>{r[Is(o)]=t[o]}),r},Jbe=e=>{if(!Sn(e)||e.length>1)throw new Error("expect to receive a single Vue element child");return e[0]},GM=e=>{const t=Sn(e)?e:[e],n=[];return t.forEach(r=>{Sn(r.children)?n.push(...GM(r.children)):n.push(r)}),n},J$=e=>e**3,Qbe=e=>e<.5?J$(e*2)/2:1-J$((1-e)*2)/2,Q$=e=>[...new Set(e)],pc=e=>!e&&e!==0?[]:Array.isArray(e)?e:[e],WM=()=>Rr&&/firefox/i.test(window.navigator.userAgent),S_=e=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(e),KM=e=>Rr?window.requestAnimationFrame(e):setTimeout(e,16),XM=e=>Rr?window.cancelAnimationFrame(e):clearTimeout(e),Yb=()=>Math.floor(Math.random()*1e4),_o=e=>e,qbe=["class","style"],e0e=/^on[A-Z]/,YM=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,r=G(()=>((n==null?void 0:n.value)||[]).concat(qbe)),o=cr();return G(o?()=>{var i;return DH(Object.entries((i=o.proxy)==null?void 0:i.$attrs).filter(([a])=>!r.value.includes(a)&&!(t&&e0e.test(a))))}:()=>({}))},QH=Symbol("breadcrumbKey"),qH=Symbol("buttonGroupContextKey"),eG=Symbol("carouselContextKey"),tG=Symbol("collapseContextKey"),nG=Symbol(),rG=Symbol("dialogInjectionKey"),ep=Symbol("formContextKey"),du=Symbol("formItemContextKey"),oG=Symbol("elPaginationKey"),iG=Symbol("radioGroupKey"),aG=Symbol("rowContextKey"),sG=Symbol("scrollbarContextKey"),lG=Symbol("sliderContextKey"),w_=Symbol("tabsRootContextKey"),uG=Symbol("uploadContextKey"),ZM=Symbol("popper"),cG=Symbol("popperContent"),O_=Symbol("tooltipV2"),fG=Symbol("tooltipV2Content"),dA="tooltip_v2.open",JM=Symbol(),dG=e=>{const t=cr();return G(()=>{var n,r;return(r=((n=t.proxy)==null?void 0:n.$props)[e])!=null?r:void 0})},vO=re();function Cc(e,t=void 0){const n=cr()?Cn(nG,vO):vO;return e?G(()=>{var r,o;return(o=(r=n.value)==null?void 0:r[e])!=null?o:t}):n}const hG=(e,t,n=!1)=>{var r;const o=!!cr(),i=o?Cc():void 0,a=(r=t==null?void 0:t.provide)!=null?r:o?Sr:void 0;if(!a)return;const s=G(()=>{const f=E(e);return i!=null&&i.value?t0e(i.value,f):f});return a(nG,s),(n||!vO.value)&&(vO.value=s.value),s},t0e=(e,t)=>{var n;const r=[...new Set([...mb(e),...mb(t)])],o={};for(const i of r)o[i]=(n=t[i])!=null?n:e[i];return o},os=Sl({type:String,values:Qh,required:!1}),oi=(e,t={})=>{const n=re(void 0),r=t.prop?n:dG("size"),o=t.global?n:Cc("size"),i=t.form?{size:void 0}:Cn(ep,void 0),a=t.formItem?{size:void 0}:Cn(du,void 0);return G(()=>r.value||E(e)||(a==null?void 0:a.size)||(i==null?void 0:i.size)||o.value||"")},Ac=e=>{const t=dG("disabled"),n=Cn(ep,void 0);return G(()=>t.value||E(e)||(n==null?void 0:n.disabled)||!1)},Bh=({from:e,replacement:t,scope:n,version:r,ref:o,type:i="API"},a)=>{At(()=>E(a),s=>{},{immediate:!0})},pG=(e,t,n)=>{let r={offsetX:0,offsetY:0};const o=s=>{const f=s.clientX,d=s.clientY,{offsetX:h,offsetY:v}=r,y=e.value.getBoundingClientRect(),m=y.left,b=y.top,S=y.width,O=y.height,_=document.documentElement.clientWidth,A=document.documentElement.clientHeight,T=-m+h,P=-b+v,x=_-m-S+h,N=A-b-O+v,L=k=>{const F=Math.min(Math.max(h+k.clientX-f,T),x),z=Math.min(Math.max(v+k.clientY-d,P),N);r={offsetX:F,offsetY:z},e.value.style.transform=`translate(${yi(F)}, ${yi(z)})`},j=()=>{document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",j)};document.addEventListener("mousemove",L),document.addEventListener("mouseup",j)},i=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",o)},a=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",o)};ir(()=>{ns(()=>{n.value?i():a()})}),Go(()=>{a()})},n0e=e=>({focus:()=>{var t,n;(n=(t=e.value)==null?void 0:t.focus)==null||n.call(t)}}),__="el",r0e="is-",nh=(e,t,n,r,o)=>{let i=`${e}-${t}`;return n&&(i+=`-${n}`),r&&(i+=`__${r}`),o&&(i+=`--${o}`),i},wt=e=>{const t=Cc("namespace",__);return{namespace:t,b:(b="")=>nh(t.value,e,b,"",""),e:b=>b?nh(t.value,e,"",b,""):"",m:b=>b?nh(t.value,e,"","",b):"",be:(b,S)=>b&&S?nh(t.value,e,b,S,""):"",em:(b,S)=>b&&S?nh(t.value,e,"",b,S):"",bm:(b,S)=>b&&S?nh(t.value,e,b,"",S):"",bem:(b,S,O)=>b&&S&&O?nh(t.value,e,b,S,O):"",is:(b,...S)=>{const O=S.length>=1?S[0]:!0;return b&&O?`${r0e}${b}`:""},cssVar:b=>{const S={};for(const O in b)b[O]&&(S[`--${t.value}-${O}`]=b[O]);return S},cssVarName:b=>`--${t.value}-${b}`,cssVarBlock:b=>{const S={};for(const O in b)b[O]&&(S[`--${t.value}-${e}-${O}`]=b[O]);return S},cssVarBlockName:b=>`--${t.value}-${e}-${b}`}},o0e={prefix:Math.floor(Math.random()*1e4),current:0},i0e=Symbol("elIdInjection"),gl=e=>{const t=Cn(i0e,o0e),n=Cc("namespace",__);return G(()=>E(e)||`${n.value}-id-${t.prefix}-${t.current++}`)},as=()=>{const e=Cn(ep,void 0),t=Cn(du,void 0);return{form:e,formItem:t}},sd=(e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=re(!1)),r||(r=re(!1));const o=re();let i;const a=G(()=>{var s;return!!(!e.label&&t&&t.inputIds&&((s=t.inputIds)==null?void 0:s.length)<=1)});return ir(()=>{i=At([Do(e,"id"),n],([s,f])=>{const d=s!=null?s:f?void 0:gl().value;d!==o.value&&(t!=null&&t.removeInputId&&(o.value&&t.removeInputId(o.value),!(r!=null&&r.value)&&!f&&d&&t.addInputId(d)),o.value=d)},{immediate:!0})}),Yh(()=>{i&&i(),t!=null&&t.removeInputId&&o.value&&t.removeInputId(o.value)}),{isLabeledByFormItem:a,inputId:o}};var a0e={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const s0e=e=>(t,n)=>l0e(t,n,E(e)),l0e=(e,t,n)=>Ao(n,e,e).replace(/\{(\w+)\}/g,(r,o)=>{var i;return`${(i=t==null?void 0:t[o])!=null?i:`{${o}}`}`}),u0e=e=>{const t=G(()=>E(e).name),n=uo(e)?e:re(e);return{lang:t,locale:n,t:s0e(e)}},Hr=()=>{const e=Cc("locale");return u0e(G(()=>e.value||a0e))},vG=e=>{uo(e)||gi("[useLockscreen]","You need to pass a ref param to this function");const t=wt("popup"),n=bV(()=>t.bm("parent","hidden"));if(!Rr||pl(document.body,n.value))return;let r=0,o=!1,i="0";const a=()=>{setTimeout(()=>{Ba(document.body,n.value),o&&(document.body.style.width=i)},200)};At(e,s=>{if(!s){a();return}o=!pl(document.body,n.value),o&&(i=document.body.style.width),r=zH(t.namespace.value);const f=document.documentElement.clientHeight<document.body.scrollHeight,d=lc(document.body,"overflowY");r>0&&(f||d==="scroll")&&o&&(document.body.style.width=`calc(100% - ${r}px)`),su(document.body,n.value)}),nV(()=>a())},c0e=Sl({type:ot(Boolean),default:null}),f0e=Sl({type:ot(Function)}),d0e=e=>{const t=`update:${e}`,n=`onUpdate:${e}`,r=[t],o={[e]:c0e,[n]:f0e};return{useModelToggle:({indicator:a,toggleReason:s,shouldHideWhenRouteChanges:f,shouldProceed:d,onShow:h,onHide:v})=>{const y=cr(),{emit:m}=y,b=y.props,S=G(()=>Wn(b[n])),O=G(()=>b[e]===null),_=L=>{a.value!==!0&&(a.value=!0,s&&(s.value=L),Wn(h)&&h(L))},A=L=>{a.value!==!1&&(a.value=!1,s&&(s.value=L),Wn(v)&&v(L))},T=L=>{if(b.disabled===!0||Wn(d)&&!d())return;const j=S.value&&Rr;j&&m(t,!0),(O.value||!j)&&_(L)},P=L=>{if(b.disabled===!0||!Rr)return;const j=S.value&&Rr;j&&m(t,!1),(O.value||!j)&&A(L)},x=L=>{!_i(L)||(b.disabled&&L?S.value&&m(t,!1):a.value!==L&&(L?_():A()))},N=()=>{a.value?P():T()};return At(()=>b[e],x),f&&y.appContext.config.globalProperties.$route!==void 0&&At(()=>({...y.proxy.$route}),()=>{f.value&&a.value&&P()}),ir(()=>{x(b[e])}),{hide:P,show:T,toggle:N,hasUpdateHandler:S}},useModelToggleProps:o,useModelToggleEmits:r}},h0e=(e,t)=>{let n;At(()=>e.value,r=>{var o,i;r?(n=document.activeElement,uo(t)&&((i=(o=t.value).focus)==null||i.call(o))):n.focus()})},QM=e=>{if(!e)return{onClick:to,onMousedown:to,onMouseup:to};let t=!1,n=!1;return{onClick:a=>{t&&n&&e(a),t=n=!1},onMousedown:a=>{t=a.target===a.currentTarget},onMouseup:a=>{n=a.target===a.currentTarget}}},p0e=(e,t=0)=>{if(t===0)return e;const n=re(!1);let r=0;const o=()=>{r&&clearTimeout(r),r=window.setTimeout(()=>{n.value=e.value},t)};return ir(o),At(()=>e.value,i=>{i?o():n.value=i}),n};function v0e(){let e;const t=(r,o)=>{n(),e=window.setTimeout(r,o)},n=()=>window.clearTimeout(e);return m_(()=>n()),{registerTimeout:t,cancelTimeout:n}}let Pv=[];const q$=e=>{const t=e;t.key===Mn.esc&&Pv.forEach(n=>n(t))},y0e=e=>{ir(()=>{Pv.length===0&&document.addEventListener("keydown",q$),Rr&&Pv.push(e)}),Go(()=>{Pv=Pv.filter(t=>t!==e),Pv.length===0&&Rr&&document.removeEventListener("keydown",q$)})};let e4;const m0e=Cc("namespace",__),yG=`${m0e.value}-popper-container-${Yb()}`,mG=`#${yG}`,g0e=()=>{const e=document.createElement("div");return e.id=yG,document.body.appendChild(e),e},b0e=()=>{i_(()=>{!Rr||(!e4||!document.body.querySelector(mG))&&(e4=g0e())})},E0e=Kt({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200}}),S0e=({showAfter:e,hideAfter:t,open:n,close:r})=>{const{registerTimeout:o}=v0e();return{onOpen:s=>{o(()=>{n(s)},E(e))},onClose:s=>{o(()=>{r(s)},E(t))}}},gG=Symbol("elForwardRef"),w0e=e=>{Sr(gG,{setForwardRef:n=>{e.value=n}})},O0e=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),t4=re(0),Pc=()=>{const e=Cc("zIndex",2e3),t=G(()=>e.value+t4.value);return{initialZIndex:e,currentZIndex:t,nextZIndex:()=>(t4.value++,t.value)}};function qM(e){return e.split("-")[0]}function eN(e){return e.split("-")[1]}function tN(e){return["top","bottom"].includes(qM(e))?"x":"y"}function bG(e){return e==="y"?"height":"width"}function n4(e,t,n){let{reference:r,floating:o}=e;const i=r.x+r.width/2-o.width/2,a=r.y+r.height/2-o.height/2,s=tN(t),f=bG(s),d=r[f]/2-o[f]/2,h=qM(t),v=s==="x";let y;switch(h){case"top":y={x:i,y:r.y-o.height};break;case"bottom":y={x:i,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:a};break;case"left":y={x:r.x-o.width,y:a};break;default:y={x:r.x,y:r.y}}switch(eN(t)){case"start":y[s]-=d*(n&&v?-1:1);break;case"end":y[s]+=d*(n&&v?-1:1);break}return y}const _0e=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,s=await(a.isRTL==null?void 0:a.isRTL(t));let f=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:h}=n4(f,r,s),v=r,y={},m=0;for(let b=0;b<i.length;b++){const{name:S,fn:O}=i[b],{x:_,y:A,data:T,reset:P}=await O({x:d,y:h,initialPlacement:r,placement:v,strategy:o,middlewareData:y,rects:f,platform:a,elements:{reference:e,floating:t}});if(d=_!=null?_:d,h=A!=null?A:h,y={...y,[S]:{...y[S],...T}},P&&m<=50){m++,typeof P=="object"&&(P.placement&&(v=P.placement),P.rects&&(f=P.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):P.rects),{x:d,y:h}=n4(f,v,s)),b=-1;continue}}return{x:d,y:h,placement:v,strategy:o,middlewareData:y}};function T0e(e){return{top:0,right:0,bottom:0,left:0,...e}}function C0e(e){return typeof e!="number"?T0e(e):{top:e,right:e,bottom:e,left:e}}function r4(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}const A0e=Math.min,P0e=Math.max;function x0e(e,t,n){return P0e(e,A0e(t,n))}const M0e=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e!=null?e:{},{x:o,y:i,placement:a,rects:s,platform:f}=t;if(n==null)return{};const d=C0e(r),h={x:o,y:i},v=tN(a),y=eN(a),m=bG(v),b=await f.getDimensions(n),S=v==="y"?"top":"left",O=v==="y"?"bottom":"right",_=s.reference[m]+s.reference[v]-h[v]-s.floating[m],A=h[v]-s.reference[v],T=await(f.getOffsetParent==null?void 0:f.getOffsetParent(n));let P=T?v==="y"?T.clientHeight||0:T.clientWidth||0:0;P===0&&(P=s.floating[m]);const x=_/2-A/2,N=d[S],L=P-b[m]-d[O],j=P/2-b[m]/2+x,k=x0e(N,j,L),M=(y==="start"?d[S]:d[O])>0&&j!==k&&s.reference[m]<=s.floating[m]?j<N?N-j:L-j:0;return{[v]:h[v]-M,data:{[v]:k,centerOffset:j-k}}}});async function N0e(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=qM(n),s=eN(n),f=tN(n)==="x",d=["left","top"].includes(a)?-1:1,h=i&&f?-1:1,v=typeof t=="function"?t(e):t;let{mainAxis:y,crossAxis:m,alignmentAxis:b}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...v};return s&&typeof b=="number"&&(m=s==="end"?b*-1:b),f?{x:m*h,y:y*d}:{x:y*d,y:m*h}}const R0e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await N0e(t,e);return{x:n+o.x,y:r+o.y,data:o}}}};function EG(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function xc(e){if(e==null)return window;if(!EG(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function Qf(e){return xc(e).getComputedStyle(e)}function bc(e){return EG(e)?"":e?(e.nodeName||"").toLowerCase():""}function SG(){const e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function hu(e){return e instanceof xc(e).HTMLElement}function hy(e){return e instanceof xc(e).Element}function I0e(e){return e instanceof xc(e).Node}function yO(e){if(typeof ShadowRoot>"u")return!1;const t=xc(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function T_(e){const{overflow:t,overflowX:n,overflowY:r}=Qf(e);return/auto|scroll|overlay|hidden/.test(t+r+n)}function D0e(e){return["table","td","th"].includes(bc(e))}function wG(e){const t=/firefox/i.test(SG()),n=Qf(e);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||t&&n.willChange==="filter"||t&&(n.filter?n.filter!=="none":!1)}function OG(){return!/^((?!chrome|android).)*safari/i.test(SG())}const o4=Math.min,Ug=Math.max,mO=Math.round;function jh(e,t,n){var r,o,i,a;t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect();let f=1,d=1;t&&hu(e)&&(f=e.offsetWidth>0&&mO(s.width)/e.offsetWidth||1,d=e.offsetHeight>0&&mO(s.height)/e.offsetHeight||1);const h=hy(e)?xc(e):window,v=!OG()&&n,y=(s.left+(v&&(r=(o=h.visualViewport)==null?void 0:o.offsetLeft)!=null?r:0))/f,m=(s.top+(v&&(i=(a=h.visualViewport)==null?void 0:a.offsetTop)!=null?i:0))/d,b=s.width/f,S=s.height/d;return{width:b,height:S,top:m,right:y+b,bottom:m+S,left:y,x:y,y:m}}function ld(e){return((I0e(e)?e.ownerDocument:e.document)||window.document).documentElement}function C_(e){return hy(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function _G(e){return jh(ld(e)).left+C_(e).scrollLeft}function k0e(e){const t=jh(e);return mO(t.width)!==e.offsetWidth||mO(t.height)!==e.offsetHeight}function L0e(e,t,n){const r=hu(t),o=ld(t),i=jh(e,r&&k0e(t),n==="fixed");let a={scrollLeft:0,scrollTop:0};const s={x:0,y:0};if(r||!r&&n!=="fixed")if((bc(t)!=="body"||T_(o))&&(a=C_(t)),hu(t)){const f=jh(t,!0);s.x=f.x+t.clientLeft,s.y=f.y+t.clientTop}else o&&(s.x=_G(o));return{x:i.left+a.scrollLeft-s.x,y:i.top+a.scrollTop-s.y,width:i.width,height:i.height}}function TG(e){return bc(e)==="html"?e:e.assignedSlot||e.parentNode||(yO(e)?e.host:null)||ld(e)}function i4(e){return!hu(e)||Qf(e).position==="fixed"?null:e.offsetParent}function $0e(e){let t=TG(e);for(yO(t)&&(t=t.host);hu(t)&&!["html","body"].includes(bc(t));){if(wG(t))return t;{const n=t.parentNode;t=yO(n)?n.host:n}}return null}function PP(e){const t=xc(e);let n=i4(e);for(;n&&D0e(n)&&Qf(n).position==="static";)n=i4(n);return n&&(bc(n)==="html"||bc(n)==="body"&&Qf(n).position==="static"&&!wG(n))?t:n||$0e(e)||t}function a4(e){if(hu(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=jh(e);return{width:t.width,height:t.height}}function B0e(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=hu(n),i=ld(n);if(n===i)return t;let a={scrollLeft:0,scrollTop:0};const s={x:0,y:0};if((o||!o&&r!=="fixed")&&((bc(n)!=="body"||T_(i))&&(a=C_(n)),hu(n))){const f=jh(n,!0);s.x=f.x+n.clientLeft,s.y=f.y+n.clientTop}return{...t,x:t.x-a.scrollLeft+s.x,y:t.y-a.scrollTop+s.y}}function j0e(e,t){const n=xc(e),r=ld(e),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,s=0,f=0;if(o){i=o.width,a=o.height;const d=OG();(d||!d&&t==="fixed")&&(s=o.offsetLeft,f=o.offsetTop)}return{width:i,height:a,x:s,y:f}}function F0e(e){var t;const n=ld(e),r=C_(e),o=(t=e.ownerDocument)==null?void 0:t.body,i=Ug(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=Ug(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);let s=-r.scrollLeft+_G(e);const f=-r.scrollTop;return Qf(o||n).direction==="rtl"&&(s+=Ug(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:f}}function CG(e){const t=TG(e);return["html","body","#document"].includes(bc(t))?e.ownerDocument.body:hu(t)&&T_(t)?t:CG(t)}function AG(e,t){var n;t===void 0&&(t=[]);const r=CG(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),i=xc(r),a=o?[i].concat(i.visualViewport||[],T_(r)?r:[]):r,s=t.concat(a);return o?s:s.concat(AG(a))}function z0e(e,t){const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&yO(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function U0e(e,t){const n=jh(e,!1,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft;return{top:r,left:o,x:o,y:r,right:o+e.clientWidth,bottom:r+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}function s4(e,t,n){return t==="viewport"?r4(j0e(e,n)):hy(t)?U0e(t,n):r4(F0e(ld(e)))}function V0e(e){const t=AG(e),r=["absolute","fixed"].includes(Qf(e).position)&&hu(e)?PP(e):e;return hy(r)?t.filter(o=>hy(o)&&z0e(o,r)&&bc(o)!=="body"):[]}function H0e(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const a=[...n==="clippingAncestors"?V0e(t):[].concat(n),r],s=a[0],f=a.reduce((d,h)=>{const v=s4(t,h,o);return d.top=Ug(v.top,d.top),d.right=o4(v.right,d.right),d.bottom=o4(v.bottom,d.bottom),d.left=Ug(v.left,d.left),d},s4(t,s,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}const G0e={getClippingRect:H0e,convertOffsetParentRelativeRectToViewportRelativeRect:B0e,isElement:hy,getDimensions:a4,getOffsetParent:PP,getDocumentElement:ld,getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:L0e(t,PP(n),r),floating:{...a4(n),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>Qf(e).direction==="rtl"},W0e=(e,t,n)=>_0e(e,t,{platform:G0e,...n});Kt({});const K0e=e=>{if(!Rr)return;if(!e)return e;const t=Ps(e);return t||(uo(e)?t:e)},X0e=({middleware:e,placement:t,strategy:n})=>{const r=re(),o=re(),i=re(),a=re(),s=re({}),f={x:i,y:a,placement:t,strategy:n,middlewareData:s},d=async()=>{if(!Rr)return;const h=K0e(r),v=Ps(o);if(!h||!v)return;const y=await W0e(h,v,{placement:E(t),strategy:E(n),middleware:E(e)});mb(f).forEach(m=>{f[m].value=y[m]})};return ir(()=>{ns(()=>{d()})}),{...f,update:d,referenceRef:r,contentRef:o}},Y0e=({arrowRef:e,padding:t})=>({name:"arrow",options:{element:e,padding:t},fn(n){const r=E(e);return r?M0e({element:r,padding:t}).fn(n):{}}});function Z0e(e){const t=re();function n(){if(e.value==null)return;const{selectionStart:o,selectionEnd:i,value:a}=e.value;if(o==null||i==null)return;const s=a.slice(0,Math.max(0,o)),f=a.slice(Math.max(0,i));t.value={selectionStart:o,selectionEnd:i,value:a,beforeTxt:s,afterTxt:f}}function r(){if(e.value==null||t.value==null)return;const{value:o}=e.value,{beforeTxt:i,afterTxt:a,selectionStart:s}=t.value;if(i==null||a==null||s==null)return;let f=o.length;if(o.endsWith(a))f=o.length-a.length;else if(o.startsWith(i))f=i.length;else{const d=i[s-1],h=o.indexOf(d,s-1);h!==-1&&(f=h+1)}e.value.setSelectionRange(f,f)}return[n,r]}const J0e="2.2.17",Q0e=(e=[])=>({version:J0e,install:(n,r)=>{n[Z$]||(n[Z$]=!0,e.forEach(o=>n.use(o)),r&&hG(r,n,!0))}}),q0e=Kt({zIndex:{type:ot([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),eEe={scroll:({scrollTop:e,fixed:t})=>Jn(e)&&_i(t),[Po]:e=>_i(e)};var zt=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n};const tEe={name:"ElAffix"},nEe=St({...tEe,props:q0e,emits:eEe,setup(e,{expose:t,emit:n}){const r=e,o="ElAffix",i=wt("affix"),a=bo(),s=bo(),f=bo(),{height:d}=pve(),{height:h,width:v,top:y,bottom:m,update:b}=H$(s),S=H$(a),O=re(!1),_=re(0),A=re(0),T=G(()=>({height:O.value?`${h.value}px`:"",width:O.value?`${v.value}px`:""})),P=G(()=>{if(!O.value)return{};const L=r.offset?`${r.offset}px`:0;return{height:`${h.value}px`,width:`${v.value}px`,top:r.position==="top"?L:"",bottom:r.position==="bottom"?L:"",transform:A.value?`translateY(${A.value}px)`:"",zIndex:r.zIndex}}),x=()=>{if(!!f.value)if(_.value=f.value instanceof Window?document.documentElement.scrollTop:f.value.scrollTop||0,r.position==="top")if(r.target){const L=S.bottom.value-r.offset-h.value;O.value=r.offset>y.value&&S.bottom.value>0,A.value=L<0?L:0}else O.value=r.offset>y.value;else if(r.target){const L=d.value-S.top.value-r.offset-h.value;O.value=d.value-r.offset<m.value&&d.value>S.top.value,A.value=L<0?-L:0}else O.value=d.value-r.offset<m.value},N=()=>{n("scroll",{scrollTop:_.value,fixed:O.value})};return At(O,L=>n("change",L)),ir(()=>{var L;r.target?(a.value=(L=document.querySelector(r.target))!=null?L:void 0,a.value||gi(o,`Target is not existed: ${r.target}`)):a.value=document.documentElement,f.value=FM(s.value,!0),b()}),Eo(f,"scroll",N),ns(x),t({update:x,updateRoot:b}),(L,j)=>(H(),le("div",{ref_key:"root",ref:s,class:Z(E(i).b()),style:gn(E(T))},[ve("div",{class:Z({[E(i).m("fixed")]:O.value}),style:gn(E(P))},[bt(L.$slots,"default")],6)],6))}});var rEe=zt(nEe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/affix/src/affix.vue"]]);const oEe=fr(rEe),iEe=Kt({size:{type:ot([Number,String])},color:{type:String}}),aEe={name:"ElIcon",inheritAttrs:!1},sEe=St({...aEe,props:iEe,setup(e){const t=e,n=wt("icon"),r=G(()=>{const{size:o,color:i}=t;return!o&&!i?{}:{fontSize:Vi(o)?void 0:yi(o),"--color":i}});return(o,i)=>(H(),le("i",br({class:E(n).b(),style:E(r)},o.$attrs),[bt(o.$slots,"default")],16))}});var lEe=zt(sEe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const En=fr(lEe),uEe=["light","dark"],cEe=Kt({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:mb(Jf),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:uEe,default:"light"}}),fEe={close:e=>e instanceof MouseEvent},dEe={name:"ElAlert"},hEe=St({...dEe,props:cEe,emits:fEe,setup(e,{emit:t}){const n=e,{Close:r}=HM,o=Gi(),i=wt("alert"),a=re(!0),s=G(()=>Jf[n.type]),f=G(()=>[i.e("icon"),{[i.is("big")]:!!n.description||!!o.default}]),d=G(()=>({[i.is("bold")]:n.description||o.default})),h=v=>{a.value=!1,t("close",v)};return(v,y)=>(H(),et(ti,{name:E(i).b("fade"),persisted:""},{default:Be(()=>[Gn(ve("div",{class:Z([E(i).b(),E(i).m(v.type),E(i).is("center",v.center),E(i).is(v.effect)]),role:"alert"},[v.showIcon&&E(s)?(H(),et(E(En),{key:0,class:Z(E(f))},{default:Be(()=>[(H(),et(mr(E(s))))]),_:1},8,["class"])):Ye("v-if",!0),ve("div",{class:Z(E(i).e("content"))},[v.title||v.$slots.title?(H(),le("span",{key:0,class:Z([E(i).e("title"),E(d)])},[bt(v.$slots,"title",{},()=>[$r(Bt(v.title),1)])],2)):Ye("v-if",!0),v.$slots.default||v.description?(H(),le("p",{key:1,class:Z(E(i).e("description"))},[bt(v.$slots,"default",{},()=>[$r(Bt(v.description),1)])],2)):Ye("v-if",!0),v.closable?(H(),le(wn,{key:2},[v.closeText?(H(),le("div",{key:0,class:Z([E(i).e("close-btn"),E(i).is("customed")]),onClick:h},Bt(v.closeText),3)):(H(),et(E(En),{key:1,class:Z(E(i).e("close-btn")),onClick:h},{default:Be(()=>[Te(E(r))]),_:1},8,["class"]))],64)):Ye("v-if",!0)],2)],2),[[Lr,a.value]])]),_:3},8,["name"]))}});var pEe=zt(hEe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/alert/src/alert.vue"]]);const vEe=fr(pEe);let al;const yEe=`
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,mEe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function gEe(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),o=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:mEe.map(a=>`${a}:${t.getPropertyValue(a)}`).join(";"),paddingSize:r,borderSize:o,boxSizing:n}}function l4(e,t=1,n){var r;al||(al=document.createElement("textarea"),document.body.appendChild(al));const{paddingSize:o,borderSize:i,boxSizing:a,contextStyle:s}=gEe(e);al.setAttribute("style",`${s};${yEe}`),al.value=e.value||e.placeholder||"";let f=al.scrollHeight;const d={};a==="border-box"?f=f+i:a==="content-box"&&(f=f-o),al.value="";const h=al.scrollHeight-o;if(Jn(t)){let v=h*t;a==="border-box"&&(v=v+o+i),f=Math.max(v,f),d.minHeight=`${v}px`}if(Jn(n)){let v=h*n;a==="border-box"&&(v=v+o+i),f=Math.min(v,f)}return d.height=`${f}px`,(r=al.parentNode)==null||r.removeChild(al),al=void 0,d}const bEe=Kt({id:{type:String,default:void 0},size:os,disabled:Boolean,modelValue:{type:ot([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ot([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String,default:""},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:po},prefixIcon:{type:po},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ot([Object,Array,String]),default:()=>_o({})}}),EEe={[hr]:e=>Kn(e),input:e=>Kn(e),change:e=>Kn(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},SEe=["role"],wEe=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder"],OEe=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder"],_Ee={name:"ElInput",inheritAttrs:!1},TEe=St({..._Ee,props:bEe,emits:EEe,setup(e,{expose:t,emit:n}){const r=e,o={suffix:"append",prefix:"prepend"},i=cr(),a=Gb(),s=Gi(),f=G(()=>{const fe={};return r.containerRole==="combobox"&&(fe["aria-haspopup"]=a["aria-haspopup"],fe["aria-owns"]=a["aria-owns"],fe["aria-expanded"]=a["aria-expanded"]),fe}),d=YM({excludeKeys:G(()=>Object.keys(f.value))}),{form:h,formItem:v}=as(),{inputId:y}=sd(r,{formItemContext:v}),m=oi(),b=Ac(),S=wt("input"),O=wt("textarea"),_=bo(),A=bo(),T=re(!1),P=re(!1),x=re(!1),N=re(!1),L=re(),j=bo(r.inputStyle),k=G(()=>_.value||A.value),F=G(()=>{var fe;return(fe=h==null?void 0:h.statusIcon)!=null?fe:!1}),z=G(()=>(v==null?void 0:v.validateState)||""),M=G(()=>z.value&&ZH[z.value]),D=G(()=>N.value?Cbe:Rme),B=G(()=>[a.style,r.inputStyle]),V=G(()=>[r.inputStyle,j.value,{resize:r.resize}]),Y=G(()=>$a(r.modelValue)?"":String(r.modelValue)),K=G(()=>r.clearable&&!b.value&&!r.readonly&&!!Y.value&&(T.value||P.value)),X=G(()=>r.showPassword&&!b.value&&!r.readonly&&!!Y.value&&(!!Y.value||T.value)),W=G(()=>r.showWordLimit&&!!d.value.maxlength&&(r.type==="text"||r.type==="textarea")&&!b.value&&!r.readonly&&!r.showPassword),ie=G(()=>Array.from(Y.value).length),oe=G(()=>!!W.value&&ie.value>Number(d.value.maxlength)),ee=G(()=>!!s.suffix||!!r.suffixIcon||K.value||r.showPassword||W.value||!!z.value&&F.value),[ue,Ne]=Z0e(_);oa(A,fe=>{if(!W.value||r.resize!=="both")return;const Me=fe[0],{width:it}=Me.contentRect;L.value={right:`calc(100% - ${it+15+6}px)`}});const $e=()=>{const{type:fe,autosize:Me}=r;if(!(!Rr||fe!=="textarea"))if(Me){const it=Er(Me)?Me.minRows:void 0,Oe=Er(Me)?Me.maxRows:void 0;j.value={...l4(A.value,it,Oe)}}else j.value={minHeight:l4(A.value).minHeight}},Ie=()=>{const fe=k.value;!fe||fe.value===Y.value||(fe.value=Y.value)},Le=fe=>{const{el:Me}=i.vnode;if(!Me)return;const Oe=Array.from(Me.querySelectorAll(`.${S.e(fe)}`)).find(nt=>nt.parentNode===Me);if(!Oe)return;const _e=o[fe];s[_e]?Oe.style.transform=`translateX(${fe==="suffix"?"-":""}${Me.querySelector(`.${S.be("group",_e)}`).offsetWidth}px)`:Oe.removeAttribute("style")},he=()=>{Le("prefix"),Le("suffix")},te=async fe=>{ue();let{value:Me}=fe.target;if(r.formatter&&(Me=r.parser?r.parser(Me):Me,Me=r.formatter(Me)),!x.value){if(Me===Y.value){Ie();return}n(hr,Me),n("input",Me),await bn(),Ie(),Ne()}},ae=fe=>{n("change",fe.target.value)},Ce=fe=>{n("compositionstart",fe),x.value=!0},Ze=fe=>{var Me;n("compositionupdate",fe);const it=(Me=fe.target)==null?void 0:Me.value,Oe=it[it.length-1]||"";x.value=!S_(Oe)},se=fe=>{n("compositionend",fe),x.value&&(x.value=!1,te(fe))},de=()=>{N.value=!N.value,ze()},ze=async()=>{var fe;await bn(),(fe=k.value)==null||fe.focus()},lt=()=>{var fe;return(fe=k.value)==null?void 0:fe.blur()},Re=fe=>{T.value=!0,n("focus",fe)},qe=fe=>{var Me;T.value=!1,n("blur",fe),r.validateEvent&&((Me=v==null?void 0:v.validate)==null||Me.call(v,"blur").catch(it=>void 0))},pe=fe=>{P.value=!1,n("mouseleave",fe)},Ue=fe=>{P.value=!0,n("mouseenter",fe)},Ke=fe=>{n("keydown",fe)},Ve=()=>{var fe;(fe=k.value)==null||fe.select()},ne=()=>{n(hr,""),n("change",""),n("clear"),n("input","")};return At(()=>r.modelValue,()=>{var fe;bn(()=>$e()),r.validateEvent&&((fe=v==null?void 0:v.validate)==null||fe.call(v,"change").catch(Me=>void 0))}),At(Y,()=>Ie()),At(()=>r.type,async()=>{await bn(),Ie(),$e(),he()}),ir(async()=>{!r.formatter&&r.parser,Ie(),he(),await bn(),$e()}),gu(async()=>{await bn(),he()}),t({input:_,textarea:A,ref:k,textareaStyle:V,autosize:Do(r,"autosize"),focus:ze,blur:lt,select:Ve,clear:ne,resizeTextarea:$e}),(fe,Me)=>Gn((H(),le("div",br(E(f),{class:[fe.type==="textarea"?E(O).b():E(S).b(),E(S).m(E(m)),E(S).is("disabled",E(b)),E(S).is("exceed",E(oe)),{[E(S).b("group")]:fe.$slots.prepend||fe.$slots.append,[E(S).bm("group","append")]:fe.$slots.append,[E(S).bm("group","prepend")]:fe.$slots.prepend,[E(S).m("prefix")]:fe.$slots.prefix||fe.prefixIcon,[E(S).m("suffix")]:fe.$slots.suffix||fe.suffixIcon||fe.clearable||fe.showPassword,[E(S).bm("suffix","password-clear")]:E(K)&&E(X)},fe.$attrs.class],style:E(B),role:fe.containerRole,onMouseenter:Ue,onMouseleave:pe}),[Ye(" input "),fe.type!=="textarea"?(H(),le(wn,{key:0},[Ye(" prepend slot "),fe.$slots.prepend?(H(),le("div",{key:0,class:Z(E(S).be("group","prepend"))},[bt(fe.$slots,"prepend")],2)):Ye("v-if",!0),ve("div",{class:Z([E(S).e("wrapper"),E(S).is("focus",T.value)])},[Ye(" prefix slot "),fe.$slots.prefix||fe.prefixIcon?(H(),le("span",{key:0,class:Z(E(S).e("prefix"))},[ve("span",{class:Z(E(S).e("prefix-inner"))},[bt(fe.$slots,"prefix"),fe.prefixIcon?(H(),et(E(En),{key:0,class:Z(E(S).e("icon"))},{default:Be(()=>[(H(),et(mr(fe.prefixIcon)))]),_:1},8,["class"])):Ye("v-if",!0)],2)],2)):Ye("v-if",!0),ve("input",br({id:E(y),ref_key:"input",ref:_,class:E(S).e("inner")},E(d),{type:fe.showPassword?N.value?"text":"password":fe.type,disabled:E(b),formatter:fe.formatter,parser:fe.parser,readonly:fe.readonly,autocomplete:fe.autocomplete,tabindex:fe.tabindex,"aria-label":fe.label,placeholder:fe.placeholder,style:fe.inputStyle,onCompositionstart:Ce,onCompositionupdate:Ze,onCompositionend:se,onInput:te,onFocus:Re,onBlur:qe,onChange:ae,onKeydown:Ke}),null,16,wEe),Ye(" suffix slot "),E(ee)?(H(),le("span",{key:1,class:Z(E(S).e("suffix"))},[ve("span",{class:Z(E(S).e("suffix-inner"))},[!E(K)||!E(X)||!E(W)?(H(),le(wn,{key:0},[bt(fe.$slots,"suffix"),fe.suffixIcon?(H(),et(E(En),{key:0,class:Z(E(S).e("icon"))},{default:Be(()=>[(H(),et(mr(fe.suffixIcon)))]),_:1},8,["class"])):Ye("v-if",!0)],64)):Ye("v-if",!0),E(K)?(H(),et(E(En),{key:1,class:Z([E(S).e("icon"),E(S).e("clear")]),onMousedown:Fn(E(to),["prevent"]),onClick:ne},{default:Be(()=>[Te(E(id))]),_:1},8,["class","onMousedown"])):Ye("v-if",!0),E(X)?(H(),et(E(En),{key:2,class:Z([E(S).e("icon"),E(S).e("password")]),onClick:de},{default:Be(()=>[(H(),et(mr(E(D))))]),_:1},8,["class"])):Ye("v-if",!0),E(W)?(H(),le("span",{key:3,class:Z(E(S).e("count"))},[ve("span",{class:Z(E(S).e("count-inner"))},Bt(E(ie))+" / "+Bt(E(d).maxlength),3)],2)):Ye("v-if",!0),E(z)&&E(M)&&E(F)?(H(),et(E(En),{key:4,class:Z([E(S).e("icon"),E(S).e("validateIcon"),E(S).is("loading",E(z)==="validating")])},{default:Be(()=>[(H(),et(mr(E(M))))]),_:1},8,["class"])):Ye("v-if",!0)],2)],2)):Ye("v-if",!0)],2),Ye(" append slot "),fe.$slots.append?(H(),le("div",{key:1,class:Z(E(S).be("group","append"))},[bt(fe.$slots,"append")],2)):Ye("v-if",!0)],64)):(H(),le(wn,{key:1},[Ye(" textarea "),ve("textarea",br({id:E(y),ref_key:"textarea",ref:A,class:E(O).e("inner")},E(d),{tabindex:fe.tabindex,disabled:E(b),readonly:fe.readonly,autocomplete:fe.autocomplete,style:E(V),"aria-label":fe.label,placeholder:fe.placeholder,onCompositionstart:Ce,onCompositionupdate:Ze,onCompositionend:se,onInput:te,onFocus:Re,onBlur:qe,onChange:ae,onKeydown:Ke}),null,16,OEe),E(W)?(H(),le("span",{key:0,style:gn(L.value),class:Z(E(S).e("count"))},Bt(E(ie))+" / "+Bt(E(d).maxlength),7)):Ye("v-if",!0)],64))],16,SEe)),[[Lr,fe.type!=="hidden"]])}});var CEe=zt(TEe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const na=fr(CEe),$v=4,PG={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},AEe=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),PEe=Kt({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),xEe=St({__name:"thumb",props:PEe,setup(e){const t=e,n="Thumb",r=Cn(sG),o=wt("scrollbar");r||gi(n,"can not inject scrollbar context");const i=re(),a=re(),s=re({}),f=re(!1);let d=!1,h=!1,v=Rr?document.onselectstart:null;const y=G(()=>PG[t.vertical?"vertical":"horizontal"]),m=G(()=>AEe({size:t.size,move:t.move,bar:y.value})),b=G(()=>i.value[y.value.offset]**2/r.wrapElement[y.value.scrollSize]/t.ratio/a.value[y.value.offset]),S=L=>{var j;if(L.stopPropagation(),L.ctrlKey||[1,2].includes(L.button))return;(j=window.getSelection())==null||j.removeAllRanges(),_(L);const k=L.currentTarget;!k||(s.value[y.value.axis]=k[y.value.offset]-(L[y.value.client]-k.getBoundingClientRect()[y.value.direction]))},O=L=>{if(!a.value||!i.value||!r.wrapElement)return;const j=Math.abs(L.target.getBoundingClientRect()[y.value.direction]-L[y.value.client]),k=a.value[y.value.offset]/2,F=(j-k)*100*b.value/i.value[y.value.offset];r.wrapElement[y.value.scroll]=F*r.wrapElement[y.value.scrollSize]/100},_=L=>{L.stopImmediatePropagation(),d=!0,document.addEventListener("mousemove",A),document.addEventListener("mouseup",T),v=document.onselectstart,document.onselectstart=()=>!1},A=L=>{if(!i.value||!a.value||d===!1)return;const j=s.value[y.value.axis];if(!j)return;const k=(i.value.getBoundingClientRect()[y.value.direction]-L[y.value.client])*-1,F=a.value[y.value.offset]-j,z=(k-F)*100*b.value/i.value[y.value.offset];r.wrapElement[y.value.scroll]=z*r.wrapElement[y.value.scrollSize]/100},T=()=>{d=!1,s.value[y.value.axis]=0,document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",T),N(),h&&(f.value=!1)},P=()=>{h=!1,f.value=!!t.size},x=()=>{h=!0,f.value=d};Go(()=>{N(),document.removeEventListener("mouseup",T)});const N=()=>{document.onselectstart!==v&&(document.onselectstart=v)};return Eo(Do(r,"scrollbarElement"),"mousemove",P),Eo(Do(r,"scrollbarElement"),"mouseleave",x),(L,j)=>(H(),et(ti,{name:E(o).b("fade"),persisted:""},{default:Be(()=>[Gn(ve("div",{ref_key:"instance",ref:i,class:Z([E(o).e("bar"),E(o).is(E(y).key)]),onMousedown:O},[ve("div",{ref_key:"thumb",ref:a,class:Z(E(o).e("thumb")),style:gn(E(m)),onMousedown:S},null,38)],34),[[Lr,L.always||f.value]])]),_:1},8,["name"]))}});var u4=zt(xEe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const MEe=Kt({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),NEe=St({__name:"bar",props:MEe,setup(e,{expose:t}){const n=e,r=re(0),o=re(0);return t({handleScroll:a=>{if(a){const s=a.offsetHeight-$v,f=a.offsetWidth-$v;o.value=a.scrollTop*100/s*n.ratioY,r.value=a.scrollLeft*100/f*n.ratioX}}}),(a,s)=>(H(),le(wn,null,[Te(u4,{move:r.value,ratio:a.ratioX,size:a.width,always:a.always},null,8,["move","ratio","size","always"]),Te(u4,{move:o.value,ratio:a.ratioY,size:a.height,vertical:"",always:a.always},null,8,["move","ratio","size","always"])],64))}});var REe=zt(NEe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const IEe=Kt({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:ot([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),DEe={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(Jn)},kEe={name:"ElScrollbar"},LEe=St({...kEe,props:IEe,emits:DEe,setup(e,{expose:t,emit:n}){const r=e,o=wt("scrollbar");let i,a;const s=re(),f=re(),d=re(),h=re("0"),v=re("0"),y=re(),m=re(1),b=re(1),S=G(()=>{const x={};return r.height&&(x.height=yi(r.height)),r.maxHeight&&(x.maxHeight=yi(r.maxHeight)),[r.wrapStyle,x]}),O=()=>{var x;f.value&&((x=y.value)==null||x.handleScroll(f.value),n("scroll",{scrollTop:f.value.scrollTop,scrollLeft:f.value.scrollLeft}))};function _(x,N){Er(x)?f.value.scrollTo(x):Jn(x)&&Jn(N)&&f.value.scrollTo(x,N)}const A=x=>{!Jn(x)||(f.value.scrollTop=x)},T=x=>{!Jn(x)||(f.value.scrollLeft=x)},P=()=>{if(!f.value)return;const x=f.value.offsetHeight-$v,N=f.value.offsetWidth-$v,L=x**2/f.value.scrollHeight,j=N**2/f.value.scrollWidth,k=Math.max(L,r.minSize),F=Math.max(j,r.minSize);m.value=L/(x-L)/(k/(x-k)),b.value=j/(N-j)/(F/(N-F)),v.value=k+$v<x?`${k}px`:"",h.value=F+$v<N?`${F}px`:""};return At(()=>r.noresize,x=>{x?(i==null||i(),a==null||a()):({stop:i}=oa(d,P),a=Eo("resize",P))},{immediate:!0}),At(()=>[r.maxHeight,r.height],()=>{r.native||bn(()=>{var x;P(),f.value&&((x=y.value)==null||x.handleScroll(f.value))})}),Sr(sG,Xr({scrollbarElement:s,wrapElement:f})),ir(()=>{r.native||bn(()=>{P()})}),gu(()=>P()),t({wrap$:f,update:P,scrollTo:_,setScrollTop:A,setScrollLeft:T,handleScroll:O}),(x,N)=>(H(),le("div",{ref_key:"scrollbar$",ref:s,class:Z(E(o).b())},[ve("div",{ref_key:"wrap$",ref:f,class:Z([x.wrapClass,E(o).e("wrap"),{[E(o).em("wrap","hidden-default")]:!x.native}]),style:gn(E(S)),onScroll:O},[(H(),et(mr(x.tag),{ref_key:"resize$",ref:d,class:Z([E(o).e("view"),x.viewClass]),style:gn(x.viewStyle)},{default:Be(()=>[bt(x.$slots,"default")]),_:3},8,["class","style"]))],38),x.native?Ye("v-if",!0):(H(),et(REe,{key:0,ref_key:"barRef",ref:y,height:v.value,width:h.value,always:x.always,"ratio-x":b.value,"ratio-y":m.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var $Ee=zt(LEe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const Mc=fr($Ee),BEe={LIGHT:"light",DARK:"dark"},jEe=["dialog","grid","listbox","menu","tooltip","tree"],xG=Kt({role:{type:String,values:jEe,default:"tooltip"}}),FEe={name:"ElPopperRoot",inheritAttrs:!1},zEe=St({...FEe,props:xG,setup(e,{expose:t}){const n=e,r=re(),o=re(),i=re(),a=re(),s=G(()=>n.role),f={triggerRef:r,popperInstanceRef:o,contentRef:i,referenceRef:a,role:s};return t(f),Sr(ZM,f),(d,h)=>bt(d.$slots,"default")}});var UEe=zt(zEe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const MG=Kt({arrowOffset:{type:Number,default:5}}),VEe={name:"ElPopperArrow",inheritAttrs:!1},HEe=St({...VEe,props:MG,setup(e,{expose:t}){const n=e,r=wt("popper"),{arrowOffset:o,arrowRef:i}=Cn(cG,void 0);return At(()=>n.arrowOffset,a=>{o.value=a}),Go(()=>{i.value=void 0}),t({arrowRef:i}),(a,s)=>(H(),le("span",{ref_key:"arrowRef",ref:i,class:Z(E(r).e("arrow")),"data-popper-arrow":""},null,2))}});var GEe=zt(HEe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const WEe="ElOnlyChild",NG=St({name:WEe,setup(e,{slots:t,attrs:n}){var r;const o=Cn(gG),i=O0e((r=o==null?void 0:o.setForwardRef)!=null?r:to);return()=>{var a;const s=(a=t.default)==null?void 0:a.call(t,n);if(!s||s.length>1)return null;const f=RG(s);return f?Gn(yc(f,n),[[i]]):null}}});function RG(e){if(!e)return null;const t=e;for(const n of t){if(Er(n))switch(n.type){case ba:continue;case Hb:case"svg":return c4(n);case wn:return RG(n.children);default:return n}return c4(n)}return null}function c4(e){const t=wt("only-child");return Te("span",{class:t.e("content")},[e])}const IG=Kt({virtualRef:{type:ot(Object)},virtualTriggering:Boolean,onMouseenter:Function,onMouseleave:Function,onClick:Function,onKeydown:Function,onFocus:Function,onBlur:Function,onContextmenu:Function,id:String,open:Boolean}),KEe={name:"ElPopperTrigger",inheritAttrs:!1},XEe=St({...KEe,props:IG,setup(e,{expose:t}){const n=e,{role:r,triggerRef:o}=Cn(ZM,void 0);w0e(o);const i=G(()=>s.value?n.id:void 0),a=G(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),s=G(()=>{if(r&&r.value!=="tooltip")return r.value}),f=G(()=>s.value?`${n.open}`:void 0);let d;return ir(()=>{At(()=>n.virtualRef,h=>{h&&(o.value=Ps(h))},{immediate:!0}),At(()=>o.value,(h,v)=>{d==null||d(),d=void 0,gc(h)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(y=>{var m;const b=n[y];b&&(h.addEventListener(y.slice(2).toLowerCase(),b),(m=v==null?void 0:v.removeEventListener)==null||m.call(v,y.slice(2).toLowerCase(),b))}),d=At([i,a,s,f],y=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((m,b)=>{$a(y[b])?h.removeAttribute(m):h.setAttribute(m,y[b])})},{immediate:!0})),gc(v)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(y=>v.removeAttribute(y))},{immediate:!0})}),Go(()=>{d==null||d(),d=void 0}),t({triggerRef:o}),(h,v)=>h.virtualTriggering?Ye("v-if",!0):(H(),et(E(NG),br({key:0},h.$attrs,{"aria-controls":E(i),"aria-describedby":E(a),"aria-expanded":E(f),"aria-haspopup":E(s)}),{default:Be(()=>[bt(h.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var YEe=zt(XEe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]),ja="top",Ls="bottom",$s="right",Fa="left",nN="auto",Zb=[ja,Ls,$s,Fa],py="start",gb="end",ZEe="clippingParents",DG="viewport",ig="popper",JEe="reference",f4=Zb.reduce(function(e,t){return e.concat([t+"-"+py,t+"-"+gb])},[]),tp=[].concat(Zb,[nN]).reduce(function(e,t){return e.concat([t,t+"-"+py,t+"-"+gb])},[]),QEe="beforeRead",qEe="read",e1e="afterRead",t1e="beforeMain",n1e="main",r1e="afterMain",o1e="beforeWrite",i1e="write",a1e="afterWrite",s1e=[QEe,qEe,e1e,t1e,n1e,r1e,o1e,i1e,a1e];function pu(e){return e?(e.nodeName||"").toLowerCase():null}function wl(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function vy(e){var t=wl(e).Element;return e instanceof t||e instanceof Element}function Rs(e){var t=wl(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function rN(e){if(typeof ShadowRoot>"u")return!1;var t=wl(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function l1e(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},o=t.attributes[n]||{},i=t.elements[n];!Rs(i)||!pu(i)||(Object.assign(i.style,r),Object.keys(o).forEach(function(a){var s=o[a];s===!1?i.removeAttribute(a):i.setAttribute(a,s===!0?"":s)}))})}function u1e(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var o=t.elements[r],i=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),s=a.reduce(function(f,d){return f[d]="",f},{});!Rs(o)||!pu(o)||(Object.assign(o.style,s),Object.keys(i).forEach(function(f){o.removeAttribute(f)}))})}}var kG={name:"applyStyles",enabled:!0,phase:"write",fn:l1e,effect:u1e,requires:["computeStyles"]};function fu(e){return e.split("-")[0]}var Mh=Math.max,gO=Math.min,yy=Math.round;function my(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,o=1;if(Rs(e)&&t){var i=e.offsetHeight,a=e.offsetWidth;a>0&&(r=yy(n.width)/a||1),i>0&&(o=yy(n.height)/i||1)}return{width:n.width/r,height:n.height/o,top:n.top/o,right:n.right/r,bottom:n.bottom/o,left:n.left/r,x:n.left/r,y:n.top/o}}function oN(e){var t=my(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function LG(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&rN(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ec(e){return wl(e).getComputedStyle(e)}function c1e(e){return["table","td","th"].indexOf(pu(e))>=0}function ud(e){return((vy(e)?e.ownerDocument:e.document)||window.document).documentElement}function A_(e){return pu(e)==="html"?e:e.assignedSlot||e.parentNode||(rN(e)?e.host:null)||ud(e)}function d4(e){return!Rs(e)||Ec(e).position==="fixed"?null:e.offsetParent}function f1e(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Rs(e)){var r=Ec(e);if(r.position==="fixed")return null}var o=A_(e);for(rN(o)&&(o=o.host);Rs(o)&&["html","body"].indexOf(pu(o))<0;){var i=Ec(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function Jb(e){for(var t=wl(e),n=d4(e);n&&c1e(n)&&Ec(n).position==="static";)n=d4(n);return n&&(pu(n)==="html"||pu(n)==="body"&&Ec(n).position==="static")?t:n||f1e(e)||t}function iN(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Vg(e,t,n){return Mh(e,gO(t,n))}function d1e(e,t,n){var r=Vg(e,t,n);return r>n?n:r}function $G(){return{top:0,right:0,bottom:0,left:0}}function BG(e){return Object.assign({},$G(),e)}function jG(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var h1e=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,BG(typeof e!="number"?e:jG(e,Zb))};function p1e(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=fu(n.placement),f=iN(s),d=[Fa,$s].indexOf(s)>=0,h=d?"height":"width";if(!(!i||!a)){var v=h1e(o.padding,n),y=oN(i),m=f==="y"?ja:Fa,b=f==="y"?Ls:$s,S=n.rects.reference[h]+n.rects.reference[f]-a[f]-n.rects.popper[h],O=a[f]-n.rects.reference[f],_=Jb(i),A=_?f==="y"?_.clientHeight||0:_.clientWidth||0:0,T=S/2-O/2,P=v[m],x=A-y[h]-v[b],N=A/2-y[h]/2+T,L=Vg(P,N,x),j=f;n.modifiersData[r]=(t={},t[j]=L,t.centerOffset=L-N,t)}}function v1e(e){var t=e.state,n=e.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||!LG(t.elements.popper,o)||(t.elements.arrow=o))}var y1e={name:"arrow",enabled:!0,phase:"main",fn:p1e,effect:v1e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function gy(e){return e.split("-")[1]}var m1e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function g1e(e){var t=e.x,n=e.y,r=window,o=r.devicePixelRatio||1;return{x:yy(t*o)/o||0,y:yy(n*o)/o||0}}function h4(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,s=e.position,f=e.gpuAcceleration,d=e.adaptive,h=e.roundOffsets,v=e.isFixed,y=a.x,m=y===void 0?0:y,b=a.y,S=b===void 0?0:b,O=typeof h=="function"?h({x:m,y:S}):{x:m,y:S};m=O.x,S=O.y;var _=a.hasOwnProperty("x"),A=a.hasOwnProperty("y"),T=Fa,P=ja,x=window;if(d){var N=Jb(n),L="clientHeight",j="clientWidth";if(N===wl(n)&&(N=ud(n),Ec(N).position!=="static"&&s==="absolute"&&(L="scrollHeight",j="scrollWidth")),N=N,o===ja||(o===Fa||o===$s)&&i===gb){P=Ls;var k=v&&N===x&&x.visualViewport?x.visualViewport.height:N[L];S-=k-r.height,S*=f?1:-1}if(o===Fa||(o===ja||o===Ls)&&i===gb){T=$s;var F=v&&N===x&&x.visualViewport?x.visualViewport.width:N[j];m-=F-r.width,m*=f?1:-1}}var z=Object.assign({position:s},d&&m1e),M=h===!0?g1e({x:m,y:S}):{x:m,y:S};if(m=M.x,S=M.y,f){var D;return Object.assign({},z,(D={},D[P]=A?"0":"",D[T]=_?"0":"",D.transform=(x.devicePixelRatio||1)<=1?"translate("+m+"px, "+S+"px)":"translate3d("+m+"px, "+S+"px, 0)",D))}return Object.assign({},z,(t={},t[P]=A?S+"px":"",t[T]=_?m+"px":"",t.transform="",t))}function b1e(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=r===void 0?!0:r,i=n.adaptive,a=i===void 0?!0:i,s=n.roundOffsets,f=s===void 0?!0:s,d={placement:fu(t.placement),variation:gy(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,h4(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:f})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,h4(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var FG={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:b1e,data:{}},zS={passive:!0};function E1e(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=o===void 0?!0:o,a=r.resize,s=a===void 0?!0:a,f=wl(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&d.forEach(function(h){h.addEventListener("scroll",n.update,zS)}),s&&f.addEventListener("resize",n.update,zS),function(){i&&d.forEach(function(h){h.removeEventListener("scroll",n.update,zS)}),s&&f.removeEventListener("resize",n.update,zS)}}var zG={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:E1e,data:{}},S1e={left:"right",right:"left",bottom:"top",top:"bottom"};function Cw(e){return e.replace(/left|right|bottom|top/g,function(t){return S1e[t]})}var w1e={start:"end",end:"start"};function p4(e){return e.replace(/start|end/g,function(t){return w1e[t]})}function aN(e){var t=wl(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function sN(e){return my(ud(e)).left+aN(e).scrollLeft}function O1e(e){var t=wl(e),n=ud(e),r=t.visualViewport,o=n.clientWidth,i=n.clientHeight,a=0,s=0;return r&&(o=r.width,i=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,s=r.offsetTop)),{width:o,height:i,x:a+sN(e),y:s}}function _1e(e){var t,n=ud(e),r=aN(e),o=(t=e.ownerDocument)==null?void 0:t.body,i=Mh(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=Mh(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-r.scrollLeft+sN(e),f=-r.scrollTop;return Ec(o||n).direction==="rtl"&&(s+=Mh(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:f}}function lN(e){var t=Ec(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function UG(e){return["html","body","#document"].indexOf(pu(e))>=0?e.ownerDocument.body:Rs(e)&&lN(e)?e:UG(A_(e))}function Hg(e,t){var n;t===void 0&&(t=[]);var r=UG(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),i=wl(r),a=o?[i].concat(i.visualViewport||[],lN(r)?r:[]):r,s=t.concat(a);return o?s:s.concat(Hg(A_(a)))}function xP(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function T1e(e){var t=my(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function v4(e,t){return t===DG?xP(O1e(e)):vy(t)?T1e(t):xP(_1e(ud(e)))}function C1e(e){var t=Hg(A_(e)),n=["absolute","fixed"].indexOf(Ec(e).position)>=0,r=n&&Rs(e)?Jb(e):e;return vy(r)?t.filter(function(o){return vy(o)&&LG(o,r)&&pu(o)!=="body"}):[]}function A1e(e,t,n){var r=t==="clippingParents"?C1e(e):[].concat(t),o=[].concat(r,[n]),i=o[0],a=o.reduce(function(s,f){var d=v4(e,f);return s.top=Mh(d.top,s.top),s.right=gO(d.right,s.right),s.bottom=gO(d.bottom,s.bottom),s.left=Mh(d.left,s.left),s},v4(e,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function VG(e){var t=e.reference,n=e.element,r=e.placement,o=r?fu(r):null,i=r?gy(r):null,a=t.x+t.width/2-n.width/2,s=t.y+t.height/2-n.height/2,f;switch(o){case ja:f={x:a,y:t.y-n.height};break;case Ls:f={x:a,y:t.y+t.height};break;case $s:f={x:t.x+t.width,y:s};break;case Fa:f={x:t.x-n.width,y:s};break;default:f={x:t.x,y:t.y}}var d=o?iN(o):null;if(d!=null){var h=d==="y"?"height":"width";switch(i){case py:f[d]=f[d]-(t[h]/2-n[h]/2);break;case gb:f[d]=f[d]+(t[h]/2-n[h]/2);break}}return f}function bb(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=r===void 0?e.placement:r,i=n.boundary,a=i===void 0?ZEe:i,s=n.rootBoundary,f=s===void 0?DG:s,d=n.elementContext,h=d===void 0?ig:d,v=n.altBoundary,y=v===void 0?!1:v,m=n.padding,b=m===void 0?0:m,S=BG(typeof b!="number"?b:jG(b,Zb)),O=h===ig?JEe:ig,_=e.rects.popper,A=e.elements[y?O:h],T=A1e(vy(A)?A:A.contextElement||ud(e.elements.popper),a,f),P=my(e.elements.reference),x=VG({reference:P,element:_,strategy:"absolute",placement:o}),N=xP(Object.assign({},_,x)),L=h===ig?N:P,j={top:T.top-L.top+S.top,bottom:L.bottom-T.bottom+S.bottom,left:T.left-L.left+S.left,right:L.right-T.right+S.right},k=e.modifiersData.offset;if(h===ig&&k){var F=k[o];Object.keys(j).forEach(function(z){var M=[$s,Ls].indexOf(z)>=0?1:-1,D=[ja,Ls].indexOf(z)>=0?"y":"x";j[z]+=F[D]*M})}return j}function P1e(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,f=n.allowedAutoPlacements,d=f===void 0?tp:f,h=gy(r),v=h?s?f4:f4.filter(function(b){return gy(b)===h}):Zb,y=v.filter(function(b){return d.indexOf(b)>=0});y.length===0&&(y=v);var m=y.reduce(function(b,S){return b[S]=bb(e,{placement:S,boundary:o,rootBoundary:i,padding:a})[fu(S)],b},{});return Object.keys(m).sort(function(b,S){return m[b]-m[S]})}function x1e(e){if(fu(e)===nN)return[];var t=Cw(e);return[p4(e),t,p4(t)]}function M1e(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=o===void 0?!0:o,a=n.altAxis,s=a===void 0?!0:a,f=n.fallbackPlacements,d=n.padding,h=n.boundary,v=n.rootBoundary,y=n.altBoundary,m=n.flipVariations,b=m===void 0?!0:m,S=n.allowedAutoPlacements,O=t.options.placement,_=fu(O),A=_===O,T=f||(A||!b?[Cw(O)]:x1e(O)),P=[O].concat(T).reduce(function(Ne,$e){return Ne.concat(fu($e)===nN?P1e(t,{placement:$e,boundary:h,rootBoundary:v,padding:d,flipVariations:b,allowedAutoPlacements:S}):$e)},[]),x=t.rects.reference,N=t.rects.popper,L=new Map,j=!0,k=P[0],F=0;F<P.length;F++){var z=P[F],M=fu(z),D=gy(z)===py,B=[ja,Ls].indexOf(M)>=0,V=B?"width":"height",Y=bb(t,{placement:z,boundary:h,rootBoundary:v,altBoundary:y,padding:d}),K=B?D?$s:Fa:D?Ls:ja;x[V]>N[V]&&(K=Cw(K));var X=Cw(K),W=[];if(i&&W.push(Y[M]<=0),s&&W.push(Y[K]<=0,Y[X]<=0),W.every(function(Ne){return Ne})){k=z,j=!1;break}L.set(z,W)}if(j)for(var ie=b?3:1,oe=function(Ne){var $e=P.find(function(Ie){var Le=L.get(Ie);if(Le)return Le.slice(0,Ne).every(function(he){return he})});if($e)return k=$e,"break"},ee=ie;ee>0;ee--){var ue=oe(ee);if(ue==="break")break}t.placement!==k&&(t.modifiersData[r]._skip=!0,t.placement=k,t.reset=!0)}}var N1e={name:"flip",enabled:!0,phase:"main",fn:M1e,requiresIfExists:["offset"],data:{_skip:!1}};function y4(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function m4(e){return[ja,$s,Ls,Fa].some(function(t){return e[t]>=0})}function R1e(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=bb(t,{elementContext:"reference"}),s=bb(t,{altBoundary:!0}),f=y4(a,r),d=y4(s,o,i),h=m4(f),v=m4(d);t.modifiersData[n]={referenceClippingOffsets:f,popperEscapeOffsets:d,isReferenceHidden:h,hasPopperEscaped:v},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":v})}var I1e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:R1e};function D1e(e,t,n){var r=fu(e),o=[Fa,ja].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[Fa,$s].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function k1e(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=o===void 0?[0,0]:o,a=tp.reduce(function(h,v){return h[v]=D1e(v,t.rects,i),h},{}),s=a[t.placement],f=s.x,d=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=f,t.modifiersData.popperOffsets.y+=d),t.modifiersData[r]=a}var L1e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:k1e};function $1e(e){var t=e.state,n=e.name;t.modifiersData[n]=VG({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var HG={name:"popperOffsets",enabled:!0,phase:"read",fn:$1e,data:{}};function B1e(e){return e==="x"?"y":"x"}function j1e(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=o===void 0?!0:o,a=n.altAxis,s=a===void 0?!1:a,f=n.boundary,d=n.rootBoundary,h=n.altBoundary,v=n.padding,y=n.tether,m=y===void 0?!0:y,b=n.tetherOffset,S=b===void 0?0:b,O=bb(t,{boundary:f,rootBoundary:d,padding:v,altBoundary:h}),_=fu(t.placement),A=gy(t.placement),T=!A,P=iN(_),x=B1e(P),N=t.modifiersData.popperOffsets,L=t.rects.reference,j=t.rects.popper,k=typeof S=="function"?S(Object.assign({},t.rects,{placement:t.placement})):S,F=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),z=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,M={x:0,y:0};if(N){if(i){var D,B=P==="y"?ja:Fa,V=P==="y"?Ls:$s,Y=P==="y"?"height":"width",K=N[P],X=K+O[B],W=K-O[V],ie=m?-j[Y]/2:0,oe=A===py?L[Y]:j[Y],ee=A===py?-j[Y]:-L[Y],ue=t.elements.arrow,Ne=m&&ue?oN(ue):{width:0,height:0},$e=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:$G(),Ie=$e[B],Le=$e[V],he=Vg(0,L[Y],Ne[Y]),te=T?L[Y]/2-ie-he-Ie-F.mainAxis:oe-he-Ie-F.mainAxis,ae=T?-L[Y]/2+ie+he+Le+F.mainAxis:ee+he+Le+F.mainAxis,Ce=t.elements.arrow&&Jb(t.elements.arrow),Ze=Ce?P==="y"?Ce.clientTop||0:Ce.clientLeft||0:0,se=(D=z==null?void 0:z[P])!=null?D:0,de=K+te-se-Ze,ze=K+ae-se,lt=Vg(m?gO(X,de):X,K,m?Mh(W,ze):W);N[P]=lt,M[P]=lt-K}if(s){var Re,qe=P==="x"?ja:Fa,pe=P==="x"?Ls:$s,Ue=N[x],Ke=x==="y"?"height":"width",Ve=Ue+O[qe],ne=Ue-O[pe],fe=[ja,Fa].indexOf(_)!==-1,Me=(Re=z==null?void 0:z[x])!=null?Re:0,it=fe?Ve:Ue-L[Ke]-j[Ke]-Me+F.altAxis,Oe=fe?Ue+L[Ke]+j[Ke]-Me-F.altAxis:ne,_e=m&&fe?d1e(it,Ue,Oe):Vg(m?it:Ve,Ue,m?Oe:ne);N[x]=_e,M[x]=_e-Ue}t.modifiersData[r]=M}}var F1e={name:"preventOverflow",enabled:!0,phase:"main",fn:j1e,requiresIfExists:["offset"]};function z1e(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function U1e(e){return e===wl(e)||!Rs(e)?aN(e):z1e(e)}function V1e(e){var t=e.getBoundingClientRect(),n=yy(t.width)/e.offsetWidth||1,r=yy(t.height)/e.offsetHeight||1;return n!==1||r!==1}function H1e(e,t,n){n===void 0&&(n=!1);var r=Rs(t),o=Rs(t)&&V1e(t),i=ud(t),a=my(e,o),s={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(r||!r&&!n)&&((pu(t)!=="body"||lN(i))&&(s=U1e(t)),Rs(t)?(f=my(t,!0),f.x+=t.clientLeft,f.y+=t.clientTop):i&&(f.x=sN(i))),{x:a.left+s.scrollLeft-f.x,y:a.top+s.scrollTop-f.y,width:a.width,height:a.height}}function G1e(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function o(i){n.add(i.name);var a=[].concat(i.requires||[],i.requiresIfExists||[]);a.forEach(function(s){if(!n.has(s)){var f=t.get(s);f&&o(f)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||o(i)}),r}function W1e(e){var t=G1e(e);return s1e.reduce(function(n,r){return n.concat(t.filter(function(o){return o.phase===r}))},[])}function K1e(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function X1e(e){var t=e.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var g4={placement:"bottom",modifiers:[],strategy:"absolute"};function b4(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function uN(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,o=t.defaultOptions,i=o===void 0?g4:o;return function(a,s,f){f===void 0&&(f=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},g4,i),modifiersData:{},elements:{reference:a,popper:s},attributes:{},styles:{}},h=[],v=!1,y={state:d,setOptions:function(S){var O=typeof S=="function"?S(d.options):S;b(),d.options=Object.assign({},i,d.options,O),d.scrollParents={reference:vy(a)?Hg(a):a.contextElement?Hg(a.contextElement):[],popper:Hg(s)};var _=W1e(X1e([].concat(r,d.options.modifiers)));return d.orderedModifiers=_.filter(function(A){return A.enabled}),m(),y.update()},forceUpdate:function(){if(!v){var S=d.elements,O=S.reference,_=S.popper;if(b4(O,_)){d.rects={reference:H1e(O,Jb(_),d.options.strategy==="fixed"),popper:oN(_)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(j){return d.modifiersData[j.name]=Object.assign({},j.data)});for(var A=0;A<d.orderedModifiers.length;A++){if(d.reset===!0){d.reset=!1,A=-1;continue}var T=d.orderedModifiers[A],P=T.fn,x=T.options,N=x===void 0?{}:x,L=T.name;typeof P=="function"&&(d=P({state:d,options:N,name:L,instance:y})||d)}}}},update:K1e(function(){return new Promise(function(S){y.forceUpdate(),S(d)})}),destroy:function(){b(),v=!0}};if(!b4(a,s))return y;y.setOptions(f).then(function(S){!v&&f.onFirstUpdate&&f.onFirstUpdate(S)});function m(){d.orderedModifiers.forEach(function(S){var O=S.name,_=S.options,A=_===void 0?{}:_,T=S.effect;if(typeof T=="function"){var P=T({state:d,name:O,instance:y,options:A}),x=function(){};h.push(P||x)}})}function b(){h.forEach(function(S){return S()}),h=[]}return y}}uN();var Y1e=[zG,HG,FG,kG];uN({defaultModifiers:Y1e});var Z1e=[zG,HG,FG,kG,L1e,N1e,F1e,y1e,I1e],GG=uN({defaultModifiers:Z1e});const WG=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},E4=(e,t)=>{for(const n of e)if(!J1e(n,t))return n},J1e=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},Q1e=e=>{const t=WG(e),n=E4(t,e),r=E4(t.reverse(),e);return[n,r]},q1e=e=>e instanceof HTMLInputElement&&"select"in e,If=(e,t)=>{if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&q1e(e)&&t&&e.select()}};function S4(e,t){const n=[...e],r=e.indexOf(t);return r!==-1&&n.splice(r,1),n}const eSe=()=>{let e=[];return{push:r=>{const o=e[0];o&&r!==o&&o.pause(),e=S4(e,r),e.unshift(r)},remove:r=>{var o,i;e=S4(e,r),(i=(o=e[0])==null?void 0:o.resume)==null||i.call(o)}}},tSe=(e,t=!1)=>{const n=document.activeElement;for(const r of e)if(If(r,t),document.activeElement!==n)return},w4=eSe(),hA="focus-trap.focus-after-trapped",pA="focus-trap.focus-after-released",O4={cancelable:!0,bubbles:!1},_4="focusAfterTrapped",T4="focusAfterReleased",cN=Symbol("elFocusTrap"),nSe=St({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[_4,T4,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=re();let r,o;y0e(m=>{e.trapped&&!i.paused&&t("release-requested",m)});const i={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},a=m=>{if(!e.loop&&!e.trapped||i.paused)return;const{key:b,altKey:S,ctrlKey:O,metaKey:_,currentTarget:A,shiftKey:T}=m,{loop:P}=e,x=b===Mn.tab&&!S&&!O&&!_,N=document.activeElement;if(x&&N){const L=A,[j,k]=Q1e(L);j&&k?!T&&N===k?(m.preventDefault(),P&&If(j,!0),t("focusout-prevented")):T&&[j,L].includes(N)&&(m.preventDefault(),P&&If(k,!0),t("focusout-prevented")):N===L&&(m.preventDefault(),t("focusout-prevented"))}};Sr(cN,{focusTrapRef:n,onKeydown:a}),At(()=>e.focusTrapEl,m=>{m&&(n.value=m)},{immediate:!0}),At([n],([m],[b])=>{m&&(m.addEventListener("keydown",a),m.addEventListener("focusin",d),m.addEventListener("focusout",h)),b&&(b.removeEventListener("keydown",a),b.removeEventListener("focusin",d),b.removeEventListener("focusout",h))});const s=m=>{t(_4,m)},f=m=>t(T4,m),d=m=>{const b=E(n);if(!b)return;const S=m.target,O=S&&b.contains(S);O&&t("focusin",m),!i.paused&&e.trapped&&(O?o=S:If(o,!0))},h=m=>{const b=E(n);if(!(i.paused||!b))if(e.trapped){const S=m.relatedTarget;!$a(S)&&!b.contains(S)&&setTimeout(()=>{!i.paused&&e.trapped&&If(o,!0)},0)}else{const S=m.target;S&&b.contains(S)||t("focusout",m)}};async function v(){await bn();const m=E(n);if(m){w4.push(i);const b=document.activeElement;if(r=b,!m.contains(b)){const O=new Event(hA,O4);m.addEventListener(hA,s),m.dispatchEvent(O),O.defaultPrevented||bn(()=>{let _=e.focusStartEl;Kn(_)||(If(_),document.activeElement!==_&&(_="first")),_==="first"&&tSe(WG(m),!0),(document.activeElement===b||_==="container")&&If(m)})}}}function y(){const m=E(n);if(m){m.removeEventListener(hA,s);const b=new Event(pA,O4);m.addEventListener(pA,f),m.dispatchEvent(b),b.defaultPrevented||If(r!=null?r:document.body,!0),m.removeEventListener(pA,s),w4.remove(i)}}return ir(()=>{e.trapped&&v(),At(()=>e.trapped,m=>{m?v():y()})}),Go(()=>{e.trapped&&y()}),{onKeydown:a}}});function rSe(e,t,n,r,o,i){return bt(e.$slots,"default",{handleKeydown:e.onKeydown})}var P_=zt(nSe,[["render",rSe],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const oSe=["fixed","absolute"],iSe=Kt({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:ot(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:tp,default:"bottom"},popperOptions:{type:ot(Object),default:()=>({})},strategy:{type:String,values:oSe,default:"absolute"}}),KG=Kt({...iSe,id:String,style:{type:ot([String,Array,Object])},className:{type:ot([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:ot([String,Array,Object])},popperStyle:{type:ot([String,Array,Object])},referenceEl:{type:ot(Object)},triggerTargetEl:{type:ot(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),aSe=["mouseenter","mouseleave","focus","blur","close"],C4=(e,t)=>{const{placement:n,strategy:r,popperOptions:o}=e,i={placement:n,strategy:r,...o,modifiers:lSe(e)};return uSe(i,t),cSe(i,o==null?void 0:o.modifiers),i},sSe=e=>{if(!!Rr)return Ps(e)};function lSe(e){const{offset:t,gpuAcceleration:n,fallbackPlacements:r}=e;return[{name:"offset",options:{offset:[0,t!=null?t:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n,adaptive:n}}]}function uSe(e,{arrowEl:t,arrowOffset:n}){e.modifiers.push({name:"arrow",options:{element:t,padding:n!=null?n:5}})}function cSe(e,t){t&&(e.modifiers=[...e.modifiers,...t!=null?t:[]])}const fSe={name:"ElPopperContent"},dSe=St({...fSe,props:KG,emits:aSe,setup(e,{expose:t,emit:n}){const r=e,{popperInstanceRef:o,contentRef:i,triggerRef:a,role:s}=Cn(ZM,void 0),f=Cn(du,void 0),{nextZIndex:d}=Pc(),h=wt("popper"),v=re(),y=re("first"),m=re(),b=re();Sr(cG,{arrowRef:m,arrowOffset:b}),f&&(f.addInputId||f.removeInputId)&&Sr(du,{...f,addInputId:to,removeInputId:to});const S=re(r.zIndex||d()),O=re(!1);let _;const A=G(()=>sSe(r.referenceEl)||E(a)),T=G(()=>[{zIndex:E(S)},r.popperStyle]),P=G(()=>[h.b(),h.is("pure",r.pure),h.is(r.effect),r.popperClass]),x=G(()=>s&&s.value==="dialog"?"false":void 0),N=({referenceEl:B,popperContentEl:V,arrowEl:Y})=>{const K=C4(r,{arrowEl:Y,arrowOffset:E(b)});return GG(B,V,K)},L=(B=!0)=>{var V;(V=E(o))==null||V.update(),B&&(S.value=r.zIndex||d())},j=()=>{var B,V;const Y={name:"eventListeners",enabled:r.visible};(V=(B=E(o))==null?void 0:B.setOptions)==null||V.call(B,K=>({...K,modifiers:[...K.modifiers||[],Y]})),L(!1),r.visible&&r.focusOnShow?O.value=!0:r.visible===!1&&(O.value=!1)},k=()=>{n("focus")},F=()=>{y.value="first",n("blur")},z=B=>{var V;r.visible&&!O.value&&(B.target&&(y.value=B.target),O.value=!0,B.relatedTarget&&((V=B.relatedTarget)==null||V.focus()))},M=()=>{r.trapping||(O.value=!1)},D=()=>{O.value=!1,n("close")};return ir(()=>{let B;At(A,V=>{var Y;B==null||B();const K=E(o);if((Y=K==null?void 0:K.destroy)==null||Y.call(K),V){const X=E(v);i.value=X,o.value=N({referenceEl:V,popperContentEl:X,arrowEl:E(m)}),B=At(()=>V.getBoundingClientRect(),()=>L(),{immediate:!0})}else o.value=void 0},{immediate:!0}),At(()=>r.triggerTargetEl,(V,Y)=>{_==null||_(),_=void 0;const K=E(V||v.value),X=E(Y||v.value);if(gc(K)){const{ariaLabel:W,id:ie}=mi(r);_=At([s,W,x,ie],oe=>{["role","aria-label","aria-modal","id"].forEach((ee,ue)=>{$a(oe[ue])?K.removeAttribute(ee):K.setAttribute(ee,oe[ue])})},{immediate:!0})}X!==K&&gc(X)&&["role","aria-label","aria-modal","id"].forEach(W=>{X.removeAttribute(W)})},{immediate:!0}),At(()=>r.visible,j,{immediate:!0}),At(()=>C4(r,{arrowEl:E(m),arrowOffset:E(b)}),V=>{var Y;return(Y=o.value)==null?void 0:Y.setOptions(V)})}),Go(()=>{_==null||_(),_=void 0}),t({popperContentRef:v,popperInstanceRef:o,updatePopper:L,contentStyle:T}),(B,V)=>(H(),le("div",{ref_key:"popperContentRef",ref:v,style:gn(E(T)),class:Z(E(P)),tabindex:"-1",onMouseenter:V[0]||(V[0]=Y=>B.$emit("mouseenter",Y)),onMouseleave:V[1]||(V[1]=Y=>B.$emit("mouseleave",Y))},[Te(E(P_),{trapped:O.value,"trap-on-focus-in":!0,"focus-trap-el":v.value,"focus-start-el":y.value,onFocusAfterTrapped:k,onFocusAfterReleased:F,onFocusin:z,onFocusoutPrevented:M,onReleaseRequested:D},{default:Be(()=>[bt(B.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el"])],38))}});var hSe=zt(dSe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const XG=fr(UEe),pSe=wt("tooltip"),Bi=Kt({...E0e,...KG,appendTo:{type:ot([String,Object]),default:mG},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:ot(Boolean),default:null},transition:{type:String,default:`${pSe.namespace.value}-fade-in-linear`},teleported:{type:Boolean,default:!0},disabled:{type:Boolean}}),Eb=Kt({...IG,disabled:Boolean,trigger:{type:ot([String,Array]),default:"hover"},triggerKeys:{type:ot(Array),default:()=>[Mn.enter,Mn.space]}}),vSe=Kt({openDelay:{type:Number},visibleArrow:{type:Boolean,default:void 0},hideAfter:{type:Number,default:200},showArrow:{type:Boolean,default:!0}}),x_=Symbol("elTooltip"),ySe=St({name:"ElTooltipContent",components:{ElPopperContent:hSe},inheritAttrs:!1,props:Bi,setup(e){const t=re(null),n=re(!1),r=re(!1),o=re(!1),i=re(!1),{controlled:a,id:s,open:f,trigger:d,onClose:h,onOpen:v,onShow:y,onHide:m,onBeforeShow:b,onBeforeHide:S}=Cn(x_,void 0),O=G(()=>e.persistent);Go(()=>{i.value=!0});const _=G(()=>E(O)?!0:E(f)),A=G(()=>e.disabled?!1:E(f)),T=G(()=>{var B;return(B=e.style)!=null?B:{}}),P=G(()=>!E(f)),x=()=>{m()},N=()=>{if(E(a))return!0},L=Io(N,()=>{e.enterable&&E(d)==="hover"&&v()}),j=Io(N,()=>{E(d)==="hover"&&h()}),k=()=>{var B,V;(V=(B=t.value)==null?void 0:B.updatePopper)==null||V.call(B),b==null||b()},F=()=>{S==null||S()},z=()=>{y(),D=BM(G(()=>{var B;return(B=t.value)==null?void 0:B.popperContentRef}),()=>{if(E(a))return;E(d)!=="hover"&&h()})},M=()=>{e.virtualTriggering||h()};let D;return At(()=>E(f),B=>{B||D==null||D()},{flush:"post"}),{ariaHidden:P,entering:r,leaving:o,id:s,intermediateOpen:n,contentStyle:T,contentRef:t,destroyed:i,shouldRender:_,shouldShow:A,onClose:h,open:f,onAfterShow:z,onBeforeEnter:k,onBeforeLeave:F,onContentEnter:L,onContentLeave:j,onTransitionLeave:x,onBlur:M}}});function mSe(e,t,n,r,o,i){const a=_n("el-popper-content");return H(),et(Vb,{disabled:!e.teleported,to:e.appendTo},[Te(ti,{name:e.transition,onAfterLeave:e.onTransitionLeave,onBeforeEnter:e.onBeforeEnter,onAfterEnter:e.onAfterShow,onBeforeLeave:e.onBeforeLeave},{default:Be(()=>[e.shouldRender?Gn((H(),et(a,br({key:0,id:e.id,ref:"contentRef"},e.$attrs,{"aria-label":e.ariaLabel,"aria-hidden":e.ariaHidden,"boundaries-padding":e.boundariesPadding,"fallback-placements":e.fallbackPlacements,"gpu-acceleration":e.gpuAcceleration,offset:e.offset,placement:e.placement,"popper-options":e.popperOptions,strategy:e.strategy,effect:e.effect,enterable:e.enterable,pure:e.pure,"popper-class":e.popperClass,"popper-style":[e.popperStyle,e.contentStyle],"reference-el":e.referenceEl,"trigger-target-el":e.triggerTargetEl,visible:e.shouldShow,"z-index":e.zIndex,onMouseenter:e.onContentEnter,onMouseleave:e.onContentLeave,onBlur:e.onBlur,onClose:e.onClose}),{default:Be(()=>[Ye(" Workaround bug #6378 "),e.destroyed?Ye("v-if",!0):bt(e.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onBlur","onClose"])),[[Lr,e.shouldShow]]):Ye("v-if",!0)]),_:3},8,["name","onAfterLeave","onBeforeEnter","onAfterEnter","onBeforeLeave"])],8,["disabled","to"])}var gSe=zt(ySe,[["render",mSe],["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const bSe=(e,t)=>Sn(e)?e.includes(t):e===t,pv=(e,t,n)=>r=>{bSe(E(e),t)&&n(r)},ESe=St({name:"ElTooltipTrigger",components:{ElPopperTrigger:YEe},props:Eb,setup(e){const t=wt("tooltip"),{controlled:n,id:r,open:o,onOpen:i,onClose:a,onToggle:s}=Cn(x_,void 0),f=re(null),d=()=>{if(E(n)||e.disabled)return!0},h=Do(e,"trigger"),v=Io(d,pv(h,"hover",i)),y=Io(d,pv(h,"hover",a)),m=Io(d,pv(h,"click",A=>{A.button===0&&s(A)})),b=Io(d,pv(h,"focus",i)),S=Io(d,pv(h,"focus",a)),O=Io(d,pv(h,"contextmenu",A=>{A.preventDefault(),s(A)})),_=Io(d,A=>{const{code:T}=A;e.triggerKeys.includes(T)&&(A.preventDefault(),s(A))});return{onBlur:S,onContextMenu:O,onFocus:b,onMouseenter:v,onMouseleave:y,onClick:m,onKeydown:_,open:o,id:r,triggerRef:f,ns:t}}});function SSe(e,t,n,r,o,i){const a=_n("el-popper-trigger");return H(),et(a,{id:e.id,"virtual-ref":e.virtualRef,open:e.open,"virtual-triggering":e.virtualTriggering,class:Z(e.ns.e("trigger")),onBlur:e.onBlur,onClick:e.onClick,onContextmenu:e.onContextMenu,onFocus:e.onFocus,onMouseenter:e.onMouseenter,onMouseleave:e.onMouseleave,onKeydown:e.onKeydown},{default:Be(()=>[bt(e.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"])}var wSe=zt(ESe,[["render",SSe],["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const{useModelToggleProps:OSe,useModelToggle:_Se,useModelToggleEmits:TSe}=d0e("visible"),CSe=St({name:"ElTooltip",components:{ElPopper:XG,ElPopperArrow:GEe,ElTooltipContent:gSe,ElTooltipTrigger:wSe},props:{...xG,...OSe,...Bi,...Eb,...MG,...vSe},emits:[...TSe,"before-show","before-hide","show","hide","open","close"],setup(e,{emit:t}){b0e();const n=G(()=>(Vi(e.openDelay),e.openDelay||e.showAfter)),r=G(()=>(Vi(e.visibleArrow),_i(e.visibleArrow)?e.visibleArrow:e.showArrow)),o=gl(),i=re(null),a=re(null),s=()=>{var _;const A=E(i);A&&((_=A.popperInstanceRef)==null||_.update())},f=re(!1),d=re(void 0),{show:h,hide:v,hasUpdateHandler:y}=_Se({indicator:f,toggleReason:d}),{onOpen:m,onClose:b}=S0e({showAfter:n,hideAfter:Do(e,"hideAfter"),open:h,close:v}),S=G(()=>_i(e.visible)&&!y.value);Sr(x_,{controlled:S,id:o,open:Ub(f),trigger:Do(e,"trigger"),onOpen:_=>{m(_)},onClose:_=>{b(_)},onToggle:_=>{E(f)?b(_):m(_)},onShow:()=>{t("show",d.value)},onHide:()=>{t("hide",d.value)},onBeforeShow:()=>{t("before-show",d.value)},onBeforeHide:()=>{t("before-hide",d.value)},updatePopper:s}),At(()=>e.disabled,_=>{_&&f.value&&(f.value=!1)});const O=()=>{var _,A;const T=(A=(_=a.value)==null?void 0:_.contentRef)==null?void 0:A.popperContentRef;return T&&T.contains(document.activeElement)};return MV(()=>f.value&&v()),{compatShowAfter:n,compatShowArrow:r,popperRef:i,contentRef:a,open:f,hide:v,isFocusInsideContent:O,updatePopper:s,onOpen:m,onClose:b}}}),ASe=["innerHTML"],PSe={key:1};function xSe(e,t,n,r,o,i){const a=_n("el-tooltip-trigger"),s=_n("el-popper-arrow"),f=_n("el-tooltip-content"),d=_n("el-popper");return H(),et(d,{ref:"popperRef",role:e.role},{default:Be(()=>[Te(a,{disabled:e.disabled,trigger:e.trigger,"trigger-keys":e.triggerKeys,"virtual-ref":e.virtualRef,"virtual-triggering":e.virtualTriggering},{default:Be(()=>[e.$slots.default?bt(e.$slots,"default",{key:0}):Ye("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),Te(f,{ref:"contentRef","aria-label":e.ariaLabel,"boundaries-padding":e.boundariesPadding,content:e.content,disabled:e.disabled,effect:e.effect,enterable:e.enterable,"fallback-placements":e.fallbackPlacements,"hide-after":e.hideAfter,"gpu-acceleration":e.gpuAcceleration,offset:e.offset,persistent:e.persistent,"popper-class":e.popperClass,"popper-style":e.popperStyle,placement:e.placement,"popper-options":e.popperOptions,pure:e.pure,"raw-content":e.rawContent,"reference-el":e.referenceEl,"trigger-target-el":e.triggerTargetEl,"show-after":e.compatShowAfter,strategy:e.strategy,teleported:e.teleported,transition:e.transition,"virtual-triggering":e.virtualTriggering,"z-index":e.zIndex,"append-to":e.appendTo},{default:Be(()=>[bt(e.$slots,"content",{},()=>[e.rawContent?(H(),le("span",{key:0,innerHTML:e.content},null,8,ASe)):(H(),le("span",PSe,Bt(e.content),1))]),e.compatShowArrow?(H(),et(s,{key:0,"arrow-offset":e.arrowOffset},null,8,["arrow-offset"])):Ye("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"])}var MSe=zt(CSe,[["render",xSe],["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const Ua=fr(MSe),NSe=Kt({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:ot(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:ot([Function,Array]),default:to},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},label:{type:String},teleported:Bi.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1}}),RSe={[hr]:e=>Kn(e),[ks]:e=>Kn(e),[Po]:e=>Kn(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,select:e=>Er(e)},ISe=["aria-expanded","aria-owns"],DSe={key:0},kSe=["id","aria-selected","onClick"],LSe={name:"ElAutocomplete",inheritAttrs:!1},$Se=St({...LSe,props:NSe,emits:RSe,setup(e,{expose:t,emit:n}){const r=e,o="ElAutocomplete",i=YM(),a=Gb(),s=Ac(),f=wt("autocomplete"),d=re(),h=re(),v=re(),y=re();let m=!1,b=!1;const S=re([]),O=re(-1),_=re(""),A=re(!1),T=re(!1),P=re(!1),x=G(()=>f.b(String(Yb()))),N=G(()=>a.style),L=G(()=>(S.value.length>0||P.value)&&A.value),j=G(()=>!r.hideLoading&&P.value),k=G(()=>d.value?Array.from(d.value.$el.querySelectorAll("input")):[]),F=async()=>{await bn(),L.value&&(_.value=`${d.value.$el.offsetWidth}px`)},z=()=>{b=!0},M=()=>{b=!1,O.value=-1},B=Sa(async he=>{if(T.value)return;const te=ae=>{P.value=!1,!T.value&&(Sn(ae)?(S.value=ae,O.value=r.highlightFirstItem?0:-1):gi(o,"autocomplete suggestions must be an array"))};if(P.value=!0,Sn(r.fetchSuggestions))te(r.fetchSuggestions);else{const ae=await r.fetchSuggestions(he,te);Sn(ae)&&te(ae)}},r.debounce),V=he=>{const te=!!he;if(n(ks,he),n(hr,he),T.value=!1,A.value||(A.value=te),!r.triggerOnFocus&&!he){T.value=!0,S.value=[];return}B(he)},Y=he=>{var te;s.value||(((te=he.target)==null?void 0:te.tagName)!=="INPUT"||k.value.includes(document.activeElement))&&(A.value=!0)},K=he=>{n(Po,he)},X=he=>{b||(A.value=!0,n("focus",he),r.triggerOnFocus&&!m&&B(String(r.modelValue)))},W=he=>{b||n("blur",he)},ie=()=>{A.value=!1,n(hr,""),n("clear")},oe=async()=>{L.value&&O.value>=0&&O.value<S.value.length?Ie(S.value[O.value]):r.selectWhenUnmatched&&(n("select",{value:r.modelValue}),S.value=[],O.value=-1)},ee=he=>{L.value&&(he.preventDefault(),he.stopPropagation(),ue())},ue=()=>{A.value=!1},Ne=()=>{var he;(he=d.value)==null||he.focus()},$e=()=>{var he;(he=d.value)==null||he.blur()},Ie=async he=>{n(ks,he[r.valueKey]),n(hr,he[r.valueKey]),n("select",he),S.value=[],O.value=-1},Le=he=>{if(!L.value||P.value)return;if(he<0){O.value=-1;return}he>=S.value.length&&(he=S.value.length-1);const te=h.value.querySelector(`.${f.be("suggestion","wrap")}`),Ce=te.querySelectorAll(`.${f.be("suggestion","list")} li`)[he],Ze=te.scrollTop,{offsetTop:se,scrollHeight:de}=Ce;se+de>Ze+te.clientHeight&&(te.scrollTop+=de),se<Ze&&(te.scrollTop-=de),O.value=he,d.value.ref.setAttribute("aria-activedescendant",`${x.value}-item-${O.value}`)};return BM(y,()=>{L.value&&ue()}),ir(()=>{d.value.ref.setAttribute("role","textbox"),d.value.ref.setAttribute("aria-autocomplete","list"),d.value.ref.setAttribute("aria-controls","id"),d.value.ref.setAttribute("aria-activedescendant",`${x.value}-item-${O.value}`),m=d.value.ref.hasAttribute("readonly")}),t({highlightedIndex:O,activated:A,loading:P,inputRef:d,popperRef:v,suggestions:S,handleSelect:Ie,handleKeyEnter:oe,focus:Ne,blur:$e,close:ue,highlight:Le}),(he,te)=>(H(),et(E(Ua),{ref_key:"popperRef",ref:v,visible:E(L),placement:he.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[E(f).e("popper"),he.popperClass],teleported:he.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${E(f).namespace.value}-zoom-in-top`,persistent:"",onBeforeShow:F,onShow:z,onHide:M},{content:Be(()=>[ve("div",{ref_key:"regionRef",ref:h,class:Z([E(f).b("suggestion"),E(f).is("loading",E(j))]),style:gn({[he.fitInputWidth?"width":"minWidth"]:_.value,outline:"none"}),role:"region"},[Te(E(Mc),{id:E(x),tag:"ul","wrap-class":E(f).be("suggestion","wrap"),"view-class":E(f).be("suggestion","list"),role:"listbox"},{default:Be(()=>[E(j)?(H(),le("li",DSe,[Te(E(En),{class:Z(E(f).is("loading"))},{default:Be(()=>[Te(E(ad))]),_:1},8,["class"])])):(H(!0),le(wn,{key:1},_r(S.value,(ae,Ce)=>(H(),le("li",{id:`${E(x)}-item-${Ce}`,key:Ce,class:Z({highlighted:O.value===Ce}),role:"option","aria-selected":O.value===Ce,onClick:Ze=>Ie(ae)},[bt(he.$slots,"default",{item:ae},()=>[$r(Bt(ae[he.valueKey]),1)])],10,kSe))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:Be(()=>[ve("div",{ref_key:"listboxRef",ref:y,class:Z([E(f).b(),he.$attrs.class]),style:gn(E(N)),role:"combobox","aria-haspopup":"listbox","aria-expanded":E(L),"aria-owns":E(x)},[Te(E(na),br({ref_key:"inputRef",ref:d},E(i),{"model-value":he.modelValue,onInput:V,onChange:K,onFocus:X,onBlur:W,onClear:ie,onKeydown:[te[0]||(te[0]=kr(Fn(ae=>Le(O.value-1),["prevent"]),["up"])),te[1]||(te[1]=kr(Fn(ae=>Le(O.value+1),["prevent"]),["down"])),kr(oe,["enter"]),kr(ue,["tab"]),kr(ee,["esc"])],onMousedown:Y}),Yf({_:2},[he.$slots.prepend?{name:"prepend",fn:Be(()=>[bt(he.$slots,"prepend")])}:void 0,he.$slots.append?{name:"append",fn:Be(()=>[bt(he.$slots,"append")])}:void 0,he.$slots.prefix?{name:"prefix",fn:Be(()=>[bt(he.$slots,"prefix")])}:void 0,he.$slots.suffix?{name:"suffix",fn:Be(()=>[bt(he.$slots,"suffix")])}:void 0]),1040,["model-value","onKeydown"])],14,ISe)]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var BSe=zt($Se,[["__file","/home/runner/work/element-plus/element-plus/packages/components/autocomplete/src/autocomplete.vue"]]);const jSe=fr(BSe),FSe=Kt({size:{type:[Number,String],values:Qh,default:"",validator:e=>Jn(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:po},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:ot(String),default:"cover"}}),zSe={error:e=>e instanceof Event},USe=["src","alt","srcset"],VSe={name:"ElAvatar"},HSe=St({...VSe,props:FSe,emits:zSe,setup(e,{emit:t}){const n=e,r=wt("avatar"),o=re(!1),i=G(()=>{const{size:d,icon:h,shape:v}=n,y=[r.b()];return Kn(d)&&y.push(r.m(d)),h&&y.push(r.m("icon")),v&&y.push(r.m(v)),y}),a=G(()=>{const{size:d}=n;return Jn(d)?r.cssVarBlock({size:yi(d)||""}):void 0}),s=G(()=>({objectFit:n.fit}));At(()=>n.src,()=>o.value=!1);function f(d){o.value=!0,t("error",d)}return(d,h)=>(H(),le("span",{class:Z(E(i)),style:gn(E(a))},[(d.src||d.srcSet)&&!o.value?(H(),le("img",{key:0,src:d.src,alt:d.alt,srcset:d.srcSet,style:gn(E(s)),onError:f},null,44,USe)):d.icon?(H(),et(E(En),{key:1},{default:Be(()=>[(H(),et(mr(d.icon)))]),_:1})):bt(d.$slots,"default",{key:2})],6))}});var GSe=zt(HSe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/avatar/src/avatar.vue"]]);const WSe=fr(GSe),KSe={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},XSe={click:e=>e instanceof MouseEvent},YSe=["onClick"],ZSe={name:"ElBacktop"},JSe=St({...ZSe,props:KSe,emits:XSe,setup(e,{emit:t}){const n=e,r="ElBacktop",o=wt("backtop"),i=bo(),a=bo(),s=re(!1),f=G(()=>({right:`${n.right}px`,bottom:`${n.bottom}px`})),d=()=>{if(!i.value)return;const m=Date.now(),b=i.value.scrollTop,S=()=>{if(!i.value)return;const O=(Date.now()-m)/500;O<1?(i.value.scrollTop=b*(1-Qbe(O)),requestAnimationFrame(S)):i.value.scrollTop=0};requestAnimationFrame(S)},h=()=>{i.value&&(s.value=i.value.scrollTop>=n.visibilityHeight)},v=m=>{d(),t("click",m)},y=jH(h,300);return Eo(a,"scroll",y),ir(()=>{var m;a.value=document,i.value=document.documentElement,n.target&&(i.value=(m=document.querySelector(n.target))!=null?m:void 0,i.value||gi(r,`target is not existed: ${n.target}`),a.value=i.value)}),(m,b)=>(H(),et(ti,{name:`${E(o).namespace.value}-fade-in`},{default:Be(()=>[s.value?(H(),le("div",{key:0,style:gn(E(f)),class:Z(E(o).b()),onClick:Fn(v,["stop"])},[bt(m.$slots,"default",{},()=>[Te(E(En),{class:Z(E(o).e("icon"))},{default:Be(()=>[Te(E(fye))]),_:1},8,["class"])])],14,YSe)):Ye("v-if",!0)]),_:3},8,["name"]))}});var QSe=zt(JSe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/backtop/src/backtop.vue"]]);const qSe=fr(QSe),ewe=Kt({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),twe=["textContent"],nwe={name:"ElBadge"},rwe=St({...nwe,props:ewe,setup(e,{expose:t}){const n=e,r=wt("badge"),o=G(()=>n.isDot?"":Jn(n.value)&&Jn(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`);return t({content:o}),(i,a)=>(H(),le("div",{class:Z(E(r).b())},[bt(i.$slots,"default"),Te(ti,{name:`${E(r).namespace.value}-zoom-in-center`,persisted:""},{default:Be(()=>[Gn(ve("sup",{class:Z([E(r).e("content"),E(r).em("content",i.type),E(r).is("fixed",!!i.$slots.default),E(r).is("dot",i.isDot)]),textContent:Bt(E(o))},null,10,twe),[[Lr,!i.hidden&&(E(o)||i.isDot)]])]),_:1},8,["name"])],2))}});var owe=zt(rwe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const YG=fr(owe),iwe=Kt({separator:{type:String,default:"/"},separatorIcon:{type:po}}),awe={name:"ElBreadcrumb"},swe=St({...awe,props:iwe,setup(e){const t=e,n=wt("breadcrumb"),r=re();return Sr(QH,t),ir(()=>{const o=r.value.querySelectorAll(`.${n.e("item")}`);o.length&&o[o.length-1].setAttribute("aria-current","page")}),(o,i)=>(H(),le("div",{ref_key:"breadcrumb",ref:r,class:Z(E(n).b()),"aria-label":"Breadcrumb",role:"navigation"},[bt(o.$slots,"default")],2))}});var lwe=zt(swe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb.vue"]]);const uwe=Kt({to:{type:ot([String,Object]),default:""},replace:{type:Boolean,default:!1}}),cwe={name:"ElBreadcrumbItem"},fwe=St({...cwe,props:uwe,setup(e){const t=e,n=cr(),r=Cn(QH,void 0),o=wt("breadcrumb"),{separator:i,separatorIcon:a}=mi(r),s=n.appContext.config.globalProperties.$router,f=re(),d=()=>{!t.to||!s||(t.replace?s.replace(t.to):s.push(t.to))};return(h,v)=>(H(),le("span",{class:Z(E(o).e("item"))},[ve("span",{ref_key:"link",ref:f,class:Z([E(o).e("inner"),E(o).is("link",!!h.to)]),role:"link",onClick:d},[bt(h.$slots,"default")],2),E(a)?(H(),et(E(En),{key:0,class:Z(E(o).e("separator"))},{default:Be(()=>[(H(),et(mr(E(a))))]),_:1},8,["class"])):(H(),le("span",{key:1,class:Z(E(o).e("separator")),role:"presentation"},Bt(E(i)),3))],2))}});var ZG=zt(fwe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb-item.vue"]]);const dwe=fr(lwe,{BreadcrumbItem:ZG}),hwe=ko(ZG),MP=["default","primary","success","warning","info","danger","text",""],pwe=["button","submit","reset"],NP=Kt({size:os,disabled:Boolean,type:{type:String,values:MP,default:""},icon:{type:po},nativeType:{type:String,values:pwe,default:"button"},loading:Boolean,loadingIcon:{type:po,default:()=>ad},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0}}),vwe={click:e=>e instanceof MouseEvent};function Hi(e,t){ywe(e)&&(e="100%");var n=mwe(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function US(e){return Math.min(1,Math.max(0,e))}function ywe(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function mwe(e){return typeof e=="string"&&e.indexOf("%")!==-1}function JG(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function VS(e){return e<=1?"".concat(Number(e)*100,"%"):e}function Eh(e){return e.length===1?"0"+e:String(e)}function gwe(e,t,n){return{r:Hi(e,255)*255,g:Hi(t,255)*255,b:Hi(n,255)*255}}function A4(e,t,n){e=Hi(e,255),t=Hi(t,255),n=Hi(n,255);var r=Math.max(e,t,n),o=Math.min(e,t,n),i=0,a=0,s=(r+o)/2;if(r===o)a=0,i=0;else{var f=r-o;switch(a=s>.5?f/(2-r-o):f/(r+o),r){case e:i=(t-n)/f+(t<n?6:0);break;case t:i=(n-e)/f+2;break;case n:i=(e-t)/f+4;break}i/=6}return{h:i,s:a,l:s}}function vA(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function bwe(e,t,n){var r,o,i;if(e=Hi(e,360),t=Hi(t,100),n=Hi(n,100),t===0)o=n,i=n,r=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;r=vA(s,a,e+1/3),o=vA(s,a,e),i=vA(s,a,e-1/3)}return{r:r*255,g:o*255,b:i*255}}function P4(e,t,n){e=Hi(e,255),t=Hi(t,255),n=Hi(n,255);var r=Math.max(e,t,n),o=Math.min(e,t,n),i=0,a=r,s=r-o,f=r===0?0:s/r;if(r===o)i=0;else{switch(r){case e:i=(t-n)/s+(t<n?6:0);break;case t:i=(n-e)/s+2;break;case n:i=(e-t)/s+4;break}i/=6}return{h:i,s:f,v:a}}function Ewe(e,t,n){e=Hi(e,360)*6,t=Hi(t,100),n=Hi(n,100);var r=Math.floor(e),o=e-r,i=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),f=r%6,d=[n,a,i,i,s,n][f],h=[s,n,n,a,i,i][f],v=[i,i,s,n,n,a][f];return{r:d*255,g:h*255,b:v*255}}function x4(e,t,n,r){var o=[Eh(Math.round(e).toString(16)),Eh(Math.round(t).toString(16)),Eh(Math.round(n).toString(16))];return r&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function Swe(e,t,n,r,o){var i=[Eh(Math.round(e).toString(16)),Eh(Math.round(t).toString(16)),Eh(Math.round(n).toString(16)),Eh(wwe(r))];return o&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))&&i[3].startsWith(i[3].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function wwe(e){return Math.round(parseFloat(e)*255).toString(16)}function M4(e){return Ja(e)/255}function Ja(e){return parseInt(e,16)}function Owe(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var RP={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function _we(e){var t={r:0,g:0,b:0},n=1,r=null,o=null,i=null,a=!1,s=!1;return typeof e=="string"&&(e=Awe(e)),typeof e=="object"&&(Yu(e.r)&&Yu(e.g)&&Yu(e.b)?(t=gwe(e.r,e.g,e.b),a=!0,s=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Yu(e.h)&&Yu(e.s)&&Yu(e.v)?(r=VS(e.s),o=VS(e.v),t=Ewe(e.h,r,o),a=!0,s="hsv"):Yu(e.h)&&Yu(e.s)&&Yu(e.l)&&(r=VS(e.s),i=VS(e.l),t=bwe(e.h,r,i),a=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=JG(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var Twe="[-\\+]?\\d+%?",Cwe="[-\\+]?\\d*\\.\\d+%?",Uf="(?:".concat(Cwe,")|(?:").concat(Twe,")"),yA="[\\s|\\(]+(".concat(Uf,")[,|\\s]+(").concat(Uf,")[,|\\s]+(").concat(Uf,")\\s*\\)?"),mA="[\\s|\\(]+(".concat(Uf,")[,|\\s]+(").concat(Uf,")[,|\\s]+(").concat(Uf,")[,|\\s]+(").concat(Uf,")\\s*\\)?"),ll={CSS_UNIT:new RegExp(Uf),rgb:new RegExp("rgb"+yA),rgba:new RegExp("rgba"+mA),hsl:new RegExp("hsl"+yA),hsla:new RegExp("hsla"+mA),hsv:new RegExp("hsv"+yA),hsva:new RegExp("hsva"+mA),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Awe(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(RP[e])e=RP[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=ll.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=ll.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=ll.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=ll.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=ll.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=ll.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=ll.hex8.exec(e),n?{r:Ja(n[1]),g:Ja(n[2]),b:Ja(n[3]),a:M4(n[4]),format:t?"name":"hex8"}:(n=ll.hex6.exec(e),n?{r:Ja(n[1]),g:Ja(n[2]),b:Ja(n[3]),format:t?"name":"hex"}:(n=ll.hex4.exec(e),n?{r:Ja(n[1]+n[1]),g:Ja(n[2]+n[2]),b:Ja(n[3]+n[3]),a:M4(n[4]+n[4]),format:t?"name":"hex8"}:(n=ll.hex3.exec(e),n?{r:Ja(n[1]+n[1]),g:Ja(n[2]+n[2]),b:Ja(n[3]+n[3]),format:t?"name":"hex"}:!1)))))))))}function Yu(e){return Boolean(ll.CSS_UNIT.exec(String(e)))}var QG=function(){function e(t,n){t===void 0&&(t=""),n===void 0&&(n={});var r;if(t instanceof e)return t;typeof t=="number"&&(t=Owe(t)),this.originalInput=t;var o=_we(t);this.originalInput=t,this.r=o.r,this.g=o.g,this.b=o.b,this.a=o.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:o.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=o.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),n,r,o,i=t.r/255,a=t.g/255,s=t.b/255;return i<=.03928?n=i/12.92:n=Math.pow((i+.055)/1.055,2.4),a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),s<=.03928?o=s/12.92:o=Math.pow((s+.055)/1.055,2.4),.2126*n+.7152*r+.0722*o},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=JG(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var t=P4(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=P4(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),o=Math.round(t.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(o,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(o,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=A4(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=A4(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),o=Math.round(t.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(o,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(o,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),x4(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),Swe(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(n,", ").concat(r,")"):"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(n){return"".concat(Math.round(Hi(n,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(n){return Math.round(Hi(n,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+x4(this.r,this.g,this.b,!1),n=0,r=Object.entries(RP);n<r.length;n++){var o=r[n],i=o[0],a=o[1];if(t===a)return i}return!1},e.prototype.toString=function(t){var n=Boolean(t);t=t!=null?t:this.format;var r=!1,o=this.a<1&&this.a>=0,i=!n&&o&&(t.startsWith("hex")||t==="name");return i?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=US(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=US(n.l),new e(n)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=US(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=US(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var r=this.toRgb(),o=new e(t).toRgb(),i=n/100,a={r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a};return new e(a)},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var r=this.toHsl(),o=360/n,i=[this];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(new e(r));return i},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),r=n.h,o=n.s,i=n.v,a=[],s=1/t;t--;)a.push(new e({h:r,s:o,v:i})),i=(i+s)%1;return a},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb();return new e({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,o=[this],i=360/t,a=1;a<t;a++)o.push(new e({h:(r+a*i)%360,s:n.s,l:n.l}));return o},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function Pf(e,t=20){return e.mix("#141414",t).toString()}function Pwe(e){const t=Ac(),n=wt("button");return G(()=>{let r={};const o=e.color;if(o){const i=new QG(o),a=e.dark?i.tint(20).toString():Pf(i,20);if(e.plain)r=n.cssVarBlock({"bg-color":e.dark?Pf(i,90):i.tint(90).toString(),"text-color":o,"border-color":e.dark?Pf(i,50):i.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":o,"hover-border-color":o,"active-bg-color":a,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":a}),t.value&&(r[n.cssVarBlockName("disabled-bg-color")]=e.dark?Pf(i,90):i.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=e.dark?Pf(i,50):i.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=e.dark?Pf(i,80):i.tint(80).toString());else{const s=e.dark?Pf(i,30):i.tint(30).toString(),f=i.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":o,"text-color":f,"border-color":o,"hover-bg-color":s,"hover-text-color":f,"hover-border-color":s,"active-bg-color":a,"active-border-color":a}),t.value){const d=e.dark?Pf(i,50):i.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=d,r[n.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=d}}}return r})}const xwe=["aria-disabled","disabled","autofocus","type"],Mwe={name:"ElButton"},Nwe=St({...Mwe,props:NP,emits:vwe,setup(e,{expose:t,emit:n}){const r=e,o=Gi();Bh({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},G(()=>r.type==="text"));const i=Cn(qH,void 0),a=Cc("button"),s=wt("button"),{form:f}=as(),d=oi(G(()=>i==null?void 0:i.size)),h=Ac(),v=re(),y=G(()=>r.type||(i==null?void 0:i.type)||""),m=G(()=>{var _,A,T;return(T=(A=r.autoInsertSpace)!=null?A:(_=a.value)==null?void 0:_.autoInsertSpace)!=null?T:!1}),b=G(()=>{var _;const A=(_=o.default)==null?void 0:_.call(o);if(m.value&&(A==null?void 0:A.length)===1){const T=A[0];if((T==null?void 0:T.type)===Hb){const P=T.children;return/^\p{Unified_Ideograph}{2}$/u.test(P.trim())}}return!1}),S=Pwe(r),O=_=>{r.nativeType==="reset"&&(f==null||f.resetFields()),n("click",_)};return t({ref:v,size:d,type:y,disabled:h,shouldAddSpace:b}),(_,A)=>(H(),le("button",{ref_key:"_ref",ref:v,class:Z([E(s).b(),E(s).m(E(y)),E(s).m(E(d)),E(s).is("disabled",E(h)),E(s).is("loading",_.loading),E(s).is("plain",_.plain),E(s).is("round",_.round),E(s).is("circle",_.circle),E(s).is("text",_.text),E(s).is("link",_.link),E(s).is("has-bg",_.bg)]),"aria-disabled":E(h)||_.loading,disabled:E(h)||_.loading,autofocus:_.autofocus,type:_.nativeType,style:gn(E(S)),onClick:O},[_.loading?(H(),le(wn,{key:0},[_.$slots.loading?bt(_.$slots,"loading",{key:0}):(H(),et(E(En),{key:1,class:Z(E(s).is("loading"))},{default:Be(()=>[(H(),et(mr(_.loadingIcon)))]),_:1},8,["class"]))],64)):_.icon||_.$slots.icon?(H(),et(E(En),{key:1},{default:Be(()=>[_.icon?(H(),et(mr(_.icon),{key:0})):bt(_.$slots,"icon",{key:1})]),_:3})):Ye("v-if",!0),_.$slots.default?(H(),le("span",{key:2,class:Z({[E(s).em("text","expand")]:E(b)})},[bt(_.$slots,"default")],2)):Ye("v-if",!0)],14,xwe))}});var Rwe=zt(Nwe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const Iwe={size:NP.size,type:NP.type},Dwe={name:"ElButtonGroup"},kwe=St({...Dwe,props:Iwe,setup(e){const t=e;Sr(qH,Xr({size:Do(t,"size"),type:Do(t,"type")}));const n=wt("button");return(r,o)=>(H(),le("div",{class:Z(`${E(n).b("group")}`)},[bt(r.$slots,"default")],2))}});var qG=zt(kwe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const ra=fr(Rwe,{ButtonGroup:qG}),e7=ko(qG);var is=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function t7(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var n7={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(is,function(){var n=1e3,r=6e4,o=36e5,i="millisecond",a="second",s="minute",f="hour",d="day",h="week",v="month",y="quarter",m="year",b="date",S="Invalid Date",O=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,A={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},T=function(D,B,V){var Y=String(D);return!Y||Y.length>=B?D:""+Array(B+1-Y.length).join(V)+D},P={s:T,z:function(D){var B=-D.utcOffset(),V=Math.abs(B),Y=Math.floor(V/60),K=V%60;return(B<=0?"+":"-")+T(Y,2,"0")+":"+T(K,2,"0")},m:function D(B,V){if(B.date()<V.date())return-D(V,B);var Y=12*(V.year()-B.year())+(V.month()-B.month()),K=B.clone().add(Y,v),X=V-K<0,W=B.clone().add(Y+(X?-1:1),v);return+(-(Y+(V-K)/(X?K-W:W-K))||0)},a:function(D){return D<0?Math.ceil(D)||0:Math.floor(D)},p:function(D){return{M:v,y:m,w:h,d,D:b,h:f,m:s,s:a,ms:i,Q:y}[D]||String(D||"").toLowerCase().replace(/s$/,"")},u:function(D){return D===void 0}},x="en",N={};N[x]=A;var L=function(D){return D instanceof z},j=function D(B,V,Y){var K;if(!B)return x;if(typeof B=="string"){var X=B.toLowerCase();N[X]&&(K=X),V&&(N[X]=V,K=X);var W=B.split("-");if(!K&&W.length>1)return D(W[0])}else{var ie=B.name;N[ie]=B,K=ie}return!Y&&K&&(x=K),K||!Y&&x},k=function(D,B){if(L(D))return D.clone();var V=typeof B=="object"?B:{};return V.date=D,V.args=arguments,new z(V)},F=P;F.l=j,F.i=L,F.w=function(D,B){return k(D,{locale:B.$L,utc:B.$u,x:B.$x,$offset:B.$offset})};var z=function(){function D(V){this.$L=j(V.locale,null,!0),this.parse(V)}var B=D.prototype;return B.parse=function(V){this.$d=function(Y){var K=Y.date,X=Y.utc;if(K===null)return new Date(NaN);if(F.u(K))return new Date;if(K instanceof Date)return new Date(K);if(typeof K=="string"&&!/Z$/i.test(K)){var W=K.match(O);if(W){var ie=W[2]-1||0,oe=(W[7]||"0").substring(0,3);return X?new Date(Date.UTC(W[1],ie,W[3]||1,W[4]||0,W[5]||0,W[6]||0,oe)):new Date(W[1],ie,W[3]||1,W[4]||0,W[5]||0,W[6]||0,oe)}}return new Date(K)}(V),this.$x=V.x||{},this.init()},B.init=function(){var V=this.$d;this.$y=V.getFullYear(),this.$M=V.getMonth(),this.$D=V.getDate(),this.$W=V.getDay(),this.$H=V.getHours(),this.$m=V.getMinutes(),this.$s=V.getSeconds(),this.$ms=V.getMilliseconds()},B.$utils=function(){return F},B.isValid=function(){return this.$d.toString()!==S},B.isSame=function(V,Y){var K=k(V);return this.startOf(Y)<=K&&K<=this.endOf(Y)},B.isAfter=function(V,Y){return k(V)<this.startOf(Y)},B.isBefore=function(V,Y){return this.endOf(Y)<k(V)},B.$g=function(V,Y,K){return F.u(V)?this[Y]:this.set(K,V)},B.unix=function(){return Math.floor(this.valueOf()/1e3)},B.valueOf=function(){return this.$d.getTime()},B.startOf=function(V,Y){var K=this,X=!!F.u(Y)||Y,W=F.p(V),ie=function(he,te){var ae=F.w(K.$u?Date.UTC(K.$y,te,he):new Date(K.$y,te,he),K);return X?ae:ae.endOf(d)},oe=function(he,te){return F.w(K.toDate()[he].apply(K.toDate("s"),(X?[0,0,0,0]:[23,59,59,999]).slice(te)),K)},ee=this.$W,ue=this.$M,Ne=this.$D,$e="set"+(this.$u?"UTC":"");switch(W){case m:return X?ie(1,0):ie(31,11);case v:return X?ie(1,ue):ie(0,ue+1);case h:var Ie=this.$locale().weekStart||0,Le=(ee<Ie?ee+7:ee)-Ie;return ie(X?Ne-Le:Ne+(6-Le),ue);case d:case b:return oe($e+"Hours",0);case f:return oe($e+"Minutes",1);case s:return oe($e+"Seconds",2);case a:return oe($e+"Milliseconds",3);default:return this.clone()}},B.endOf=function(V){return this.startOf(V,!1)},B.$set=function(V,Y){var K,X=F.p(V),W="set"+(this.$u?"UTC":""),ie=(K={},K[d]=W+"Date",K[b]=W+"Date",K[v]=W+"Month",K[m]=W+"FullYear",K[f]=W+"Hours",K[s]=W+"Minutes",K[a]=W+"Seconds",K[i]=W+"Milliseconds",K)[X],oe=X===d?this.$D+(Y-this.$W):Y;if(X===v||X===m){var ee=this.clone().set(b,1);ee.$d[ie](oe),ee.init(),this.$d=ee.set(b,Math.min(this.$D,ee.daysInMonth())).$d}else ie&&this.$d[ie](oe);return this.init(),this},B.set=function(V,Y){return this.clone().$set(V,Y)},B.get=function(V){return this[F.p(V)]()},B.add=function(V,Y){var K,X=this;V=Number(V);var W=F.p(Y),ie=function(ue){var Ne=k(X);return F.w(Ne.date(Ne.date()+Math.round(ue*V)),X)};if(W===v)return this.set(v,this.$M+V);if(W===m)return this.set(m,this.$y+V);if(W===d)return ie(1);if(W===h)return ie(7);var oe=(K={},K[s]=r,K[f]=o,K[a]=n,K)[W]||1,ee=this.$d.getTime()+V*oe;return F.w(ee,this)},B.subtract=function(V,Y){return this.add(-1*V,Y)},B.format=function(V){var Y=this,K=this.$locale();if(!this.isValid())return K.invalidDate||S;var X=V||"YYYY-MM-DDTHH:mm:ssZ",W=F.z(this),ie=this.$H,oe=this.$m,ee=this.$M,ue=K.weekdays,Ne=K.months,$e=function(te,ae,Ce,Ze){return te&&(te[ae]||te(Y,X))||Ce[ae].slice(0,Ze)},Ie=function(te){return F.s(ie%12||12,te,"0")},Le=K.meridiem||function(te,ae,Ce){var Ze=te<12?"AM":"PM";return Ce?Ze.toLowerCase():Ze},he={YY:String(this.$y).slice(-2),YYYY:this.$y,M:ee+1,MM:F.s(ee+1,2,"0"),MMM:$e(K.monthsShort,ee,Ne,3),MMMM:$e(Ne,ee),D:this.$D,DD:F.s(this.$D,2,"0"),d:String(this.$W),dd:$e(K.weekdaysMin,this.$W,ue,2),ddd:$e(K.weekdaysShort,this.$W,ue,3),dddd:ue[this.$W],H:String(ie),HH:F.s(ie,2,"0"),h:Ie(1),hh:Ie(2),a:Le(ie,oe,!0),A:Le(ie,oe,!1),m:String(oe),mm:F.s(oe,2,"0"),s:String(this.$s),ss:F.s(this.$s,2,"0"),SSS:F.s(this.$ms,3,"0"),Z:W};return X.replace(_,function(te,ae){return ae||he[te]||W.replace(":","")})},B.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},B.diff=function(V,Y,K){var X,W=F.p(Y),ie=k(V),oe=(ie.utcOffset()-this.utcOffset())*r,ee=this-ie,ue=F.m(this,ie);return ue=(X={},X[m]=ue/12,X[v]=ue,X[y]=ue/3,X[h]=(ee-oe)/6048e5,X[d]=(ee-oe)/864e5,X[f]=ee/o,X[s]=ee/r,X[a]=ee/n,X)[W]||ee,K?ue:F.a(ue)},B.daysInMonth=function(){return this.endOf(v).$D},B.$locale=function(){return N[this.$L]},B.locale=function(V,Y){if(!V)return this.$L;var K=this.clone(),X=j(V,Y,!0);return X&&(K.$L=X),K},B.clone=function(){return F.w(this.$d,this)},B.toDate=function(){return new Date(this.valueOf())},B.toJSON=function(){return this.isValid()?this.toISOString():null},B.toISOString=function(){return this.$d.toISOString()},B.toString=function(){return this.$d.toUTCString()},D}(),M=z.prototype;return k.prototype=M,[["$ms",i],["$s",a],["$m",s],["$H",f],["$W",d],["$M",v],["$y",m],["$D",b]].forEach(function(D){M[D[1]]=function(B){return this.$g(B,D[0],D[1])}}),k.extend=function(D,B){return D.$i||(D(B,z,k),D.$i=!0),k},k.locale=j,k.isDayjs=L,k.unix=function(D){return k(1e3*D)},k.en=N[x],k.Ls=N,k.p={},k})})(n7);const rr=n7.exports;var r7={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(is,function(){return function(n,r,o){var i=r.prototype,a=function(v){return v&&(v.indexOf?v:v.s)},s=function(v,y,m,b,S){var O=v.name?v:v.$locale(),_=a(O[y]),A=a(O[m]),T=_||A.map(function(x){return x.slice(0,b)});if(!S)return T;var P=O.weekStart;return T.map(function(x,N){return T[(N+(P||0))%7]})},f=function(){return o.Ls[o.locale()]},d=function(v,y){return v.formats[y]||function(m){return m.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(b,S,O){return S||O.slice(1)})}(v.formats[y.toUpperCase()])},h=function(){var v=this;return{months:function(y){return y?y.format("MMMM"):s(v,"months")},monthsShort:function(y){return y?y.format("MMM"):s(v,"monthsShort","months",3)},firstDayOfWeek:function(){return v.$locale().weekStart||0},weekdays:function(y){return y?y.format("dddd"):s(v,"weekdays")},weekdaysMin:function(y){return y?y.format("dd"):s(v,"weekdaysMin","weekdays",2)},weekdaysShort:function(y){return y?y.format("ddd"):s(v,"weekdaysShort","weekdays",3)},longDateFormat:function(y){return d(v.$locale(),y)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return h.bind(this)()},o.localeData=function(){var v=f();return{firstDayOfWeek:function(){return v.weekStart||0},weekdays:function(){return o.weekdays()},weekdaysShort:function(){return o.weekdaysShort()},weekdaysMin:function(){return o.weekdaysMin()},months:function(){return o.months()},monthsShort:function(){return o.monthsShort()},longDateFormat:function(y){return d(v,y)},meridiem:v.meridiem,ordinal:v.ordinal}},o.months=function(){return s(f(),"months")},o.monthsShort=function(){return s(f(),"monthsShort","months",3)},o.weekdays=function(v){return s(f(),"weekdays",null,null,v)},o.weekdaysShort=function(v){return s(f(),"weekdaysShort","weekdays",3,v)},o.weekdaysMin=function(v){return s(f(),"weekdaysMin","weekdays",2,v)}}})})(r7);const o7=r7.exports;var i7={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(is,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d\d/,i=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,s={},f=function(S){return(S=+S)+(S>68?1900:2e3)},d=function(S){return function(O){this[S]=+O}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(S){(this.zone||(this.zone={})).offset=function(O){if(!O||O==="Z")return 0;var _=O.match(/([+-]|\d\d)/g),A=60*_[1]+(+_[2]||0);return A===0?0:_[0]==="+"?-A:A}(S)}],v=function(S){var O=s[S];return O&&(O.indexOf?O:O.s.concat(O.f))},y=function(S,O){var _,A=s.meridiem;if(A){for(var T=1;T<=24;T+=1)if(S.indexOf(A(T,0,O))>-1){_=T>12;break}}else _=S===(O?"pm":"PM");return _},m={A:[a,function(S){this.afternoon=y(S,!1)}],a:[a,function(S){this.afternoon=y(S,!0)}],S:[/\d/,function(S){this.milliseconds=100*+S}],SS:[o,function(S){this.milliseconds=10*+S}],SSS:[/\d{3}/,function(S){this.milliseconds=+S}],s:[i,d("seconds")],ss:[i,d("seconds")],m:[i,d("minutes")],mm:[i,d("minutes")],H:[i,d("hours")],h:[i,d("hours")],HH:[i,d("hours")],hh:[i,d("hours")],D:[i,d("day")],DD:[o,d("day")],Do:[a,function(S){var O=s.ordinal,_=S.match(/\d+/);if(this.day=_[0],O)for(var A=1;A<=31;A+=1)O(A).replace(/\[|\]/g,"")===S&&(this.day=A)}],M:[i,d("month")],MM:[o,d("month")],MMM:[a,function(S){var O=v("months"),_=(v("monthsShort")||O.map(function(A){return A.slice(0,3)})).indexOf(S)+1;if(_<1)throw new Error;this.month=_%12||_}],MMMM:[a,function(S){var O=v("months").indexOf(S)+1;if(O<1)throw new Error;this.month=O%12||O}],Y:[/[+-]?\d+/,d("year")],YY:[o,function(S){this.year=f(S)}],YYYY:[/\d{4}/,d("year")],Z:h,ZZ:h};function b(S){var O,_;O=S,_=s&&s.formats;for(var A=(S=O.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(k,F,z){var M=z&&z.toUpperCase();return F||_[z]||n[z]||_[M].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(D,B,V){return B||V.slice(1)})})).match(r),T=A.length,P=0;P<T;P+=1){var x=A[P],N=m[x],L=N&&N[0],j=N&&N[1];A[P]=j?{regex:L,parser:j}:x.replace(/^\[|\]$/g,"")}return function(k){for(var F={},z=0,M=0;z<T;z+=1){var D=A[z];if(typeof D=="string")M+=D.length;else{var B=D.regex,V=D.parser,Y=k.slice(M),K=B.exec(Y)[0];V.call(F,K),k=k.replace(K,"")}}return function(X){var W=X.afternoon;if(W!==void 0){var ie=X.hours;W?ie<12&&(X.hours+=12):ie===12&&(X.hours=0),delete X.afternoon}}(F),F}}return function(S,O,_){_.p.customParseFormat=!0,S&&S.parseTwoDigitYear&&(f=S.parseTwoDigitYear);var A=O.prototype,T=A.parse;A.parse=function(P){var x=P.date,N=P.utc,L=P.args;this.$u=N;var j=L[1];if(typeof j=="string"){var k=L[2]===!0,F=L[3]===!0,z=k||F,M=L[2];F&&(M=L[2]),s=this.$locale(),!k&&M&&(s=_.Ls[M]),this.$d=function(Y,K,X){try{if(["x","X"].indexOf(K)>-1)return new Date((K==="X"?1e3:1)*Y);var W=b(K)(Y),ie=W.year,oe=W.month,ee=W.day,ue=W.hours,Ne=W.minutes,$e=W.seconds,Ie=W.milliseconds,Le=W.zone,he=new Date,te=ee||(ie||oe?1:he.getDate()),ae=ie||he.getFullYear(),Ce=0;ie&&!oe||(Ce=oe>0?oe-1:he.getMonth());var Ze=ue||0,se=Ne||0,de=$e||0,ze=Ie||0;return Le?new Date(Date.UTC(ae,Ce,te,Ze,se,de,ze+60*Le.offset*1e3)):X?new Date(Date.UTC(ae,Ce,te,Ze,se,de,ze)):new Date(ae,Ce,te,Ze,se,de,ze)}catch{return new Date("")}}(x,j,N),this.init(),M&&M!==!0&&(this.$L=this.locale(M).$L),z&&x!=this.format(j)&&(this.$d=new Date("")),s={}}else if(j instanceof Array)for(var D=j.length,B=1;B<=D;B+=1){L[1]=j[B-1];var V=_.apply(this,L);if(V.isValid()){this.$d=V.$d,this.$L=V.$L,this.init();break}B===D&&(this.$d=new Date(""))}else T.call(this,P)}}})})(i7);const fN=i7.exports,N4=["hours","minutes","seconds"],IP="HH:mm:ss",xv="YYYY-MM-DD",Lwe={date:xv,dates:xv,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${xv} ${IP}`,monthrange:"YYYY-MM",daterange:xv,datetimerange:`${xv} ${IP}`},gA=(e,t)=>[e>0?e-1:void 0,e,e<t?e+1:void 0],Kf=e=>Array.from(Array.from({length:e}).keys()),a7=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),s7=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),R4=function(e,t){const n=Dh(e),r=Dh(t);return n&&r?e.getTime()===t.getTime():!n&&!r?e===t:!1},I4=function(e,t){const n=Sn(e),r=Sn(t);return n&&r?e.length!==t.length?!1:e.every((o,i)=>R4(o,t[i])):!n&&!r?R4(e,t):!1},D4=function(e,t,n){const r=As(t)||t==="x"?rr(e).locale(n):rr(e,t).locale(n);return r.isValid()?r:void 0},k4=function(e,t,n){return As(t)?e:t==="x"?+e:rr(e).locale(n).format(t)},bA=(e,t)=>{var n;const r=[],o=t==null?void 0:t();for(let i=0;i<e;i++)r.push((n=o==null?void 0:o.includes(i))!=null?n:!1);return r},l7=Kt({disabledHours:{type:ot(Function)},disabledMinutes:{type:ot(Function)},disabledSeconds:{type:ot(Function)}}),u7=Kt({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),dN=Kt({id:{type:ot([Array,String])},name:{type:ot([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:ot([String,Object]),default:id},editable:{type:Boolean,default:!0},prefixIcon:{type:ot([String,Object]),default:""},size:os,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:ot(Object),default:()=>({})},modelValue:{type:ot([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:ot([Date,Array])},defaultTime:{type:ot([Date,Array])},isRange:{type:Boolean,default:!1},...l7,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:ot([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),$we=["id","name","placeholder","value","disabled","readonly"],Bwe=["id","name","placeholder","value","disabled","readonly"],jwe={name:"Picker"},Fwe=St({...jwe,props:dN,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(e,{expose:t,emit:n}){const r=e,{lang:o}=Hr(),i=wt("date"),a=wt("input"),s=wt("range"),{form:f,formItem:d}=as(),h=Cn("ElPopperOptions",{}),v=re(),y=re(),m=re(!1),b=re(!1),S=re(null);let O=!1,_=!1;At(m,we=>{we?S.value=r.modelValue:(Re.value=null,bn(()=>{A(r.modelValue)}))});const A=(we,ht)=>{(ht||!I4(we,S.value))&&(n("change",we),r.validateEvent&&(d==null||d.validate("change").catch(yt=>void 0)))},T=we=>{if(!I4(r.modelValue,we)){let ht;Sn(we)?ht=we.map(yt=>k4(yt,r.valueFormat,o.value)):we&&(ht=k4(we,r.valueFormat,o.value)),n("update:modelValue",we&&ht,o.value)}},P=we=>{n("keydown",we)},x=G(()=>{if(y.value){const we=se.value?y.value:y.value.$el;return Array.from(we.querySelectorAll("input"))}return[]}),N=(we,ht,yt)=>{const Et=x.value;!Et.length||(!yt||yt==="min"?(Et[0].setSelectionRange(we,ht),Et[0].focus()):yt==="max"&&(Et[1].setSelectionRange(we,ht),Et[1].focus()))},L=()=>{V(!0,!0),bn(()=>{_=!1})},j=(we="",ht=!1)=>{ht||L(),m.value=ht;let yt;Sn(we)?yt=we.map(Et=>Et.toDate()):yt=we&&we.toDate(),Re.value=null,T(yt)},k=()=>{b.value=!0},F=()=>{n("visible-change",!0)},z=we=>{(we==null?void 0:we.key)===Mn.esc&&V(!0,!0)},M=()=>{b.value=!1,_=!1,n("visible-change",!1)},D=()=>{m.value=!0},B=()=>{m.value=!1},V=(we=!0,ht=!1)=>{_=ht;const[yt,Et]=E(x);let Wt=yt;!we&&se.value&&(Wt=Et),Wt&&Wt.focus()},Y=we=>{r.readonly||W.value||m.value||_||(m.value=$a(we==null?void 0:we.relatedTarget),n("focus",we))};let K;const X=we=>{const ht=async()=>{setTimeout(()=>{var yt;K===ht&&(!(((yt=v.value)==null?void 0:yt.isFocusInsideContent())&&!O)&&x.value.filter(Et=>Et.contains(document.activeElement)).length===0&&(qe(),m.value=!1,n("blur",we),r.validateEvent&&(d==null||d.validate("blur").catch(Et=>void 0))),O=!1)},0)};K=ht,ht()},W=G(()=>r.disabled||(f==null?void 0:f.disabled)),ie=G(()=>{let we;if(he.value?_e.value.getDefaultValue&&(we=_e.value.getDefaultValue()):Sn(r.modelValue)?we=r.modelValue.map(ht=>D4(ht,r.valueFormat,o.value)):we=D4(r.modelValue,r.valueFormat,o.value),_e.value.getRangeAvailableTime){const ht=_e.value.getRangeAvailableTime(we);Ns(ht,we)||(we=ht,T(Sn(we)?we.map(yt=>yt.toDate()):we.toDate()))}return Sn(we)&&we.some(ht=>!ht)&&(we=[]),we}),oe=G(()=>{if(!_e.value.panelReady)return"";const we=Ue(ie.value);return Sn(Re.value)?[Re.value[0]||we&&we[0]||"",Re.value[1]||we&&we[1]||""]:Re.value!==null?Re.value:!ue.value&&he.value||!m.value&&he.value?"":we?Ne.value?we.join(", "):we:""}),ee=G(()=>r.type.includes("time")),ue=G(()=>r.type.startsWith("time")),Ne=G(()=>r.type==="dates"),$e=G(()=>r.prefixIcon||(ee.value?HH:eye)),Ie=re(!1),Le=we=>{r.readonly||W.value||Ie.value&&(we.stopPropagation(),L(),T(null),A(null,!0),Ie.value=!1,m.value=!1,_e.value.handleClear&&_e.value.handleClear())},he=G(()=>{const{modelValue:we}=r;return!we||Sn(we)&&!we.filter(Boolean).length}),te=async we=>{var ht;r.readonly||W.value||(((ht=we.target)==null?void 0:ht.tagName)!=="INPUT"||x.value.includes(document.activeElement))&&(m.value=!0)},ae=()=>{r.readonly||W.value||!he.value&&r.clearable&&(Ie.value=!0)},Ce=()=>{Ie.value=!1},Ze=we=>{var ht;(((ht=we.touches[0].target)==null?void 0:ht.tagName)!=="INPUT"||x.value.includes(document.activeElement))&&(m.value=!0)},se=G(()=>r.type.includes("range")),de=oi(),ze=G(()=>{var we,ht;return(ht=(we=E(v))==null?void 0:we.popperRef)==null?void 0:ht.contentRef}),lt=G(()=>{var we;return E(se)?E(y):(we=E(y))==null?void 0:we.$el});BM(lt,we=>{const ht=E(ze),yt=E(lt);ht&&(we.target===ht||we.composedPath().includes(ht))||we.target===yt||we.composedPath().includes(yt)||(m.value=!1)});const Re=re(null),qe=()=>{if(Re.value){const we=pe(oe.value);we&&Ke(we)&&(T(Sn(we)?we.map(ht=>ht.toDate()):we.toDate()),Re.value=null)}Re.value===""&&(T(null),A(null),Re.value=null)},pe=we=>we?_e.value.parseUserInput(we):null,Ue=we=>we?_e.value.formatToString(we):null,Ke=we=>_e.value.isValidValue(we),Ve=async we=>{if(r.readonly||W.value)return;const{code:ht}=we;if(P(we),ht===Mn.esc){m.value===!0&&(m.value=!1,we.preventDefault(),we.stopPropagation());return}if(ht===Mn.down&&(_e.value.handleFocusPicker&&(we.preventDefault(),we.stopPropagation()),m.value===!1&&(m.value=!0,await bn()),_e.value.handleFocusPicker)){_e.value.handleFocusPicker();return}if(ht===Mn.tab){O=!0;return}if(ht===Mn.enter||ht===Mn.numpadEnter){(Re.value===null||Re.value===""||Ke(pe(oe.value)))&&(qe(),m.value=!1),we.stopPropagation();return}if(Re.value){we.stopPropagation();return}_e.value.handleKeydownInput&&_e.value.handleKeydownInput(we)},ne=we=>{Re.value=we,m.value||(m.value=!0)},fe=we=>{const ht=we.target;Re.value?Re.value=[ht.value,Re.value[1]]:Re.value=[ht.value,null]},Me=we=>{const ht=we.target;Re.value?Re.value=[Re.value[0],ht.value]:Re.value=[null,ht.value]},it=()=>{var we;const ht=Re.value,yt=pe(ht&&ht[0]),Et=E(ie);if(yt&&yt.isValid()){Re.value=[Ue(yt),((we=oe.value)==null?void 0:we[1])||null];const Wt=[yt,Et&&(Et[1]||null)];Ke(Wt)&&(T(Wt),Re.value=null)}},Oe=()=>{var we;const ht=E(Re),yt=pe(ht&&ht[1]),Et=E(ie);if(yt&&yt.isValid()){Re.value=[((we=E(oe))==null?void 0:we[0])||null,Ue(yt)];const Wt=[Et&&Et[0],yt];Ke(Wt)&&(T(Wt),Re.value=null)}},_e=re({}),nt=we=>{_e.value[we[0]]=we[1],_e.value.panelReady=!0},Se=we=>{n("calendar-change",we)},tt=(we,ht,yt)=>{n("panel-change",we,ht,yt)};return Sr("EP_PICKER_BASE",{props:r}),t({focus:V,handleFocusInput:Y,handleBlurInput:X,handleOpen:D,handleClose:B,onPick:j}),(we,ht)=>(H(),et(E(Ua),br({ref_key:"refPopper",ref:v,visible:m.value,effect:"light",pure:"",trigger:"click"},we.$attrs,{role:"dialog",teleported:"",transition:`${E(i).namespace.value}-zoom-in-top`,"popper-class":[`${E(i).namespace.value}-picker__popper`,we.popperClass],"popper-options":E(h),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:k,onShow:F,onHide:M}),{default:Be(()=>[E(se)?(H(),le("div",{key:1,ref_key:"inputRef",ref:y,class:Z([E(i).b("editor"),E(i).bm("editor",we.type),E(a).e("wrapper"),E(i).is("disabled",E(W)),E(i).is("active",m.value),E(s).b("editor"),E(de)?E(s).bm("editor",E(de)):"",we.$attrs.class]),style:gn(we.$attrs.style),onClick:Y,onMouseenter:ae,onMouseleave:Ce,onTouchstart:Ze,onKeydown:Ve},[E($e)?(H(),et(E(En),{key:0,class:Z([E(a).e("icon"),E(s).e("icon")]),onMousedown:Fn(te,["prevent"]),onTouchstart:Ze},{default:Be(()=>[(H(),et(mr(E($e))))]),_:1},8,["class","onMousedown"])):Ye("v-if",!0),ve("input",{id:we.id&&we.id[0],autocomplete:"off",name:we.name&&we.name[0],placeholder:we.startPlaceholder,value:E(oe)&&E(oe)[0],disabled:E(W),readonly:!we.editable||we.readonly,class:Z(E(s).b("input")),onMousedown:te,onInput:fe,onChange:it,onFocus:Y,onBlur:X},null,42,$we),bt(we.$slots,"range-separator",{},()=>[ve("span",{class:Z(E(s).b("separator"))},Bt(we.rangeSeparator),3)]),ve("input",{id:we.id&&we.id[1],autocomplete:"off",name:we.name&&we.name[1],placeholder:we.endPlaceholder,value:E(oe)&&E(oe)[1],disabled:E(W),readonly:!we.editable||we.readonly,class:Z(E(s).b("input")),onMousedown:te,onFocus:Y,onBlur:X,onInput:Me,onChange:Oe},null,42,Bwe),we.clearIcon?(H(),et(E(En),{key:1,class:Z([E(a).e("icon"),E(s).e("close-icon"),{[E(s).e("close-icon--hidden")]:!Ie.value}]),onClick:Le},{default:Be(()=>[(H(),et(mr(we.clearIcon)))]),_:1},8,["class"])):Ye("v-if",!0)],38)):(H(),et(E(na),{key:0,id:we.id,ref_key:"inputRef",ref:y,"container-role":"combobox","model-value":E(oe),name:we.name,size:E(de),disabled:E(W),placeholder:we.placeholder,class:Z([E(i).b("editor"),E(i).bm("editor",we.type),we.$attrs.class]),style:gn(we.$attrs.style),readonly:!we.editable||we.readonly||E(Ne)||we.type==="week",label:we.label,tabindex:we.tabindex,"validate-event":!1,onInput:ne,onFocus:Y,onBlur:X,onKeydown:Ve,onChange:qe,onMousedown:te,onMouseenter:ae,onMouseleave:Ce,onTouchstart:Ze,onClick:ht[0]||(ht[0]=Fn(()=>{},["stop"]))},{prefix:Be(()=>[E($e)?(H(),et(E(En),{key:0,class:Z(E(a).e("icon")),onMousedown:Fn(te,["prevent"]),onTouchstart:Ze},{default:Be(()=>[(H(),et(mr(E($e))))]),_:1},8,["class","onMousedown"])):Ye("v-if",!0)]),suffix:Be(()=>[Ie.value&&we.clearIcon?(H(),et(E(En),{key:0,class:Z(`${E(a).e("icon")} clear-icon`),onClick:Fn(Le,["stop"])},{default:Be(()=>[(H(),et(mr(we.clearIcon)))]),_:1},8,["class","onClick"])):Ye("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:Be(()=>[bt(we.$slots,"default",{visible:m.value,actualVisible:b.value,parsedValue:E(ie),format:we.format,unlinkPanels:we.unlinkPanels,type:we.type,defaultValue:we.defaultValue,onPick:j,onSelectRange:N,onSetPickerOption:nt,onCalendarChange:Se,onPanelChange:tt,onKeydown:z,onMousedown:ht[1]||(ht[1]=Fn(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var c7=zt(Fwe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const zwe=Kt({...u7,datetimeRole:String,parsedValue:{type:ot(Object)}}),f7=({getAvailableHours:e,getAvailableMinutes:t,getAvailableSeconds:n})=>{const r=(a,s,f,d)=>{const h={hour:e,minute:t,second:n};let v=a;return["hour","minute","second"].forEach(y=>{if(h[y]){let m;const b=h[y];switch(y){case"minute":{m=b(v.hour(),s,d);break}case"second":{m=b(v.hour(),v.minute(),s,d);break}default:{m=b(s,d);break}}if((m==null?void 0:m.length)&&!m.includes(v[y]())){const S=f?0:m.length-1;v=v[y](m[S])}}}),v},o={};return{timePickerOptions:o,getAvailableTime:r,onSetOption:([a,s])=>{o[a]=s}}},EA=e=>{const t=(r,o)=>r||o,n=r=>r!==!0;return e.map(t).filter(n)},d7=(e,t,n)=>({getHoursList:(a,s)=>bA(24,e&&(()=>e==null?void 0:e(a,s))),getMinutesList:(a,s,f)=>bA(60,t&&(()=>t==null?void 0:t(a,s,f))),getSecondsList:(a,s,f,d)=>bA(60,n&&(()=>n==null?void 0:n(a,s,f,d)))}),h7=(e,t,n)=>{const{getHoursList:r,getMinutesList:o,getSecondsList:i}=d7(e,t,n);return{getAvailableHours:(d,h)=>EA(r(d,h)),getAvailableMinutes:(d,h,v)=>EA(o(d,h,v)),getAvailableSeconds:(d,h,v,y)=>EA(i(d,h,v,y))}},p7=e=>{const t=re(e.parsedValue);return At(()=>e.visible,n=>{n||(t.value=e.parsedValue)}),t},Df=new Map;let L4;Rr&&(document.addEventListener("mousedown",e=>L4=e),document.addEventListener("mouseup",e=>{for(const t of Df.values())for(const{documentHandler:n}of t)n(e,L4)}));function $4(e,t){let n=[];return Array.isArray(t.arg)?n=t.arg:gc(t.arg)&&n.push(t.arg),function(r,o){const i=t.instance.popperRef,a=r.target,s=o==null?void 0:o.target,f=!t||!t.instance,d=!a||!s,h=e.contains(a)||e.contains(s),v=e===a,y=n.length&&n.some(b=>b==null?void 0:b.contains(a))||n.length&&n.includes(s),m=i&&(i.contains(a)||i.contains(s));f||d||h||v||y||m||t.value(r,o)}}const qf={beforeMount(e,t){Df.has(e)||Df.set(e,[]),Df.get(e).push({documentHandler:$4(e,t),bindingFn:t.value})},updated(e,t){Df.has(e)||Df.set(e,[]);const n=Df.get(e),r=n.findIndex(i=>i.bindingFn===t.oldValue),o={documentHandler:$4(e,t),bindingFn:t.value};r>=0?n.splice(r,1,o):n.push(o)},unmounted(e){Df.delete(e)}},Uwe=100,Vwe=600,bO={beforeMount(e,t){let n=null,r=null;const o=()=>t.value&&t.value(),i=()=>{r&&(clearTimeout(r),r=null),n&&(clearInterval(n),n=null)};e.addEventListener("mousedown",a=>{a.button===0&&(o(),document.addEventListener("mouseup",i,{once:!0}),i(),r=setTimeout(()=>{n=setInterval(()=>{o()},Uwe)},Vwe))})}},DP="_trap-focus-children",Sh=[],B4=e=>{if(Sh.length===0)return;const t=Sh[Sh.length-1][DP];if(t.length>0&&e.code===Mn.tab){if(t.length===1){e.preventDefault(),document.activeElement!==t[0]&&t[0].focus();return}const n=e.shiftKey,r=e.target===t[0],o=e.target===t[t.length-1];r&&n&&(e.preventDefault(),t[t.length-1].focus()),o&&!n&&(e.preventDefault(),t[0].focus())}},Hwe={beforeMount(e){e[DP]=$$(e),Sh.push(e),Sh.length<=1&&document.addEventListener("keydown",B4)},updated(e){bn(()=>{e[DP]=$$(e)})},unmounted(){Sh.shift(),Sh.length===0&&document.removeEventListener("keydown",B4)}};var j4=!1,vh,kP,LP,Aw,Pw,v7,xw,$P,BP,jP,y7,FP,zP,m7,g7;function Ra(){if(!j4){j4=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(FP=/\b(iPhone|iP[ao]d)/.exec(e),zP=/\b(iP[ao]d)/.exec(e),jP=/Android/i.exec(e),m7=/FBAN\/\w+;/i.exec(e),g7=/Mobile/i.exec(e),y7=!!/Win64/.exec(e),t){vh=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,vh&&document&&document.documentMode&&(vh=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);v7=r?parseFloat(r[1])+4:vh,kP=t[2]?parseFloat(t[2]):NaN,LP=t[3]?parseFloat(t[3]):NaN,Aw=t[4]?parseFloat(t[4]):NaN,Aw?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),Pw=t&&t[1]?parseFloat(t[1]):NaN):Pw=NaN}else vh=kP=LP=Pw=Aw=NaN;if(n){if(n[1]){var o=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);xw=o?parseFloat(o[1].replace("_",".")):!0}else xw=!1;$P=!!n[2],BP=!!n[3]}else xw=$P=BP=!1}}var UP={ie:function(){return Ra()||vh},ieCompatibilityMode:function(){return Ra()||v7>vh},ie64:function(){return UP.ie()&&y7},firefox:function(){return Ra()||kP},opera:function(){return Ra()||LP},webkit:function(){return Ra()||Aw},safari:function(){return UP.webkit()},chrome:function(){return Ra()||Pw},windows:function(){return Ra()||$P},osx:function(){return Ra()||xw},linux:function(){return Ra()||BP},iphone:function(){return Ra()||FP},mobile:function(){return Ra()||FP||zP||jP||g7},nativeApp:function(){return Ra()||m7},android:function(){return Ra()||jP},ipad:function(){return Ra()||zP}},Gwe=UP,HS=!!(typeof window<"u"&&window.document&&window.document.createElement),Wwe={canUseDOM:HS,canUseWorkers:typeof Worker<"u",canUseEventListeners:HS&&!!(window.addEventListener||window.attachEvent),canUseViewport:HS&&!!window.screen,isInWorker:!HS},b7=Wwe,E7;b7.canUseDOM&&(E7=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function Kwe(e,t){if(!b7.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var o=document.createElement("div");o.setAttribute(n,"return;"),r=typeof o[n]=="function"}return!r&&E7&&e==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var Xwe=Kwe,F4=10,z4=40,U4=800;function S7(e){var t=0,n=0,r=0,o=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*F4,o=n*F4,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||o)&&e.deltaMode&&(e.deltaMode==1?(r*=z4,o*=z4):(r*=U4,o*=U4)),r&&!t&&(t=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:o}}S7.getEventType=function(){return Gwe.firefox()?"DOMMouseScroll":Xwe("wheel")?"wheel":"mousewheel"};var Ywe=S7;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const Zwe=function(e,t){if(e&&e.addEventListener){const n=function(r){const o=Ywe(r);t&&Reflect.apply(t,this,[r,o])};e.addEventListener("wheel",n,{passive:!0})}},Jwe={beforeMount(e,t){Zwe(e,t.value)}},Qwe=Kt({role:{type:String,required:!0},spinnerDate:{type:ot(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:ot(String),default:""},...l7}),qwe=["onClick"],eOe=["onMouseenter"],tOe=St({__name:"basic-time-spinner",props:Qwe,emits:["change","select-range","set-option"],setup(e,{emit:t}){const n=e,r=wt("time"),{getHoursList:o,getMinutesList:i,getSecondsList:a}=d7(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let s=!1;const f=re(),d=re(),h=re(),v=re(),y={hours:d,minutes:h,seconds:v},m=G(()=>n.showSeconds?N4:N4.slice(0,2)),b=G(()=>{const{spinnerDate:W}=n,ie=W.hour(),oe=W.minute(),ee=W.second();return{hours:ie,minutes:oe,seconds:ee}}),S=G(()=>{const{hours:W,minutes:ie}=E(b);return{hours:o(n.role),minutes:i(W,n.role),seconds:a(W,ie,n.role)}}),O=G(()=>{const{hours:W,minutes:ie,seconds:oe}=E(b);return{hours:gA(W,23),minutes:gA(ie,59),seconds:gA(oe,59)}}),_=Sa(W=>{s=!1,P(W)},200),A=W=>{if(!!!n.amPmMode)return"";const oe=n.amPmMode==="A";let ee=W<12?" am":" pm";return oe&&(ee=ee.toUpperCase()),ee},T=W=>{let ie;switch(W){case"hours":ie=[0,2];break;case"minutes":ie=[3,5];break;case"seconds":ie=[6,8];break}const[oe,ee]=ie;t("select-range",oe,ee),f.value=W},P=W=>{L(W,E(b)[W])},x=()=>{P("hours"),P("minutes"),P("seconds")},N=W=>W.querySelector(`.${r.namespace.value}-scrollbar__wrap`),L=(W,ie)=>{if(n.arrowControl)return;const oe=E(y[W]);oe&&oe.$el&&(N(oe.$el).scrollTop=Math.max(0,ie*j(W)))},j=W=>{const ie=E(y[W]);return(ie==null?void 0:ie.$el.querySelector("li").offsetHeight)||0},k=()=>{z(1)},F=()=>{z(-1)},z=W=>{f.value||T("hours");const ie=f.value,oe=E(b)[ie],ee=f.value==="hours"?24:60,ue=M(ie,oe,W,ee);D(ie,ue),L(ie,ue),bn(()=>T(ie))},M=(W,ie,oe,ee)=>{let ue=(ie+oe+ee)%ee;const Ne=E(S)[W];for(;Ne[ue]&&ue!==ie;)ue=(ue+oe+ee)%ee;return ue},D=(W,ie)=>{if(E(S)[W][ie])return;const{hours:ue,minutes:Ne,seconds:$e}=E(b);let Ie;switch(W){case"hours":Ie=n.spinnerDate.hour(ie).minute(Ne).second($e);break;case"minutes":Ie=n.spinnerDate.hour(ue).minute(ie).second($e);break;case"seconds":Ie=n.spinnerDate.hour(ue).minute(Ne).second(ie);break}t("change",Ie)},B=(W,{value:ie,disabled:oe})=>{oe||(D(W,ie),T(W),L(W,ie))},V=W=>{s=!0,_(W);const ie=Math.min(Math.round((N(E(y[W]).$el).scrollTop-(Y(W)*.5-10)/j(W)+3)/j(W)),W==="hours"?23:59);D(W,ie)},Y=W=>E(y[W]).$el.offsetHeight,K=()=>{const W=ie=>{const oe=E(y[ie]);oe&&oe.$el&&(N(oe.$el).onscroll=()=>{V(ie)})};W("hours"),W("minutes"),W("seconds")};ir(()=>{bn(()=>{!n.arrowControl&&K(),x(),n.role==="start"&&T("hours")})});const X=(W,ie)=>{y[ie].value=W};return t("set-option",[`${n.role}_scrollDown`,z]),t("set-option",[`${n.role}_emitSelectRange`,T]),At(()=>n.spinnerDate,()=>{s||x()}),(W,ie)=>(H(),le("div",{class:Z([E(r).b("spinner"),{"has-seconds":W.showSeconds}])},[W.arrowControl?Ye("v-if",!0):(H(!0),le(wn,{key:0},_r(E(m),oe=>(H(),et(E(Mc),{key:oe,ref_for:!0,ref:ee=>X(ee,oe),class:Z(E(r).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":E(r).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:ee=>T(oe),onMousemove:ee=>P(oe)},{default:Be(()=>[(H(!0),le(wn,null,_r(E(S)[oe],(ee,ue)=>(H(),le("li",{key:ue,class:Z([E(r).be("spinner","item"),E(r).is("active",ue===E(b)[oe]),E(r).is("disabled",ee)]),onClick:Ne=>B(oe,{value:ue,disabled:ee})},[oe==="hours"?(H(),le(wn,{key:0},[$r(Bt(("0"+(W.amPmMode?ue%12||12:ue)).slice(-2))+Bt(A(ue)),1)],64)):(H(),le(wn,{key:1},[$r(Bt(("0"+ue).slice(-2)),1)],64))],10,qwe))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),W.arrowControl?(H(!0),le(wn,{key:1},_r(E(m),oe=>(H(),le("div",{key:oe,class:Z([E(r).be("spinner","wrapper"),E(r).is("arrow")]),onMouseenter:ee=>T(oe)},[Gn((H(),et(E(En),{class:Z(["arrow-up",E(r).be("spinner","arrow")])},{default:Be(()=>[Te(E(g_))]),_:1},8,["class"])),[[E(bO),F]]),Gn((H(),et(E(En),{class:Z(["arrow-down",E(r).be("spinner","arrow")])},{default:Be(()=>[Te(E(od))]),_:1},8,["class"])),[[E(bO),k]]),ve("ul",{class:Z(E(r).be("spinner","list"))},[(H(!0),le(wn,null,_r(E(O)[oe],(ee,ue)=>(H(),le("li",{key:ue,class:Z([E(r).be("spinner","item"),E(r).is("active",ee===E(b)[oe]),E(r).is("disabled",E(S)[oe][ee])])},[typeof ee=="number"?(H(),le(wn,{key:0},[oe==="hours"?(H(),le(wn,{key:0},[$r(Bt(("0"+(W.amPmMode?ee%12||12:ee)).slice(-2))+Bt(A(ee)),1)],64)):(H(),le(wn,{key:1},[$r(Bt(("0"+ee).slice(-2)),1)],64))],64)):Ye("v-if",!0)],2))),128))],2)],42,eOe))),128)):Ye("v-if",!0)],2))}});var VP=zt(tOe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const nOe=St({__name:"panel-time-pick",props:zwe,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const n=e,r=Cn("EP_PICKER_BASE"),{arrowControl:o,disabledHours:i,disabledMinutes:a,disabledSeconds:s,defaultValue:f}=r.props,{getAvailableHours:d,getAvailableMinutes:h,getAvailableSeconds:v}=h7(i,a,s),y=wt("time"),{t:m,lang:b}=Hr(),S=re([0,2]),O=p7(n),_=G(()=>Vi(n.actualVisible)?`${y.namespace.value}-zoom-in-top`:""),A=G(()=>n.format.includes("ss")),T=G(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),P=X=>{const W=rr(X).locale(b.value),ie=B(W);return W.isSame(ie)},x=()=>{t("pick",O.value,!1)},N=(X=!1,W=!1)=>{W||t("pick",n.parsedValue,X)},L=X=>{if(!n.visible)return;const W=B(X).millisecond(0);t("pick",W,!0)},j=(X,W)=>{t("select-range",X,W),S.value=[X,W]},k=X=>{const W=[0,3].concat(A.value?[6]:[]),ie=["hours","minutes"].concat(A.value?["seconds"]:[]),ee=(W.indexOf(S.value[0])+X+W.length)%W.length;z.start_emitSelectRange(ie[ee])},F=X=>{const W=X.code,{left:ie,right:oe,up:ee,down:ue}=Mn;if([ie,oe].includes(W)){k(W===ie?-1:1),X.preventDefault();return}if([ee,ue].includes(W)){const Ne=W===ee?-1:1;z.start_scrollDown(Ne),X.preventDefault();return}},{timePickerOptions:z,onSetOption:M,getAvailableTime:D}=f7({getAvailableHours:d,getAvailableMinutes:h,getAvailableSeconds:v}),B=X=>D(X,n.datetimeRole||"",!0),V=X=>X?rr(X,n.format).locale(b.value):null,Y=X=>X?X.format(n.format):null,K=()=>rr(f).locale(b.value);return t("set-picker-option",["isValidValue",P]),t("set-picker-option",["formatToString",Y]),t("set-picker-option",["parseUserInput",V]),t("set-picker-option",["handleKeydownInput",F]),t("set-picker-option",["getRangeAvailableTime",B]),t("set-picker-option",["getDefaultValue",K]),(X,W)=>(H(),et(ti,{name:E(_)},{default:Be(()=>[X.actualVisible||X.visible?(H(),le("div",{key:0,class:Z(E(y).b("panel"))},[ve("div",{class:Z([E(y).be("panel","content"),{"has-seconds":E(A)}])},[Te(VP,{ref:"spinner",role:X.datetimeRole||"start","arrow-control":E(o),"show-seconds":E(A),"am-pm-mode":E(T),"spinner-date":X.parsedValue,"disabled-hours":E(i),"disabled-minutes":E(a),"disabled-seconds":E(s),onChange:L,onSetOption:E(M),onSelectRange:j},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),ve("div",{class:Z(E(y).be("panel","footer"))},[ve("button",{type:"button",class:Z([E(y).be("panel","btn"),"cancel"]),onClick:x},Bt(E(m)("el.datepicker.cancel")),3),ve("button",{type:"button",class:Z([E(y).be("panel","btn"),"confirm"]),onClick:W[0]||(W[0]=ie=>N())},Bt(E(m)("el.datepicker.confirm")),3)],2)],2)):Ye("v-if",!0)]),_:1},8,["name"]))}});var EO=zt(nOe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]);const rOe=Kt({...u7,parsedValue:{type:ot(Array)}}),oOe=["disabled"],iOe=St({__name:"panel-time-range",props:rOe,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const n=e,r=(te,ae)=>{const Ce=[];for(let Ze=te;Ze<=ae;Ze++)Ce.push(Ze);return Ce},{t:o,lang:i}=Hr(),a=wt("time"),s=wt("picker"),f=Cn("EP_PICKER_BASE"),{arrowControl:d,disabledHours:h,disabledMinutes:v,disabledSeconds:y,defaultValue:m}=f.props,b=G(()=>n.parsedValue[0]),S=G(()=>n.parsedValue[1]),O=p7(n),_=()=>{t("pick",O.value,!1)},A=G(()=>n.format.includes("ss")),T=G(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),P=(te=!1)=>{t("pick",[b.value,S.value],te)},x=te=>{j(te.millisecond(0),S.value)},N=te=>{j(b.value,te.millisecond(0))},L=te=>{const ae=te.map(Ze=>rr(Ze).locale(i.value)),Ce=W(ae);return ae[0].isSame(Ce[0])&&ae[1].isSame(Ce[1])},j=(te,ae)=>{t("pick",[te,ae],!0)},k=G(()=>b.value>S.value),F=re([0,2]),z=(te,ae)=>{t("select-range",te,ae,"min"),F.value=[te,ae]},M=G(()=>A.value?11:8),D=(te,ae)=>{t("select-range",te,ae,"max");const Ce=E(M);F.value=[te+Ce,ae+Ce]},B=te=>{const ae=A.value?[0,3,6,11,14,17]:[0,3,8,11],Ce=["hours","minutes"].concat(A.value?["seconds"]:[]),se=(ae.indexOf(F.value[0])+te+ae.length)%ae.length,de=ae.length/2;se<de?ue.start_emitSelectRange(Ce[se]):ue.end_emitSelectRange(Ce[se-de])},V=te=>{const ae=te.code,{left:Ce,right:Ze,up:se,down:de}=Mn;if([Ce,Ze].includes(ae)){B(ae===Ce?-1:1),te.preventDefault();return}if([se,de].includes(ae)){const ze=ae===se?-1:1,lt=F.value[0]<M.value?"start":"end";ue[`${lt}_scrollDown`](ze),te.preventDefault();return}},Y=(te,ae)=>{const Ce=h?h(te):[],Ze=te==="start",de=(ae||(Ze?S.value:b.value)).hour(),ze=Ze?r(de+1,23):r(0,de-1);return uA(Ce,ze)},K=(te,ae,Ce)=>{const Ze=v?v(te,ae):[],se=ae==="start",de=Ce||(se?S.value:b.value),ze=de.hour();if(te!==ze)return Ze;const lt=de.minute(),Re=se?r(lt+1,59):r(0,lt-1);return uA(Ze,Re)},X=(te,ae,Ce,Ze)=>{const se=y?y(te,ae,Ce):[],de=Ce==="start",ze=Ze||(de?S.value:b.value),lt=ze.hour(),Re=ze.minute();if(te!==lt||ae!==Re)return se;const qe=ze.second(),pe=de?r(qe+1,59):r(0,qe-1);return uA(se,pe)},W=([te,ae])=>[Ne(te,"start",!0,ae),Ne(ae,"end",!1,te)],{getAvailableHours:ie,getAvailableMinutes:oe,getAvailableSeconds:ee}=h7(Y,K,X),{timePickerOptions:ue,getAvailableTime:Ne,onSetOption:$e}=f7({getAvailableHours:ie,getAvailableMinutes:oe,getAvailableSeconds:ee}),Ie=te=>te?Sn(te)?te.map(ae=>rr(ae,n.format).locale(i.value)):rr(te,n.format).locale(i.value):null,Le=te=>te?Sn(te)?te.map(ae=>ae.format(n.format)):te.format(n.format):null,he=()=>{if(Sn(m))return m.map(ae=>rr(ae).locale(i.value));const te=rr(m).locale(i.value);return[te,te.add(60,"m")]};return t("set-picker-option",["formatToString",Le]),t("set-picker-option",["parseUserInput",Ie]),t("set-picker-option",["isValidValue",L]),t("set-picker-option",["handleKeydownInput",V]),t("set-picker-option",["getDefaultValue",he]),t("set-picker-option",["getRangeAvailableTime",W]),(te,ae)=>te.actualVisible?(H(),le("div",{key:0,class:Z([E(a).b("range-picker"),E(s).b("panel")])},[ve("div",{class:Z(E(a).be("range-picker","content"))},[ve("div",{class:Z(E(a).be("range-picker","cell"))},[ve("div",{class:Z(E(a).be("range-picker","header"))},Bt(E(o)("el.datepicker.startTime")),3),ve("div",{class:Z([E(a).be("range-picker","body"),E(a).be("panel","content"),E(a).is("arrow",E(d)),{"has-seconds":E(A)}])},[Te(VP,{ref:"minSpinner",role:"start","show-seconds":E(A),"am-pm-mode":E(T),"arrow-control":E(d),"spinner-date":E(b),"disabled-hours":Y,"disabled-minutes":K,"disabled-seconds":X,onChange:x,onSetOption:E($e),onSelectRange:z},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),ve("div",{class:Z(E(a).be("range-picker","cell"))},[ve("div",{class:Z(E(a).be("range-picker","header"))},Bt(E(o)("el.datepicker.endTime")),3),ve("div",{class:Z([E(a).be("range-picker","body"),E(a).be("panel","content"),E(a).is("arrow",E(d)),{"has-seconds":E(A)}])},[Te(VP,{ref:"maxSpinner",role:"end","show-seconds":E(A),"am-pm-mode":E(T),"arrow-control":E(d),"spinner-date":E(S),"disabled-hours":Y,"disabled-minutes":K,"disabled-seconds":X,onChange:N,onSetOption:E($e),onSelectRange:D},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),ve("div",{class:Z(E(a).be("panel","footer"))},[ve("button",{type:"button",class:Z([E(a).be("panel","btn"),"cancel"]),onClick:ae[0]||(ae[0]=Ce=>_())},Bt(E(o)("el.datepicker.cancel")),3),ve("button",{type:"button",class:Z([E(a).be("panel","btn"),"confirm"]),disabled:E(k),onClick:ae[1]||(ae[1]=Ce=>P())},Bt(E(o)("el.datepicker.confirm")),11,oOe)],2)],2)):Ye("v-if",!0)}});var aOe=zt(iOe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-range.vue"]]);rr.extend(fN);var sOe=St({name:"ElTimePicker",install:null,props:{...dN,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,t){const n=re(),[r,o]=e.isRange?["timerange",aOe]:["time",EO],i=a=>t.emit("update:modelValue",a);return Sr("ElPopperOptions",e.popperOptions),t.expose({focus:a=>{var s;(s=n.value)==null||s.handleFocusInput(a)},blur:a=>{var s;(s=n.value)==null||s.handleBlurInput(a)},handleOpen:()=>{var a;(a=n.value)==null||a.handleOpen()},handleClose:()=>{var a;(a=n.value)==null||a.handleClose()}}),()=>{var a;const s=(a=e.format)!=null?a:IP;return Te(c7,br(e,{ref:n,type:r,format:s,"onUpdate:modelValue":i}),{default:f=>Te(o,f,null)})}}});const Mw=sOe;Mw.install=e=>{e.component(Mw.name,Mw)};const lOe=Mw,uOe=(e,t)=>{const n=e.subtract(1,"month").endOf("month").date();return Kf(t).map((r,o)=>n-(t-o-1))},cOe=e=>{const t=e.daysInMonth();return Kf(t).map((n,r)=>r+1)},fOe=e=>Kf(e.length/7).map(t=>{const n=t*7;return e.slice(n,n+7)}),dOe=Kt({selectedDay:{type:ot(Object)},range:{type:ot(Array)},date:{type:ot(Object),required:!0},hideHeader:{type:Boolean}}),hOe={pick:e=>Er(e)},pOe={key:0},vOe=["onClick"],yOe={name:"DateTable"},mOe=St({...yOe,props:dOe,emits:hOe,setup(e,{expose:t,emit:n}){const r=e;rr.extend(o7);const{t:o,lang:i}=Hr(),a=wt("calendar-table"),s=wt("calendar-day"),f=rr().locale(i.value),d=f.$locale().weekStart||0,h=G(()=>!!r.range&&!!r.range.length),v=G(()=>{let _=[];if(h.value){const[A,T]=r.range,P=Kf(T.date()-A.date()+1).map(L=>({text:A.date()+L,type:"current"}));let x=P.length%7;x=x===0?0:7-x;const N=Kf(x).map((L,j)=>({text:j+1,type:"next"}));_=P.concat(N)}else{const A=r.date.startOf("month").day(),T=uOe(r.date,A-d).map(L=>({text:L,type:"prev"})),P=cOe(r.date).map(L=>({text:L,type:"current"}));_=[...T,...P];const x=7-(_.length%7||7),N=Kf(x).map((L,j)=>({text:j+1,type:"next"}));_=_.concat(N)}return fOe(_)}),y=G(()=>{const _=d;return _===0?fA.map(A=>o(`el.datepicker.weeks.${A}`)):fA.slice(_).concat(fA.slice(0,_)).map(A=>o(`el.datepicker.weeks.${A}`))}),m=(_,A)=>{switch(A){case"prev":return r.date.startOf("month").subtract(1,"month").date(_);case"next":return r.date.startOf("month").add(1,"month").date(_);case"current":return r.date.date(_)}},b=({text:_,type:A})=>{const T=[A];if(A==="current"){const P=m(_,A);P.isSame(r.selectedDay,"day")&&T.push(s.is("selected")),P.isSame(f,"day")&&T.push(s.is("today"))}return T},S=({text:_,type:A})=>{const T=m(_,A);n("pick",T)},O=({text:_,type:A})=>{const T=m(_,A);return{isSelected:T.isSame(r.selectedDay),type:`${A}-month`,day:T.format("YYYY-MM-DD"),date:T.toDate()}};return t({getFormattedDate:m}),(_,A)=>(H(),le("table",{class:Z([E(a).b(),E(a).is("range",E(h))]),cellspacing:"0",cellpadding:"0"},[_.hideHeader?Ye("v-if",!0):(H(),le("thead",pOe,[(H(!0),le(wn,null,_r(E(y),T=>(H(),le("th",{key:T},Bt(T),1))),128))])),ve("tbody",null,[(H(!0),le(wn,null,_r(E(v),(T,P)=>(H(),le("tr",{key:P,class:Z({[E(a).e("row")]:!0,[E(a).em("row","hide-border")]:P===0&&_.hideHeader})},[(H(!0),le(wn,null,_r(T,(x,N)=>(H(),le("td",{key:N,class:Z(b(x)),onClick:L=>S(x)},[ve("div",{class:Z(E(s).b())},[bt(_.$slots,"date-cell",{data:O(x)},()=>[ve("span",null,Bt(x.text),1)])],2)],10,vOe))),128))],2))),128))])],2))}});var V4=zt(mOe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/date-table.vue"]]);const gOe=e=>Sn(e)&&e.length===2&&e.every(t=>Dh(t)),bOe=Kt({modelValue:{type:Date},range:{type:ot(Array),validator:gOe}}),EOe={[hr]:e=>Dh(e),[ks]:e=>Dh(e)},SOe={name:"ElCalendar"},wOe=St({...SOe,props:bOe,emits:EOe,setup(e,{expose:t,emit:n}){const r=e,o=Gi(),i=wt("calendar"),{t:a,lang:s}=Hr(),f=re(),d=rr().locale(s.value),h=G({get(){return r.modelValue?y.value:f.value},set(x){if(!x)return;f.value=x;const N=x.toDate();n(ks,N),n(hr,N)}}),v=G(()=>{if(!r.range)return[];const x=r.range.map(j=>rr(j).locale(s.value)),[N,L]=x;return N.isAfter(L)?[]:N.isSame(L,"month")?A(N,L):N.add(1,"month").month()!==L.month()?[]:A(N,L)}),y=G(()=>r.modelValue?rr(r.modelValue).locale(s.value):h.value?h.value:v.value.length?v.value[0][0]:d),m=G(()=>y.value.subtract(1,"month").date(1)),b=G(()=>y.value.add(1,"month").date(1)),S=G(()=>y.value.subtract(1,"year").date(1)),O=G(()=>y.value.add(1,"year").date(1)),_=G(()=>{const x=`el.datepicker.month${y.value.format("M")}`;return`${y.value.year()} ${a("el.datepicker.year")} ${a(x)}`}),A=(x,N)=>{const L=x.startOf("week"),j=N.endOf("week"),k=L.get("month"),F=j.get("month");if(k===F)return[[L,j]];if(k+1===F){const z=L.endOf("month"),M=j.startOf("month"),B=z.isSame(M,"week")?M.add(1,"week"):M;return[[L,z],[B.startOf("week"),j]]}else if(k+2===F||(k+1)%11===F){const z=L.endOf("month"),M=L.add(1,"month").startOf("month"),D=z.isSame(M,"week")?M.add(1,"week"):M,B=D.endOf("month"),V=j.startOf("month"),Y=B.isSame(V,"week")?V.add(1,"week"):V;return[[L,z],[D.startOf("week"),B],[Y.startOf("week"),j]]}else return[]},T=x=>{h.value=x},P=x=>{let N;x==="prev-month"?N=m.value:x==="next-month"?N=b.value:x==="prev-year"?N=S.value:x==="next-year"?N=O.value:N=d,!N.isSame(y.value,"day")&&T(N)};return Bh({from:'"dateCell"',replacement:'"date-cell"',scope:"ElCalendar",version:"2.3.0",ref:"https://element-plus.org/en-US/component/calendar.html#slots",type:"Slot"},G(()=>!!o.dateCell)),t({selectedDay:h,pickDay:T,selectDate:P,calculateValidatedDateRange:A}),(x,N)=>(H(),le("div",{class:Z(E(i).b())},[ve("div",{class:Z(E(i).e("header"))},[bt(x.$slots,"header",{date:E(_)},()=>[ve("div",{class:Z(E(i).e("title"))},Bt(E(_)),3),E(v).length===0?(H(),le("div",{key:0,class:Z(E(i).e("button-group"))},[Te(E(e7),null,{default:Be(()=>[Te(E(ra),{size:"small",onClick:N[0]||(N[0]=L=>P("prev-month"))},{default:Be(()=>[$r(Bt(E(a)("el.datepicker.prevMonth")),1)]),_:1}),Te(E(ra),{size:"small",onClick:N[1]||(N[1]=L=>P("today"))},{default:Be(()=>[$r(Bt(E(a)("el.datepicker.today")),1)]),_:1}),Te(E(ra),{size:"small",onClick:N[2]||(N[2]=L=>P("next-month"))},{default:Be(()=>[$r(Bt(E(a)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):Ye("v-if",!0)])],2),E(v).length===0?(H(),le("div",{key:0,class:Z(E(i).e("body"))},[Te(V4,{date:E(y),"selected-day":E(h),onPick:T},Yf({_:2},[x.$slots["date-cell"]||x.$slots.dateCell?{name:"date-cell",fn:Be(L=>[x.$slots["date-cell"]?bt(x.$slots,"date-cell",fl(br({key:0},L))):bt(x.$slots,"dateCell",fl(br({key:1},L)))])}:void 0]),1032,["date","selected-day"])],2)):(H(),le("div",{key:1,class:Z(E(i).e("body"))},[(H(!0),le(wn,null,_r(E(v),(L,j)=>(H(),et(V4,{key:j,date:L[0],"selected-day":E(h),range:L,"hide-header":j!==0,onPick:T},Yf({_:2},[x.$slots["date-cell"]||x.$slots.dateCell?{name:"date-cell",fn:Be(k=>[x.$slots["date-cell"]?bt(x.$slots,"date-cell",fl(br({key:0},k))):bt(x.$slots,"dateCell",fl(br({key:1},k)))])}:void 0]),1032,["date","selected-day","range","hide-header"]))),128))],2))],2))}});var OOe=zt(wOe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/calendar.vue"]]);const _Oe=fr(OOe),TOe=Kt({header:{type:String,default:""},bodyStyle:{type:ot([String,Object,Array]),default:""},shadow:{type:String,values:["always","hover","never"],default:"always"}}),COe={name:"ElCard"},AOe=St({...COe,props:TOe,setup(e){const t=wt("card");return(n,r)=>(H(),le("div",{class:Z([E(t).b(),E(t).is(`${n.shadow}-shadow`)])},[n.$slots.header||n.header?(H(),le("div",{key:0,class:Z(E(t).e("header"))},[bt(n.$slots,"header",{},()=>[$r(Bt(n.header),1)])],2)):Ye("v-if",!0),ve("div",{class:Z(E(t).e("body")),style:gn(n.bodyStyle)},[bt(n.$slots,"default")],6)],2))}});var POe=zt(AOe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/card/src/card.vue"]]);const xOe=fr(POe),MOe=Kt({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},indicator:{type:Boolean,default:!0},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),NOe={change:(e,t)=>[e,t].every(Jn)},ROe=["onMouseenter","onMouseleave"],IOe=["onMouseenter","onClick"],DOe={key:0},kOe={name:"ElCarousel"},LOe=St({...kOe,props:MOe,emits:NOe,setup(e,{expose:t,emit:n}){const r=e,o=wt("carousel"),i=300,a=re(-1),s=re(null),f=re(!1),d=re(),h=re([]),v=G(()=>r.arrow!=="never"&&!E(O)),y=G(()=>h.value.some(oe=>oe.props.label.toString().length>0)),m=G(()=>{const oe=[o.b(),o.m(r.direction)];return E(S)&&oe.push(o.m("card")),oe}),b=G(()=>{const oe=[o.e("indicators"),o.em("indicators",r.direction)];return y.value&&oe.push(o.em("indicators","labels")),(r.indicatorPosition==="outside"||E(S))&&oe.push(o.em("indicators","outside")),oe}),S=G(()=>r.type==="card"),O=G(()=>r.direction==="vertical"),_=xh(oe=>{N(oe)},i,{trailing:!0}),A=xh(oe=>{Y(oe)},i);function T(){s.value&&(clearInterval(s.value),s.value=null)}function P(){r.interval<=0||!r.autoplay||s.value||(s.value=setInterval(()=>x(),r.interval))}const x=()=>{a.value<h.value.length-1?a.value=a.value+1:r.loop&&(a.value=0)};function N(oe){if(Kn(oe)){const Ne=h.value.filter($e=>$e.props.name===oe);Ne.length>0&&(oe=h.value.indexOf(Ne[0]))}if(oe=Number(oe),Number.isNaN(oe)||oe!==Math.floor(oe))return;const ee=h.value.length,ue=a.value;oe<0?a.value=r.loop?ee-1:0:oe>=ee?a.value=r.loop?0:ee-1:a.value=oe,ue===a.value&&L(ue),W()}function L(oe){h.value.forEach((ee,ue)=>{ee.translateItem(ue,a.value,oe)})}function j(oe){h.value.push(oe)}function k(oe){const ee=h.value.findIndex(ue=>ue.uid===oe);ee!==-1&&(h.value.splice(ee,1),a.value===ee&&X())}function F(oe,ee){var ue,Ne,$e,Ie;const Le=E(h),he=Le.length;if(he===0||!oe.states.inStage)return!1;const te=ee+1,ae=ee-1,Ce=he-1,Ze=Le[Ce].states.active,se=Le[0].states.active,de=(Ne=(ue=Le[te])==null?void 0:ue.states)==null?void 0:Ne.active,ze=(Ie=($e=Le[ae])==null?void 0:$e.states)==null?void 0:Ie.active;return ee===Ce&&se||de?"left":ee===0&&Ze||ze?"right":!1}function z(){f.value=!0,r.pauseOnHover&&T()}function M(){f.value=!1,P()}function D(oe){E(O)||h.value.forEach((ee,ue)=>{oe===F(ee,ue)&&(ee.states.hover=!0)})}function B(){E(O)||h.value.forEach(oe=>{oe.states.hover=!1})}function V(oe){a.value=oe}function Y(oe){r.trigger==="hover"&&oe!==a.value&&(a.value=oe)}function K(){N(a.value-1)}function X(){N(a.value+1)}function W(){T(),P()}At(()=>a.value,(oe,ee)=>{L(ee),ee>-1&&n("change",oe,ee)}),At(()=>r.autoplay,oe=>{oe?P():T()}),At(()=>r.loop,()=>{N(a.value)}),At(()=>r.interval,()=>{W()});const ie=bo();return ir(async()=>{await bn(),ie.value=oa(d.value,()=>{L()}),r.initialIndex<h.value.length&&r.initialIndex>=0&&(a.value=r.initialIndex),P()}),Go(()=>{T(),d.value&&ie.value&&ie.value.stop()}),Sr(eG,{root:d,isCardType:S,isVertical:O,items:h,loop:r.loop,addItem:j,removeItem:k,setActiveItem:N}),t({setActiveItem:N,prev:K,next:X}),(oe,ee)=>(H(),le("div",{ref_key:"root",ref:d,class:Z(E(m)),onMouseenter:Fn(z,["stop"]),onMouseleave:Fn(M,["stop"])},[ve("div",{class:Z(E(o).e("container")),style:gn({height:oe.height})},[E(v)?(H(),et(ti,{key:0,name:"carousel-arrow-left",persisted:""},{default:Be(()=>[Gn(ve("button",{type:"button",class:Z([E(o).e("arrow"),E(o).em("arrow","left")]),onMouseenter:ee[0]||(ee[0]=ue=>D("left")),onMouseleave:B,onClick:ee[1]||(ee[1]=Fn(ue=>E(_)(a.value-1),["stop"]))},[Te(E(En),null,{default:Be(()=>[Te(E(Zf))]),_:1})],34),[[Lr,(oe.arrow==="always"||f.value)&&(r.loop||a.value>0)]])]),_:1})):Ye("v-if",!0),E(v)?(H(),et(ti,{key:1,name:"carousel-arrow-right",persisted:""},{default:Be(()=>[Gn(ve("button",{type:"button",class:Z([E(o).e("arrow"),E(o).em("arrow","right")]),onMouseenter:ee[2]||(ee[2]=ue=>D("right")),onMouseleave:B,onClick:ee[3]||(ee[3]=Fn(ue=>E(_)(a.value+1),["stop"]))},[Te(E(En),null,{default:Be(()=>[Te(E(Ea))]),_:1})],34),[[Lr,(oe.arrow==="always"||f.value)&&(r.loop||a.value<h.value.length-1)]])]),_:1})):Ye("v-if",!0),bt(oe.$slots,"default")],6),oe.indicatorPosition!=="none"?(H(),le("ul",{key:0,class:Z(E(b))},[(H(!0),le(wn,null,_r(h.value,(ue,Ne)=>(H(),le("li",{key:Ne,class:Z([E(o).e("indicator"),E(o).em("indicator",oe.direction),E(o).is("active",Ne===a.value)]),onMouseenter:$e=>E(A)(Ne),onClick:Fn($e=>V(Ne),["stop"])},[ve("button",{class:Z(E(o).e("button"))},[E(y)?(H(),le("span",DOe,Bt(ue.props.label),1)):Ye("v-if",!0)],2)],42,IOe))),128))],2)):Ye("v-if",!0)],42,ROe))}});var $Oe=zt(LOe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const BOe=Kt({name:{type:String,default:""},label:{type:[String,Number],default:""}}),jOe={name:"ElCarouselItem"},FOe=St({...jOe,props:BOe,setup(e){const t=e,n=wt("carousel"),r=Cn(eG),o=cr(),i=.83,a=re(!1),s=re(0),f=re(1),d=re(!1),h=re(!1),v=re(!1),y=re(!1),{isCardType:m,isVertical:b}=r,S=G(()=>{const N=`${`translate${E(b)?"Y":"X"}`}(${E(s)}px)`,L=`scale(${E(f)})`;return{transform:[N,L].join(" ")}});function O(x,N,L){const j=L-1,k=N-1,F=N+1,z=L/2;return N===0&&x===j?-1:N===j&&x===0?L:x<k&&N-x>=z?L+1:x>F&&x-N>=z?-2:x}function _(x,N){var L;const j=((L=r.root.value)==null?void 0:L.offsetWidth)||0;return v.value?j*((2-i)*(x-N)+1)/4:x<N?-(1+i)*j/4:(3+i)*j/4}function A(x,N,L){const j=r.root.value;return j?((L?j.offsetHeight:j.offsetWidth)||0)*(x-N):0}const T=(x,N,L)=>{var j;const k=E(m),F=(j=r.items.value.length)!=null?j:Number.NaN,z=x===N;!k&&!Vi(L)&&(y.value=z||x===L),!z&&F>2&&r.loop&&(x=O(x,N,F));const M=E(b);d.value=z,k?(v.value=Math.round(Math.abs(x-N))<=1,s.value=_(x,N),f.value=E(d)?1:i):s.value=A(x,N,M),h.value=!0};function P(){if(r&&E(m)){const x=r.items.value.findIndex(({uid:N})=>N===o.uid);r.setActiveItem(x)}}return ir(()=>{r.addItem({props:t,states:Xr({hover:a,translate:s,scale:f,active:d,ready:h,inStage:v,animating:y}),uid:o.uid,translateItem:T})}),Yh(()=>{r.removeItem(o.uid)}),(x,N)=>Gn((H(),le("div",{class:Z([E(n).e("item"),E(n).is("active",d.value),E(n).is("in-stage",v.value),E(n).is("hover",a.value),E(n).is("animating",y.value),{[E(n).em("item","card")]:E(m)}]),style:gn(E(S)),onClick:P},[E(m)?Gn((H(),le("div",{key:0,class:Z(E(n).e("mask"))},null,2)),[[Lr,!d.value]]):Ye("v-if",!0),bt(x.$slots,"default")],6)),[[Lr,h.value]])}});var w7=zt(FOe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const zOe=fr($Oe,{CarouselItem:w7}),UOe=ko(w7),VOe={modelValue:{type:Array,default:()=>[]},disabled:Boolean,min:{type:Number,default:void 0},max:{type:Number,default:void 0},size:os,id:{type:String,default:void 0},label:{type:String,default:void 0},fill:{type:String,default:void 0},textColor:{type:String,default:void 0},tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}},O7={modelValue:{type:[Number,String,Boolean],default:()=>{}},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:os,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},My=()=>{const{form:e,formItem:t}=as(),n=Cn("CheckboxGroup",{}),r=G(()=>n&&(n==null?void 0:n.name)==="ElCheckboxGroup"),o=G(()=>t==null?void 0:t.size);return{isGroup:r,checkboxGroup:n,elForm:e,elFormItemSize:o,elFormItem:t}},HOe=(e,{elFormItem:t})=>{const{inputId:n,isLabeledByFormItem:r}=sd(e,{formItemContext:t});return{isLabeledByFormItem:r,groupId:n}},GOe=e=>{const t=re(!1),{emit:n}=cr(),{isGroup:r,checkboxGroup:o,elFormItem:i}=My(),a=re(!1);return{model:G({get(){var f,d;return r.value?(f=o.modelValue)==null?void 0:f.value:(d=e.modelValue)!=null?d:t.value},set(f){var d;r.value&&Array.isArray(f)?(a.value=o.max!==void 0&&f.length>o.max.value,a.value===!1&&((d=o==null?void 0:o.changeEvent)==null||d.call(o,f))):(n(hr,f),t.value=f)}}),isGroup:r,isLimitExceeded:a,elFormItem:i}},WOe=(e,t,{model:n})=>{const{isGroup:r,checkboxGroup:o}=My(),i=re(!1),a=oi(o==null?void 0:o.checkboxGroupSize,{prop:!0}),s=G(()=>{const h=n.value;return Py(h)==="[object Boolean]"?h:Array.isArray(h)?h.map(Zr).includes(e.label):h!=null?h===e.trueLabel:!!h}),f=oi(G(()=>{var h;return r.value?(h=o==null?void 0:o.checkboxGroupSize)==null?void 0:h.value:void 0})),d=G(()=>!!(t.default||e.label));return{isChecked:s,focus:i,size:a,checkboxSize:f,hasOwnLabel:d}},KOe=(e,{model:t,isChecked:n})=>{const{elForm:r,isGroup:o,checkboxGroup:i}=My(),a=G(()=>{var f,d;const h=(f=i.max)==null?void 0:f.value,v=(d=i.min)==null?void 0:d.value;return!!(h||v)&&t.value.length>=h&&!n.value||t.value.length<=v&&n.value});return{isDisabled:G(()=>{var f,d;const h=e.disabled||(r==null?void 0:r.disabled);return(d=o.value?((f=i.disabled)==null?void 0:f.value)||h||a.value:h)!=null?d:!1}),isLimitDisabled:a}},XOe=(e,{model:t})=>{function n(){Array.isArray(t.value)&&!t.value.includes(e.label)?t.value.push(e.label):t.value=e.trueLabel||!0}e.checked&&n()},YOe=(e,{model:t,isLimitExceeded:n,hasOwnLabel:r,isDisabled:o,isLabeledByFormItem:i})=>{const{elFormItem:a,checkboxGroup:s}=My(),{emit:f}=cr();function d(b){var S,O;return b===e.trueLabel||b===!0?(S=e.trueLabel)!=null?S:!0:(O=e.falseLabel)!=null?O:!1}function h(b,S){f("change",d(b),S)}function v(b){if(n.value)return;const S=b.target;f("change",d(S.checked),b)}async function y(b){n.value||!r.value&&!o.value&&i.value&&(t.value=d([!1,e.falseLabel].includes(t.value)),await bn(),h(t.value,b))}const m=G(()=>{var b;return((b=s.validateEvent)==null?void 0:b.value)||e.validateEvent});return At(()=>e.modelValue,()=>{m.value&&(a==null||a.validate("change").catch(b=>void 0))}),{handleChange:v,onClickRoot:y}},_7={[hr]:e=>Kn(e)||Jn(e)||_i(e),change:e=>Kn(e)||Jn(e)||_i(e)},ZOe={[hr]:e=>Sn(e),change:e=>Sn(e)},T7=(e,t)=>{const{model:n,isGroup:r,isLimitExceeded:o,elFormItem:i}=GOe(e),{focus:a,size:s,isChecked:f,checkboxSize:d,hasOwnLabel:h}=WOe(e,t,{model:n}),{isDisabled:v}=KOe(e,{model:n,isChecked:f}),{inputId:y,isLabeledByFormItem:m}=sd(e,{formItemContext:i,disableIdGeneration:h,disableIdManagement:r}),{handleChange:b,onClickRoot:S}=YOe(e,{model:n,isLimitExceeded:o,hasOwnLabel:h,isDisabled:v,isLabeledByFormItem:m});return XOe(e,{model:n}),{elFormItem:i,inputId:y,isLabeledByFormItem:m,isChecked:f,isDisabled:v,isGroup:r,checkboxSize:d,hasOwnLabel:h,model:n,handleChange:b,onClickRoot:S,focus:a,size:s}},JOe=["tabindex","role","aria-checked"],QOe=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],qOe=["id","aria-hidden","disabled","value","name","tabindex"],e_e={name:"ElCheckbox"},t_e=St({...e_e,props:O7,emits:_7,setup(e){const t=e,n=Gi(),{inputId:r,isLabeledByFormItem:o,isChecked:i,isDisabled:a,checkboxSize:s,hasOwnLabel:f,model:d,handleChange:h,onClickRoot:v,focus:y}=T7(t,n),m=wt("checkbox");return(b,S)=>(H(),et(mr(!E(f)&&E(o)?"span":"label"),{class:Z([E(m).b(),E(m).m(E(s)),E(m).is("disabled",E(a)),E(m).is("bordered",b.border),E(m).is("checked",E(i))]),"aria-controls":b.indeterminate?b.controls:null,onClick:E(v)},{default:Be(()=>[ve("span",{class:Z([E(m).e("input"),E(m).is("disabled",E(a)),E(m).is("checked",E(i)),E(m).is("indeterminate",b.indeterminate),E(m).is("focus",E(y))]),tabindex:b.indeterminate?0:void 0,role:b.indeterminate?"checkbox":void 0,"aria-checked":b.indeterminate?"mixed":void 0},[b.trueLabel||b.falseLabel?Gn((H(),le("input",{key:0,id:E(r),"onUpdate:modelValue":S[0]||(S[0]=O=>uo(d)?d.value=O:null),class:Z(E(m).e("original")),type:"checkbox","aria-hidden":b.indeterminate?"true":"false",name:b.name,tabindex:b.tabindex,disabled:E(a),"true-value":b.trueLabel,"false-value":b.falseLabel,onChange:S[1]||(S[1]=(...O)=>E(h)&&E(h)(...O)),onFocus:S[2]||(S[2]=O=>y.value=!0),onBlur:S[3]||(S[3]=O=>y.value=!1)},null,42,QOe)),[[fO,E(d)]]):Gn((H(),le("input",{key:1,id:E(r),"onUpdate:modelValue":S[4]||(S[4]=O=>uo(d)?d.value=O:null),class:Z(E(m).e("original")),type:"checkbox","aria-hidden":b.indeterminate?"true":"false",disabled:E(a),value:b.label,name:b.name,tabindex:b.tabindex,onChange:S[5]||(S[5]=(...O)=>E(h)&&E(h)(...O)),onFocus:S[6]||(S[6]=O=>y.value=!0),onBlur:S[7]||(S[7]=O=>y.value=!1)},null,42,qOe)),[[fO,E(d)]]),ve("span",{class:Z(E(m).e("inner"))},null,2)],10,JOe),E(f)?(H(),le("span",{key:0,class:Z(E(m).e("label"))},[bt(b.$slots,"default"),b.$slots.default?Ye("v-if",!0):(H(),le(wn,{key:0},[$r(Bt(b.label),1)],64))],2)):Ye("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var n_e=zt(t_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const r_e=["name","tabindex","disabled","true-value","false-value"],o_e=["name","tabindex","disabled","value"],i_e={name:"ElCheckboxButton"},a_e=St({...i_e,props:O7,emits:_7,setup(e){const t=e,n=Gi(),{focus:r,isChecked:o,isDisabled:i,size:a,model:s,handleChange:f}=T7(t,n),{checkboxGroup:d}=My(),h=wt("checkbox"),v=G(()=>{var y,m,b,S;const O=(m=(y=d==null?void 0:d.fill)==null?void 0:y.value)!=null?m:"";return{backgroundColor:O,borderColor:O,color:(S=(b=d==null?void 0:d.textColor)==null?void 0:b.value)!=null?S:"",boxShadow:O?`-1px 0 0 0 ${O}`:void 0}});return(y,m)=>(H(),le("label",{class:Z([E(h).b("button"),E(h).bm("button",E(a)),E(h).is("disabled",E(i)),E(h).is("checked",E(o)),E(h).is("focus",E(r))])},[y.trueLabel||y.falseLabel?Gn((H(),le("input",{key:0,"onUpdate:modelValue":m[0]||(m[0]=b=>uo(s)?s.value=b:null),class:Z(E(h).be("button","original")),type:"checkbox",name:y.name,tabindex:y.tabindex,disabled:E(i),"true-value":y.trueLabel,"false-value":y.falseLabel,onChange:m[1]||(m[1]=(...b)=>E(f)&&E(f)(...b)),onFocus:m[2]||(m[2]=b=>r.value=!0),onBlur:m[3]||(m[3]=b=>r.value=!1)},null,42,r_e)),[[fO,E(s)]]):Gn((H(),le("input",{key:1,"onUpdate:modelValue":m[4]||(m[4]=b=>uo(s)?s.value=b:null),class:Z(E(h).be("button","original")),type:"checkbox",name:y.name,tabindex:y.tabindex,disabled:E(i),value:y.label,onChange:m[5]||(m[5]=(...b)=>E(f)&&E(f)(...b)),onFocus:m[6]||(m[6]=b=>r.value=!0),onBlur:m[7]||(m[7]=b=>r.value=!1)},null,42,o_e)),[[fO,E(s)]]),y.$slots.default||y.label?(H(),le("span",{key:2,class:Z(E(h).be("button","inner")),style:gn(E(o)?E(v):void 0)},[bt(y.$slots,"default",{},()=>[$r(Bt(y.label),1)])],6)):Ye("v-if",!0)],2))}});var C7=zt(a_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const s_e={name:"ElCheckboxGroup"},l_e=St({...s_e,props:VOe,emits:ZOe,setup(e,{emit:t}){const n=e,{elFormItem:r}=My(),{groupId:o,isLabeledByFormItem:i}=HOe(n,{elFormItem:r}),a=oi(),s=wt("checkbox"),f=h=>{t(hr,h),bn(()=>{t("change",h)})},d=G({get(){return n.modelValue},set(h){f(h)}});return Sr("CheckboxGroup",{name:"ElCheckboxGroup",...mi(n),modelValue:d,checkboxGroupSize:a,changeEvent:f}),At(()=>n.modelValue,()=>{n.validateEvent&&(r==null||r.validate("change").catch(h=>void 0))}),(h,v)=>{var y;return H(),et(mr(h.tag),{id:E(o),class:Z(E(s).b("group")),role:"group","aria-label":E(i)?void 0:h.label||"checkbox-group","aria-labelledby":E(i)?(y=E(r))==null?void 0:y.labelId:void 0},{default:Be(()=>[bt(h.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var A7=zt(l_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const Bs=fr(n_e,{CheckboxButton:C7,CheckboxGroup:A7}),u_e=ko(C7),P7=ko(A7),x7=Kt({size:os,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),c_e=Kt({...x7,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),M7={[hr]:e=>Kn(e)||Jn(e)||_i(e),[Po]:e=>Kn(e)||Jn(e)||_i(e)},N7=(e,t)=>{const n=re(),r=Cn(iG,void 0),o=G(()=>!!r),i=G({get(){return o.value?r.modelValue:e.modelValue},set(h){o.value?r.changeEvent(h):t&&t(hr,h),n.value.checked=e.modelValue===e.label}}),a=oi(G(()=>r==null?void 0:r.size)),s=Ac(G(()=>r==null?void 0:r.disabled)),f=re(!1),d=G(()=>s.value||o.value&&i.value!==e.label?-1:0);return{radioRef:n,isGroup:o,radioGroup:r,focus:f,size:a,disabled:s,tabIndex:d,modelValue:i}},f_e=["value","name","disabled"],d_e={name:"ElRadio"},h_e=St({...d_e,props:c_e,emits:M7,setup(e,{emit:t}){const n=e,r=wt("radio"),{radioRef:o,radioGroup:i,focus:a,size:s,disabled:f,modelValue:d}=N7(n,t);function h(){bn(()=>t("change",d.value))}return(v,y)=>{var m;return H(),le("label",{class:Z([E(r).b(),E(r).is("disabled",E(f)),E(r).is("focus",E(a)),E(r).is("bordered",v.border),E(r).is("checked",E(d)===v.label),E(r).m(E(s))])},[ve("span",{class:Z([E(r).e("input"),E(r).is("disabled",E(f)),E(r).is("checked",E(d)===v.label)])},[Gn(ve("input",{ref_key:"radioRef",ref:o,"onUpdate:modelValue":y[0]||(y[0]=b=>uo(d)?d.value=b:null),class:Z(E(r).e("original")),value:v.label,name:v.name||((m=E(i))==null?void 0:m.name),disabled:E(f),type:"radio",onFocus:y[1]||(y[1]=b=>a.value=!0),onBlur:y[2]||(y[2]=b=>a.value=!1),onChange:h},null,42,f_e),[[rH,E(d)]]),ve("span",{class:Z(E(r).e("inner"))},null,2)],2),ve("span",{class:Z(E(r).e("label")),onKeydown:y[3]||(y[3]=Fn(()=>{},["stop"]))},[bt(v.$slots,"default",{},()=>[$r(Bt(v.label),1)])],34)],2)}}});var p_e=zt(h_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const v_e=Kt({...x7,name:{type:String,default:""}}),y_e=["value","name","disabled"],m_e={name:"ElRadioButton"},g_e=St({...m_e,props:v_e,setup(e){const t=e,n=wt("radio"),{radioRef:r,focus:o,size:i,disabled:a,modelValue:s,radioGroup:f}=N7(t),d=G(()=>({backgroundColor:(f==null?void 0:f.fill)||"",borderColor:(f==null?void 0:f.fill)||"",boxShadow:f!=null&&f.fill?`-1px 0 0 0 ${f.fill}`:"",color:(f==null?void 0:f.textColor)||""}));return(h,v)=>{var y;return H(),le("label",{class:Z([E(n).b("button"),E(n).is("active",E(s)===h.label),E(n).is("disabled",E(a)),E(n).is("focus",E(o)),E(n).bm("button",E(i))])},[Gn(ve("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":v[0]||(v[0]=m=>uo(s)?s.value=m:null),class:Z(E(n).be("button","original-radio")),value:h.label,type:"radio",name:h.name||((y=E(f))==null?void 0:y.name),disabled:E(a),onFocus:v[1]||(v[1]=m=>o.value=!0),onBlur:v[2]||(v[2]=m=>o.value=!1)},null,42,y_e),[[rH,E(s)]]),ve("span",{class:Z(E(n).be("button","inner")),style:gn(E(s)===h.label?E(d):{}),onKeydown:v[3]||(v[3]=Fn(()=>{},["stop"]))},[bt(h.$slots,"default",{},()=>[$r(Bt(h.label),1)])],38)],2)}}});var R7=zt(g_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const b_e=Kt({id:{type:String,default:void 0},size:os,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),E_e=M7,S_e=["id","aria-label","aria-labelledby"],w_e={name:"ElRadioGroup"},O_e=St({...w_e,props:b_e,emits:E_e,setup(e,{emit:t}){const n=e,r=wt("radio"),o=gl(),i=re(),{formItem:a}=as(),{inputId:s,isLabeledByFormItem:f}=sd(n,{formItemContext:a}),d=v=>{t(hr,v),bn(()=>t("change",v))};ir(()=>{const v=i.value.querySelectorAll("[type=radio]"),y=v[0];!Array.from(v).some(m=>m.checked)&&y&&(y.tabIndex=0)});const h=G(()=>n.name||o.value);return Sr(iG,Xr({...mi(n),changeEvent:d,name:h})),At(()=>n.modelValue,()=>{n.validateEvent&&(a==null||a.validate("change").catch(v=>void 0))}),(v,y)=>(H(),le("div",{id:E(s),ref_key:"radioGroupRef",ref:i,class:Z(E(r).b("group")),role:"radiogroup","aria-label":E(f)?void 0:v.label||"radio-group","aria-labelledby":E(f)?E(a).labelId:void 0},[bt(v.$slots,"default")],10,S_e))}});var I7=zt(O_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const D7=fr(p_e,{RadioButton:R7,RadioGroup:I7}),__e=ko(I7),T_e=ko(R7);var C_e=St({name:"NodeContent",setup(){return{ns:wt("cascader-node")}},render(){const{ns:e}=this,{node:t,panel:n}=this.$parent,{data:r,label:o}=t,{renderLabelFn:i}=n;return Pn("span",{class:e.e("label")},i?i({node:t,data:r}):o)}});const hN=Symbol(),A_e=St({name:"ElCascaderNode",components:{ElCheckbox:Bs,ElRadio:D7,NodeContent:C_e,ElIcon:En,Check:Xb,Loading:ad,ArrowRight:Ea},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:t}){const n=Cn(hN),r=wt("cascader-node"),o=G(()=>n.isHoverMenu),i=G(()=>n.config.multiple),a=G(()=>n.config.checkStrictly),s=G(()=>{var N;return(N=n.checkedNodes[0])==null?void 0:N.uid}),f=G(()=>e.node.isDisabled),d=G(()=>e.node.isLeaf),h=G(()=>a.value&&!d.value||!f.value),v=G(()=>m(n.expandingNode)),y=G(()=>a.value&&n.checkedNodes.some(m)),m=N=>{var L;const{level:j,uid:k}=e.node;return((L=N==null?void 0:N.pathNodes[j-1])==null?void 0:L.uid)===k},b=()=>{v.value||n.expandNode(e.node)},S=N=>{const{node:L}=e;N!==L.checked&&n.handleCheckChange(L,N)},O=()=>{n.lazyLoad(e.node,()=>{d.value||b()})},_=N=>{!o.value||(A(),!d.value&&t("expand",N))},A=()=>{const{node:N}=e;!h.value||N.loading||(N.loaded?b():O())},T=()=>{o.value&&!d.value||(d.value&&!f.value&&!a.value&&!i.value?x(!0):A())},P=N=>{a.value?(S(N),e.node.loaded&&b()):x(N)},x=N=>{e.node.loaded?(S(N),!a.value&&b()):O()};return{panel:n,isHoverMenu:o,multiple:i,checkStrictly:a,checkedNodeId:s,isDisabled:f,isLeaf:d,expandable:h,inExpandingPath:v,inCheckedPath:y,ns:r,handleHoverExpand:_,handleExpand:A,handleClick:T,handleCheck:x,handleSelectCheck:P}}}),P_e=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],x_e=ve("span",null,null,-1);function M_e(e,t,n,r,o,i){const a=_n("el-checkbox"),s=_n("el-radio"),f=_n("check"),d=_n("el-icon"),h=_n("node-content"),v=_n("loading"),y=_n("arrow-right");return H(),le("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:Z([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:t[2]||(t[2]=(...m)=>e.handleHoverExpand&&e.handleHoverExpand(...m)),onFocus:t[3]||(t[3]=(...m)=>e.handleHoverExpand&&e.handleHoverExpand(...m)),onClick:t[4]||(t[4]=(...m)=>e.handleClick&&e.handleClick(...m))},[Ye(" prefix "),e.multiple?(H(),et(a,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:t[0]||(t[0]=Fn(()=>{},["stop"])),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):e.checkStrictly?(H(),et(s,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:t[1]||(t[1]=Fn(()=>{},["stop"]))},{default:Be(()=>[Ye(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),x_e]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):e.isLeaf&&e.node.checked?(H(),et(d,{key:2,class:Z(e.ns.e("prefix"))},{default:Be(()=>[Te(f)]),_:1},8,["class"])):Ye("v-if",!0),Ye(" content "),Te(h),Ye(" postfix "),e.isLeaf?Ye("v-if",!0):(H(),le(wn,{key:3},[e.node.loading?(H(),et(d,{key:0,class:Z([e.ns.is("loading"),e.ns.e("postfix")])},{default:Be(()=>[Te(v)]),_:1},8,["class"])):(H(),et(d,{key:1,class:Z(["arrow-right",e.ns.e("postfix")])},{default:Be(()=>[Te(y)]),_:1},8,["class"]))],64))],42,P_e)}var N_e=zt(A_e,[["render",M_e],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]]);const R_e=St({name:"ElCascaderMenu",components:{Loading:ad,ElIcon:En,ElScrollbar:Mc,ElCascaderNode:N_e},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const t=cr(),n=wt("cascader-menu"),{t:r}=Hr(),o=Yb();let i=null,a=null;const s=Cn(hN),f=re(null),d=G(()=>!e.nodes.length),h=G(()=>!s.initialLoaded),v=G(()=>`cascader-menu-${o}-${e.index}`),y=O=>{i=O.target},m=O=>{if(!(!s.isHoverMenu||!i||!f.value))if(i.contains(O.target)){b();const _=t.vnode.el,{left:A}=_.getBoundingClientRect(),{offsetWidth:T,offsetHeight:P}=_,x=O.clientX-A,N=i.offsetTop,L=N+i.offsetHeight;f.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${x} ${N} L${T} 0 V${N} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${x} ${L} L${T} ${P} V${L} Z" />
        `}else a||(a=window.setTimeout(S,s.config.hoverThreshold))},b=()=>{!a||(clearTimeout(a),a=null)},S=()=>{!f.value||(f.value.innerHTML="",b())};return{ns:n,panel:s,hoverZone:f,isEmpty:d,isLoading:h,menuId:v,t:r,handleExpand:y,handleMouseMove:m,clearHoverZone:S}}});function I_e(e,t,n,r,o,i){const a=_n("el-cascader-node"),s=_n("loading"),f=_n("el-icon"),d=_n("el-scrollbar");return H(),et(d,{key:e.menuId,tag:"ul",role:"menu",class:Z(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:Be(()=>{var h;return[(H(!0),le(wn,null,_r(e.nodes,v=>(H(),et(a,{key:v.uid,node:v,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),e.isLoading?(H(),le("div",{key:0,class:Z(e.ns.e("empty-text"))},[Te(f,{size:"14",class:Z(e.ns.is("loading"))},{default:Be(()=>[Te(s)]),_:1},8,["class"]),$r(" "+Bt(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(H(),le("div",{key:1,class:Z(e.ns.e("empty-text"))},Bt(e.t("el.cascader.noData")),3)):(h=e.panel)!=null&&h.isHoverMenu?(H(),le("svg",{key:2,ref:"hoverZone",class:Z(e.ns.e("hover-zone"))},null,2)):Ye("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var D_e=zt(R_e,[["render",I_e],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]);let k_e=0;const L_e=e=>{const t=[e];let{parent:n}=e;for(;n;)t.unshift(n),n=n.parent;return t};class by{constructor(t,n,r,o=!1){this.data=t,this.config=n,this.parent=r,this.root=o,this.uid=k_e++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:i,label:a,children:s}=n,f=t[s],d=L_e(this);this.level=o?0:r?r.level+1:1,this.value=t[i],this.label=t[a],this.pathNodes=d,this.pathValues=d.map(h=>h.value),this.pathLabels=d.map(h=>h.label),this.childrenData=f,this.children=(f||[]).map(h=>new by(h,n,this)),this.loaded=!n.lazy||this.isLeaf||!As(f)}get isDisabled(){const{data:t,parent:n,config:r}=this,{disabled:o,checkStrictly:i}=r;return(Wn(o)?o(t,this):!!t[o])||!i&&(n==null?void 0:n.isDisabled)}get isLeaf(){const{data:t,config:n,childrenData:r,loaded:o}=this,{lazy:i,leaf:a}=n,s=Wn(a)?a(t,this):t[a];return Vi(s)?i&&!o?!1:!(Array.isArray(r)&&r.length):!!s}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(t){const{childrenData:n,children:r}=this,o=new by(t,this.config,this);return Array.isArray(n)?n.push(t):this.childrenData=[t],r.push(o),o}calcText(t,n){const r=t?this.pathLabels.join(n):this.label;return this.text=r,r}broadcast(t,...n){const r=`onParent${sc(t)}`;this.children.forEach(o=>{o&&(o.broadcast(t,...n),o[r]&&o[r](...n))})}emit(t,...n){const{parent:r}=this,o=`onChild${sc(t)}`;r&&(r[o]&&r[o](...n),r.emit(t,...n))}onParentCheck(t){this.isDisabled||this.setCheckState(t)}onChildCheck(){const{children:t}=this,n=t.filter(o=>!o.isDisabled),r=n.length?n.every(o=>o.checked):!1;this.setCheckState(r)}setCheckState(t){const n=this.children.length,r=this.children.reduce((o,i)=>{const a=i.checked?1:i.indeterminate?.5:0;return o+a},0);this.checked=this.loaded&&this.children.filter(o=>!o.isDisabled).every(o=>o.loaded&&o.checked)&&t,this.indeterminate=this.loaded&&r!==n&&r>0}doCheck(t){if(this.checked===t)return;const{checkStrictly:n,multiple:r}=this.config;n||!r?this.checked=t:(this.broadcast("check",t),this.setCheckState(t),this.emit("check"))}}const HP=(e,t)=>e.reduce((n,r)=>(r.isLeaf?n.push(r):(!t&&n.push(r),n=n.concat(HP(r.children,t))),n),[]);class H4{constructor(t,n){this.config=n;const r=(t||[]).map(o=>new by(o,this.config));this.nodes=r,this.allNodes=HP(r,!1),this.leafNodes=HP(r,!0)}getNodes(){return this.nodes}getFlattedNodes(t){return t?this.leafNodes:this.allNodes}appendNode(t,n){const r=n?n.appendChild(t):new by(t,this.config);n||this.nodes.push(r),this.allNodes.push(r),r.isLeaf&&this.leafNodes.push(r)}appendNodes(t,n){t.forEach(r=>this.appendNode(r,n))}getNodeByValue(t,n=!1){return!t&&t!==0?null:this.getFlattedNodes(n).find(o=>Ns(o.value,t)||Ns(o.pathValues,t))||null}getSameNode(t){return t&&this.getFlattedNodes(!1).find(({value:r,level:o})=>Ns(t.value,r)&&t.level===o)||null}}const k7={modelValue:[Number,String,Array],options:{type:Array,default:()=>[]},props:{type:Object,default:()=>({})}},$_e={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:to,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},B_e=e=>G(()=>({...$_e,...e.props})),G4=e=>{if(!e)return 0;const t=e.id.split("-");return Number(t[t.length-2])},j_e=e=>{if(!e)return;const t=e.querySelector("input");t?t.click():LH(e)&&e.click()},F_e=(e,t)=>{const n=t.slice(0),r=n.map(i=>i.uid),o=e.reduce((i,a)=>{const s=r.indexOf(a.uid);return s>-1&&(i.push(a),n.splice(s,1),r.splice(s,1)),i},[]);return o.push(...n),o},z_e=St({name:"ElCascaderPanel",components:{ElCascaderMenu:D_e},props:{...k7,border:{type:Boolean,default:!0},renderLabel:Function},emits:[hr,Po,"close","expand-change"],setup(e,{emit:t,slots:n}){let r=!1;const o=wt("cascader"),i=B_e(e);let a=null;const s=re(!0),f=re([]),d=re(null),h=re([]),v=re(null),y=re([]),m=G(()=>i.value.expandTrigger==="hover"),b=G(()=>e.renderLabel||n.default),S=()=>{const{options:M}=e,D=i.value;r=!1,a=new H4(M,D),h.value=[a.getNodes()],D.lazy&&As(e.options)?(s.value=!1,O(void 0,B=>{B&&(a=new H4(B,D),h.value=[a.getNodes()]),s.value=!0,j(!1,!0)})):j(!1,!0)},O=(M,D)=>{const B=i.value;M=M||new by({},B,void 0,!0),M.loading=!0;const V=Y=>{const K=M,X=K.root?null:K;Y&&(a==null||a.appendNodes(Y,X)),K.loading=!1,K.loaded=!0,K.childrenData=K.childrenData||[],D&&D(Y)};B.lazyLoad(M,V)},_=(M,D)=>{var B;const{level:V}=M,Y=h.value.slice(0,V);let K;M.isLeaf?K=M.pathNodes[V-2]:(K=M,Y.push(M.children)),((B=v.value)==null?void 0:B.uid)!==(K==null?void 0:K.uid)&&(v.value=M,h.value=Y,!D&&t("expand-change",(M==null?void 0:M.pathValues)||[]))},A=(M,D,B=!0)=>{const{checkStrictly:V,multiple:Y}=i.value,K=y.value[0];r=!0,!Y&&(K==null||K.doCheck(!1)),M.doCheck(D),L(),B&&!Y&&!V&&t("close"),!B&&!Y&&!V&&T(M)},T=M=>{!M||(M=M.parent,T(M),M&&_(M))},P=M=>a==null?void 0:a.getFlattedNodes(M),x=M=>{var D;return(D=P(M))==null?void 0:D.filter(B=>B.checked!==!1)},N=()=>{y.value.forEach(M=>M.doCheck(!1)),L()},L=()=>{var M;const{checkStrictly:D,multiple:B}=i.value,V=y.value,Y=x(!D),K=F_e(V,Y),X=K.map(W=>W.valueByOption);y.value=K,d.value=B?X:(M=X[0])!=null?M:null},j=(M=!1,D=!1)=>{const{modelValue:B}=e,{lazy:V,multiple:Y,checkStrictly:K}=i.value,X=!K;if(!(!s.value||r||!D&&Ns(B,d.value)))if(V&&!M){const ie=Q$(_pe(pc(B))).map(oe=>a==null?void 0:a.getNodeByValue(oe)).filter(oe=>!!oe&&!oe.loaded&&!oe.loading);ie.length?ie.forEach(oe=>{O(oe,()=>j(!1,D))}):j(!0,D)}else{const W=Y?pc(B):[B],ie=Q$(W.map(oe=>a==null?void 0:a.getNodeByValue(oe,X)));k(ie,D),d.value=B}},k=(M,D=!0)=>{const{checkStrictly:B}=i.value,V=y.value,Y=M.filter(W=>!!W&&(B||W.isLeaf)),K=a==null?void 0:a.getSameNode(v.value),X=D&&K||Y[0];X?X.pathNodes.forEach(W=>_(W,!0)):v.value=null,V.forEach(W=>W.doCheck(!1)),Y.forEach(W=>W.doCheck(!0)),y.value=Y,bn(F)},F=()=>{!Rr||f.value.forEach(M=>{const D=M==null?void 0:M.$el;if(D){const B=D.querySelector(`.${o.namespace.value}-scrollbar__wrap`),V=D.querySelector(`.${o.b("node")}.${o.is("active")}`)||D.querySelector(`.${o.b("node")}.in-active-path`);UH(B,V)}})},z=M=>{const D=M.target,{code:B}=M;switch(B){case Mn.up:case Mn.down:{M.preventDefault();const V=B===Mn.up?-1:1;_w($H(D,V,`.${o.b("node")}[tabindex="-1"]`));break}case Mn.left:{M.preventDefault();const V=f.value[G4(D)-1],Y=V==null?void 0:V.$el.querySelector(`.${o.b("node")}[aria-expanded="true"]`);_w(Y);break}case Mn.right:{M.preventDefault();const V=f.value[G4(D)+1],Y=V==null?void 0:V.$el.querySelector(`.${o.b("node")}[tabindex="-1"]`);_w(Y);break}case Mn.enter:j_e(D);break}};return Sr(hN,Xr({config:i,expandingNode:v,checkedNodes:y,isHoverMenu:m,initialLoaded:s,renderLabelFn:b,lazyLoad:O,expandNode:_,handleCheckChange:A})),At([i,()=>e.options],S,{deep:!0,immediate:!0}),At(()=>e.modelValue,()=>{r=!1,j()}),At(d,M=>{Ns(M,e.modelValue)||(t(hr,M),t(Po,M))}),RV(()=>f.value=[]),ir(()=>!As(e.modelValue)&&j()),{ns:o,menuList:f,menus:h,checkedNodes:y,handleKeyDown:z,handleCheckChange:A,getFlattedNodes:P,getCheckedNodes:x,clearCheckedNodes:N,calculateCheckedValue:L,scrollToExpandingNode:F}}});function U_e(e,t,n,r,o,i){const a=_n("el-cascader-menu");return H(),le("div",{class:Z([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:t[0]||(t[0]=(...s)=>e.handleKeyDown&&e.handleKeyDown(...s))},[(H(!0),le(wn,null,_r(e.menus,(s,f)=>(H(),et(a,{key:f,ref_for:!0,ref:d=>e.menuList[f]=d,index:f,nodes:[...s]},null,8,["index","nodes"]))),128))],34)}var Nw=zt(z_e,[["render",U_e],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);Nw.install=e=>{e.component(Nw.name,Nw)};const L7=Nw,V_e=L7,pN=Kt({closable:Boolean,type:{type:String,values:["success","info","warning","danger",""],default:""},hit:Boolean,disableTransitions:Boolean,color:{type:String,default:""},size:{type:String,values:Qh,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),H_e={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},G_e={name:"ElTag"},W_e=St({...G_e,props:pN,emits:H_e,setup(e,{emit:t}){const n=e,r=oi(),o=wt("tag"),i=G(()=>{const{type:f,hit:d,effect:h,closable:v,round:y}=n;return[o.b(),o.is("closable",v),o.m(f),o.m(r.value),o.m(h),o.is("hit",d),o.is("round",y)]}),a=f=>{t("close",f)},s=f=>{t("click",f)};return(f,d)=>f.disableTransitions?(H(),le("span",{key:0,class:Z(E(i)),style:gn({backgroundColor:f.color}),onClick:s},[ve("span",{class:Z(E(o).e("content"))},[bt(f.$slots,"default")],2),f.closable?(H(),et(E(En),{key:0,class:Z(E(o).e("close")),onClick:Fn(a,["stop"])},{default:Be(()=>[Te(E(ml))]),_:1},8,["class","onClick"])):Ye("v-if",!0)],6)):(H(),et(ti,{key:1,name:`${E(o).namespace.value}-zoom-in-center`,appear:""},{default:Be(()=>[ve("span",{class:Z(E(i)),style:gn({backgroundColor:f.color}),onClick:s},[ve("span",{class:Z(E(o).e("content"))},[bt(f.$slots,"default")],2),f.closable?(H(),et(E(En),{key:0,class:Z(E(o).e("close")),onClick:Fn(a,["stop"])},{default:Be(()=>[Te(E(ml))]),_:1},8,["class","onClick"])):Ye("v-if",!0)],6)]),_:3},8,["name"]))}});var K_e=zt(W_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const M_=fr(K_e),X_e=40,Y_e={large:36,default:32,small:28},Z_e={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:e})=>{const{modifiersData:t,placement:n}=e;["right","left","bottom","top"].includes(n)||(t.arrow.x=35)},requires:["arrow"]}]},J_e="ElCascader",Q_e=St({name:J_e,components:{ElCascaderPanel:L7,ElInput:na,ElTooltip:Ua,ElScrollbar:Mc,ElTag:M_,ElIcon:En,CircleClose:id,Check:Xb,ArrowDown:od},directives:{Clickoutside:qf},props:{...k7,size:{type:String,validator:qh},placeholder:{type:String},disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Function,default:(e,t)=>e.text.includes(t)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Function,default:()=>!0},popperClass:{type:String,default:""},teleported:Bi.teleported,tagType:{...pN.type,default:"info"},validateEvent:{type:Boolean,default:!0}},emits:[hr,Po,"focus","blur","visible-change","expand-change","remove-tag"],setup(e,{emit:t}){let n=0,r=0;const o=wt("cascader"),i=wt("input"),{t:a}=Hr(),{form:s,formItem:f}=as(),d=re(null),h=re(null),v=re(null),y=re(null),m=re(null),b=re(!1),S=re(!1),O=re(!1),_=re(""),A=re(""),T=re([]),P=re([]),x=re([]),N=re(!1),L=G(()=>e.disabled||(s==null?void 0:s.disabled)),j=G(()=>e.placeholder||a("el.cascader.placeholder")),k=oi(),F=G(()=>["small"].includes(k.value)?"small":"default"),z=G(()=>!!e.props.multiple),M=G(()=>!e.filterable||z.value),D=G(()=>z.value?A.value:_.value),B=G(()=>{var pe;return((pe=y.value)==null?void 0:pe.checkedNodes)||[]}),V=G(()=>!e.clearable||L.value||O.value||!S.value?!1:!!B.value.length),Y=G(()=>{const{showAllLevels:pe,separator:Ue}=e,Ke=B.value;return Ke.length?z.value?" ":Ke[0].calcText(pe,Ue):""}),K=G({get(){return e.modelValue},set(pe){t(hr,pe),t(Po,pe),e.validateEvent&&(f==null||f.validate("change").catch(Ue=>void 0))}}),X=G(()=>{var pe,Ue;return(Ue=(pe=d.value)==null?void 0:pe.popperRef)==null?void 0:Ue.contentRef}),W=pe=>{var Ue,Ke,Ve;L.value||(pe=pe!=null?pe:!b.value,pe!==b.value&&(b.value=pe,(Ke=(Ue=h.value)==null?void 0:Ue.input)==null||Ke.setAttribute("aria-expanded",`${pe}`),pe?(ie(),bn((Ve=y.value)==null?void 0:Ve.scrollToExpandingNode)):e.filterable&&se(),t("visible-change",pe)))},ie=()=>{bn(()=>{var pe;(pe=d.value)==null||pe.updatePopper()})},oe=()=>{O.value=!1},ee=pe=>{const{showAllLevels:Ue,separator:Ke}=e;return{node:pe,key:pe.uid,text:pe.calcText(Ue,Ke),hitState:!1,closable:!L.value&&!pe.isDisabled,isCollapseTag:!1}},ue=pe=>{var Ue;const Ke=pe.node;Ke.doCheck(!1),(Ue=y.value)==null||Ue.calculateCheckedValue(),t("remove-tag",Ke.valueByOption)},Ne=()=>{if(!z.value)return;const pe=B.value,Ue=[],Ke=[];if(pe.forEach(Ve=>Ke.push(ee(Ve))),P.value=Ke,pe.length){const[Ve,...ne]=pe,fe=ne.length;Ue.push(ee(Ve)),fe&&(e.collapseTags?Ue.push({key:-1,text:`+ ${fe}`,closable:!1,isCollapseTag:!0}):ne.forEach(Me=>Ue.push(ee(Me))))}T.value=Ue},$e=()=>{var pe,Ue;const{filterMethod:Ke,showAllLevels:Ve,separator:ne}=e,fe=(Ue=(pe=y.value)==null?void 0:pe.getFlattedNodes(!e.props.checkStrictly))==null?void 0:Ue.filter(Me=>Me.isDisabled?!1:(Me.calcText(Ve,ne),Ke(Me,D.value)));z.value&&(T.value.forEach(Me=>{Me.hitState=!1}),P.value.forEach(Me=>{Me.hitState=!1})),O.value=!0,x.value=fe,ie()},Ie=()=>{var pe;let Ue;O.value&&m.value?Ue=m.value.$el.querySelector(`.${o.e("suggestion-item")}`):Ue=(pe=y.value)==null?void 0:pe.$el.querySelector(`.${o.b("node")}[tabindex="-1"]`),Ue&&(Ue.focus(),!O.value&&Ue.click())},Le=()=>{var pe,Ue;const Ke=(pe=h.value)==null?void 0:pe.input,Ve=v.value,ne=(Ue=m.value)==null?void 0:Ue.$el;if(!(!Rr||!Ke)){if(ne){const fe=ne.querySelector(`.${o.e("suggestion-list")}`);fe.style.minWidth=`${Ke.offsetWidth}px`}if(Ve){const{offsetHeight:fe}=Ve,Me=T.value.length>0?`${Math.max(fe+6,n)}px`:`${n}px`;Ke.style.height=Me,ie()}}},he=pe=>{var Ue;return(Ue=y.value)==null?void 0:Ue.getCheckedNodes(pe)},te=pe=>{ie(),t("expand-change",pe)},ae=pe=>{var Ue;const Ke=(Ue=pe.target)==null?void 0:Ue.value;if(pe.type==="compositionend")N.value=!1,bn(()=>qe(Ke));else{const Ve=Ke[Ke.length-1]||"";N.value=!S_(Ve)}},Ce=pe=>{if(!N.value)switch(pe.code){case Mn.enter:W();break;case Mn.down:W(!0),bn(Ie),pe.preventDefault();break;case Mn.esc:b.value===!0&&(pe.preventDefault(),pe.stopPropagation(),W(!1));break;case Mn.tab:W(!1);break}},Ze=()=>{var pe;(pe=y.value)==null||pe.clearCheckedNodes(),!b.value&&e.filterable&&se(),W(!1)},se=()=>{const{value:pe}=Y;_.value=pe,A.value=pe},de=pe=>{var Ue,Ke;const{checked:Ve}=pe;z.value?(Ue=y.value)==null||Ue.handleCheckChange(pe,!Ve,!1):(!Ve&&((Ke=y.value)==null||Ke.handleCheckChange(pe,!0,!1)),W(!1))},ze=pe=>{const Ue=pe.target,{code:Ke}=pe;switch(Ke){case Mn.up:case Mn.down:{const Ve=Ke===Mn.up?-1:1;_w($H(Ue,Ve,`.${o.e("suggestion-item")}[tabindex="-1"]`));break}case Mn.enter:Ue.click();break}},lt=()=>{const pe=T.value,Ue=pe[pe.length-1];r=A.value?0:r+1,!(!Ue||!r||e.collapseTags&&pe.length>1)&&(Ue.hitState?ue(Ue):Ue.hitState=!0)},Re=Sa(()=>{const{value:pe}=D;if(!pe)return;const Ue=e.beforeFilter(pe);rb(Ue)?Ue.then($e).catch(()=>{}):Ue!==!1?$e():oe()},e.debounce),qe=(pe,Ue)=>{!b.value&&W(!0),!(Ue!=null&&Ue.isComposing)&&(pe?Re():oe())};return At(O,ie),At([B,L],Ne),At(T,()=>{bn(()=>Le())}),At(Y,pe=>_.value=pe,{immediate:!0}),ir(()=>{var pe;const Ue=(pe=h.value)==null?void 0:pe.$el;n=(Ue==null?void 0:Ue.offsetHeight)||Y_e[k.value]||X_e,oa(Ue,Le)}),{popperOptions:Z_e,tooltipRef:d,popperPaneRef:X,input:h,tagWrapper:v,panel:y,suggestionPanel:m,popperVisible:b,inputHover:S,inputPlaceholder:j,filtering:O,presentText:Y,checkedValue:K,inputValue:_,searchInputValue:A,presentTags:T,allPresentTags:P,suggestions:x,isDisabled:L,isOnComposition:N,realSize:k,tagSize:F,multiple:z,readonly:M,clearBtnVisible:V,nsCascader:o,nsInput:i,t:a,togglePopperVisible:W,hideSuggestionPanel:oe,deleteTag:ue,focusFirstNode:Ie,getCheckedNodes:he,handleExpandChange:te,handleKeyDown:Ce,handleComposition:ae,handleClear:Ze,handleSuggestionClick:de,handleSuggestionKeyDown:ze,handleDelete:lt,handleInput:qe}}}),q_e={key:0},eTe=["placeholder"],tTe=["onClick"];function nTe(e,t,n,r,o,i){const a=_n("circle-close"),s=_n("el-icon"),f=_n("arrow-down"),d=_n("el-input"),h=_n("el-tag"),v=_n("el-tooltip"),y=_n("el-cascader-panel"),m=_n("check"),b=_n("el-scrollbar"),S=kh("clickoutside");return H(),et(v,{ref:"tooltipRef",visible:e.popperVisible,teleported:e.teleported,"popper-class":[e.nsCascader.e("dropdown"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${e.nsCascader.namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:e.hideSuggestionPanel},{default:Be(()=>[Gn((H(),le("div",{class:Z([e.nsCascader.b(),e.nsCascader.m(e.realSize),e.nsCascader.is("disabled",e.isDisabled),e.$attrs.class]),style:gn(e.$attrs.style),onClick:t[11]||(t[11]=()=>e.togglePopperVisible(e.readonly?void 0:!0)),onKeydown:t[12]||(t[12]=(...O)=>e.handleKeyDown&&e.handleKeyDown(...O)),onMouseenter:t[13]||(t[13]=O=>e.inputHover=!0),onMouseleave:t[14]||(t[14]=O=>e.inputHover=!1)},[Te(d,{ref:"input",modelValue:e.inputValue,"onUpdate:modelValue":t[1]||(t[1]=O=>e.inputValue=O),placeholder:e.searchInputValue?"":e.inputPlaceholder,readonly:e.readonly,disabled:e.isDisabled,"validate-event":!1,size:e.realSize,class:Z(e.nsCascader.is("focus",e.popperVisible)),onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onFocus:t[2]||(t[2]=O=>e.$emit("focus",O)),onBlur:t[3]||(t[3]=O=>e.$emit("blur",O)),onInput:e.handleInput},{suffix:Be(()=>[e.clearBtnVisible?(H(),et(s,{key:"clear",class:Z([e.nsInput.e("icon"),"icon-circle-close"]),onClick:Fn(e.handleClear,["stop"])},{default:Be(()=>[Te(a)]),_:1},8,["class","onClick"])):(H(),et(s,{key:"arrow-down",class:Z([e.nsInput.e("icon"),"icon-arrow-down",e.nsCascader.is("reverse",e.popperVisible)]),onClick:t[0]||(t[0]=Fn(O=>e.togglePopperVisible(),["stop"]))},{default:Be(()=>[Te(f)]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","onCompositionstart","onCompositionupdate","onCompositionend","onInput"]),e.multiple?(H(),le("div",{key:0,ref:"tagWrapper",class:Z(e.nsCascader.e("tags"))},[(H(!0),le(wn,null,_r(e.presentTags,O=>(H(),et(h,{key:O.key,type:e.tagType,size:e.tagSize,hit:O.hitState,closable:O.closable,"disable-transitions":"",onClose:_=>e.deleteTag(O)},{default:Be(()=>[O.isCollapseTag===!1?(H(),le("span",q_e,Bt(O.text),1)):(H(),et(v,{key:1,teleported:!1,disabled:e.popperVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:Be(()=>[ve("span",null,Bt(O.text),1)]),content:Be(()=>[ve("div",{class:Z(e.nsCascader.e("collapse-tags"))},[(H(!0),le(wn,null,_r(e.allPresentTags.slice(1),(_,A)=>(H(),le("div",{key:A,class:Z(e.nsCascader.e("collapse-tag"))},[(H(),et(h,{key:_.key,class:"in-tooltip",type:e.tagType,size:e.tagSize,hit:_.hitState,closable:_.closable,"disable-transitions":"",onClose:T=>e.deleteTag(_)},{default:Be(()=>[ve("span",null,Bt(_.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),e.filterable&&!e.isDisabled?Gn((H(),le("input",{key:0,"onUpdate:modelValue":t[4]||(t[4]=O=>e.searchInputValue=O),type:"text",class:Z(e.nsCascader.e("search-input")),placeholder:e.presentText?"":e.inputPlaceholder,onInput:t[5]||(t[5]=O=>e.handleInput(e.searchInputValue,O)),onClick:t[6]||(t[6]=Fn(O=>e.togglePopperVisible(!0),["stop"])),onKeydown:t[7]||(t[7]=kr((...O)=>e.handleDelete&&e.handleDelete(...O),["delete"])),onCompositionstart:t[8]||(t[8]=(...O)=>e.handleComposition&&e.handleComposition(...O)),onCompositionupdate:t[9]||(t[9]=(...O)=>e.handleComposition&&e.handleComposition(...O)),onCompositionend:t[10]||(t[10]=(...O)=>e.handleComposition&&e.handleComposition(...O))},null,42,eTe)),[[u_,e.searchInputValue]]):Ye("v-if",!0)],2)):Ye("v-if",!0)],38)),[[S,()=>e.togglePopperVisible(!1),e.popperPaneRef]])]),content:Be(()=>[Gn(Te(y,{ref:"panel",modelValue:e.checkedValue,"onUpdate:modelValue":t[15]||(t[15]=O=>e.checkedValue=O),options:e.options,props:e.props,border:!1,"render-label":e.$slots.default,onExpandChange:e.handleExpandChange,onClose:t[16]||(t[16]=O=>e.$nextTick(()=>e.togglePopperVisible(!1)))},null,8,["modelValue","options","props","render-label","onExpandChange"]),[[Lr,!e.filtering]]),e.filterable?Gn((H(),et(b,{key:0,ref:"suggestionPanel",tag:"ul",class:Z(e.nsCascader.e("suggestion-panel")),"view-class":e.nsCascader.e("suggestion-list"),onKeydown:e.handleSuggestionKeyDown},{default:Be(()=>[e.suggestions.length?(H(!0),le(wn,{key:0},_r(e.suggestions,O=>(H(),le("li",{key:O.uid,class:Z([e.nsCascader.e("suggestion-item"),e.nsCascader.is("checked",O.checked)]),tabindex:-1,onClick:_=>e.handleSuggestionClick(O)},[ve("span",null,Bt(O.text),1),O.checked?(H(),et(s,{key:0},{default:Be(()=>[Te(m)]),_:1})):Ye("v-if",!0)],10,tTe))),128)):bt(e.$slots,"empty",{key:1},()=>[ve("li",{class:Z(e.nsCascader.e("empty-text"))},Bt(e.t("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class","onKeydown"])),[[Lr,e.filtering]]):Ye("v-if",!0)]),_:3},8,["visible","teleported","popper-class","popper-options","transition","onHide"])}var Rw=zt(Q_e,[["render",nTe],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/index.vue"]]);Rw.install=e=>{e.component(Rw.name,Rw)};const rTe=Rw,oTe=rTe,iTe=Kt({checked:{type:Boolean,default:!1}}),aTe={"update:checked":e=>_i(e),[Po]:e=>_i(e)},sTe={name:"ElCheckTag"},lTe=St({...sTe,props:iTe,emits:aTe,setup(e,{emit:t}){const n=e,r=wt("check-tag"),o=()=>{const i=!n.checked;t(Po,i),t("update:checked",i)};return(i,a)=>(H(),le("span",{class:Z([E(r).b(),E(r).is("checked",i.checked)]),onClick:o},[bt(i.$slots,"default")],2))}});var uTe=zt(lTe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/check-tag/src/check-tag.vue"]]);const cTe=fr(uTe),fTe=Kt({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:ot([Number,Object]),default:()=>_o({})},sm:{type:ot([Number,Object]),default:()=>_o({})},md:{type:ot([Number,Object]),default:()=>_o({})},lg:{type:ot([Number,Object]),default:()=>_o({})},xl:{type:ot([Number,Object]),default:()=>_o({})}}),dTe={name:"ElCol"},hTe=St({...dTe,props:fTe,setup(e){const t=e,{gutter:n}=Cn(aG,{gutter:G(()=>0)}),r=wt("col"),o=G(()=>{const a={};return n.value&&(a.paddingLeft=a.paddingRight=`${n.value/2}px`),a}),i=G(()=>{const a=[];return["span","offset","pull","push"].forEach(d=>{const h=t[d];Jn(h)&&(d==="span"?a.push(r.b(`${t[d]}`)):h>0&&a.push(r.b(`${d}-${t[d]}`)))}),["xs","sm","md","lg","xl"].forEach(d=>{Jn(t[d])?a.push(r.b(`${d}-${t[d]}`)):Er(t[d])&&Object.entries(t[d]).forEach(([h,v])=>{a.push(h!=="span"?r.b(`${d}-${h}-${v}`):r.b(`${d}-${v}`))})}),n.value&&a.push(r.is("guttered")),a});return(a,s)=>(H(),et(mr(a.tag),{class:Z([E(r).b(),E(i)]),style:gn(E(o))},{default:Be(()=>[bt(a.$slots,"default")]),_:3},8,["class","style"]))}});var pTe=zt(hTe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);const vTe=fr(pTe),W4=e=>typeof Jn(e),yTe=Kt({accordion:Boolean,modelValue:{type:ot([Array,String,Number]),default:()=>_o([])}}),mTe={[hr]:W4,[Po]:W4},gTe={name:"ElCollapse"},bTe=St({...gTe,props:yTe,emits:mTe,setup(e,{expose:t,emit:n}){const r=e,o=wt("collapse"),i=re(cy(r.modelValue)),a=f=>{i.value=f;const d=r.accordion?i.value[0]:i.value;n(hr,d),n(Po,d)},s=f=>{if(r.accordion)a([(i.value[0]||i.value[0]===0)&&i.value[0]===f?"":f]);else{const d=[...i.value],h=d.indexOf(f);h>-1?d.splice(h,1):d.push(f),a(d)}};return At(()=>r.modelValue,()=>i.value=cy(r.modelValue),{deep:!0}),Sr(tG,{activeNames:i,handleItemClick:s}),t({activeNames:i,setActiveNames:a}),(f,d)=>(H(),le("div",{class:Z(E(o).b()),role:"tablist","aria-multiselectable":"true"},[bt(f.$slots,"default")],2))}});var ETe=zt(bTe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse.vue"]]);const STe={name:"ElCollapseTransition"},wTe=St({...STe,setup(e){const t=wt("collapse-transition"),n={beforeEnter(r){r.dataset||(r.dataset={}),r.dataset.oldPaddingTop=r.style.paddingTop,r.dataset.oldPaddingBottom=r.style.paddingBottom,r.style.maxHeight=0,r.style.paddingTop=0,r.style.paddingBottom=0},enter(r){r.dataset.oldOverflow=r.style.overflow,r.scrollHeight!==0?(r.style.maxHeight=`${r.scrollHeight}px`,r.style.paddingTop=r.dataset.oldPaddingTop,r.style.paddingBottom=r.dataset.oldPaddingBottom):(r.style.maxHeight=0,r.style.paddingTop=r.dataset.oldPaddingTop,r.style.paddingBottom=r.dataset.oldPaddingBottom),r.style.overflow="hidden"},afterEnter(r){r.style.maxHeight="",r.style.overflow=r.dataset.oldOverflow},beforeLeave(r){r.dataset||(r.dataset={}),r.dataset.oldPaddingTop=r.style.paddingTop,r.dataset.oldPaddingBottom=r.style.paddingBottom,r.dataset.oldOverflow=r.style.overflow,r.style.maxHeight=`${r.scrollHeight}px`,r.style.overflow="hidden"},leave(r){r.scrollHeight!==0&&(r.style.maxHeight=0,r.style.paddingTop=0,r.style.paddingBottom=0)},afterLeave(r){r.style.maxHeight="",r.style.overflow=r.dataset.oldOverflow,r.style.paddingTop=r.dataset.oldPaddingTop,r.style.paddingBottom=r.dataset.oldPaddingBottom}};return(r,o)=>(H(),et(ti,br({name:E(t).b()},Kse(n)),{default:Be(()=>[bt(r.$slots,"default")]),_:3},16,["name"]))}});var Iw=zt(wTe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);Iw.install=e=>{e.component(Iw.name,Iw)};const N_=Iw,OTe=N_,_Te=Kt({title:{type:String,default:""},name:{type:ot([String,Number]),default:()=>Yb()},disabled:Boolean}),TTe=["aria-expanded","aria-controls","aria-describedby"],CTe=["id","tabindex","onKeypress"],ATe=["id","aria-hidden","aria-labelledby"],PTe={name:"ElCollapseItem"},xTe=St({...PTe,props:_Te,setup(e,{expose:t}){const n=e,r=Cn(tG),o=wt("collapse"),i=re(!1),a=re(!1),s=re(Yb()),f=G(()=>r==null?void 0:r.activeNames.value.includes(n.name)),d=()=>{setTimeout(()=>{a.value?a.value=!1:i.value=!0},50)},h=()=>{n.disabled||(r==null||r.handleItemClick(n.name),i.value=!1,a.value=!0)},v=()=>{r==null||r.handleItemClick(n.name)};return t({isActive:f}),(y,m)=>(H(),le("div",{class:Z([E(o).b("item"),E(o).is("active",E(f)),E(o).is("disabled",y.disabled)])},[ve("div",{role:"tab","aria-expanded":E(f),"aria-controls":E(o).b(`content-${s.value}`),"aria-describedby":E(o).b(`content-${s.value}`)},[ve("div",{id:E(o).b(`head-${s.value}`),class:Z([E(o).be("item","header"),E(o).is("active",E(f)),{focusing:i.value&&!y.disabled}]),role:"button",tabindex:y.disabled?-1:0,onClick:h,onKeypress:kr(Fn(v,["stop","prevent"]),["space","enter"]),onFocus:d,onBlur:m[0]||(m[0]=b=>i.value=!1)},[bt(y.$slots,"title",{},()=>[$r(Bt(y.title),1)]),Te(E(En),{class:Z([E(o).be("item","arrow"),E(o).is("active",E(f))])},{default:Be(()=>[Te(E(Ea))]),_:1},8,["class"])],42,CTe)],8,TTe),Te(E(N_),null,{default:Be(()=>[Gn(ve("div",{id:E(o).b(`content-${s.value}`),class:Z(E(o).be("item","wrap")),role:"tabpanel","aria-hidden":!E(f),"aria-labelledby":E(o).b(`head-${s.value}`)},[ve("div",{class:Z(E(o).be("item","content"))},[bt(y.$slots,"default")],2)],10,ATe),[[Lr,E(f)]])]),_:3})],2))}});var $7=zt(xTe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse-item.vue"]]);const MTe=fr(ETe,{CollapseItem:$7}),NTe=ko($7);let SA=!1;function Sb(e,t){if(!Rr)return;const n=function(i){var a;(a=t.drag)==null||a.call(t,i)},r=function(i){var a;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r),document.onselectstart=null,document.ondragstart=null,SA=!1,(a=t.end)==null||a.call(t,i)},o=function(i){var a;SA||(i.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",r),document.addEventListener("touchmove",n),document.addEventListener("touchend",r),SA=!0,(a=t.start)==null||a.call(t,i))};e.addEventListener("mousedown",o),e.addEventListener("touchstart",o)}const RTe=St({name:"ElColorAlphaSlider",props:{color:{type:Object,required:!0},vertical:{type:Boolean,default:!1}},setup(e){const t=wt("color-alpha-slider"),n=cr(),r=bo(null),o=bo(null),i=re(0),a=re(0),s=re(null);At(()=>e.color.get("alpha"),()=>{m()}),At(()=>e.color.value,()=>{m()});function f(){if(e.vertical)return 0;const b=n.vnode.el,S=e.color.get("alpha");return b?Math.round(S*(b.offsetWidth-r.value.offsetWidth/2)/100):0}function d(){const b=n.vnode.el;if(!e.vertical)return 0;const S=e.color.get("alpha");return b?Math.round(S*(b.offsetHeight-r.value.offsetHeight/2)/100):0}function h(){if(e.color&&e.color.value){const{r:b,g:S,b:O}=e.color.toRgb();return`linear-gradient(to right, rgba(${b}, ${S}, ${O}, 0) 0%, rgba(${b}, ${S}, ${O}, 1) 100%)`}return null}function v(b){b.target!==r.value&&y(b)}function y(b){const O=n.vnode.el.getBoundingClientRect(),{clientX:_,clientY:A}=jM(b);if(e.vertical){let T=A-O.top;T=Math.max(r.value.offsetHeight/2,T),T=Math.min(T,O.height-r.value.offsetHeight/2),e.color.set("alpha",Math.round((T-r.value.offsetHeight/2)/(O.height-r.value.offsetHeight)*100))}else{let T=_-O.left;T=Math.max(r.value.offsetWidth/2,T),T=Math.min(T,O.width-r.value.offsetWidth/2),e.color.set("alpha",Math.round((T-r.value.offsetWidth/2)/(O.width-r.value.offsetWidth)*100))}}function m(){i.value=f(),a.value=d(),s.value=h()}return ir(()=>{const b={drag:S=>{y(S)},end:S=>{y(S)}};Sb(o.value,b),Sb(r.value,b),m()}),{thumb:r,bar:o,thumbLeft:i,thumbTop:a,background:s,handleClick:v,update:m,ns:t}}});function ITe(e,t,n,r,o,i){return H(),le("div",{class:Z([e.ns.b(),e.ns.is("vertical",e.vertical)])},[ve("div",{ref:"bar",class:Z(e.ns.e("bar")),style:gn({background:e.background}),onClick:t[0]||(t[0]=(...a)=>e.handleClick&&e.handleClick(...a))},null,6),ve("div",{ref:"thumb",class:Z(e.ns.e("thumb")),style:gn({left:e.thumbLeft+"px",top:e.thumbTop+"px"})},null,6)],2)}var DTe=zt(RTe,[["render",ITe],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/alpha-slider.vue"]]);const kTe=St({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(e){const t=wt("color-hue-slider"),n=cr(),r=re(null),o=re(null),i=re(0),a=re(0),s=G(()=>e.color.get("hue"));At(()=>s.value,()=>{y()});function f(m){m.target!==r.value&&d(m)}function d(m){const S=n.vnode.el.getBoundingClientRect(),{clientX:O,clientY:_}=jM(m);let A;if(e.vertical){let T=_-S.top;T=Math.min(T,S.height-r.value.offsetHeight/2),T=Math.max(r.value.offsetHeight/2,T),A=Math.round((T-r.value.offsetHeight/2)/(S.height-r.value.offsetHeight)*360)}else{let T=O-S.left;T=Math.min(T,S.width-r.value.offsetWidth/2),T=Math.max(r.value.offsetWidth/2,T),A=Math.round((T-r.value.offsetWidth/2)/(S.width-r.value.offsetWidth)*360)}e.color.set("hue",A)}function h(){const m=n.vnode.el;if(e.vertical)return 0;const b=e.color.get("hue");return m?Math.round(b*(m.offsetWidth-r.value.offsetWidth/2)/360):0}function v(){const m=n.vnode.el;if(!e.vertical)return 0;const b=e.color.get("hue");return m?Math.round(b*(m.offsetHeight-r.value.offsetHeight/2)/360):0}function y(){i.value=h(),a.value=v()}return ir(()=>{const m={drag:b=>{d(b)},end:b=>{d(b)}};Sb(o.value,m),Sb(r.value,m),y()}),{bar:o,thumb:r,thumbLeft:i,thumbTop:a,hueValue:s,handleClick:f,update:y,ns:t}}});function LTe(e,t,n,r,o,i){return H(),le("div",{class:Z([e.ns.b(),e.ns.is("vertical",e.vertical)])},[ve("div",{ref:"bar",class:Z(e.ns.e("bar")),onClick:t[0]||(t[0]=(...a)=>e.handleClick&&e.handleClick(...a))},null,2),ve("div",{ref:"thumb",class:Z(e.ns.e("thumb")),style:gn({left:e.thumbLeft+"px",top:e.thumbTop+"px"})},null,6)],2)}var $Te=zt(kTe,[["render",LTe],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/hue-slider.vue"]]);const B7=Symbol(),BTe=()=>Cn(B7),K4=function(e,t,n){return[e,t*n/((e=(2-t)*n)<1?e:2-e)||0,e/2]},jTe=function(e){return typeof e=="string"&&e.includes(".")&&Number.parseFloat(e)===1},FTe=function(e){return typeof e=="string"&&e.includes("%")},Yv=function(e,t){jTe(e)&&(e="100%");const n=FTe(e);return e=Math.min(t,Math.max(0,Number.parseFloat(`${e}`))),n&&(e=Number.parseInt(`${e*t}`,10)/100),Math.abs(e-t)<1e-6?1:e%t/Number.parseFloat(t)},X4={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},Dw=function(e){e=Math.min(Math.round(e),255);const t=Math.floor(e/16),n=e%16;return`${X4[t]||t}${X4[n]||n}`},Y4=function({r:e,g:t,b:n}){return Number.isNaN(+e)||Number.isNaN(+t)||Number.isNaN(+n)?"":`#${Dw(e)}${Dw(t)}${Dw(n)}`},wA={A:10,B:11,C:12,D:13,E:14,F:15},rh=function(e){return e.length===2?(wA[e[0].toUpperCase()]||+e[0])*16+(wA[e[1].toUpperCase()]||+e[1]):wA[e[1].toUpperCase()]||+e[1]},zTe=function(e,t,n){t=t/100,n=n/100;let r=t;const o=Math.max(n,.01);n*=2,t*=n<=1?n:2-n,r*=o<=1?o:2-o;const i=(n+t)/2,a=n===0?2*r/(o+r):2*t/(n+t);return{h:e,s:a*100,v:i*100}},Z4=function(e,t,n){e=Yv(e,255),t=Yv(t,255),n=Yv(n,255);const r=Math.max(e,t,n),o=Math.min(e,t,n);let i;const a=r,s=r-o,f=r===0?0:s/r;if(r===o)i=0;else{switch(r){case e:{i=(t-n)/s+(t<n?6:0);break}case t:{i=(n-e)/s+2;break}case n:{i=(e-t)/s+4;break}}i/=6}return{h:i*360,s:f*100,v:a*100}},ag=function(e,t,n){e=Yv(e,360)*6,t=Yv(t,100),n=Yv(n,100);const r=Math.floor(e),o=e-r,i=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),f=r%6,d=[n,a,i,i,s,n][f],h=[s,n,n,a,i,i][f],v=[i,i,s,n,n,a][f];return{r:Math.round(d*255),g:Math.round(h*255),b:Math.round(v*255)}};class Gg{constructor(t){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="",t=t||{};for(const n in t)xr(t,n)&&(this[n]=t[n]);t.value?this.fromString(t.value):this.doOnChange()}set(t,n){if(arguments.length===1&&typeof t=="object"){for(const r in t)xr(t,r)&&this.set(r,t[r]);return}this[`_${t}`]=n,this.doOnChange()}get(t){return t==="alpha"?Math.floor(this[`_${t}`]):this[`_${t}`]}toRgb(){return ag(this._hue,this._saturation,this._value)}fromString(t){if(!t){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const n=(r,o,i)=>{this._hue=Math.max(0,Math.min(360,r)),this._saturation=Math.max(0,Math.min(100,o)),this._value=Math.max(0,Math.min(100,i)),this.doOnChange()};if(t.includes("hsl")){const r=t.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(o=>o!=="").map((o,i)=>i>2?Number.parseFloat(o):Number.parseInt(o,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:o,s:i,v:a}=zTe(r[0],r[1],r[2]);n(o,i,a)}}else if(t.includes("hsv")){const r=t.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(o=>o!=="").map((o,i)=>i>2?Number.parseFloat(o):Number.parseInt(o,10));r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3&&n(r[0],r[1],r[2])}else if(t.includes("rgb")){const r=t.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(o=>o!=="").map((o,i)=>i>2?Number.parseFloat(o):Number.parseInt(o,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:o,s:i,v:a}=Z4(r[0],r[1],r[2]);n(o,i,a)}}else if(t.includes("#")){const r=t.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(r))return;let o,i,a;r.length===3?(o=rh(r[0]+r[0]),i=rh(r[1]+r[1]),a=rh(r[2]+r[2])):(r.length===6||r.length===8)&&(o=rh(r.slice(0,2)),i=rh(r.slice(2,4)),a=rh(r.slice(4,6))),r.length===8?this._alpha=rh(r.slice(6))/255*100:(r.length===3||r.length===6)&&(this._alpha=100);const{h:s,s:f,v:d}=Z4(o,i,a);n(s,f,d)}}compare(t){return Math.abs(t._hue-this._hue)<2&&Math.abs(t._saturation-this._saturation)<1&&Math.abs(t._value-this._value)<1&&Math.abs(t._alpha-this._alpha)<1}doOnChange(){const{_hue:t,_saturation:n,_value:r,_alpha:o,format:i}=this;if(this.enableAlpha)switch(i){case"hsl":{const a=K4(t,n/100,r/100);this.value=`hsla(${t}, ${Math.round(a[1]*100)}%, ${Math.round(a[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${t}, ${Math.round(n)}%, ${Math.round(r)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${Y4(ag(t,n,r))}${Dw(o*255/100)}`;break}default:{const{r:a,g:s,b:f}=ag(t,n,r);this.value=`rgba(${a}, ${s}, ${f}, ${this.get("alpha")/100})`}}else switch(i){case"hsl":{const a=K4(t,n/100,r/100);this.value=`hsl(${t}, ${Math.round(a[1]*100)}%, ${Math.round(a[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${t}, ${Math.round(n)}%, ${Math.round(r)}%)`;break}case"rgb":{const{r:a,g:s,b:f}=ag(t,n,r);this.value=`rgb(${a}, ${s}, ${f})`;break}default:this.value=Y4(ag(t,n,r))}}}const UTe=St({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(e){const t=wt("color-predefine"),{currentColor:n}=BTe(),r=re(i(e.colors,e.color));At(()=>n.value,a=>{const s=new Gg;s.fromString(a),r.value.forEach(f=>{f.selected=s.compare(f)})}),ns(()=>{r.value=i(e.colors,e.color)});function o(a){e.color.fromString(e.colors[a])}function i(a,s){return a.map(f=>{const d=new Gg;return d.enableAlpha=!0,d.format="rgba",d.fromString(f),d.selected=d.value===s.value,d})}return{rgbaColors:r,handleSelect:o,ns:t}}}),VTe=["onClick"];function HTe(e,t,n,r,o,i){return H(),le("div",{class:Z(e.ns.b())},[ve("div",{class:Z(e.ns.e("colors"))},[(H(!0),le(wn,null,_r(e.rgbaColors,(a,s)=>(H(),le("div",{key:e.colors[s],class:Z([e.ns.e("color-selector"),e.ns.is("alpha",a._alpha<100),{selected:a.selected}]),onClick:f=>e.handleSelect(s)},[ve("div",{style:gn({backgroundColor:a.value})},null,4)],10,VTe))),128))],2)],2)}var GTe=zt(UTe,[["render",HTe],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/predefine.vue"]]);const WTe=St({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(e){const t=wt("color-svpanel"),n=cr(),r=re(0),o=re(0),i=re("hsl(0, 100%, 50%)"),a=G(()=>{const d=e.color.get("hue"),h=e.color.get("value");return{hue:d,value:h}});function s(){const d=e.color.get("saturation"),h=e.color.get("value"),v=n.vnode.el,{clientWidth:y,clientHeight:m}=v;o.value=d*y/100,r.value=(100-h)*m/100,i.value=`hsl(${e.color.get("hue")}, 100%, 50%)`}function f(d){const v=n.vnode.el.getBoundingClientRect(),{clientX:y,clientY:m}=jM(d);let b=y-v.left,S=m-v.top;b=Math.max(0,b),b=Math.min(b,v.width),S=Math.max(0,S),S=Math.min(S,v.height),o.value=b,r.value=S,e.color.set({saturation:b/v.width*100,value:100-S/v.height*100})}return At(()=>a.value,()=>{s()}),ir(()=>{Sb(n.vnode.el,{drag:d=>{f(d)},end:d=>{f(d)}}),s()}),{cursorTop:r,cursorLeft:o,background:i,colorValue:a,handleDrag:f,update:s,ns:t}}}),KTe=ve("div",null,null,-1),XTe=[KTe];function YTe(e,t,n,r,o,i){return H(),le("div",{class:Z(e.ns.b()),style:gn({backgroundColor:e.background})},[ve("div",{class:Z(e.ns.e("white"))},null,2),ve("div",{class:Z(e.ns.e("black"))},null,2),ve("div",{class:Z(e.ns.e("cursor")),style:gn({top:e.cursorTop+"px",left:e.cursorLeft+"px"})},XTe,6)],6)}var ZTe=zt(WTe,[["render",YTe],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/sv-panel.vue"]]);const JTe=St({name:"ElColorPicker",components:{ElButton:ra,ElTooltip:Ua,ElInput:na,ElIcon:En,Close:ml,ArrowDown:od,SvPanel:ZTe,HueSlider:$Te,AlphaSlider:DTe,Predefine:GTe},directives:{ClickOutside:qf},props:{modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:{type:String,validator:qh},popperClass:String,label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},predefine:Array,validateEvent:{type:Boolean,default:!0}},emits:["change","active-change",hr],setup(e,{emit:t}){const{t:n}=Hr(),r=wt("color"),{form:o,formItem:i}=as(),{inputId:a,isLabeledByFormItem:s}=sd(e,{formItemContext:i}),f=re(),d=re(),h=re(),v=re(null);let y=!0;const m=Xr(new Gg({enableAlpha:e.showAlpha,format:e.colorFormat||"",value:e.modelValue})),b=re(!1),S=re(!1),O=re(""),_=G(()=>!e.modelValue&&!S.value?"transparent":L(m,e.showAlpha)),A=oi(),T=G(()=>!!(e.disabled||(o==null?void 0:o.disabled))),P=G(()=>!e.modelValue&&!S.value?"":m.value),x=G(()=>s.value?void 0:e.label||n("el.colorpicker.defaultLabel")),N=G(()=>s.value?i==null?void 0:i.labelId:void 0);At(()=>e.modelValue,Y=>{Y?Y&&Y!==m.value&&(y=!1,m.fromString(Y)):S.value=!1}),At(()=>P.value,Y=>{O.value=Y,y&&t("active-change",Y),y=!0}),At(()=>m.value,()=>{!e.modelValue&&!S.value&&(S.value=!0)});function L(Y,K){if(!(Y instanceof Gg))throw new TypeError("color should be instance of _color Class");const{r:X,g:W,b:ie}=Y.toRgb();return K?`rgba(${X}, ${W}, ${ie}, ${Y.get("alpha")/100})`:`rgb(${X}, ${W}, ${ie})`}function j(Y){b.value=Y}const k=Sa(j,100);function F(){k(!1),z()}function z(){bn(()=>{e.modelValue?m.fromString(e.modelValue):(m.value="",bn(()=>{S.value=!1}))})}function M(){T.value||k(!b.value)}function D(){m.fromString(O.value)}function B(){const Y=m.value;t(hr,Y),t("change",Y),e.validateEvent&&(i==null||i.validate("change").catch(K=>void 0)),k(!1),bn(()=>{const K=new Gg({enableAlpha:e.showAlpha,format:e.colorFormat||"",value:e.modelValue});m.compare(K)||z()})}function V(){k(!1),t(hr,null),t("change",null),e.modelValue!==null&&e.validateEvent&&(i==null||i.validate("change").catch(Y=>void 0)),z()}return ir(()=>{e.modelValue&&(O.value=P.value)}),At(()=>b.value,()=>{bn(()=>{var Y,K,X;(Y=f.value)==null||Y.update(),(K=d.value)==null||K.update(),(X=h.value)==null||X.update()})}),Sr(B7,{currentColor:P}),{color:m,colorDisabled:T,colorSize:A,displayedColor:_,showPanelColor:S,showPicker:b,customInput:O,buttonId:a,buttonAriaLabel:x,buttonAriaLabelledby:N,handleConfirm:D,hide:F,handleTrigger:M,clear:V,confirmValue:B,t:n,ns:r,hue:f,svPanel:d,alpha:h,popper:v}}}),QTe=["id","aria-label","aria-labelledby","aria-description","tabindex"];function qTe(e,t,n,r,o,i){const a=_n("hue-slider"),s=_n("sv-panel"),f=_n("alpha-slider"),d=_n("predefine"),h=_n("el-input"),v=_n("el-button"),y=_n("arrow-down"),m=_n("el-icon"),b=_n("close"),S=_n("el-tooltip"),O=kh("click-outside");return H(),et(S,{ref:"popper",visible:e.showPicker,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[e.ns.be("picker","panel"),e.ns.b("dropdown"),e.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:`${e.ns.namespace.value}-zoom-in-top`,persistent:""},{content:Be(()=>[Gn((H(),le("div",null,[ve("div",{class:Z(e.ns.be("dropdown","main-wrapper"))},[Te(a,{ref:"hue",class:"hue-slider",color:e.color,vertical:""},null,8,["color"]),Te(s,{ref:"svPanel",color:e.color},null,8,["color"])],2),e.showAlpha?(H(),et(f,{key:0,ref:"alpha",color:e.color},null,8,["color"])):Ye("v-if",!0),e.predefine?(H(),et(d,{key:1,ref:"predefine",color:e.color,colors:e.predefine},null,8,["color","colors"])):Ye("v-if",!0),ve("div",{class:Z(e.ns.be("dropdown","btns"))},[ve("span",{class:Z(e.ns.be("dropdown","value"))},[Te(h,{modelValue:e.customInput,"onUpdate:modelValue":t[0]||(t[0]=_=>e.customInput=_),"validate-event":!1,size:"small",onKeyup:kr(e.handleConfirm,["enter"]),onBlur:e.handleConfirm},null,8,["modelValue","onKeyup","onBlur"])],2),Te(v,{class:Z(e.ns.be("dropdown","link-btn")),text:"",size:"small",onClick:e.clear},{default:Be(()=>[$r(Bt(e.t("el.colorpicker.clear")),1)]),_:1},8,["class","onClick"]),Te(v,{plain:"",size:"small",class:Z(e.ns.be("dropdown","btn")),onClick:e.confirmValue},{default:Be(()=>[$r(Bt(e.t("el.colorpicker.confirm")),1)]),_:1},8,["class","onClick"])],2)])),[[O,e.hide]])]),default:Be(()=>[ve("div",{id:e.buttonId,class:Z([e.ns.b("picker"),e.ns.is("disabled",e.colorDisabled),e.ns.bm("picker",e.colorSize)]),role:"button","aria-label":e.buttonAriaLabel,"aria-labelledby":e.buttonAriaLabelledby,"aria-description":e.t("el.colorpicker.description",{color:e.modelValue||""}),tabindex:e.tabindex,onKeydown:t[2]||(t[2]=kr((..._)=>e.handleTrigger&&e.handleTrigger(..._),["enter"]))},[e.colorDisabled?(H(),le("div",{key:0,class:Z(e.ns.be("picker","mask"))},null,2)):Ye("v-if",!0),ve("div",{class:Z(e.ns.be("picker","trigger")),onClick:t[1]||(t[1]=(..._)=>e.handleTrigger&&e.handleTrigger(..._))},[ve("span",{class:Z([e.ns.be("picker","color"),e.ns.is("alpha",e.showAlpha)])},[ve("span",{class:Z(e.ns.be("picker","color-inner")),style:gn({backgroundColor:e.displayedColor})},[Gn(Te(m,{class:Z([e.ns.be("picker","icon"),e.ns.is("icon-arrow-down")])},{default:Be(()=>[Te(y)]),_:1},8,["class"]),[[Lr,e.modelValue||e.showPanelColor]]),!e.modelValue&&!e.showPanelColor?(H(),et(m,{key:0,class:Z([e.ns.be("picker","empty"),e.ns.is("icon-close")])},{default:Be(()=>[Te(b)]),_:1},8,["class"])):Ye("v-if",!0)],6)],2)],2)],42,QTe)]),_:1},8,["visible","popper-class","transition"])}var kw=zt(JTe,[["render",qTe],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/index.vue"]]);kw.install=e=>{e.component(kw.name,kw)};const eCe=kw,tCe=eCe,GP={},nCe=Kt({a11y:{type:Boolean,default:!0},locale:{type:ot(Object)},size:os,button:{type:ot(Object)},experimentalFeatures:{type:ot(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:ot(Object)},zIndex:Number,namespace:{type:String,default:"el"}}),rCe=St({name:"ElConfigProvider",props:nCe,setup(e,{slots:t}){At(()=>e.message,r=>{Object.assign(GP,r!=null?r:{})},{immediate:!0,deep:!0});const n=hG(e);return()=>bt(t,"default",{config:n==null?void 0:n.value})}}),oCe=fr(rCe),iCe={name:"ElContainer"},aCe=St({...iCe,props:{direction:{type:String}},setup(e){const t=e,n=Gi(),r=wt("container"),o=G(()=>t.direction==="vertical"?!0:t.direction==="horizontal"?!1:n&&n.default?n.default().some(a=>{const s=a.type.name;return s==="ElHeader"||s==="ElFooter"}):!1);return(i,a)=>(H(),le("section",{class:Z([E(r).b(),E(r).is("vertical",E(o))])},[bt(i.$slots,"default")],2))}});var sCe=zt(aCe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/container.vue"]]);const lCe={name:"ElAside"},uCe=St({...lCe,props:{width:{type:String,default:null}},setup(e){const t=e,n=wt("aside"),r=G(()=>t.width?n.cssVarBlock({width:t.width}):{});return(o,i)=>(H(),le("aside",{class:Z(E(n).b()),style:gn(E(r))},[bt(o.$slots,"default")],6))}});var j7=zt(uCe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/aside.vue"]]);const cCe={name:"ElFooter"},fCe=St({...cCe,props:{height:{type:String,default:null}},setup(e){const t=e,n=wt("footer"),r=G(()=>t.height?n.cssVarBlock({height:t.height}):{});return(o,i)=>(H(),le("footer",{class:Z(E(n).b()),style:gn(E(r))},[bt(o.$slots,"default")],6))}});var F7=zt(fCe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/footer.vue"]]);const dCe={name:"ElHeader"},hCe=St({...dCe,props:{height:{type:String,default:null}},setup(e){const t=e,n=wt("header"),r=G(()=>t.height?n.cssVarBlock({height:t.height}):{});return(o,i)=>(H(),le("header",{class:Z(E(n).b()),style:gn(E(r))},[bt(o.$slots,"default")],6))}});var z7=zt(hCe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/header.vue"]]);const pCe={name:"ElMain"},vCe=St({...pCe,setup(e){const t=wt("main");return(n,r)=>(H(),le("main",{class:Z(E(t).b())},[bt(n.$slots,"default")],2))}});var U7=zt(vCe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/main.vue"]]);const yCe=fr(sCe,{Aside:j7,Footer:F7,Header:z7,Main:U7}),mCe=ko(j7),gCe=ko(F7),bCe=ko(z7),ECe=ko(U7);var V7={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(is,function(){return function(n,r,o){var i=r.prototype,a=i.format;o.en.ordinal=function(s){var f=["th","st","nd","rd"],d=s%100;return"["+s+(f[(d-20)%10]||f[d]||f[0])+"]"},i.format=function(s){var f=this,d=this.$locale();if(!this.isValid())return a.bind(this)(s);var h=this.$utils(),v=(s||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(y){switch(y){case"Q":return Math.ceil((f.$M+1)/3);case"Do":return d.ordinal(f.$D);case"gggg":return f.weekYear();case"GGGG":return f.isoWeekYear();case"wo":return d.ordinal(f.week(),"W");case"w":case"ww":return h.s(f.week(),y==="w"?1:2,"0");case"W":case"WW":return h.s(f.isoWeek(),y==="W"?1:2,"0");case"k":case"kk":return h.s(String(f.$H===0?24:f.$H),y==="k"?1:2,"0");case"X":return Math.floor(f.$d.getTime()/1e3);case"x":return f.$d.getTime();case"z":return"["+f.offsetName()+"]";case"zzz":return"["+f.offsetName("long")+"]";default:return y}});return a.bind(this)(v)}}})})(V7);const SCe=V7.exports;var H7={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(is,function(){var n="week",r="year";return function(o,i,a){var s=i.prototype;s.week=function(f){if(f===void 0&&(f=null),f!==null)return this.add(7*(f-this.week()),"day");var d=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var h=a(this).startOf(r).add(1,r).date(d),v=a(this).endOf(n);if(h.isBefore(v))return 1}var y=a(this).startOf(r).date(d).startOf(n).subtract(1,"millisecond"),m=this.diff(y,n,!0);return m<0?a(this).startOf("week").week():Math.ceil(m)},s.weeks=function(f){return f===void 0&&(f=null),this.week(f)}}})})(H7);const wCe=H7.exports;var G7={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(is,function(){return function(n,r){r.prototype.weekYear=function(){var o=this.month(),i=this.week(),a=this.year();return i===1&&o===11?a+1:o===0&&i>=52?a-1:a}}})})(G7);const OCe=G7.exports;var W7={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(is,function(){return function(n,r,o){r.prototype.dayOfYear=function(i){var a=Math.round((o(this).startOf("day")-o(this).startOf("year"))/864e5)+1;return i==null?a:this.add(i-a,"day")}}})})(W7);const _Ce=W7.exports;var K7={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(is,function(){return function(n,r){r.prototype.isSameOrAfter=function(o,i){return this.isSame(o,i)||this.isAfter(o,i)}}})})(K7);const TCe=K7.exports;var X7={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(is,function(){return function(n,r){r.prototype.isSameOrBefore=function(o,i){return this.isSame(o,i)||this.isBefore(o,i)}}})})(X7);const CCe=X7.exports,ACe=Kt({type:{type:ot(String),default:"date"}}),PCe=["date","dates","year","month","week","range"],vN=Kt({disabledDate:{type:ot(Function)},date:{type:ot(Object),required:!0},minDate:{type:ot(Object)},maxDate:{type:ot(Object)},parsedValue:{type:ot([Object,Array])},rangeState:{type:ot(Object),default:()=>({endDate:null,selecting:!1})}}),Y7=Kt({type:{type:ot(String),required:!0,values:Gbe}}),Z7=Kt({unlinkPanels:Boolean,parsedValue:{type:ot(Array)}}),J7=e=>({type:String,values:PCe,default:e}),xCe=Kt({...Y7,parsedValue:{type:ot([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),MCe=Kt({...vN,cellClassName:{type:ot(Function)},showWeekNumber:Boolean,selectionMode:J7("date")}),WP=e=>{if(!Sn(e))return!1;const[t,n]=e;return rr.isDayjs(t)&&rr.isDayjs(n)&&t.isSameOrBefore(n)},Q7=(e,{lang:t,unit:n,unlinkPanels:r})=>{let o;if(Sn(e)){let[i,a]=e.map(s=>rr(s).locale(t));return r||(a=i.add(1,n)),[i,a]}else e?o=rr(e):o=rr();return o=o.locale(t),[o,o.add(1,n)]},NCe=(e,t,{columnIndexOffset:n,startDate:r,nextEndDate:o,now:i,unit:a,relativeDateGetter:s,setCellMetadata:f,setRowMetadata:d})=>{for(let h=0;h<e.row;h++){const v=t[h];for(let y=0;y<e.column;y++){let m=v[y+n];m||(m={row:h,column:y,type:"normal",inRange:!1,start:!1,end:!1});const b=h*e.column+y,S=s(b);m.dayjs=S,m.date=S.toDate(),m.timestamp=S.valueOf(),m.type="normal",m.inRange=!!(r&&S.isSameOrAfter(r,a)&&o&&S.isSameOrBefore(o,a))||!!(r&&S.isSameOrBefore(r,a)&&o&&S.isSameOrAfter(o,a)),r!=null&&r.isSameOrAfter(o)?(m.start=!!o&&S.isSame(o,a),m.end=r&&S.isSame(r,a)):(m.start=!!r&&S.isSame(r,a),m.end=!!o&&S.isSame(o,a)),S.isSame(i,a)&&(m.type="today"),f==null||f(m,{rowIndex:h,columnIndex:y}),v[y+n]=m}d==null||d(v)}},RCe=Kt({cell:{type:ot(Object)}});var ICe=St({name:"ElDatePickerCell",props:RCe,setup(e){const t=wt("date-table-cell"),{slots:n}=Cn(JM);return()=>{const{cell:r}=e;if(n.default){const o=n.default(r).filter(i=>i.patchFlag!==-2&&i.type.toString()!=="Symbol(Comment)");if(o.length)return o}return Te("div",{class:t.b()},[Te("span",{class:t.e("text")},[r==null?void 0:r.text])])}}});const DCe=["aria-label"],kCe={key:0,scope:"col"},LCe=["aria-label"],$Ce=["aria-current","aria-selected","tabindex"],BCe=St({__name:"basic-date-table",props:MCe,emits:["changerange","pick","select"],setup(e,{expose:t,emit:n}){const r=e,o=wt("date-table"),{t:i,lang:a}=Hr(),s=re(),f=re(),d=re(),h=re(),v=re([[],[],[],[],[],[]]);let y=!1;const m=r.date.$locale().weekStart||7,b=r.date.locale("en").localeData().weekdaysShort().map(ee=>ee.toLowerCase()),S=G(()=>m>3?7-m:-m),O=G(()=>{const ee=r.date.startOf("month");return ee.subtract(ee.day()||7,"day")}),_=G(()=>b.concat(b).slice(m,m+7)),A=G(()=>wH(j.value).some(ee=>ee.isCurrent)),T=G(()=>{const ee=r.date.startOf("month"),ue=ee.day()||7,Ne=ee.daysInMonth(),$e=ee.subtract(1,"month").daysInMonth();return{startOfMonthDay:ue,dateCountOfMonth:Ne,dateCountOfLastMonth:$e}}),P=G(()=>r.selectionMode==="dates"?pc(r.parsedValue):[]),x=(ee,{count:ue,rowIndex:Ne,columnIndex:$e})=>{const{startOfMonthDay:Ie,dateCountOfMonth:Le,dateCountOfLastMonth:he}=E(T),te=E(S);if(Ne>=0&&Ne<=1){const ae=Ie+te<0?7+Ie+te:Ie+te;if($e+Ne*7>=ae)return ee.text=ue,!0;ee.text=he-(ae-$e%7)+1+Ne*7,ee.type="prev-month"}else return ue<=Le?ee.text=ue:(ee.text=ue-Le,ee.type="next-month"),!0;return!1},N=(ee,{columnIndex:ue,rowIndex:Ne},$e)=>{const{disabledDate:Ie,cellClassName:Le}=r,he=E(P),te=x(ee,{count:$e,rowIndex:Ne,columnIndex:ue}),ae=ee.dayjs.toDate();return ee.selected=he.find(Ce=>Ce.valueOf()===ee.dayjs.valueOf()),ee.isSelected=!!ee.selected,ee.isCurrent=z(ee),ee.disabled=Ie==null?void 0:Ie(ae),ee.customClass=Le==null?void 0:Le(ae),te},L=ee=>{if(r.selectionMode==="week"){const[ue,Ne]=r.showWeekNumber?[1,7]:[0,6],$e=oe(ee[ue+1]);ee[ue].inRange=$e,ee[ue].start=$e,ee[Ne].inRange=$e,ee[Ne].end=$e}},j=G(()=>{const{minDate:ee,maxDate:ue,rangeState:Ne,showWeekNumber:$e}=r,Ie=S.value,Le=v.value,he="day";let te=1;if($e)for(let ae=0;ae<6;ae++)Le[ae][0]||(Le[ae][0]={type:"week",text:O.value.add(ae*7+1,he).week()});return NCe({row:6,column:7},Le,{startDate:ee,columnIndexOffset:$e?1:0,nextEndDate:Ne.endDate||ue||Ne.selecting&&ee||null,now:rr().locale(E(a)).startOf(he),unit:he,relativeDateGetter:ae=>O.value.add(ae-Ie,he),setCellMetadata:(...ae)=>{N(...ae,te)&&(te+=1)},setRowMetadata:L}),Le});At(()=>r.date,async()=>{var ee,ue;(ee=s.value)!=null&&ee.contains(document.activeElement)&&(await bn(),(ue=f.value)==null||ue.focus())});const k=async()=>{var ee;(ee=f.value)==null||ee.focus()},F=(ee="")=>["normal","today"].includes(ee),z=ee=>r.selectionMode==="date"&&F(ee.type)&&M(ee,r.parsedValue),M=(ee,ue)=>ue?rr(ue).locale(a.value).isSame(r.date.date(Number(ee.text)),"day"):!1,D=ee=>{const ue=[];return F(ee.type)&&!ee.disabled?(ue.push("available"),ee.type==="today"&&ue.push("today")):ue.push(ee.type),z(ee)&&ue.push("current"),ee.inRange&&(F(ee.type)||r.selectionMode==="week")&&(ue.push("in-range"),ee.start&&ue.push("start-date"),ee.end&&ue.push("end-date")),ee.disabled&&ue.push("disabled"),ee.selected&&ue.push("selected"),ee.customClass&&ue.push(ee.customClass),ue.join(" ")},B=(ee,ue)=>{const Ne=ee*7+(ue-(r.showWeekNumber?1:0))-S.value;return O.value.add(Ne,"day")},V=ee=>{var ue;if(!r.rangeState.selecting)return;let Ne=ee.target;if(Ne.tagName==="SPAN"&&(Ne=(ue=Ne.parentNode)==null?void 0:ue.parentNode),Ne.tagName==="DIV"&&(Ne=Ne.parentNode),Ne.tagName!=="TD")return;const $e=Ne.parentNode.rowIndex-1,Ie=Ne.cellIndex;j.value[$e][Ie].disabled||($e!==d.value||Ie!==h.value)&&(d.value=$e,h.value=Ie,n("changerange",{selecting:!0,endDate:B($e,Ie)}))},Y=ee=>!A.value&&(ee==null?void 0:ee.text)===1&&ee.type==="normal"||ee.isCurrent,K=ee=>{y||A.value||r.selectionMode!=="date"||ie(ee,!0)},X=ee=>{!ee.target.closest("td")||(y=!0)},W=ee=>{!ee.target.closest("td")||(y=!1)},ie=(ee,ue=!1)=>{const Ne=ee.target.closest("td");if(!Ne)return;const $e=Ne.parentNode.rowIndex-1,Ie=Ne.cellIndex,Le=j.value[$e][Ie];if(Le.disabled||Le.type==="week")return;const he=B($e,Ie);if(r.selectionMode==="range")!r.rangeState.selecting||!r.minDate?(n("pick",{minDate:he,maxDate:null}),n("select",!0)):(he>=r.minDate?n("pick",{minDate:r.minDate,maxDate:he}):n("pick",{minDate:he,maxDate:r.minDate}),n("select",!1));else if(r.selectionMode==="date")n("pick",he,ue);else if(r.selectionMode==="week"){const te=he.week(),ae=`${he.year()}w${te}`;n("pick",{year:he.year(),week:te,value:ae,date:he.startOf("week")})}else if(r.selectionMode==="dates"){const te=Le.selected?pc(r.parsedValue).filter(ae=>(ae==null?void 0:ae.valueOf())!==he.valueOf()):pc(r.parsedValue).concat([he]);n("pick",te)}},oe=ee=>{if(r.selectionMode!=="week")return!1;let ue=r.date.startOf("day");if(ee.type==="prev-month"&&(ue=ue.subtract(1,"month")),ee.type==="next-month"&&(ue=ue.add(1,"month")),ue=ue.date(Number.parseInt(ee.text,10)),r.parsedValue&&!Array.isArray(r.parsedValue)){const Ne=(r.parsedValue.day()-m+7)%7-1;return r.parsedValue.subtract(Ne,"day").isSame(ue,"day")}return!1};return t({focus:k}),(ee,ue)=>(H(),le("table",{role:"grid","aria-label":E(i)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:Z([E(o).b(),{"is-week-mode":ee.selectionMode==="week"}]),onClick:ie,onMousemove:V,onMousedown:X,onMouseup:W},[ve("tbody",{ref_key:"tbodyRef",ref:s},[ve("tr",null,[ee.showWeekNumber?(H(),le("th",kCe,Bt(E(i)("el.datepicker.week")),1)):Ye("v-if",!0),(H(!0),le(wn,null,_r(E(_),(Ne,$e)=>(H(),le("th",{key:$e,scope:"col","aria-label":E(i)("el.datepicker.weeksFull."+Ne)},Bt(E(i)("el.datepicker.weeks."+Ne)),9,LCe))),128))]),(H(!0),le(wn,null,_r(E(j),(Ne,$e)=>(H(),le("tr",{key:$e,class:Z([E(o).e("row"),{current:oe(Ne[1])}])},[(H(!0),le(wn,null,_r(Ne,(Ie,Le)=>(H(),le("td",{key:`${$e}.${Le}`,ref_for:!0,ref:he=>Y(Ie)&&(f.value=he),class:Z(D(Ie)),"aria-current":Ie.isCurrent?"date":void 0,"aria-selected":Ie.isCurrent,tabindex:Y(Ie)?0:-1,onFocus:K},[Te(E(ICe),{cell:Ie},null,8,["cell"])],42,$Ce))),128))],2))),128))],512)],42,DCe))}});var KP=zt(BCe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const jCe=Kt({...vN,selectionMode:J7("month")}),FCe=["aria-label"],zCe=["aria-selected","aria-label","tabindex","onKeydown"],UCe={class:"cell"},VCe=St({__name:"basic-month-table",props:jCe,emits:["changerange","pick","select"],setup(e,{expose:t,emit:n}){const r=e,o=(P,x,N)=>{const L=rr().locale(N).startOf("month").month(x).year(P),j=L.daysInMonth();return Kf(j).map(k=>L.add(k,"day").toDate())},i=wt("month-table"),{t:a,lang:s}=Hr(),f=re(),d=re(),h=re(r.date.locale("en").localeData().monthsShort().map(P=>P.toLowerCase())),v=re([[],[],[]]),y=re(),m=re(),b=G(()=>{var P,x;const N=v.value,L=rr().locale(s.value).startOf("month");for(let j=0;j<3;j++){const k=N[j];for(let F=0;F<4;F++){const z=k[F]||(k[F]={row:j,column:F,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});z.type="normal";const M=j*4+F,D=r.date.startOf("year").month(M),B=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;z.inRange=!!(r.minDate&&D.isSameOrAfter(r.minDate,"month")&&B&&D.isSameOrBefore(B,"month"))||!!(r.minDate&&D.isSameOrBefore(r.minDate,"month")&&B&&D.isSameOrAfter(B,"month")),(P=r.minDate)!=null&&P.isSameOrAfter(B)?(z.start=!!(B&&D.isSame(B,"month")),z.end=r.minDate&&D.isSame(r.minDate,"month")):(z.start=!!(r.minDate&&D.isSame(r.minDate,"month")),z.end=!!(B&&D.isSame(B,"month"))),L.isSame(D)&&(z.type="today"),z.text=M,z.disabled=((x=r.disabledDate)==null?void 0:x.call(r,D.toDate()))||!1}}return N}),S=()=>{var P;(P=d.value)==null||P.focus()},O=P=>{const x={},N=r.date.year(),L=new Date,j=P.text;return x.disabled=r.disabledDate?o(N,j,s.value).every(r.disabledDate):!1,x.current=pc(r.parsedValue).findIndex(k=>rr.isDayjs(k)&&k.year()===N&&k.month()===j)>=0,x.today=L.getFullYear()===N&&L.getMonth()===j,P.inRange&&(x["in-range"]=!0,P.start&&(x["start-date"]=!0),P.end&&(x["end-date"]=!0)),x},_=P=>{const x=r.date.year(),N=P.text;return pc(r.date).findIndex(L=>L.year()===x&&L.month()===N)>=0},A=P=>{var x;if(!r.rangeState.selecting)return;let N=P.target;if(N.tagName==="A"&&(N=(x=N.parentNode)==null?void 0:x.parentNode),N.tagName==="DIV"&&(N=N.parentNode),N.tagName!=="TD")return;const L=N.parentNode.rowIndex,j=N.cellIndex;b.value[L][j].disabled||(L!==y.value||j!==m.value)&&(y.value=L,m.value=j,n("changerange",{selecting:!0,endDate:r.date.startOf("year").month(L*4+j)}))},T=P=>{var x;const N=(x=P.target)==null?void 0:x.closest("td");if((N==null?void 0:N.tagName)!=="TD"||pl(N,"disabled"))return;const L=N.cellIndex,k=N.parentNode.rowIndex*4+L,F=r.date.startOf("year").month(k);r.selectionMode==="range"?r.rangeState.selecting?(r.minDate&&F>=r.minDate?n("pick",{minDate:r.minDate,maxDate:F}):n("pick",{minDate:F,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:F,maxDate:null}),n("select",!0)):n("pick",k)};return At(()=>r.date,async()=>{var P,x;(P=f.value)!=null&&P.contains(document.activeElement)&&(await bn(),(x=d.value)==null||x.focus())}),t({focus:S}),(P,x)=>(H(),le("table",{role:"grid","aria-label":E(a)("el.datepicker.monthTablePrompt"),class:Z(E(i).b()),onClick:T,onMousemove:A},[ve("tbody",{ref_key:"tbodyRef",ref:f},[(H(!0),le(wn,null,_r(E(b),(N,L)=>(H(),le("tr",{key:L},[(H(!0),le(wn,null,_r(N,(j,k)=>(H(),le("td",{key:k,ref_for:!0,ref:F=>_(j)&&(d.value=F),class:Z(O(j)),"aria-selected":`${_(j)}`,"aria-label":E(a)(`el.datepicker.month${+j.text+1}`),tabindex:_(j)?0:-1,onKeydown:[kr(Fn(T,["prevent","stop"]),["space"]),kr(Fn(T,["prevent","stop"]),["enter"])]},[ve("div",null,[ve("span",UCe,Bt(E(a)("el.datepicker.months."+h.value[j.text])),1)])],42,zCe))),128))]))),128))],512)],42,FCe))}});var XP=zt(VCe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:HCe,disabledDate:GCe,parsedValue:WCe}=vN,KCe=Kt({date:HCe,disabledDate:GCe,parsedValue:WCe}),XCe=["aria-label"],YCe=["aria-selected","tabindex","onKeydown"],ZCe={class:"cell"},JCe={key:1},QCe=St({__name:"basic-year-table",props:KCe,emits:["pick"],setup(e,{expose:t,emit:n}){const r=e,o=(S,O)=>{const _=rr(String(S)).locale(O).startOf("year"),T=_.endOf("year").dayOfYear();return Kf(T).map(P=>_.add(P,"day").toDate())},i=wt("year-table"),{t:a,lang:s}=Hr(),f=re(),d=re(),h=G(()=>Math.floor(r.date.year()/10)*10),v=()=>{var S;(S=d.value)==null||S.focus()},y=S=>{const O={},_=rr().locale(s.value);return O.disabled=r.disabledDate?o(S,s.value).every(r.disabledDate):!1,O.current=pc(r.parsedValue).findIndex(A=>A.year()===S)>=0,O.today=_.year()===S,O},m=S=>S===h.value&&r.date.year()<h.value&&r.date.year()>h.value+9||pc(r.date).findIndex(O=>O.year()===S)>=0,b=S=>{const _=S.target.closest("td");if(_&&_.textContent){if(pl(_,"disabled"))return;const A=_.textContent||_.innerText;n("pick",Number(A))}};return At(()=>r.date,async()=>{var S,O;(S=f.value)!=null&&S.contains(document.activeElement)&&(await bn(),(O=d.value)==null||O.focus())}),t({focus:v}),(S,O)=>(H(),le("table",{role:"grid","aria-label":E(a)("el.datepicker.yearTablePrompt"),class:Z(E(i).b()),onClick:b},[ve("tbody",{ref_key:"tbodyRef",ref:f},[(H(),le(wn,null,_r(3,(_,A)=>ve("tr",{key:A},[(H(),le(wn,null,_r(4,(T,P)=>(H(),le(wn,{key:A+"_"+P},[A*4+P<10?(H(),le("td",{key:0,ref_for:!0,ref:x=>m(E(h)+A*4+P)&&(d.value=x),class:Z(["available",y(E(h)+A*4+P)]),"aria-selected":`${m(E(h)+A*4+P)}`,tabindex:m(E(h)+A*4+P)?0:-1,onKeydown:[kr(Fn(b,["prevent","stop"]),["space"]),kr(Fn(b,["prevent","stop"]),["enter"])]},[ve("span",ZCe,Bt(E(h)+A*4+P),1)],42,YCe)):(H(),le("td",JCe))],64))),64))])),64))],512)],10,XCe))}});var qCe=zt(QCe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const e2e=["onClick"],t2e=["aria-label"],n2e=["aria-label"],r2e=["aria-label"],o2e=["aria-label"],i2e=St({__name:"panel-date-pick",props:xCe,emits:["pick","set-picker-option","panel-change"],setup(e,{emit:t}){const n=e,r=(_e,nt,Se)=>!0,o=wt("picker-panel"),i=wt("date-picker"),a=Gb(),s=Gi(),{t:f,lang:d}=Hr(),h=Cn("EP_PICKER_BASE"),v=Cn(x_),{shortcuts:y,disabledDate:m,cellClassName:b,defaultTime:S,arrowControl:O}=h.props,_=Do(h.props,"defaultValue"),A=re(),T=re(rr().locale(d.value)),P=G(()=>rr(S).locale(d.value)),x=G(()=>T.value.month()),N=G(()=>T.value.year()),L=re([]),j=re(null),k=re(null),F=_e=>L.value.length>0?r(_e,L.value,n.format||"HH:mm:ss"):!0,z=_e=>S&&!Ce.value?P.value.year(_e.year()).month(_e.month()).date(_e.date()):$e.value?_e.millisecond(0):_e.startOf("day"),M=(_e,...nt)=>{if(!_e)t("pick",_e,...nt);else if(Sn(_e)){const Se=_e.map(z);t("pick",Se,...nt)}else t("pick",z(_e),...nt);j.value=null,k.value=null},D=(_e,nt)=>{if(W.value==="date"){_e=_e;let Se=n.parsedValue?n.parsedValue.year(_e.year()).month(_e.month()).date(_e.date()):_e;F(Se)||(Se=L.value[0][0].year(_e.year()).month(_e.month()).date(_e.date())),T.value=Se,M(Se,$e.value||nt)}else W.value==="week"?M(_e.date):W.value==="dates"&&M(_e,!0)},B=_e=>{const nt=_e?"add":"subtract";T.value=T.value[nt](1,"month"),Oe("month")},V=_e=>{const nt=T.value,Se=_e?"add":"subtract";T.value=Y.value==="year"?nt[Se](10,"year"):nt[Se](1,"year"),Oe("year")},Y=re("date"),K=G(()=>{const _e=f("el.datepicker.year");if(Y.value==="year"){const nt=Math.floor(N.value/10)*10;return _e?`${nt} ${_e} - ${nt+9} ${_e}`:`${nt} - ${nt+9}`}return`${N.value} ${_e}`}),X=_e=>{const nt=Wn(_e.value)?_e.value():_e.value;if(nt){M(rr(nt).locale(d.value));return}_e.onClick&&_e.onClick({attrs:a,slots:s,emit:t})},W=G(()=>{const{type:_e}=n;return["week","month","year","dates"].includes(_e)?_e:"date"}),ie=G(()=>W.value==="date"?Y.value:W.value),oe=G(()=>!!y.length),ee=async _e=>{T.value=T.value.startOf("month").month(_e),W.value==="month"?M(T.value,!1):(Y.value="date",["month","year","date","week"].includes(W.value)&&(M(T.value,!0),await bn(),fe())),Oe("month")},ue=async _e=>{W.value==="year"?(T.value=T.value.startOf("year").year(_e),M(T.value,!1)):(T.value=T.value.year(_e),Y.value="month",["month","year","date","week"].includes(W.value)&&(M(T.value,!0),await bn(),fe())),Oe("year")},Ne=async _e=>{Y.value=_e,await bn(),fe()},$e=G(()=>n.type==="datetime"||n.type==="datetimerange"),Ie=G(()=>$e.value||W.value==="dates"),Le=()=>{if(W.value==="dates")M(n.parsedValue);else{let _e=n.parsedValue;if(!_e){const nt=rr(S).locale(d.value),Se=ne();_e=nt.year(Se.year()).month(Se.month()).date(Se.date())}T.value=_e,M(_e)}},he=()=>{const nt=rr().locale(d.value).toDate();(!m||!m(nt))&&F(nt)&&(T.value=rr().locale(d.value),M(T.value))},te=G(()=>s7(n.format)),ae=G(()=>a7(n.format)),Ce=G(()=>{if(k.value)return k.value;if(!(!n.parsedValue&&!_.value))return(n.parsedValue||T.value).format(te.value)}),Ze=G(()=>{if(j.value)return j.value;if(!(!n.parsedValue&&!_.value))return(n.parsedValue||T.value).format(ae.value)}),se=re(!1),de=()=>{se.value=!0},ze=()=>{se.value=!1},lt=_e=>({hour:_e.hour(),minute:_e.minute(),second:_e.second(),year:_e.year(),month:_e.month(),date:_e.date()}),Re=(_e,nt,Se)=>{const{hour:tt,minute:we,second:ht}=lt(_e),yt=n.parsedValue?n.parsedValue.hour(tt).minute(we).second(ht):_e;T.value=yt,M(T.value,!0),Se||(se.value=nt)},qe=_e=>{const nt=rr(_e,te.value).locale(d.value);if(nt.isValid()&&F(nt)){const{year:Se,month:tt,date:we}=lt(T.value);T.value=nt.year(Se).month(tt).date(we),k.value=null,se.value=!1,M(T.value,!0)}},pe=_e=>{const nt=rr(_e,ae.value).locale(d.value);if(nt.isValid()){if(m&&m(nt.toDate()))return;const{hour:Se,minute:tt,second:we}=lt(T.value);T.value=nt.hour(Se).minute(tt).second(we),j.value=null,M(T.value,!0)}},Ue=_e=>rr.isDayjs(_e)&&_e.isValid()&&(m?!m(_e.toDate()):!0),Ke=_e=>W.value==="dates"?_e.map(nt=>nt.format(n.format)):_e.format(n.format),Ve=_e=>rr(_e,n.format).locale(d.value),ne=()=>{const _e=rr(_.value).locale(d.value);if(!_.value){const nt=P.value;return rr().hour(nt.hour()).minute(nt.minute()).second(nt.second()).locale(d.value)}return _e},fe=async()=>{var _e;["week","month","year","date"].includes(W.value)&&((_e=A.value)==null||_e.focus(),W.value==="week"&&it(Mn.down))},Me=_e=>{const{code:nt}=_e;[Mn.up,Mn.down,Mn.left,Mn.right,Mn.home,Mn.end,Mn.pageUp,Mn.pageDown].includes(nt)&&(it(nt),_e.stopPropagation(),_e.preventDefault()),[Mn.enter,Mn.space].includes(nt)&&j.value===null&&k.value===null&&(_e.preventDefault(),M(T.value,!1))},it=_e=>{var nt;const{up:Se,down:tt,left:we,right:ht,home:yt,end:Et,pageUp:Wt,pageDown:ur}=Mn,tn={year:{[Se]:-4,[tt]:4,[we]:-1,[ht]:1,offset:(vn,Ln)=>vn.setFullYear(vn.getFullYear()+Ln)},month:{[Se]:-4,[tt]:4,[we]:-1,[ht]:1,offset:(vn,Ln)=>vn.setMonth(vn.getMonth()+Ln)},week:{[Se]:-1,[tt]:1,[we]:-1,[ht]:1,offset:(vn,Ln)=>vn.setDate(vn.getDate()+Ln*7)},date:{[Se]:-7,[tt]:7,[we]:-1,[ht]:1,[yt]:vn=>-vn.getDay(),[Et]:vn=>-vn.getDay()+6,[Wt]:vn=>-new Date(vn.getFullYear(),vn.getMonth(),0).getDate(),[ur]:vn=>new Date(vn.getFullYear(),vn.getMonth()+1,0).getDate(),offset:(vn,Ln)=>vn.setDate(vn.getDate()+Ln)}},Dn=T.value.toDate();for(;Math.abs(T.value.diff(Dn,"year",!0))<1;){const vn=tn[ie.value];if(!vn)return;if(vn.offset(Dn,Wn(vn[_e])?vn[_e](Dn):(nt=vn[_e])!=null?nt:0),m&&m(Dn))break;const Ln=rr(Dn).locale(d.value);T.value=Ln,t("pick",Ln,!0);break}},Oe=_e=>{t("panel-change",T.value.toDate(),_e,Y.value)};return At(()=>W.value,_e=>{if(["month","year"].includes(_e)){Y.value=_e;return}Y.value="date"},{immediate:!0}),At(()=>Y.value,()=>{v==null||v.updatePopper()}),At(()=>_.value,_e=>{_e&&(T.value=ne())},{immediate:!0}),At(()=>n.parsedValue,_e=>{if(_e){if(W.value==="dates"||Array.isArray(_e))return;T.value=_e}else T.value=ne()},{immediate:!0}),t("set-picker-option",["isValidValue",Ue]),t("set-picker-option",["formatToString",Ke]),t("set-picker-option",["parseUserInput",Ve]),t("set-picker-option",["handleFocusPicker",fe]),(_e,nt)=>(H(),le("div",{class:Z([E(o).b(),E(i).b(),{"has-sidebar":_e.$slots.sidebar||E(oe),"has-time":E($e)}])},[ve("div",{class:Z(E(o).e("body-wrapper"))},[bt(_e.$slots,"sidebar",{class:Z(E(o).e("sidebar"))}),E(oe)?(H(),le("div",{key:0,class:Z(E(o).e("sidebar"))},[(H(!0),le(wn,null,_r(E(y),(Se,tt)=>(H(),le("button",{key:tt,type:"button",class:Z(E(o).e("shortcut")),onClick:we=>X(Se)},Bt(Se.text),11,e2e))),128))],2)):Ye("v-if",!0),ve("div",{class:Z(E(o).e("body"))},[E($e)?(H(),le("div",{key:0,class:Z(E(i).e("time-header"))},[ve("span",{class:Z(E(i).e("editor-wrap"))},[Te(E(na),{placeholder:E(f)("el.datepicker.selectDate"),"model-value":E(Ze),size:"small","validate-event":!1,onInput:nt[0]||(nt[0]=Se=>j.value=Se),onChange:pe},null,8,["placeholder","model-value"])],2),Gn((H(),le("span",{class:Z(E(i).e("editor-wrap"))},[Te(E(na),{placeholder:E(f)("el.datepicker.selectTime"),"model-value":E(Ce),size:"small","validate-event":!1,onFocus:de,onInput:nt[1]||(nt[1]=Se=>k.value=Se),onChange:qe},null,8,["placeholder","model-value"]),Te(E(EO),{visible:se.value,format:E(te),"time-arrow-control":E(O),"parsed-value":T.value,onPick:Re},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[E(qf),ze]])],2)):Ye("v-if",!0),Gn(ve("div",{class:Z([E(i).e("header"),(Y.value==="year"||Y.value==="month")&&E(i).e("header--bordered")])},[ve("span",{class:Z(E(i).e("prev-btn"))},[ve("button",{type:"button","aria-label":E(f)("el.datepicker.prevYear"),class:Z(["d-arrow-left",E(o).e("icon-btn")]),onClick:nt[2]||(nt[2]=Se=>V(!1))},[Te(E(En),null,{default:Be(()=>[Te(E(fy))]),_:1})],10,t2e),Gn(ve("button",{type:"button","aria-label":E(f)("el.datepicker.prevMonth"),class:Z([E(o).e("icon-btn"),"arrow-left"]),onClick:nt[3]||(nt[3]=Se=>B(!1))},[Te(E(En),null,{default:Be(()=>[Te(E(Zf))]),_:1})],10,n2e),[[Lr,Y.value==="date"]])],2),ve("span",{role:"button",class:Z(E(i).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:nt[4]||(nt[4]=kr(Se=>Ne("year"),["enter"])),onClick:nt[5]||(nt[5]=Se=>Ne("year"))},Bt(E(K)),35),Gn(ve("span",{role:"button","aria-live":"polite",tabindex:"0",class:Z([E(i).e("header-label"),{active:Y.value==="month"}]),onKeydown:nt[6]||(nt[6]=kr(Se=>Ne("month"),["enter"])),onClick:nt[7]||(nt[7]=Se=>Ne("month"))},Bt(E(f)(`el.datepicker.month${E(x)+1}`)),35),[[Lr,Y.value==="date"]]),ve("span",{class:Z(E(i).e("next-btn"))},[Gn(ve("button",{type:"button","aria-label":E(f)("el.datepicker.nextMonth"),class:Z([E(o).e("icon-btn"),"arrow-right"]),onClick:nt[8]||(nt[8]=Se=>B(!0))},[Te(E(En),null,{default:Be(()=>[Te(E(Ea))]),_:1})],10,r2e),[[Lr,Y.value==="date"]]),ve("button",{type:"button","aria-label":E(f)("el.datepicker.nextYear"),class:Z([E(o).e("icon-btn"),"d-arrow-right"]),onClick:nt[9]||(nt[9]=Se=>V(!0))},[Te(E(En),null,{default:Be(()=>[Te(E(dy))]),_:1})],10,o2e)],2)],2),[[Lr,Y.value!=="time"]]),ve("div",{class:Z(E(o).e("content")),onKeydown:Me},[Y.value==="date"?(H(),et(KP,{key:0,ref_key:"currentViewRef",ref:A,"selection-mode":E(W),date:T.value,"parsed-value":_e.parsedValue,"disabled-date":E(m),"cell-class-name":E(b),onPick:D},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):Ye("v-if",!0),Y.value==="year"?(H(),et(qCe,{key:1,ref_key:"currentViewRef",ref:A,date:T.value,"disabled-date":E(m),"parsed-value":_e.parsedValue,onPick:ue},null,8,["date","disabled-date","parsed-value"])):Ye("v-if",!0),Y.value==="month"?(H(),et(XP,{key:2,ref_key:"currentViewRef",ref:A,date:T.value,"parsed-value":_e.parsedValue,"disabled-date":E(m),onPick:ee},null,8,["date","parsed-value","disabled-date"])):Ye("v-if",!0)],34)],2)],2),Gn(ve("div",{class:Z(E(o).e("footer"))},[Gn(Te(E(ra),{text:"",size:"small",class:Z(E(o).e("link-btn")),onClick:he},{default:Be(()=>[$r(Bt(E(f)("el.datepicker.now")),1)]),_:1},8,["class"]),[[Lr,E(W)!=="dates"]]),Te(E(ra),{plain:"",size:"small",class:Z(E(o).e("link-btn")),onClick:Le},{default:Be(()=>[$r(Bt(E(f)("el.datepicker.confirm")),1)]),_:1},8,["class"])],2),[[Lr,E(Ie)&&Y.value==="date"]])],2))}});var a2e=zt(i2e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const s2e=Kt({...Y7,...Z7}),l2e=e=>{const{emit:t}=cr(),n=Gb(),r=Gi();return i=>{const a=Wn(i.value)?i.value():i.value;if(a){t("pick",[rr(a[0]).locale(e.value),rr(a[1]).locale(e.value)]);return}i.onClick&&i.onClick({attrs:n,slots:r,emit:t})}},q7=(e,{defaultValue:t,leftDate:n,rightDate:r,unit:o,onParsedValueChanged:i})=>{const{emit:a}=cr(),{pickerNs:s}=Cn(JM),f=wt("date-range-picker"),{t:d,lang:h}=Hr(),v=l2e(h),y=re(),m=re(),b=re({endDate:null,selecting:!1}),S=T=>{b.value=T},O=(T=!1)=>{const P=E(y),x=E(m);WP([P,x])&&a("pick",[P,x],T)},_=T=>{b.value.selecting=T,T||(b.value.endDate=null)},A=()=>{const[T,P]=Q7(E(t),{lang:E(h),unit:o,unlinkPanels:e.unlinkPanels});y.value=void 0,m.value=void 0,n.value=T,r.value=P};return At(t,T=>{T&&A()},{immediate:!0}),At(()=>e.parsedValue,T=>{if(Sn(T)&&T.length===2){const[P,x]=T;y.value=P,n.value=P,m.value=x,i(E(y),E(m))}else A()},{immediate:!0}),{minDate:y,maxDate:m,rangeState:b,lang:h,ppNs:s,drpNs:f,handleChangeRange:S,handleRangeConfirm:O,handleShortcutClick:v,onSelect:_,t:d}},u2e=["onClick"],c2e=["disabled"],f2e=["disabled"],d2e=["disabled"],h2e=["disabled"],p2e=St({__name:"panel-date-range",props:s2e,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(e,{emit:t}){const n=e,r="month",o=Cn("EP_PICKER_BASE"),{disabledDate:i,cellClassName:a,format:s,defaultTime:f,arrowControl:d,clearable:h}=o.props,v=Do(o.props,"shortcuts"),y=Do(o.props,"defaultValue"),{lang:m}=Hr(),b=re(rr().locale(m.value)),S=re(rr().locale(m.value).add(1,r)),{minDate:O,maxDate:_,rangeState:A,ppNs:T,drpNs:P,handleChangeRange:x,handleRangeConfirm:N,handleShortcutClick:L,onSelect:j,t:k}=q7(n,{defaultValue:y,leftDate:b,rightDate:S,unit:r,onParsedValueChanged:ht}),F=re({min:null,max:null}),z=re({min:null,max:null}),M=G(()=>`${b.value.year()} ${k("el.datepicker.year")} ${k(`el.datepicker.month${b.value.month()+1}`)}`),D=G(()=>`${S.value.year()} ${k("el.datepicker.year")} ${k(`el.datepicker.month${S.value.month()+1}`)}`),B=G(()=>b.value.year()),V=G(()=>b.value.month()),Y=G(()=>S.value.year()),K=G(()=>S.value.month()),X=G(()=>!!v.value.length),W=G(()=>F.value.min!==null?F.value.min:O.value?O.value.format(Ne.value):""),ie=G(()=>F.value.max!==null?F.value.max:_.value||O.value?(_.value||O.value).format(Ne.value):""),oe=G(()=>z.value.min!==null?z.value.min:O.value?O.value.format(ue.value):""),ee=G(()=>z.value.max!==null?z.value.max:_.value||O.value?(_.value||O.value).format(ue.value):""),ue=G(()=>s7(s)),Ne=G(()=>a7(s)),$e=()=>{b.value=b.value.subtract(1,"year"),n.unlinkPanels||(S.value=b.value.add(1,"month")),se("year")},Ie=()=>{b.value=b.value.subtract(1,"month"),n.unlinkPanels||(S.value=b.value.add(1,"month")),se("month")},Le=()=>{n.unlinkPanels?S.value=S.value.add(1,"year"):(b.value=b.value.add(1,"year"),S.value=b.value.add(1,"month")),se("year")},he=()=>{n.unlinkPanels?S.value=S.value.add(1,"month"):(b.value=b.value.add(1,"month"),S.value=b.value.add(1,"month")),se("month")},te=()=>{b.value=b.value.add(1,"year"),se("year")},ae=()=>{b.value=b.value.add(1,"month"),se("month")},Ce=()=>{S.value=S.value.subtract(1,"year"),se("year")},Ze=()=>{S.value=S.value.subtract(1,"month"),se("month")},se=yt=>{t("panel-change",[b.value.toDate(),S.value.toDate()],yt)},de=G(()=>{const yt=(V.value+1)%12,Et=V.value+1>=12?1:0;return n.unlinkPanels&&new Date(B.value+Et,yt)<new Date(Y.value,K.value)}),ze=G(()=>n.unlinkPanels&&Y.value*12+K.value-(B.value*12+V.value+1)>=12),lt=G(()=>!(O.value&&_.value&&!A.value.selecting&&WP([O.value,_.value]))),Re=G(()=>n.type==="datetime"||n.type==="datetimerange"),qe=(yt,Et)=>{if(!!yt)return f?rr(f[Et]||f).locale(m.value).year(yt.year()).month(yt.month()).date(yt.date()):yt},pe=(yt,Et=!0)=>{const Wt=yt.minDate,ur=yt.maxDate,tn=qe(Wt,0),Dn=qe(ur,1);_.value===Dn&&O.value===tn||(t("calendar-change",[Wt.toDate(),ur&&ur.toDate()]),_.value=Dn,O.value=tn,!(!Et||Re.value)&&N())},Ue=re(!1),Ke=re(!1),Ve=()=>{Ue.value=!1},ne=()=>{Ke.value=!1},fe=(yt,Et)=>{F.value[Et]=yt;const Wt=rr(yt,Ne.value).locale(m.value);if(Wt.isValid()){if(i&&i(Wt.toDate()))return;Et==="min"?(b.value=Wt,O.value=(O.value||b.value).year(Wt.year()).month(Wt.month()).date(Wt.date()),n.unlinkPanels||(S.value=Wt.add(1,"month"),_.value=O.value.add(1,"month"))):(S.value=Wt,_.value=(_.value||S.value).year(Wt.year()).month(Wt.month()).date(Wt.date()),n.unlinkPanels||(b.value=Wt.subtract(1,"month"),O.value=_.value.subtract(1,"month")))}},Me=(yt,Et)=>{F.value[Et]=null},it=(yt,Et)=>{z.value[Et]=yt;const Wt=rr(yt,ue.value).locale(m.value);Wt.isValid()&&(Et==="min"?(Ue.value=!0,O.value=(O.value||b.value).hour(Wt.hour()).minute(Wt.minute()).second(Wt.second()),(!_.value||_.value.isBefore(O.value))&&(_.value=O.value)):(Ke.value=!0,_.value=(_.value||S.value).hour(Wt.hour()).minute(Wt.minute()).second(Wt.second()),S.value=_.value,_.value&&_.value.isBefore(O.value)&&(O.value=_.value)))},Oe=(yt,Et)=>{z.value[Et]=null,Et==="min"?(b.value=O.value,Ue.value=!1):(S.value=_.value,Ke.value=!1)},_e=(yt,Et,Wt)=>{z.value.min||(yt&&(b.value=yt,O.value=(O.value||b.value).hour(yt.hour()).minute(yt.minute()).second(yt.second())),Wt||(Ue.value=Et),(!_.value||_.value.isBefore(O.value))&&(_.value=O.value,S.value=yt))},nt=(yt,Et,Wt)=>{z.value.max||(yt&&(S.value=yt,_.value=(_.value||S.value).hour(yt.hour()).minute(yt.minute()).second(yt.second())),Wt||(Ke.value=Et),_.value&&_.value.isBefore(O.value)&&(O.value=_.value))},Se=()=>{b.value=Q7(E(y),{lang:E(m),unit:"month",unlinkPanels:n.unlinkPanels})[0],S.value=b.value.add(1,"month"),t("pick",null)},tt=yt=>Sn(yt)?yt.map(Et=>Et.format(s)):yt.format(s),we=yt=>Sn(yt)?yt.map(Et=>rr(Et,s).locale(m.value)):rr(yt,s).locale(m.value);function ht(yt,Et){if(n.unlinkPanels&&Et){const Wt=(yt==null?void 0:yt.year())||0,ur=(yt==null?void 0:yt.month())||0,tn=Et.year(),Dn=Et.month();S.value=Wt===tn&&ur===Dn?Et.add(1,r):Et}else S.value=b.value.add(1,r),Et&&(S.value=S.value.hour(Et.hour()).minute(Et.minute()).second(Et.second()))}return t("set-picker-option",["isValidValue",WP]),t("set-picker-option",["parseUserInput",we]),t("set-picker-option",["formatToString",tt]),t("set-picker-option",["handleClear",Se]),(yt,Et)=>(H(),le("div",{class:Z([E(T).b(),E(P).b(),{"has-sidebar":yt.$slots.sidebar||E(X),"has-time":E(Re)}])},[ve("div",{class:Z(E(T).e("body-wrapper"))},[bt(yt.$slots,"sidebar",{class:Z(E(T).e("sidebar"))}),E(X)?(H(),le("div",{key:0,class:Z(E(T).e("sidebar"))},[(H(!0),le(wn,null,_r(E(v),(Wt,ur)=>(H(),le("button",{key:ur,type:"button",class:Z(E(T).e("shortcut")),onClick:tn=>E(L)(Wt)},Bt(Wt.text),11,u2e))),128))],2)):Ye("v-if",!0),ve("div",{class:Z(E(T).e("body"))},[E(Re)?(H(),le("div",{key:0,class:Z(E(P).e("time-header"))},[ve("span",{class:Z(E(P).e("editors-wrap"))},[ve("span",{class:Z(E(P).e("time-picker-wrap"))},[Te(E(na),{size:"small",disabled:E(A).selecting,placeholder:E(k)("el.datepicker.startDate"),class:Z(E(P).e("editor")),"model-value":E(W),"validate-event":!1,onInput:Et[0]||(Et[0]=Wt=>fe(Wt,"min")),onChange:Et[1]||(Et[1]=Wt=>Me(Wt,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),Gn((H(),le("span",{class:Z(E(P).e("time-picker-wrap"))},[Te(E(na),{size:"small",class:Z(E(P).e("editor")),disabled:E(A).selecting,placeholder:E(k)("el.datepicker.startTime"),"model-value":E(oe),"validate-event":!1,onFocus:Et[2]||(Et[2]=Wt=>Ue.value=!0),onInput:Et[3]||(Et[3]=Wt=>it(Wt,"min")),onChange:Et[4]||(Et[4]=Wt=>Oe(Wt,"min"))},null,8,["class","disabled","placeholder","model-value"]),Te(E(EO),{visible:Ue.value,format:E(ue),"datetime-role":"start","time-arrow-control":E(d),"parsed-value":b.value,onPick:_e},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[E(qf),Ve]])],2),ve("span",null,[Te(E(En),null,{default:Be(()=>[Te(E(Ea))]),_:1})]),ve("span",{class:Z([E(P).e("editors-wrap"),"is-right"])},[ve("span",{class:Z(E(P).e("time-picker-wrap"))},[Te(E(na),{size:"small",class:Z(E(P).e("editor")),disabled:E(A).selecting,placeholder:E(k)("el.datepicker.endDate"),"model-value":E(ie),readonly:!E(O),"validate-event":!1,onInput:Et[5]||(Et[5]=Wt=>fe(Wt,"max")),onChange:Et[6]||(Et[6]=Wt=>Me(Wt,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Gn((H(),le("span",{class:Z(E(P).e("time-picker-wrap"))},[Te(E(na),{size:"small",class:Z(E(P).e("editor")),disabled:E(A).selecting,placeholder:E(k)("el.datepicker.endTime"),"model-value":E(ee),readonly:!E(O),"validate-event":!1,onFocus:Et[7]||(Et[7]=Wt=>E(O)&&(Ke.value=!0)),onInput:Et[8]||(Et[8]=Wt=>it(Wt,"max")),onChange:Et[9]||(Et[9]=Wt=>Oe(Wt,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),Te(E(EO),{"datetime-role":"end",visible:Ke.value,format:E(ue),"time-arrow-control":E(d),"parsed-value":S.value,onPick:nt},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[E(qf),ne]])],2)],2)):Ye("v-if",!0),ve("div",{class:Z([[E(T).e("content"),E(P).e("content")],"is-left"])},[ve("div",{class:Z(E(P).e("header"))},[ve("button",{type:"button",class:Z([E(T).e("icon-btn"),"d-arrow-left"]),onClick:$e},[Te(E(En),null,{default:Be(()=>[Te(E(fy))]),_:1})],2),ve("button",{type:"button",class:Z([E(T).e("icon-btn"),"arrow-left"]),onClick:Ie},[Te(E(En),null,{default:Be(()=>[Te(E(Zf))]),_:1})],2),yt.unlinkPanels?(H(),le("button",{key:0,type:"button",disabled:!E(ze),class:Z([[E(T).e("icon-btn"),{"is-disabled":!E(ze)}],"d-arrow-right"]),onClick:te},[Te(E(En),null,{default:Be(()=>[Te(E(dy))]),_:1})],10,c2e)):Ye("v-if",!0),yt.unlinkPanels?(H(),le("button",{key:1,type:"button",disabled:!E(de),class:Z([[E(T).e("icon-btn"),{"is-disabled":!E(de)}],"arrow-right"]),onClick:ae},[Te(E(En),null,{default:Be(()=>[Te(E(Ea))]),_:1})],10,f2e)):Ye("v-if",!0),ve("div",null,Bt(E(M)),1)],2),Te(KP,{"selection-mode":"range",date:b.value,"min-date":E(O),"max-date":E(_),"range-state":E(A),"disabled-date":E(i),"cell-class-name":E(a),onChangerange:E(x),onPick:pe,onSelect:E(j)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),ve("div",{class:Z([[E(T).e("content"),E(P).e("content")],"is-right"])},[ve("div",{class:Z(E(P).e("header"))},[yt.unlinkPanels?(H(),le("button",{key:0,type:"button",disabled:!E(ze),class:Z([[E(T).e("icon-btn"),{"is-disabled":!E(ze)}],"d-arrow-left"]),onClick:Ce},[Te(E(En),null,{default:Be(()=>[Te(E(fy))]),_:1})],10,d2e)):Ye("v-if",!0),yt.unlinkPanels?(H(),le("button",{key:1,type:"button",disabled:!E(de),class:Z([[E(T).e("icon-btn"),{"is-disabled":!E(de)}],"arrow-left"]),onClick:Ze},[Te(E(En),null,{default:Be(()=>[Te(E(Zf))]),_:1})],10,h2e)):Ye("v-if",!0),ve("button",{type:"button",class:Z([E(T).e("icon-btn"),"d-arrow-right"]),onClick:Le},[Te(E(En),null,{default:Be(()=>[Te(E(dy))]),_:1})],2),ve("button",{type:"button",class:Z([E(T).e("icon-btn"),"arrow-right"]),onClick:he},[Te(E(En),null,{default:Be(()=>[Te(E(Ea))]),_:1})],2),ve("div",null,Bt(E(D)),1)],2),Te(KP,{"selection-mode":"range",date:S.value,"min-date":E(O),"max-date":E(_),"range-state":E(A),"disabled-date":E(i),"cell-class-name":E(a),onChangerange:E(x),onPick:pe,onSelect:E(j)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),E(Re)?(H(),le("div",{key:0,class:Z(E(T).e("footer"))},[E(h)?(H(),et(E(ra),{key:0,text:"",size:"small",class:Z(E(T).e("link-btn")),onClick:Se},{default:Be(()=>[$r(Bt(E(k)("el.datepicker.clear")),1)]),_:1},8,["class"])):Ye("v-if",!0),Te(E(ra),{plain:"",size:"small",class:Z(E(T).e("link-btn")),disabled:E(lt),onClick:Et[10]||(Et[10]=Wt=>E(N)(!1))},{default:Be(()=>[$r(Bt(E(k)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):Ye("v-if",!0)],2))}});var v2e=zt(p2e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const y2e=Kt({...Z7}),m2e=["pick","set-picker-option"],g2e=({unlinkPanels:e,leftDate:t,rightDate:n})=>{const{t:r}=Hr(),o=()=>{t.value=t.value.subtract(1,"year"),e||(n.value=n.value.subtract(1,"year"))},i=()=>{e||(t.value=t.value.add(1,"year")),n.value=n.value.add(1,"year")},a=()=>{t.value=t.value.add(1,"year")},s=()=>{n.value=n.value.subtract(1,"year")},f=G(()=>`${t.value.year()} ${r("el.datepicker.year")}`),d=G(()=>`${n.value.year()} ${r("el.datepicker.year")}`),h=G(()=>t.value.year()),v=G(()=>n.value.year()===t.value.year()?t.value.year()+1:n.value.year());return{leftPrevYear:o,rightNextYear:i,leftNextYear:a,rightPrevYear:s,leftLabel:f,rightLabel:d,leftYear:h,rightYear:v}},b2e=["onClick"],E2e=["disabled"],S2e=["disabled"],w2e={name:"DatePickerMonthRange"},O2e=St({...w2e,props:y2e,emits:m2e,setup(e,{emit:t}){const n=e,r="year",{lang:o}=Hr(),i=Cn("EP_PICKER_BASE"),{shortcuts:a,disabledDate:s,format:f}=i.props,d=Do(i.props,"defaultValue"),h=re(rr().locale(o.value)),v=re(rr().locale(o.value).add(1,r)),{minDate:y,maxDate:m,rangeState:b,ppNs:S,drpNs:O,handleChangeRange:_,handleRangeConfirm:A,handleShortcutClick:T,onSelect:P}=q7(n,{defaultValue:d,leftDate:h,rightDate:v,unit:r,onParsedValueChanged:K}),x=G(()=>!!a.length),{leftPrevYear:N,rightNextYear:L,leftNextYear:j,rightPrevYear:k,leftLabel:F,rightLabel:z,leftYear:M,rightYear:D}=g2e({unlinkPanels:Do(n,"unlinkPanels"),leftDate:h,rightDate:v}),B=G(()=>n.unlinkPanels&&D.value>M.value+1),V=(X,W=!0)=>{const ie=X.minDate,oe=X.maxDate;m.value===oe&&y.value===ie||(m.value=oe,y.value=ie,W&&A())},Y=X=>X.map(W=>W.format(f));function K(X,W){if(n.unlinkPanels&&W){const ie=(X==null?void 0:X.year())||0,oe=W.year();v.value=ie===oe?W.add(1,r):W}else v.value=h.value.add(1,r)}return t("set-picker-option",["formatToString",Y]),(X,W)=>(H(),le("div",{class:Z([E(S).b(),E(O).b(),{"has-sidebar":Boolean(X.$slots.sidebar)||E(x)}])},[ve("div",{class:Z(E(S).e("body-wrapper"))},[bt(X.$slots,"sidebar",{class:Z(E(S).e("sidebar"))}),E(x)?(H(),le("div",{key:0,class:Z(E(S).e("sidebar"))},[(H(!0),le(wn,null,_r(E(a),(ie,oe)=>(H(),le("button",{key:oe,type:"button",class:Z(E(S).e("shortcut")),onClick:ee=>E(T)(ie)},Bt(ie.text),11,b2e))),128))],2)):Ye("v-if",!0),ve("div",{class:Z(E(S).e("body"))},[ve("div",{class:Z([[E(S).e("content"),E(O).e("content")],"is-left"])},[ve("div",{class:Z(E(O).e("header"))},[ve("button",{type:"button",class:Z([E(S).e("icon-btn"),"d-arrow-left"]),onClick:W[0]||(W[0]=(...ie)=>E(N)&&E(N)(...ie))},[Te(E(En),null,{default:Be(()=>[Te(E(fy))]),_:1})],2),X.unlinkPanels?(H(),le("button",{key:0,type:"button",disabled:!E(B),class:Z([[E(S).e("icon-btn"),{[E(S).is("disabled")]:!E(B)}],"d-arrow-right"]),onClick:W[1]||(W[1]=(...ie)=>E(j)&&E(j)(...ie))},[Te(E(En),null,{default:Be(()=>[Te(E(dy))]),_:1})],10,E2e)):Ye("v-if",!0),ve("div",null,Bt(E(F)),1)],2),Te(XP,{"selection-mode":"range",date:h.value,"min-date":E(y),"max-date":E(m),"range-state":E(b),"disabled-date":E(s),onChangerange:E(_),onPick:V,onSelect:E(P)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),ve("div",{class:Z([[E(S).e("content"),E(O).e("content")],"is-right"])},[ve("div",{class:Z(E(O).e("header"))},[X.unlinkPanels?(H(),le("button",{key:0,type:"button",disabled:!E(B),class:Z([[E(S).e("icon-btn"),{"is-disabled":!E(B)}],"d-arrow-left"]),onClick:W[2]||(W[2]=(...ie)=>E(k)&&E(k)(...ie))},[Te(E(En),null,{default:Be(()=>[Te(E(fy))]),_:1})],10,S2e)):Ye("v-if",!0),ve("button",{type:"button",class:Z([E(S).e("icon-btn"),"d-arrow-right"]),onClick:W[3]||(W[3]=(...ie)=>E(L)&&E(L)(...ie))},[Te(E(En),null,{default:Be(()=>[Te(E(dy))]),_:1})],2),ve("div",null,Bt(E(z)),1)],2),Te(XP,{"selection-mode":"range",date:v.value,"min-date":E(y),"max-date":E(m),"range-state":E(b),"disabled-date":E(s),onChangerange:E(_),onPick:V,onSelect:E(P)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var _2e=zt(O2e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const T2e=function(e){switch(e){case"daterange":case"datetimerange":return v2e;case"monthrange":return _2e;default:return a2e}};rr.extend(o7);rr.extend(SCe);rr.extend(fN);rr.extend(wCe);rr.extend(OCe);rr.extend(_Ce);rr.extend(TCe);rr.extend(CCe);var C2e=St({name:"ElDatePicker",install:null,props:{...dN,...ACe},emits:["update:modelValue"],setup(e,{expose:t,emit:n,slots:r}){const o=wt("picker-panel");Sr("ElPopperOptions",Xr(Do(e,"popperOptions"))),Sr(JM,{slots:r,pickerNs:o});const i=re();t({focus:(f=!0)=>{var d;(d=i.value)==null||d.focus(f)},handleOpen:()=>{var f;(f=i.value)==null||f.handleOpen()},handleClose:()=>{var f;(f=i.value)==null||f.handleClose()}});const s=f=>{n("update:modelValue",f)};return()=>{var f;const d=(f=e.format)!=null?f:Lwe[e.type]||xv,h=T2e(e.type);return Te(c7,br(e,{format:d,type:e.type,ref:i,"onUpdate:modelValue":s}),{default:v=>Te(h,v,null),"range-separator":r["range-separator"]})}}});const Lw=C2e;Lw.install=e=>{e.component(Lw.name,Lw)};const A2e=Lw,yN="elDescriptions";var sg=St({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String},type:{type:String}},setup(){return{descriptions:Cn(yN,{})}},render(){var e,t,n,r,o,i;const a=Zbe(this.cell),{border:s,direction:f}=this.descriptions,d=f==="vertical",h=((n=(t=(e=this.cell)==null?void 0:e.children)==null?void 0:t.label)==null?void 0:n.call(t))||a.label,v=(i=(o=(r=this.cell)==null?void 0:r.children)==null?void 0:o.default)==null?void 0:i.call(o),y=a.span,m=a.align?`is-${a.align}`:"",b=a.labelAlign?`is-${a.labelAlign}`:m,S=a.className,O=a.labelClassName,_={width:yi(a.width),minWidth:yi(a.minWidth)},A=wt("descriptions");switch(this.type){case"label":return Pn(this.tag,{style:_,class:[A.e("cell"),A.e("label"),A.is("bordered-label",s),A.is("vertical-label",d),b,O],colSpan:d?y:1},h);case"content":return Pn(this.tag,{style:_,class:[A.e("cell"),A.e("content"),A.is("bordered-content",s),A.is("vertical-content",d),m,S],colSpan:d?y:y*2-1},v);default:return Pn("td",{style:_,class:[A.e("cell"),m],colSpan:y},[Pn("span",{class:[A.e("label"),O]},h),Pn("span",{class:[A.e("content"),S]},v)])}}});const P2e=Kt({row:{type:Array,default:()=>[]}}),x2e={key:1},M2e={name:"ElDescriptionsRow"},N2e=St({...M2e,props:P2e,setup(e){const t=Cn(yN,{});return(n,r)=>E(t).direction==="vertical"?(H(),le(wn,{key:0},[ve("tr",null,[(H(!0),le(wn,null,_r(n.row,(o,i)=>(H(),et(E(sg),{key:`tr1-${i}`,cell:o,tag:"th",type:"label"},null,8,["cell"]))),128))]),ve("tr",null,[(H(!0),le(wn,null,_r(n.row,(o,i)=>(H(),et(E(sg),{key:`tr2-${i}`,cell:o,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(H(),le("tr",x2e,[(H(!0),le(wn,null,_r(n.row,(o,i)=>(H(),le(wn,{key:`tr3-${i}`},[E(t).border?(H(),le(wn,{key:0},[Te(E(sg),{cell:o,tag:"td",type:"label"},null,8,["cell"]),Te(E(sg),{cell:o,tag:"td",type:"content"},null,8,["cell"])],64)):(H(),et(E(sg),{key:1,cell:o,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var R2e=zt(N2e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/descriptions-row.vue"]]);const I2e=Kt({border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:os,title:{type:String,default:""},extra:{type:String,default:""}}),D2e={name:"ElDescriptions"},k2e=St({...D2e,props:I2e,setup(e){const t=e,n=wt("descriptions"),r=oi(),o=Gi();Sr(yN,t);const i=G(()=>[n.b(),n.m(r.value)]),a=(f,d,h,v=!1)=>(f.props||(f.props={}),d>h&&(f.props.span=h),v&&(f.props.span=d),f),s=()=>{var f;const d=GM((f=o.default)==null?void 0:f.call(o)).filter(b=>{var S;return((S=b==null?void 0:b.type)==null?void 0:S.name)==="ElDescriptionsItem"}),h=[];let v=[],y=t.column,m=0;return d.forEach((b,S)=>{var O;const _=((O=b.props)==null?void 0:O.span)||1;if(S<d.length-1&&(m+=_>y?y:_),S===d.length-1){const A=t.column-m%t.column;v.push(a(b,A,y,!0)),h.push(v);return}_<y?(y-=_,v.push(b)):(v.push(a(b,_,y)),h.push(v),y=t.column,v=[])}),h};return(f,d)=>(H(),le("div",{class:Z(E(i))},[f.title||f.extra||f.$slots.title||f.$slots.extra?(H(),le("div",{key:0,class:Z(E(n).e("header"))},[ve("div",{class:Z(E(n).e("title"))},[bt(f.$slots,"title",{},()=>[$r(Bt(f.title),1)])],2),ve("div",{class:Z(E(n).e("extra"))},[bt(f.$slots,"extra",{},()=>[$r(Bt(f.extra),1)])],2)],2)):Ye("v-if",!0),ve("div",{class:Z(E(n).e("body"))},[ve("table",{class:Z([E(n).e("table"),E(n).is("bordered",f.border)])},[ve("tbody",null,[(H(!0),le(wn,null,_r(s(),(h,v)=>(H(),et(R2e,{key:v,row:h},null,8,["row"]))),128))])],2)],2)],2))}});var L2e=zt(k2e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/description.vue"]]),e9=St({name:"ElDescriptionsItem",props:{label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}});const $2e=fr(L2e,{DescriptionsItem:e9}),B2e=ko(e9),j2e=Kt({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:ot([String,Array,Object])},zIndex:{type:ot([String,Number])}}),F2e={click:e=>e instanceof MouseEvent};var z2e=St({name:"ElOverlay",props:j2e,emits:F2e,setup(e,{slots:t,emit:n}){const r=wt("overlay"),o=f=>{n("click",f)},{onClick:i,onMousedown:a,onMouseup:s}=QM(e.customMaskEvent?void 0:o);return()=>e.mask?Te("div",{class:[r.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:i,onMousedown:a,onMouseup:s},[bt(t,"default")],Ts.STYLE|Ts.CLASS|Ts.PROPS,["onClick","onMouseup","onMousedown"]):Pn("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[bt(t,"default")])}});const mN=z2e,t9=Kt({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:po},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),U2e={close:()=>!0},V2e=["aria-label"],H2e=["id"],G2e={name:"ElDialogContent"},W2e=St({...G2e,props:t9,emits:U2e,setup(e){const t=e,{t:n}=Hr(),{Close:r}=YH,{dialogRef:o,headerRef:i,bodyId:a,ns:s,style:f}=Cn(rG),{focusTrapRef:d}=Cn(cN),h=E_(d,o),v=G(()=>t.draggable);return pG(o,i,v),(y,m)=>(H(),le("div",{ref:E(h),class:Z([E(s).b(),E(s).is("fullscreen",y.fullscreen),E(s).is("draggable",E(v)),E(s).is("align-center",y.alignCenter),{[E(s).m("center")]:y.center},y.customClass]),style:gn(E(f)),tabindex:"-1",onClick:m[1]||(m[1]=Fn(()=>{},["stop"]))},[ve("header",{ref_key:"headerRef",ref:i,class:Z(E(s).e("header"))},[bt(y.$slots,"header",{},()=>[ve("span",{role:"heading",class:Z(E(s).e("title"))},Bt(y.title),3)]),y.showClose?(H(),le("button",{key:0,"aria-label":E(n)("el.dialog.close"),class:Z(E(s).e("headerbtn")),type:"button",onClick:m[0]||(m[0]=b=>y.$emit("close"))},[Te(E(En),{class:Z(E(s).e("close"))},{default:Be(()=>[(H(),et(mr(y.closeIcon||E(r))))]),_:1},8,["class"])],10,V2e)):Ye("v-if",!0)],2),ve("div",{id:E(a),class:Z(E(s).e("body"))},[bt(y.$slots,"default")],10,H2e),y.$slots.footer?(H(),le("footer",{key:0,class:Z(E(s).e("footer"))},[bt(y.$slots,"footer")],2)):Ye("v-if",!0)],6))}});var K2e=zt(W2e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const n9=Kt({...t9,appendToBody:{type:Boolean,default:!1},beforeClose:{type:ot(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),r9={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[hr]:e=>_i(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},o9=(e,t)=>{const r=cr().emit,{nextZIndex:o}=Pc();let i="";const a=gl(),s=gl(),f=re(!1),d=re(!1),h=re(!1),v=re(e.zIndex||o());let y,m;const b=Cc("namespace",__),S=G(()=>{const D={},B=`--${b.value}-dialog`;return e.fullscreen||(e.top&&(D[`${B}-margin-top`]=e.top),e.width&&(D[`${B}-width`]=yi(e.width))),D}),O=G(()=>e.alignCenter?{display:"flex"}:{});function _(){r("opened")}function A(){r("closed"),r(hr,!1),e.destroyOnClose&&(h.value=!1)}function T(){r("close")}function P(){m==null||m(),y==null||y(),e.openDelay&&e.openDelay>0?{stop:y}=$h(()=>j(),e.openDelay):j()}function x(){y==null||y(),m==null||m(),e.closeDelay&&e.closeDelay>0?{stop:m}=$h(()=>k(),e.closeDelay):k()}function N(){function D(B){B||(d.value=!0,f.value=!1)}e.beforeClose?e.beforeClose(D):x()}function L(){e.closeOnClickModal&&N()}function j(){!Rr||(f.value=!0)}function k(){f.value=!1}function F(){r("openAutoFocus")}function z(){r("closeAutoFocus")}e.lockScroll&&vG(f);function M(){e.closeOnPressEscape&&N()}return At(()=>e.modelValue,D=>{D?(d.value=!1,P(),h.value=!0,v.value=e.zIndex?v.value++:o(),bn(()=>{r("open"),t.value&&(t.value.scrollTop=0)})):f.value&&x()}),At(()=>e.fullscreen,D=>{!t.value||(D?(i=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=i)}),ir(()=>{e.modelValue&&(f.value=!0,h.value=!0,P())}),{afterEnter:_,afterLeave:A,beforeLeave:T,handleClose:N,onModalClick:L,close:x,doClose:k,onOpenAutoFocus:F,onCloseAutoFocus:z,onCloseRequested:M,titleId:a,bodyId:s,closed:d,style:S,overlayDialogStyle:O,rendered:h,visible:f,zIndex:v}},X2e=["aria-label","aria-labelledby","aria-describedby"],Y2e={name:"ElDialog",inheritAttrs:!1},Z2e=St({...Y2e,props:n9,emits:r9,setup(e,{expose:t}){const n=e,r=Gi();Bh({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},G(()=>!!r.title)),Bh({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},G(()=>!!n.customClass));const o=wt("dialog"),i=re(),a=re(),s=re(),{visible:f,titleId:d,bodyId:h,style:v,overlayDialogStyle:y,rendered:m,zIndex:b,afterEnter:S,afterLeave:O,beforeLeave:_,handleClose:A,onModalClick:T,onOpenAutoFocus:P,onCloseAutoFocus:x,onCloseRequested:N}=o9(n,i);Sr(rG,{dialogRef:i,headerRef:a,bodyId:h,ns:o,rendered:m,style:v});const L=QM(T),j=G(()=>n.draggable&&!n.fullscreen);return t({visible:f,dialogContentRef:s}),(k,F)=>(H(),et(Vb,{to:"body",disabled:!k.appendToBody},[Te(ti,{name:"dialog-fade",onAfterEnter:E(S),onAfterLeave:E(O),onBeforeLeave:E(_),persisted:""},{default:Be(()=>[Gn(Te(E(mN),{"custom-mask-event":"",mask:k.modal,"overlay-class":k.modalClass,"z-index":E(b)},{default:Be(()=>[ve("div",{role:"dialog","aria-modal":"true","aria-label":k.title||void 0,"aria-labelledby":k.title?void 0:E(d),"aria-describedby":E(h),class:Z(`${E(o).namespace.value}-overlay-dialog`),style:gn(E(y)),onClick:F[0]||(F[0]=(...z)=>E(L).onClick&&E(L).onClick(...z)),onMousedown:F[1]||(F[1]=(...z)=>E(L).onMousedown&&E(L).onMousedown(...z)),onMouseup:F[2]||(F[2]=(...z)=>E(L).onMouseup&&E(L).onMouseup(...z))},[Te(E(P_),{loop:"",trapped:E(f),"focus-start-el":"container",onFocusAfterTrapped:E(P),onFocusAfterReleased:E(x),onReleaseRequested:E(N)},{default:Be(()=>[E(m)?(H(),et(K2e,br({key:0,ref_key:"dialogContentRef",ref:s},k.$attrs,{"custom-class":k.customClass,center:k.center,"align-center":k.alignCenter,"close-icon":k.closeIcon,draggable:E(j),fullscreen:k.fullscreen,"show-close":k.showClose,title:k.title,onClose:E(A)}),Yf({header:Be(()=>[k.$slots.title?bt(k.$slots,"title",{key:1}):bt(k.$slots,"header",{key:0,close:E(A),titleId:E(d),titleClass:E(o).e("title")})]),default:Be(()=>[bt(k.$slots,"default")]),_:2},[k.$slots.footer?{name:"footer",fn:Be(()=>[bt(k.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):Ye("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onReleaseRequested"])],46,X2e)]),_:3},8,["mask","overlay-class","z-index"]),[[Lr,E(f)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var J2e=zt(Z2e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Q2e=fr(J2e),q2e=Kt({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:ot(String),default:"solid"}}),eAe={name:"ElDivider"},tAe=St({...eAe,props:q2e,setup(e){const t=e,n=wt("divider"),r=G(()=>n.cssVar({"border-style":t.borderStyle}));return(o,i)=>(H(),le("div",{class:Z([E(n).b(),E(n).m(o.direction)]),style:gn(E(r)),role:"separator"},[o.$slots.default&&o.direction!=="vertical"?(H(),le("div",{key:0,class:Z([E(n).e("text"),E(n).is(o.contentPosition)])},[bt(o.$slots,"default")],2)):Ye("v-if",!0)],6))}});var nAe=zt(tAe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue"]]);const i9=fr(nAe),rAe=Kt({...n9,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0}}),oAe=r9,iAe=St({name:"ElDrawer",components:{ElOverlay:mN,ElFocusTrap:P_,ElIcon:En,Close:ml},props:rAe,emits:oAe,setup(e,{slots:t}){Bh({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},G(()=>!!t.title));const n=re(),r=re(),o=wt("drawer"),{t:i}=Hr(),a=G(()=>e.direction==="rtl"||e.direction==="ltr"),s=G(()=>yi(e.size));return{...o9(e,n),drawerRef:n,focusStartRef:r,isHorizontal:a,drawerSize:s,ns:o,t:i}}}),aAe=["aria-label","aria-labelledby","aria-describedby"],sAe=["id"],lAe=["aria-label"],uAe=["id"];function cAe(e,t,n,r,o,i){const a=_n("close"),s=_n("el-icon"),f=_n("el-focus-trap"),d=_n("el-overlay");return H(),et(Vb,{to:"body",disabled:!e.appendToBody},[Te(ti,{name:e.ns.b("fade"),onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave,onBeforeLeave:e.beforeLeave,persisted:""},{default:Be(()=>[Gn(Te(d,{mask:e.modal,"overlay-class":e.modalClass,"z-index":e.zIndex,onClick:e.onModalClick},{default:Be(()=>[Te(f,{loop:"",trapped:e.visible,"focus-trap-el":e.drawerRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:Be(()=>[ve("div",{ref:"drawerRef","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:e.titleId,"aria-describedby":e.bodyId,class:Z([e.ns.b(),e.direction,e.visible&&"open",e.customClass]),style:gn(e.isHorizontal?"width: "+e.drawerSize:"height: "+e.drawerSize),role:"dialog",onClick:t[1]||(t[1]=Fn(()=>{},["stop"]))},[ve("span",{ref:"focusStartRef",class:Z(e.ns.e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?(H(),le("header",{key:0,class:Z(e.ns.e("header"))},[e.$slots.title?bt(e.$slots,"title",{key:1},()=>[Ye(" DEPRECATED SLOT ")]):bt(e.$slots,"header",{key:0,close:e.handleClose,titleId:e.titleId,titleClass:e.ns.e("title")},()=>[e.$slots.title?Ye("v-if",!0):(H(),le("span",{key:0,id:e.titleId,role:"heading",class:Z(e.ns.e("title"))},Bt(e.title),11,sAe))]),e.showClose?(H(),le("button",{key:2,"aria-label":e.t("el.drawer.close"),class:Z(e.ns.e("close-btn")),type:"button",onClick:t[0]||(t[0]=(...h)=>e.handleClose&&e.handleClose(...h))},[Te(s,{class:Z(e.ns.e("close"))},{default:Be(()=>[Te(a)]),_:1},8,["class"])],10,lAe)):Ye("v-if",!0)],2)):Ye("v-if",!0),e.rendered?(H(),le("div",{key:1,id:e.bodyId,class:Z(e.ns.e("body"))},[bt(e.$slots,"default")],10,uAe)):Ye("v-if",!0),e.$slots.footer?(H(),le("div",{key:2,class:Z(e.ns.e("footer"))},[bt(e.$slots,"footer")],2)):Ye("v-if",!0)],14,aAe)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[Lr,e.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var fAe=zt(iAe,[["render",cAe],["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const dAe=fr(fAe),hAe={inheritAttrs:!1};function pAe(e,t,n,r,o,i){return bt(e.$slots,"default")}var vAe=zt(hAe,[["render",pAe],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const yAe={name:"ElCollectionItem",inheritAttrs:!1};function mAe(e,t,n,r,o,i){return bt(e.$slots,"default")}var gAe=zt(yAe,[["render",mAe],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const a9="data-el-collection-item",s9=e=>{const t=`El${e}Collection`,n=`${t}Item`,r=Symbol(t),o=Symbol(n),i={...vAe,name:t,setup(){const s=re(null),f=new Map;Sr(r,{itemMap:f,getItems:()=>{const h=E(s);if(!h)return[];const v=Array.from(h.querySelectorAll(`[${a9}]`));return[...f.values()].sort((m,b)=>v.indexOf(m.ref)-v.indexOf(b.ref))},collectionRef:s})}},a={...gAe,name:n,setup(s,{attrs:f}){const d=re(null),h=Cn(r,void 0);Sr(o,{collectionItemRef:d}),ir(()=>{const v=E(d);v&&h.itemMap.set(v,{ref:v,...f})}),Go(()=>{const v=E(d);h.itemMap.delete(v)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:o,ElCollection:i,ElCollectionItem:a}},bAe=Kt({style:{type:ot([String,Array,Object])},currentTabId:{type:ot(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:ot(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:EAe,ElCollectionItem:SAe,COLLECTION_INJECTION_KEY:gN,COLLECTION_ITEM_INJECTION_KEY:wAe}=s9("RovingFocusGroup"),bN=Symbol("elRovingFocusGroup"),l9=Symbol("elRovingFocusGroupItem"),OAe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},_Ae=(e,t)=>{if(t!=="rtl")return e;switch(e){case Mn.right:return Mn.left;case Mn.left:return Mn.right;default:return e}},TAe=(e,t,n)=>{const r=_Ae(e.key,n);if(!(t==="vertical"&&[Mn.left,Mn.right].includes(r))&&!(t==="horizontal"&&[Mn.up,Mn.down].includes(r)))return OAe[r]},CAe=(e,t)=>e.map((n,r)=>e[(r+t)%e.length]),EN=e=>{const{activeElement:t}=document;for(const n of e)if(n===t||(n.focus(),t!==document.activeElement))return},J4="currentTabIdChange",Q4="rovingFocusGroup.entryFocus",AAe={bubbles:!1,cancelable:!0},PAe=St({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:bAe,emits:[J4,"entryFocus"],setup(e,{emit:t}){var n;const r=re((n=e.currentTabId||e.defaultCurrentTabId)!=null?n:null),o=re(!1),i=re(!1),a=re(null),{getItems:s}=Cn(gN,void 0),f=G(()=>[{outline:"none"},e.style]),d=S=>{t(J4,S)},h=()=>{o.value=!0},v=Io(S=>{var O;(O=e.onMousedown)==null||O.call(e,S)},()=>{i.value=!0}),y=Io(S=>{var O;(O=e.onFocus)==null||O.call(e,S)},S=>{const O=!E(i),{target:_,currentTarget:A}=S;if(_===A&&O&&!E(o)){const T=new Event(Q4,AAe);if(A==null||A.dispatchEvent(T),!T.defaultPrevented){const P=s().filter(k=>k.focusable),x=P.find(k=>k.active),N=P.find(k=>k.id===E(r)),j=[x,N,...P].filter(Boolean).map(k=>k.ref);EN(j)}}i.value=!1}),m=Io(S=>{var O;(O=e.onBlur)==null||O.call(e,S)},()=>{o.value=!1}),b=(...S)=>{t("entryFocus",...S)};Sr(bN,{currentTabbedId:Ub(r),loop:Do(e,"loop"),tabIndex:G(()=>E(o)?-1:0),rovingFocusGroupRef:a,rovingFocusGroupRootStyle:f,orientation:Do(e,"orientation"),dir:Do(e,"dir"),onItemFocus:d,onItemShiftTab:h,onBlur:m,onFocus:y,onMousedown:v}),At(()=>e.currentTabId,S=>{r.value=S!=null?S:null}),Eo(a,Q4,b)}});function xAe(e,t,n,r,o,i){return bt(e.$slots,"default")}var MAe=zt(PAe,[["render",xAe],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const NAe=St({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:EAe,ElRovingFocusGroupImpl:MAe}});function RAe(e,t,n,r,o,i){const a=_n("el-roving-focus-group-impl"),s=_n("el-focus-group-collection");return H(),et(s,null,{default:Be(()=>[Te(a,fl(s_(e.$attrs)),{default:Be(()=>[bt(e.$slots,"default")]),_:3},16)]),_:3})}var IAe=zt(NAe,[["render",RAe],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const DAe=St({components:{ElRovingFocusCollectionItem:SAe},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:n,loop:r,onItemFocus:o,onItemShiftTab:i}=Cn(bN,void 0),{getItems:a}=Cn(gN,void 0),s=gl(),f=re(null),d=Io(m=>{t("mousedown",m)},m=>{e.focusable?o(E(s)):m.preventDefault()}),h=Io(m=>{t("focus",m)},()=>{o(E(s))}),v=Io(m=>{t("keydown",m)},m=>{const{key:b,shiftKey:S,target:O,currentTarget:_}=m;if(b===Mn.tab&&S){i();return}if(O!==_)return;const A=TAe(m);if(A){m.preventDefault();let P=a().filter(x=>x.focusable).map(x=>x.ref);switch(A){case"last":{P.reverse();break}case"prev":case"next":{A==="prev"&&P.reverse();const x=P.indexOf(_);P=r.value?CAe(P,x+1):P.slice(x+1);break}}bn(()=>{EN(P)})}}),y=G(()=>n.value===E(s));return Sr(l9,{rovingFocusGroupItemRef:f,tabIndex:G(()=>E(y)?0:-1),handleMousedown:d,handleFocus:h,handleKeydown:v}),{id:s,handleKeydown:v,handleFocus:h,handleMousedown:d}}});function kAe(e,t,n,r,o,i){const a=_n("el-roving-focus-collection-item");return H(),et(a,{id:e.id,focusable:e.focusable,active:e.active},{default:Be(()=>[bt(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var LAe=zt(DAe,[["render",kAe],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const $w=Kt({trigger:Eb.trigger,effect:{...Bi.effect,default:"light"},type:{type:ot(String)},placement:{type:ot(String),default:"bottom"},popperOptions:{type:ot(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:ot([Number,String]),default:0},maxHeight:{type:ot([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:ot(Object)}}),u9=Kt({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:po}}),$Ae=Kt({onKeydown:{type:ot(Function)}}),BAe=[Mn.down,Mn.pageDown,Mn.home],c9=[Mn.up,Mn.pageUp,Mn.end],jAe=[...BAe,...c9],{ElCollection:FAe,ElCollectionItem:zAe,COLLECTION_INJECTION_KEY:UAe,COLLECTION_ITEM_INJECTION_KEY:VAe}=s9("Dropdown"),R_=Symbol("elDropdown"),{ButtonGroup:HAe}=ra,GAe=St({name:"ElDropdown",components:{ElButton:ra,ElButtonGroup:HAe,ElScrollbar:Mc,ElDropdownCollection:FAe,ElTooltip:Ua,ElRovingFocusGroup:IAe,ElOnlyChild:NG,ElIcon:En,ArrowDown:od},props:$w,emits:["visible-change","click","command"],setup(e,{emit:t}){const n=cr(),r=wt("dropdown"),{t:o}=Hr(),i=re(),a=re(),s=re(null),f=re(null),d=re(null),h=re(null),v=re(!1),y=[Mn.enter,Mn.space,Mn.down],m=G(()=>({maxHeight:yi(e.maxHeight)})),b=G(()=>[r.m(P.value)]),S=gl().value,O=G(()=>e.id||S);function _(){A()}function A(){var V;(V=s.value)==null||V.onClose()}function T(){var V;(V=s.value)==null||V.onOpen()}const P=oi();function x(...V){t("command",...V)}function N(){}function L(){const V=E(f);V==null||V.focus(),h.value=null}function j(V){h.value=V}function k(V){v.value||(V.preventDefault(),V.stopImmediatePropagation())}function F(){t("visible-change",!0)}function z(V){(V==null?void 0:V.type)==="keydown"&&f.value.focus()}function M(){t("visible-change",!1)}return Sr(R_,{contentRef:f,role:G(()=>e.role),triggerId:O,isUsingKeyboard:v,onItemEnter:N,onItemLeave:L}),Sr("elDropdown",{instance:n,dropdownSize:P,handleClick:_,commandHandler:x,trigger:Do(e,"trigger"),hideOnClick:Do(e,"hideOnClick")}),{t:o,ns:r,scrollbar:d,wrapStyle:m,dropdownTriggerKls:b,dropdownSize:P,triggerId:O,triggerKeys:y,currentTabId:h,handleCurrentTabIdChange:j,handlerMainButtonClick:V=>{t("click",V)},handleEntryFocus:k,handleClose:A,handleOpen:T,handleBeforeShowTooltip:F,handleShowTooltip:z,handleBeforeHideTooltip:M,onFocusAfterTrapped:V=>{var Y,K;V.preventDefault(),(K=(Y=f.value)==null?void 0:Y.focus)==null||K.call(Y,{preventScroll:!0})},popperRef:s,contentRef:f,triggeringElementRef:i,referenceElementRef:a}}});function WAe(e,t,n,r,o,i){var a;const s=_n("el-dropdown-collection"),f=_n("el-roving-focus-group"),d=_n("el-scrollbar"),h=_n("el-only-child"),v=_n("el-tooltip"),y=_n("el-button"),m=_n("arrow-down"),b=_n("el-icon"),S=_n("el-button-group");return H(),le("div",{class:Z([e.ns.b(),e.ns.is("disabled",e.disabled)])},[Te(v,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(a=e.referenceElementRef)==null?void 0:a.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:"",pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},Yf({content:Be(()=>[Te(d,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:Be(()=>[Te(f,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:Be(()=>[Te(s,null,{default:Be(()=>[bt(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:Be(()=>[Te(h,{id:e.triggerId,role:"button",tabindex:e.tabindex},{default:Be(()=>[bt(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(H(),et(S,{key:0},{default:Be(()=>[Te(y,br({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:Be(()=>[bt(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),Te(y,br({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:Be(()=>[Te(b,{class:Z(e.ns.e("icon"))},{default:Be(()=>[Te(m)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):Ye("v-if",!0)],2)}var KAe=zt(GAe,[["render",WAe],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const XAe=St({name:"DropdownItemImpl",components:{ElIcon:En},props:u9,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const n=wt("dropdown"),{role:r}=Cn(R_,void 0),{collectionItemRef:o}=Cn(VAe,void 0),{collectionItemRef:i}=Cn(wAe,void 0),{rovingFocusGroupItemRef:a,tabIndex:s,handleFocus:f,handleKeydown:d,handleMousedown:h}=Cn(l9,void 0),v=E_(o,i,a),y=G(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),m=Io(b=>{const{code:S}=b;if(S===Mn.enter||S===Mn.space)return b.preventDefault(),b.stopImmediatePropagation(),t("clickimpl",b),!0},d);return{ns:n,itemRef:v,dataset:{[a9]:""},role:y,tabIndex:s,handleFocus:f,handleKeydown:m,handleMousedown:h}}}),YAe=["aria-disabled","tabindex","role"];function ZAe(e,t,n,r,o,i){const a=_n("el-icon");return H(),le(wn,null,[e.divided?(H(),le("li",br({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):Ye("v-if",!0),ve("li",br({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:t[0]||(t[0]=s=>e.$emit("clickimpl",s)),onFocus:t[1]||(t[1]=(...s)=>e.handleFocus&&e.handleFocus(...s)),onKeydown:t[2]||(t[2]=(...s)=>e.handleKeydown&&e.handleKeydown(...s)),onMousedown:t[3]||(t[3]=(...s)=>e.handleMousedown&&e.handleMousedown(...s)),onPointermove:t[4]||(t[4]=s=>e.$emit("pointermove",s)),onPointerleave:t[5]||(t[5]=s=>e.$emit("pointerleave",s))}),[e.icon?(H(),et(a,{key:0},{default:Be(()=>[(H(),et(mr(e.icon)))]),_:1})):Ye("v-if",!0),bt(e.$slots,"default")],16,YAe)],64)}var JAe=zt(XAe,[["render",ZAe],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const f9=()=>{const e=Cn("elDropdown",{}),t=G(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:t}},QAe=St({name:"ElDropdownItem",components:{ElDropdownCollectionItem:zAe,ElRovingFocusItem:LAe,ElDropdownItemImpl:JAe},inheritAttrs:!1,props:u9,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:n}){const{elDropdown:r}=f9(),o=cr(),i=re(null),a=G(()=>{var m,b;return(b=(m=E(i))==null?void 0:m.textContent)!=null?b:""}),{onItemEnter:s,onItemLeave:f}=Cn(R_,void 0),d=Io(m=>(t("pointermove",m),m.defaultPrevented),B$(m=>{var b;e.disabled?f(m):(s(m),m.defaultPrevented||(b=m.currentTarget)==null||b.focus())})),h=Io(m=>(t("pointerleave",m),m.defaultPrevented),B$(m=>{f(m)})),v=Io(m=>(t("click",m),m.type!=="keydown"&&m.defaultPrevented),m=>{var b,S,O;if(e.disabled){m.stopImmediatePropagation();return}(b=r==null?void 0:r.hideOnClick)!=null&&b.value&&((S=r.handleClick)==null||S.call(r)),(O=r.commandHandler)==null||O.call(r,e.command,o,m)}),y=G(()=>({...e,...n}));return{handleClick:v,handlePointerMove:d,handlePointerLeave:h,textContent:a,propsAndAttrs:y}}});function qAe(e,t,n,r,o,i){var a;const s=_n("el-dropdown-item-impl"),f=_n("el-roving-focus-item"),d=_n("el-dropdown-collection-item");return H(),et(d,{disabled:e.disabled,"text-value":(a=e.textValue)!=null?a:e.textContent},{default:Be(()=>[Te(f,{focusable:!e.disabled},{default:Be(()=>[Te(s,br(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:Be(()=>[bt(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var d9=zt(QAe,[["render",qAe],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const ePe=St({name:"ElDropdownMenu",props:$Ae,setup(e){const t=wt("dropdown"),{_elDropdownSize:n}=f9(),r=n.value,{focusTrapRef:o,onKeydown:i}=Cn(cN,void 0),{contentRef:a,role:s,triggerId:f}=Cn(R_,void 0),{collectionRef:d,getItems:h}=Cn(UAe,void 0),{rovingFocusGroupRef:v,rovingFocusGroupRootStyle:y,tabIndex:m,onBlur:b,onFocus:S,onMousedown:O}=Cn(bN,void 0),{collectionRef:_}=Cn(gN,void 0),A=G(()=>[t.b("menu"),t.bm("menu",r==null?void 0:r.value)]),T=E_(a,d,o,v,_),P=Io(N=>{var L;(L=e.onKeydown)==null||L.call(e,N)},N=>{const{currentTarget:L,code:j,target:k}=N;if(L.contains(k),Mn.tab===j&&N.stopImmediatePropagation(),N.preventDefault(),k!==E(a)||!jAe.includes(j))return;const z=h().filter(M=>!M.disabled).map(M=>M.ref);c9.includes(j)&&z.reverse(),EN(z)});return{size:r,rovingFocusGroupRootStyle:y,tabIndex:m,dropdownKls:A,role:s,triggerId:f,dropdownListWrapperRef:T,handleKeydown:N=>{P(N),i(N)},onBlur:b,onFocus:S,onMousedown:O}}}),tPe=["role","aria-labelledby"];function nPe(e,t,n,r,o,i){return H(),le("ul",{ref:e.dropdownListWrapperRef,class:Z(e.dropdownKls),style:gn(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:t[0]||(t[0]=(...a)=>e.onBlur&&e.onBlur(...a)),onFocus:t[1]||(t[1]=(...a)=>e.onFocus&&e.onFocus(...a)),onKeydown:t[2]||(t[2]=(...a)=>e.handleKeydown&&e.handleKeydown(...a)),onMousedown:t[3]||(t[3]=(...a)=>e.onMousedown&&e.onMousedown(...a))},[bt(e.$slots,"default")],46,tPe)}var h9=zt(ePe,[["render",nPe],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const rPe=fr(KAe,{DropdownItem:d9,DropdownMenu:h9}),oPe=ko(d9),iPe=ko(h9);let aPe=0;const sPe=St({name:"ImgEmpty",setup(){return{ns:wt("empty"),id:++aPe}}}),lPe={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},uPe=["id"],cPe=["stop-color"],fPe=["stop-color"],dPe=["id"],hPe=["stop-color"],pPe=["stop-color"],vPe=["id"],yPe={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},mPe={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},gPe={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},bPe=["fill"],EPe=["fill"],SPe={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},wPe=["fill"],OPe=["fill"],_Pe=["fill"],TPe=["fill"],CPe=["fill"],APe={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},PPe=["fill","xlink:href"],xPe=["fill","mask"],MPe=["fill"];function NPe(e,t,n,r,o,i){return H(),le("svg",lPe,[ve("defs",null,[ve("linearGradient",{id:`linearGradient-1-${e.id}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[ve("stop",{"stop-color":`var(${e.ns.cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,cPe),ve("stop",{"stop-color":`var(${e.ns.cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,fPe)],8,uPe),ve("linearGradient",{id:`linearGradient-2-${e.id}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[ve("stop",{"stop-color":`var(${e.ns.cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,hPe),ve("stop",{"stop-color":`var(${e.ns.cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,pPe)],8,dPe),ve("rect",{id:`path-3-${e.id}`,x:"0",y:"0",width:"17",height:"36"},null,8,vPe)]),ve("g",yPe,[ve("g",mPe,[ve("g",gPe,[ve("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${e.ns.cssVarBlockName("fill-color-3")})`},null,8,bPe),ve("polygon",{id:"Rectangle-Copy-14",fill:`var(${e.ns.cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,EPe),ve("g",SPe,[ve("polygon",{id:"Rectangle-Copy-10",fill:`var(${e.ns.cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,wPe),ve("polygon",{id:"Rectangle-Copy-11",fill:`var(${e.ns.cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,OPe),ve("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${e.id})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,_Pe),ve("polygon",{id:"Rectangle-Copy-13",fill:`var(${e.ns.cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,TPe)]),ve("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${e.id})`,x:"13",y:"45",width:"40",height:"36"},null,8,CPe),ve("g",APe,[ve("use",{id:"Mask",fill:`var(${e.ns.cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${e.id}`},null,8,PPe),ve("polygon",{id:"Rectangle-Copy",fill:`var(${e.ns.cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${e.id})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,xPe)]),ve("polygon",{id:"Rectangle-Copy-18",fill:`var(${e.ns.cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,MPe)])])])])}var RPe=zt(sPe,[["render",NPe],["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/img-empty.vue"]]);const IPe={image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}},DPe=["src"],kPe={key:1},LPe={name:"ElEmpty"},$Pe=St({...LPe,props:IPe,setup(e){const t=e,{t:n}=Hr(),r=wt("empty"),o=G(()=>t.description||n("el.table.emptyText")),i=G(()=>({width:t.imageSize?`${t.imageSize}px`:""}));return(a,s)=>(H(),le("div",{class:Z(E(r).b())},[ve("div",{class:Z(E(r).e("image")),style:gn(E(i))},[a.image?(H(),le("img",{key:0,src:a.image,ondragstart:"return false"},null,8,DPe)):bt(a.$slots,"image",{key:1},()=>[Te(RPe)])],6),ve("div",{class:Z(E(r).e("description"))},[a.$slots.description?bt(a.$slots,"description",{key:0}):(H(),le("p",kPe,Bt(E(o)),1))],2),a.$slots.default?(H(),le("div",{key:0,class:Z(E(r).e("bottom"))},[bt(a.$slots,"default")],2)):Ye("v-if",!0)],2))}});var BPe=zt($Pe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/empty.vue"]]);const p9=fr(BPe),jPe=Kt({model:Object,rules:{type:ot(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:{type:String,values:Qh},disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean}),FPe={validate:(e,t,n)=>(Sn(e)||Kn(e))&&_i(t)&&Kn(n)};function zPe(){const e=re([]),t=G(()=>{if(!e.value.length)return"0";const i=Math.max(...e.value);return i?`${i}px`:""});function n(i){return e.value.indexOf(i)}function r(i,a){if(i&&a){const s=n(a);e.value.splice(s,1,i)}else i&&e.value.push(i)}function o(i){const a=n(i);a>-1&&e.value.splice(a,1)}return{autoLabelWidth:t,registerLabelWidth:r,deregisterLabelWidth:o}}const GS=(e,t)=>{const n=cy(t);return n.length>0?e.filter(r=>r.prop&&n.includes(r.prop)):e},UPe={name:"ElForm"},VPe=St({...UPe,props:jPe,emits:FPe,setup(e,{expose:t,emit:n}){const r=e,o=[],i=oi(),a=wt("form"),s=G(()=>{const{labelPosition:A,inline:T}=r;return[a.b(),a.m(i.value||"default"),{[a.m(`label-${A}`)]:A,[a.m("inline")]:T}]}),f=A=>{o.push(A)},d=A=>{A.prop&&o.splice(o.indexOf(A),1)},h=(A=[])=>{!r.model||GS(o,A).forEach(T=>T.resetField())},v=(A=[])=>{GS(o,A).forEach(T=>T.clearValidate())},y=G(()=>!!r.model),m=A=>{if(o.length===0)return[];const T=GS(o,A);return T.length?T:[]},b=async A=>O(void 0,A),S=async(A=[])=>{if(!y.value)return!1;const T=m(A);if(T.length===0)return!0;let P={};for(const x of T)try{await x.validate("")}catch(N){P={...P,...N}}return Object.keys(P).length===0?!0:Promise.reject(P)},O=async(A=[],T)=>{const P=!Wn(T);try{const x=await S(A);return x===!0&&(T==null||T(x)),x}catch(x){const N=x;return r.scrollToError&&_(Object.keys(N)[0]),T==null||T(!1,N),P&&Promise.reject(N)}},_=A=>{var T;const P=GS(o,A)[0];P&&((T=P.$el)==null||T.scrollIntoView())};return At(()=>r.rules,()=>{r.validateOnRuleChange&&b().catch(A=>void 0)},{deep:!0}),Sr(ep,Xr({...mi(r),emit:n,resetFields:h,clearValidate:v,validateField:O,addField:f,removeField:d,...zPe()})),t({validate:b,validateField:O,resetFields:h,clearValidate:v,scrollToField:_}),(A,T)=>(H(),le("form",{class:Z(E(s))},[bt(A.$slots,"default")],2))}});var HPe=zt(VPe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wh.apply(this,arguments)}function GPe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,wb(e,t)}function YP(e){return YP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},YP(e)}function wb(e,t){return wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},wb(e,t)}function WPe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bw(e,t,n){return WPe()?Bw=Reflect.construct.bind():Bw=function(o,i,a){var s=[null];s.push.apply(s,i);var f=Function.bind.apply(o,s),d=new f;return a&&wb(d,a.prototype),d},Bw.apply(null,arguments)}function KPe(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function ZP(e){var t=typeof Map=="function"?new Map:void 0;return ZP=function(r){if(r===null||!KPe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return Bw(r,arguments,YP(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),wb(o,r)},ZP(e)}var XPe=/%[sdj%]/g,YPe=function(){};typeof process<"u"&&process.env;function JP(e){if(!e||!e.length)return null;var t={};return e.forEach(function(n){var r=n.field;t[r]=t[r]||[],t[r].push(n)}),t}function qa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i=n.length;if(typeof e=="function")return e.apply(null,n);if(typeof e=="string"){var a=e.replace(XPe,function(s){if(s==="%%")return"%";if(o>=i)return s;switch(s){case"%s":return String(n[o++]);case"%d":return Number(n[o++]);case"%j":try{return JSON.stringify(n[o++])}catch{return"[Circular]"}break;default:return s}});return a}return e}function ZPe(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function Ti(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||ZPe(t)&&typeof e=="string"&&!e)}function JPe(e,t,n){var r=[],o=0,i=e.length;function a(s){r.push.apply(r,s||[]),o++,o===i&&n(r)}e.forEach(function(s){t(s,a)})}function q4(e,t,n){var r=0,o=e.length;function i(a){if(a&&a.length){n(a);return}var s=r;r=r+1,s<o?t(e[s],i):n([])}i([])}function QPe(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,e[n]||[])}),t}var eB=function(e){GPe(t,e);function t(n,r){var o;return o=e.call(this,"Async Validation Error")||this,o.errors=n,o.fields=r,o}return t}(ZP(Error));function qPe(e,t,n,r,o){if(t.first){var i=new Promise(function(y,m){var b=function(_){return r(_),_.length?m(new eB(_,JP(_))):y(o)},S=QPe(e);q4(S,n,b)});return i.catch(function(y){return y}),i}var a=t.firstFields===!0?Object.keys(e):t.firstFields||[],s=Object.keys(e),f=s.length,d=0,h=[],v=new Promise(function(y,m){var b=function(O){if(h.push.apply(h,O),d++,d===f)return r(h),h.length?m(new eB(h,JP(h))):y(o)};s.length||(r(h),y(o)),s.forEach(function(S){var O=e[S];a.indexOf(S)!==-1?q4(O,n,b):JPe(O,n,b)})});return v.catch(function(y){return y}),v}function exe(e){return!!(e&&e.message!==void 0)}function txe(e,t){for(var n=e,r=0;r<t.length;r++){if(n==null)return n;n=n[t[r]]}return n}function tB(e,t){return function(n){var r;return e.fullFields?r=txe(t,e.fullFields):r=t[n.field||e.fullField],exe(n)?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||e.fullField}}}function nB(e,t){if(t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];typeof r=="object"&&typeof e[n]=="object"?e[n]=wh({},e[n],r):e[n]=r}}return e}var v9=function(t,n,r,o,i,a){t.required&&(!r.hasOwnProperty(t.field)||Ti(n,a||t.type))&&o.push(qa(i.messages.required,t.fullField))},nxe=function(t,n,r,o,i){(/^\s+$/.test(n)||n==="")&&o.push(qa(i.messages.whitespace,t.fullField))},WS,rxe=function(){if(WS)return WS;var e="[a-fA-F\\d:]",t=function(P){return P&&P.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",o=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),i=new RegExp("(?:^"+n+"$)|(?:^"+o+"$)"),a=new RegExp("^"+n+"$"),s=new RegExp("^"+o+"$"),f=function(P){return P&&P.exact?i:new RegExp("(?:"+t(P)+n+t(P)+")|(?:"+t(P)+o+t(P)+")","g")};f.v4=function(T){return T&&T.exact?a:new RegExp(""+t(T)+n+t(T),"g")},f.v6=function(T){return T&&T.exact?s:new RegExp(""+t(T)+o+t(T),"g")};var d="(?:(?:[a-z]+:)?//)",h="(?:\\S+(?::\\S*)?@)?",v=f.v4().source,y=f.v6().source,m="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",b="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",S="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",O="(?::\\d{2,5})?",_='(?:[/?#][^\\s"]*)?',A="(?:"+d+"|www\\.)"+h+"(?:localhost|"+v+"|"+y+"|"+m+b+S+")"+O+_;return WS=new RegExp("(?:^"+A+"$)","i"),WS},rB={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Ng={integer:function(t){return Ng.number(t)&&parseInt(t,10)===t},float:function(t){return Ng.number(t)&&!Ng.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!Ng.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(rB.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(rxe())},hex:function(t){return typeof t=="string"&&!!t.match(rB.hex)}},oxe=function(t,n,r,o,i){if(t.required&&n===void 0){v9(t,n,r,o,i);return}var a=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=t.type;a.indexOf(s)>-1?Ng[s](n)||o.push(qa(i.messages.types[s],t.fullField,t.type)):s&&typeof n!==t.type&&o.push(qa(i.messages.types[s],t.fullField,t.type))},ixe=function(t,n,r,o,i){var a=typeof t.len=="number",s=typeof t.min=="number",f=typeof t.max=="number",d=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h=n,v=null,y=typeof n=="number",m=typeof n=="string",b=Array.isArray(n);if(y?v="number":m?v="string":b&&(v="array"),!v)return!1;b&&(h=n.length),m&&(h=n.replace(d,"_").length),a?h!==t.len&&o.push(qa(i.messages[v].len,t.fullField,t.len)):s&&!f&&h<t.min?o.push(qa(i.messages[v].min,t.fullField,t.min)):f&&!s&&h>t.max?o.push(qa(i.messages[v].max,t.fullField,t.max)):s&&f&&(h<t.min||h>t.max)&&o.push(qa(i.messages[v].range,t.fullField,t.min,t.max))},vv="enum",axe=function(t,n,r,o,i){t[vv]=Array.isArray(t[vv])?t[vv]:[],t[vv].indexOf(n)===-1&&o.push(qa(i.messages[vv],t.fullField,t[vv].join(", ")))},sxe=function(t,n,r,o,i){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(n)||o.push(qa(i.messages.pattern.mismatch,t.fullField,n,t.pattern));else if(typeof t.pattern=="string"){var a=new RegExp(t.pattern);a.test(n)||o.push(qa(i.messages.pattern.mismatch,t.fullField,n,t.pattern))}}},no={required:v9,whitespace:nxe,type:oxe,range:ixe,enum:axe,pattern:sxe},lxe=function(t,n,r,o,i){var a=[],s=t.required||!t.required&&o.hasOwnProperty(t.field);if(s){if(Ti(n,"string")&&!t.required)return r();no.required(t,n,o,a,i,"string"),Ti(n,"string")||(no.type(t,n,o,a,i),no.range(t,n,o,a,i),no.pattern(t,n,o,a,i),t.whitespace===!0&&no.whitespace(t,n,o,a,i))}r(a)},uxe=function(t,n,r,o,i){var a=[],s=t.required||!t.required&&o.hasOwnProperty(t.field);if(s){if(Ti(n)&&!t.required)return r();no.required(t,n,o,a,i),n!==void 0&&no.type(t,n,o,a,i)}r(a)},cxe=function(t,n,r,o,i){var a=[],s=t.required||!t.required&&o.hasOwnProperty(t.field);if(s){if(n===""&&(n=void 0),Ti(n)&&!t.required)return r();no.required(t,n,o,a,i),n!==void 0&&(no.type(t,n,o,a,i),no.range(t,n,o,a,i))}r(a)},fxe=function(t,n,r,o,i){var a=[],s=t.required||!t.required&&o.hasOwnProperty(t.field);if(s){if(Ti(n)&&!t.required)return r();no.required(t,n,o,a,i),n!==void 0&&no.type(t,n,o,a,i)}r(a)},dxe=function(t,n,r,o,i){var a=[],s=t.required||!t.required&&o.hasOwnProperty(t.field);if(s){if(Ti(n)&&!t.required)return r();no.required(t,n,o,a,i),Ti(n)||no.type(t,n,o,a,i)}r(a)},hxe=function(t,n,r,o,i){var a=[],s=t.required||!t.required&&o.hasOwnProperty(t.field);if(s){if(Ti(n)&&!t.required)return r();no.required(t,n,o,a,i),n!==void 0&&(no.type(t,n,o,a,i),no.range(t,n,o,a,i))}r(a)},pxe=function(t,n,r,o,i){var a=[],s=t.required||!t.required&&o.hasOwnProperty(t.field);if(s){if(Ti(n)&&!t.required)return r();no.required(t,n,o,a,i),n!==void 0&&(no.type(t,n,o,a,i),no.range(t,n,o,a,i))}r(a)},vxe=function(t,n,r,o,i){var a=[],s=t.required||!t.required&&o.hasOwnProperty(t.field);if(s){if(n==null&&!t.required)return r();no.required(t,n,o,a,i,"array"),n!=null&&(no.type(t,n,o,a,i),no.range(t,n,o,a,i))}r(a)},yxe=function(t,n,r,o,i){var a=[],s=t.required||!t.required&&o.hasOwnProperty(t.field);if(s){if(Ti(n)&&!t.required)return r();no.required(t,n,o,a,i),n!==void 0&&no.type(t,n,o,a,i)}r(a)},mxe="enum",gxe=function(t,n,r,o,i){var a=[],s=t.required||!t.required&&o.hasOwnProperty(t.field);if(s){if(Ti(n)&&!t.required)return r();no.required(t,n,o,a,i),n!==void 0&&no[mxe](t,n,o,a,i)}r(a)},bxe=function(t,n,r,o,i){var a=[],s=t.required||!t.required&&o.hasOwnProperty(t.field);if(s){if(Ti(n,"string")&&!t.required)return r();no.required(t,n,o,a,i),Ti(n,"string")||no.pattern(t,n,o,a,i)}r(a)},Exe=function(t,n,r,o,i){var a=[],s=t.required||!t.required&&o.hasOwnProperty(t.field);if(s){if(Ti(n,"date")&&!t.required)return r();if(no.required(t,n,o,a,i),!Ti(n,"date")){var f;n instanceof Date?f=n:f=new Date(n),no.type(t,f,o,a,i),f&&no.range(t,f.getTime(),o,a,i)}}r(a)},Sxe=function(t,n,r,o,i){var a=[],s=Array.isArray(n)?"array":typeof n;no.required(t,n,o,a,i,s),r(a)},OA=function(t,n,r,o,i){var a=t.type,s=[],f=t.required||!t.required&&o.hasOwnProperty(t.field);if(f){if(Ti(n,a)&&!t.required)return r();no.required(t,n,o,s,i,a),Ti(n,a)||no.type(t,n,o,s,i)}r(s)},wxe=function(t,n,r,o,i){var a=[],s=t.required||!t.required&&o.hasOwnProperty(t.field);if(s){if(Ti(n)&&!t.required)return r();no.required(t,n,o,a,i)}r(a)},Wg={string:lxe,method:uxe,number:cxe,boolean:fxe,regexp:dxe,integer:hxe,float:pxe,array:vxe,object:yxe,enum:gxe,pattern:bxe,date:Exe,url:OA,hex:OA,email:OA,required:Sxe,any:wxe};function QP(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var qP=QP(),Qb=function(){function e(n){this.rules=null,this._messages=qP,this.define(n)}var t=e.prototype;return t.define=function(r){var o=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(i){var a=r[i];o.rules[i]=Array.isArray(a)?a:[a]})},t.messages=function(r){return r&&(this._messages=nB(QP(),r)),this._messages},t.validate=function(r,o,i){var a=this;o===void 0&&(o={}),i===void 0&&(i=function(){});var s=r,f=o,d=i;if(typeof f=="function"&&(d=f,f={}),!this.rules||Object.keys(this.rules).length===0)return d&&d(null,s),Promise.resolve(s);function h(S){var O=[],_={};function A(P){if(Array.isArray(P)){var x;O=(x=O).concat.apply(x,P)}else O.push(P)}for(var T=0;T<S.length;T++)A(S[T]);O.length?(_=JP(O),d(O,_)):d(null,s)}if(f.messages){var v=this.messages();v===qP&&(v=QP()),nB(v,f.messages),f.messages=v}else f.messages=this.messages();var y={},m=f.keys||Object.keys(this.rules);m.forEach(function(S){var O=a.rules[S],_=s[S];O.forEach(function(A){var T=A;typeof T.transform=="function"&&(s===r&&(s=wh({},s)),_=s[S]=T.transform(_)),typeof T=="function"?T={validator:T}:T=wh({},T),T.validator=a.getValidationMethod(T),T.validator&&(T.field=S,T.fullField=T.fullField||S,T.type=a.getType(T),y[S]=y[S]||[],y[S].push({rule:T,value:_,source:s,field:S}))})});var b={};return qPe(y,f,function(S,O){var _=S.rule,A=(_.type==="object"||_.type==="array")&&(typeof _.fields=="object"||typeof _.defaultField=="object");A=A&&(_.required||!_.required&&S.value),_.field=S.field;function T(N,L){return wh({},L,{fullField:_.fullField+"."+N,fullFields:_.fullFields?[].concat(_.fullFields,[N]):[N]})}function P(N){N===void 0&&(N=[]);var L=Array.isArray(N)?N:[N];!f.suppressWarning&&L.length&&e.warning("async-validator:",L),L.length&&_.message!==void 0&&(L=[].concat(_.message));var j=L.map(tB(_,s));if(f.first&&j.length)return b[_.field]=1,O(j);if(!A)O(j);else{if(_.required&&!S.value)return _.message!==void 0?j=[].concat(_.message).map(tB(_,s)):f.error&&(j=[f.error(_,qa(f.messages.required,_.field))]),O(j);var k={};_.defaultField&&Object.keys(S.value).map(function(M){k[M]=_.defaultField}),k=wh({},k,S.rule.fields);var F={};Object.keys(k).forEach(function(M){var D=k[M],B=Array.isArray(D)?D:[D];F[M]=B.map(T.bind(null,M))});var z=new e(F);z.messages(f.messages),S.rule.options&&(S.rule.options.messages=f.messages,S.rule.options.error=f.error),z.validate(S.value,S.rule.options||f,function(M){var D=[];j&&j.length&&D.push.apply(D,j),M&&M.length&&D.push.apply(D,M),O(D.length?D:null)})}}var x;if(_.asyncValidator)x=_.asyncValidator(_,S.value,P,S.source,f);else if(_.validator){try{x=_.validator(_,S.value,P,S.source,f)}catch(N){console.error==null||console.error(N),f.suppressValidatorError||setTimeout(function(){throw N},0),P(N.message)}x===!0?P():x===!1?P(typeof _.message=="function"?_.message(_.fullField||_.field):_.message||(_.fullField||_.field)+" fails"):x instanceof Array?P(x):x instanceof Error&&P(x.message)}x&&x.then&&x.then(function(){return P()},function(N){return P(N)})},function(S){h(S)},s)},t.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Wg.hasOwnProperty(r.type))throw new Error(qa("Unknown rule type %s",r.type));return r.type||"string"},t.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var o=Object.keys(r),i=o.indexOf("message");return i!==-1&&o.splice(i,1),o.length===1&&o[0]==="required"?Wg.required:Wg[this.getType(r)]||void 0},e}();Qb.register=function(t,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");Wg[t]=n};Qb.warning=YPe;Qb.messages=qP;Qb.validators=Wg;const Oxe=["","error","validating","success"],_xe=Kt({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:ot([String,Array])},required:{type:Boolean,default:void 0},rules:{type:ot([Object,Array])},error:String,validateStatus:{type:String,values:Oxe},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:Qh}}),oB="ElLabelWrap";var Txe=St({name:oB,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const n=Cn(ep,void 0);Cn(du)||gi(oB,"usage: <el-form-item><label-wrap /></el-form-item>");const o=wt("form"),i=re(),a=re(0),s=()=>{var h;if((h=i.value)!=null&&h.firstElementChild){const v=window.getComputedStyle(i.value.firstElementChild).width;return Math.ceil(Number.parseFloat(v))}else return 0},f=(h="update")=>{bn(()=>{t.default&&e.isAutoWidth&&(h==="update"?a.value=s():h==="remove"&&(n==null||n.deregisterLabelWidth(a.value)))})},d=()=>f("update");return ir(()=>{d()}),Go(()=>{f("remove")}),gu(()=>d()),At(a,(h,v)=>{e.updateAll&&(n==null||n.registerLabelWidth(h,v))}),oa(G(()=>{var h,v;return(v=(h=i.value)==null?void 0:h.firstElementChild)!=null?v:null}),d),()=>{var h,v;if(!t)return null;const{isAutoWidth:y}=e;if(y){const m=n==null?void 0:n.autoLabelWidth,b={};if(m&&m!=="auto"){const S=Math.max(0,Number.parseInt(m,10)-a.value),O=n.labelPosition==="left"?"marginRight":"marginLeft";S&&(b[O]=`${S}px`)}return Te("div",{ref:i,class:[o.be("item","label-wrap")],style:b},[(h=t.default)==null?void 0:h.call(t)])}else return Te(wn,{ref:i},[(v=t.default)==null?void 0:v.call(t)])}}});const Cxe=["role","aria-labelledby"],Axe={name:"ElFormItem"},Pxe=St({...Axe,props:_xe,setup(e,{expose:t}){const n=e,r=Gi(),o=Cn(ep,void 0),i=Cn(du,void 0),a=oi(void 0,{formItem:!1}),s=wt("form-item"),f=gl().value,d=re([]),h=re(""),v=qpe(h,100),y=re(""),m=re();let b,S=!1;const O=G(()=>{if((o==null?void 0:o.labelPosition)==="top")return{};const Le=yi(n.labelWidth||(o==null?void 0:o.labelWidth)||"");return Le?{width:Le}:{}}),_=G(()=>{if((o==null?void 0:o.labelPosition)==="top"||(o==null?void 0:o.inline))return{};if(!n.label&&!n.labelWidth&&k)return{};const Le=yi(n.labelWidth||(o==null?void 0:o.labelWidth)||"");return!n.label&&!r.label?{marginLeft:Le}:{}}),A=G(()=>[s.b(),s.m(a.value),s.is("error",h.value==="error"),s.is("validating",h.value==="validating"),s.is("success",h.value==="success"),s.is("required",B.value||n.required),s.is("no-asterisk",o==null?void 0:o.hideRequiredAsterisk),(o==null?void 0:o.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[s.m("feedback")]:o==null?void 0:o.statusIcon}]),T=G(()=>_i(n.inlineMessage)?n.inlineMessage:(o==null?void 0:o.inlineMessage)||!1),P=G(()=>[s.e("error"),{[s.em("error","inline")]:T.value}]),x=G(()=>n.prop?Kn(n.prop)?n.prop:n.prop.join("."):""),N=G(()=>!!(n.label||r.label)),L=G(()=>n.for||d.value.length===1?d.value[0]:void 0),j=G(()=>!L.value&&N.value),k=!!i,F=G(()=>{const Le=o==null?void 0:o.model;if(!(!Le||!n.prop))return Tw(Le,n.prop).value}),z=G(()=>{const{required:Le}=n,he=[];n.rules&&he.push(...cy(n.rules));const te=o==null?void 0:o.rules;if(te&&n.prop){const ae=Tw(te,n.prop).value;ae&&he.push(...cy(ae))}if(Le!==void 0){const ae=he.map((Ce,Ze)=>[Ce,Ze]).filter(([Ce])=>Object.keys(Ce).includes("required"));if(ae.length>0)for(const[Ce,Ze]of ae)Ce.required!==Le&&(he[Ze]={...Ce,required:Le});else he.push({required:Le})}return he}),M=G(()=>z.value.length>0),D=Le=>z.value.filter(te=>!te.trigger||!Le?!0:Array.isArray(te.trigger)?te.trigger.includes(Le):te.trigger===Le).map(({trigger:te,...ae})=>ae),B=G(()=>z.value.some(Le=>Le.required)),V=G(()=>{var Le;return v.value==="error"&&n.showMessage&&((Le=o==null?void 0:o.showMessage)!=null?Le:!0)}),Y=G(()=>`${n.label||""}${(o==null?void 0:o.labelSuffix)||""}`),K=Le=>{h.value=Le},X=Le=>{var he,te;const{errors:ae,fields:Ce}=Le;(!ae||!Ce)&&console.error(Le),K("error"),y.value=ae?(te=(he=ae==null?void 0:ae[0])==null?void 0:he.message)!=null?te:`${n.prop} is required`:"",o==null||o.emit("validate",n.prop,!1,y.value)},W=()=>{K("success"),o==null||o.emit("validate",n.prop,!0,"")},ie=async Le=>{const he=x.value;return new Qb({[he]:Le}).validate({[he]:F.value},{firstFields:!0}).then(()=>(W(),!0)).catch(ae=>(X(ae),Promise.reject(ae)))},oe=async(Le,he)=>{if(S)return!1;const te=Wn(he);if(!M.value)return he==null||he(!1),!1;const ae=D(Le);return ae.length===0?(he==null||he(!0),!0):(K("validating"),ie(ae).then(()=>(he==null||he(!0),!0)).catch(Ce=>{const{fields:Ze}=Ce;return he==null||he(!1,Ze),te?!1:Promise.reject(Ze)}))},ee=()=>{K(""),y.value="",S=!1},ue=async()=>{const Le=o==null?void 0:o.model;if(!Le||!n.prop)return;const he=Tw(Le,n.prop);S=!0,he.value=R$(b),await bn(),ee(),S=!1},Ne=Le=>{d.value.includes(Le)||d.value.push(Le)},$e=Le=>{d.value=d.value.filter(he=>he!==Le)};At(()=>n.error,Le=>{y.value=Le||"",K(Le?"error":"")},{immediate:!0}),At(()=>n.validateStatus,Le=>K(Le||""));const Ie=Xr({...mi(n),$el:m,size:a,validateState:h,labelId:f,inputIds:d,isGroup:j,addInputId:Ne,removeInputId:$e,resetField:ue,clearValidate:ee,validate:oe});return Sr(du,Ie),ir(()=>{n.prop&&(o==null||o.addField(Ie),b=R$(F.value))}),Go(()=>{o==null||o.removeField(Ie)}),t({size:a,validateMessage:y,validateState:h,validate:oe,clearValidate:ee,resetField:ue}),(Le,he)=>{var te;return H(),le("div",{ref_key:"formItemRef",ref:m,class:Z(E(A)),role:E(j)?"group":void 0,"aria-labelledby":E(j)?E(f):void 0},[Te(E(Txe),{"is-auto-width":E(O).width==="auto","update-all":((te=E(o))==null?void 0:te.labelWidth)==="auto"},{default:Be(()=>[E(N)?(H(),et(mr(E(L)?"label":"div"),{key:0,id:E(f),for:E(L),class:Z(E(s).e("label")),style:gn(E(O))},{default:Be(()=>[bt(Le.$slots,"label",{label:E(Y)},()=>[$r(Bt(E(Y)),1)])]),_:3},8,["id","for","class","style"])):Ye("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),ve("div",{class:Z(E(s).e("content")),style:gn(E(_))},[bt(Le.$slots,"default"),Te(ti,{name:`${E(s).namespace.value}-zoom-in-top`},{default:Be(()=>[E(V)?bt(Le.$slots,"error",{key:0,error:y.value},()=>[ve("div",{class:Z(E(P))},Bt(y.value),3)]):Ye("v-if",!0)]),_:3},8,["name"])],6)],10,Cxe)}}});var y9=zt(Pxe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const xxe=fr(HPe,{FormItem:y9}),Mxe=ko(y9),Nxe=Kt({urlList:{type:ot(Array),default:()=>_o([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:{type:Boolean,default:!1},teleported:{type:Boolean,default:!1},closeOnPressEscape:{type:Boolean,default:!0}}),Rxe={close:()=>!0,switch:e=>Jn(e)},Ixe=["src"],Dxe={name:"ElImageViewer"},kxe=St({...Dxe,props:Nxe,emits:Rxe,setup(e,{expose:t,emit:n}){const r=e,o={CONTAIN:{name:"contain",icon:Ah(Tme)},ORIGINAL:{name:"original",icon:Ah(Fge)}},i=WM()?"DOMMouseScroll":"mousewheel",{t:a}=Hr(),s=wt("image-viewer"),{nextZIndex:f}=Pc(),d=re(),h=re([]),v=Vae(),y=re(!0),m=re(r.initialIndex),b=bo(o.CONTAIN),S=re({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),O=G(()=>{const{urlList:X}=r;return X.length<=1}),_=G(()=>m.value===0),A=G(()=>m.value===r.urlList.length-1),T=G(()=>r.urlList[m.value]),P=G(()=>{const{scale:X,deg:W,offsetX:ie,offsetY:oe,enableTransition:ee}=S.value;let ue=ie/X,Ne=oe/X;switch(W%360){case 90:case-270:[ue,Ne]=[Ne,-ue];break;case 180:case-180:[ue,Ne]=[-ue,-Ne];break;case 270:case-90:[ue,Ne]=[-Ne,ue];break}const $e={transform:`scale(${X}) rotate(${W}deg) translate(${ue}px, ${Ne}px)`,transition:ee?"transform .3s":""};return b.value.name===o.CONTAIN.name&&($e.maxWidth=$e.maxHeight="100%"),$e}),x=G(()=>Jn(r.zIndex)?r.zIndex:f());function N(){j(),n("close")}function L(){const X=xh(ie=>{switch(ie.code){case Mn.esc:r.closeOnPressEscape&&N();break;case Mn.space:D();break;case Mn.left:V();break;case Mn.up:K("zoomIn");break;case Mn.right:Y();break;case Mn.down:K("zoomOut");break}}),W=xh(ie=>{(ie.wheelDelta?ie.wheelDelta:-ie.detail)>0?K("zoomIn",{zoomRate:1.2,enableTransition:!1}):K("zoomOut",{zoomRate:1.2,enableTransition:!1})});v.run(()=>{Eo(document,"keydown",X),Eo(document,i,W)})}function j(){v.stop()}function k(){y.value=!1}function F(X){y.value=!1,X.target.alt=a("el.image.error")}function z(X){if(y.value||X.button!==0||!d.value)return;S.value.enableTransition=!1;const{offsetX:W,offsetY:ie}=S.value,oe=X.pageX,ee=X.pageY,ue=xh($e=>{S.value={...S.value,offsetX:W+$e.pageX-oe,offsetY:ie+$e.pageY-ee}}),Ne=Eo(document,"mousemove",ue);Eo(document,"mouseup",()=>{Ne()}),X.preventDefault()}function M(){S.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function D(){if(y.value)return;const X=mb(o),W=Object.values(o),ie=b.value.name,ee=(W.findIndex(ue=>ue.name===ie)+1)%X.length;b.value=o[X[ee]],M()}function B(X){const W=r.urlList.length;m.value=(X+W)%W}function V(){_.value&&!r.infinite||B(m.value-1)}function Y(){A.value&&!r.infinite||B(m.value+1)}function K(X,W={}){if(y.value)return;const{zoomRate:ie,rotateDeg:oe,enableTransition:ee}={zoomRate:1.4,rotateDeg:90,enableTransition:!0,...W};switch(X){case"zoomOut":S.value.scale>.2&&(S.value.scale=Number.parseFloat((S.value.scale/ie).toFixed(3)));break;case"zoomIn":S.value.scale<7&&(S.value.scale=Number.parseFloat((S.value.scale*ie).toFixed(3)));break;case"clockwise":S.value.deg+=oe;break;case"anticlockwise":S.value.deg-=oe;break}S.value.enableTransition=ee}return At(T,()=>{bn(()=>{const X=h.value[0];X!=null&&X.complete||(y.value=!0)})}),At(m,X=>{M(),n("switch",X)}),ir(()=>{var X,W;L(),(W=(X=d.value)==null?void 0:X.focus)==null||W.call(X)}),t({setActiveItem:B}),(X,W)=>(H(),et(Vb,{to:"body",disabled:!X.teleported},[Te(ti,{name:"viewer-fade",appear:""},{default:Be(()=>[ve("div",{ref_key:"wrapper",ref:d,tabindex:-1,class:Z(E(s).e("wrapper")),style:gn({zIndex:E(x)})},[ve("div",{class:Z(E(s).e("mask")),onClick:W[0]||(W[0]=Fn(ie=>X.hideOnClickModal&&N(),["self"]))},null,2),Ye(" CLOSE "),ve("span",{class:Z([E(s).e("btn"),E(s).e("close")]),onClick:N},[Te(E(En),null,{default:Be(()=>[Te(E(ml))]),_:1})],2),Ye(" ARROW "),E(O)?Ye("v-if",!0):(H(),le(wn,{key:0},[ve("span",{class:Z([E(s).e("btn"),E(s).e("prev"),E(s).is("disabled",!X.infinite&&E(_))]),onClick:V},[Te(E(En),null,{default:Be(()=>[Te(E(Zf))]),_:1})],2),ve("span",{class:Z([E(s).e("btn"),E(s).e("next"),E(s).is("disabled",!X.infinite&&E(A))]),onClick:Y},[Te(E(En),null,{default:Be(()=>[Te(E(Ea))]),_:1})],2)],64)),Ye(" ACTIONS "),ve("div",{class:Z([E(s).e("btn"),E(s).e("actions")])},[ve("div",{class:Z(E(s).e("actions__inner"))},[Te(E(En),{onClick:W[1]||(W[1]=ie=>K("zoomOut"))},{default:Be(()=>[Te(E(Ube))]),_:1}),Te(E(En),{onClick:W[2]||(W[2]=ie=>K("zoomIn"))},{default:Be(()=>[Te(E(KH))]),_:1}),ve("i",{class:Z(E(s).e("actions__divider"))},null,2),Te(E(En),{onClick:D},{default:Be(()=>[(H(),et(mr(E(b).icon)))]),_:1}),ve("i",{class:Z(E(s).e("actions__divider"))},null,2),Te(E(En),{onClick:W[3]||(W[3]=ie=>K("anticlockwise"))},{default:Be(()=>[Te(E(Pge))]),_:1}),Te(E(En),{onClick:W[4]||(W[4]=ie=>K("clockwise"))},{default:Be(()=>[Te(E(Dge))]),_:1})],2)],2),Ye(" CANVAS "),ve("div",{class:Z(E(s).e("canvas"))},[(H(!0),le(wn,null,_r(X.urlList,(ie,oe)=>Gn((H(),le("img",{ref_for:!0,ref:ee=>h.value[oe]=ee,key:ie,src:ie,style:gn(E(P)),class:Z(E(s).e("img")),onLoad:k,onError:F,onMousedown:z},null,46,Ixe)),[[Lr,oe===m.value]])),128))],2),bt(X.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var Lxe=zt(kxe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const m9=fr(Lxe),$xe=Kt({hideOnClickModal:{type:Boolean,default:!1},src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:{type:Boolean,default:!1},scrollContainer:{type:ot([String,Object])},previewSrcList:{type:ot(Array),default:()=>_o([])},previewTeleported:{type:Boolean,default:!1},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0}}),Bxe={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>Jn(e),close:()=>!0,show:()=>!0},jxe=["src","loading"],Fxe={key:0},zxe={name:"ElImage",inheritAttrs:!1},Uxe=St({...zxe,props:$xe,emits:Bxe,setup(e,{emit:t}){const n=e;let r="";const{t:o}=Hr(),i=wt("image"),a=Gb(),s=YM(),f=re(),d=re(!1),h=re(!0),v=re(!1),y=re(),m=re(),b=Rr&&"loading"in HTMLImageElement.prototype;let S,O;const _=G(()=>a.style),A=G(()=>{const{fit:K}=n;return Rr&&K?{objectFit:K}:{}}),T=G(()=>{const{previewSrcList:K}=n;return Array.isArray(K)&&K.length>0}),P=G(()=>{const{previewSrcList:K,initialIndex:X}=n;let W=X;return X>K.length-1&&(W=0),W}),x=G(()=>n.loading==="eager"?!1:!b&&n.loading==="lazy"||n.lazy),N=()=>{!Rr||(h.value=!0,d.value=!1,f.value=n.src)};function L(K){h.value=!1,d.value=!1,t("load",K)}function j(K){h.value=!1,d.value=!0,t("error",K)}function k(){vve(y.value,m.value)&&(N(),M())}const F=jH(k,200);async function z(){var K;if(!Rr)return;await bn();const{scrollContainer:X}=n;gc(X)?m.value=X:Kn(X)&&X!==""?m.value=(K=document.querySelector(X))!=null?K:void 0:y.value&&(m.value=FM(y.value)),m.value&&(S=Eo(m,"scroll",F),setTimeout(()=>k(),100))}function M(){!Rr||!m.value||!F||(S==null||S(),m.value=void 0)}function D(K){if(!!K.ctrlKey){if(K.deltaY<0)return K.preventDefault(),!1;if(K.deltaY>0)return K.preventDefault(),!1}}function B(){!T.value||(O=Eo("wheel",D,{passive:!1}),r=document.body.style.overflow,document.body.style.overflow="hidden",v.value=!0,t("show"))}function V(){O==null||O(),document.body.style.overflow=r,v.value=!1,t("close")}function Y(K){t("switch",K)}return At(()=>n.src,()=>{x.value?(h.value=!0,d.value=!1,M(),z()):N()}),ir(()=>{x.value?z():N()}),(K,X)=>(H(),le("div",{ref_key:"container",ref:y,class:Z([E(i).b(),K.$attrs.class]),style:gn(E(_))},[f.value!==void 0&&!d.value?(H(),le("img",br({key:0},E(s),{src:f.value,loading:K.loading,style:E(A),class:[E(i).e("inner"),E(T)&&E(i).e("preview"),h.value&&E(i).is("loading")],onClick:B,onLoad:L,onError:j}),null,16,jxe)):Ye("v-if",!0),h.value||d.value?(H(),le("div",{key:1,class:Z(E(i).e("wrapper"))},[h.value?bt(K.$slots,"placeholder",{key:0},()=>[ve("div",{class:Z(E(i).e("placeholder"))},null,2)]):d.value?bt(K.$slots,"error",{key:1},()=>[ve("div",{class:Z(E(i).e("error"))},Bt(E(o)("el.image.error")),3)]):Ye("v-if",!0)],2)):Ye("v-if",!0),E(T)?(H(),le(wn,{key:2},[v.value?(H(),et(E(m9),{key:0,"z-index":K.zIndex,"initial-index":E(P),infinite:K.infinite,"url-list":K.previewSrcList,"hide-on-click-modal":K.hideOnClickModal,teleported:K.previewTeleported,"close-on-press-escape":K.closeOnPressEscape,onClose:V,onSwitch:Y},{default:Be(()=>[K.$slots.viewer?(H(),le("div",Fxe,[bt(K.$slots,"viewer")])):Ye("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):Ye("v-if",!0)],64)):Ye("v-if",!0)],6))}});var Vxe=zt(Uxe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const Hxe=fr(Vxe),Gxe=Kt({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:os,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||Jn(e)||["min","max"].includes(e),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0}}),Wxe={[Po]:(e,t)=>e!==t,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[ks]:e=>Jn(e)||$a(e),[hr]:e=>Jn(e)||$a(e)},Kxe=["aria-label","onKeydown"],Xxe=["aria-label","onKeydown"],Yxe={name:"ElInputNumber"},Zxe=St({...Yxe,props:Gxe,emits:Wxe,setup(e,{expose:t,emit:n}){const r=e,{t:o}=Hr(),i=wt("input-number"),a=re(),s=Xr({currentValue:r.modelValue,userInput:null}),{formItem:f}=as(),d=G(()=>Jn(r.modelValue)&&A(r.modelValue,-1)<r.min),h=G(()=>Jn(r.modelValue)&&A(r.modelValue)>r.max),v=G(()=>{const D=_(r.step);return Vi(r.precision)?Math.max(_(r.modelValue),D):(D>r.precision,r.precision)}),y=G(()=>r.controls&&r.controlsPosition==="right"),m=oi(),b=Ac(),S=G(()=>{if(s.userInput!==null)return s.userInput;let D=s.currentValue;if($a(D))return"";if(Jn(D)){if(Number.isNaN(D))return"";Vi(r.precision)||(D=D.toFixed(r.precision))}return D}),O=(D,B)=>{if(Vi(B)&&(B=v.value),B===0)return Math.round(D);let V=String(D);const Y=V.indexOf(".");if(Y===-1||!V.replace(".","").split("")[Y+B])return D;const W=V.length;return V.charAt(W-1)==="5"&&(V=`${V.slice(0,Math.max(0,W-1))}6`),Number.parseFloat(Number(V).toFixed(B))},_=D=>{if($a(D))return 0;const B=D.toString(),V=B.indexOf(".");let Y=0;return V!==-1&&(Y=B.length-V-1),Y},A=(D,B=1)=>Jn(D)?O(D+r.step*B):s.currentValue,T=()=>{if(r.readonly||b.value||h.value)return;const D=r.modelValue||0,B=A(D);N(B)},P=()=>{if(r.readonly||b.value||d.value)return;const D=r.modelValue||0,B=A(D,-1);N(B)},x=(D,B)=>{const{max:V,min:Y,step:K,precision:X,stepStrictly:W,valueOnClear:ie}=r;let oe=Number(D);if($a(D)||Number.isNaN(oe))return null;if(D===""){if(ie===null)return null;oe=Kn(ie)?{min:Y,max:V}[ie]:ie}return W&&(oe=O(Math.round(oe/K)*K,X)),Vi(X)||(oe=O(oe,X)),(oe>V||oe<Y)&&(oe=oe>V?V:Y,B&&n("update:modelValue",oe)),oe},N=D=>{var B;const V=s.currentValue,Y=x(D);V!==Y&&(s.userInput=null,n("update:modelValue",Y),n("input",Y),n("change",Y,V),r.validateEvent&&((B=f==null?void 0:f.validate)==null||B.call(f,"change").catch(K=>void 0)),s.currentValue=Y)},L=D=>s.userInput=D,j=D=>{const B=D!==""?Number(D):"";(Jn(B)&&!Number.isNaN(B)||D==="")&&N(B),s.userInput=null},k=()=>{var D,B;(B=(D=a.value)==null?void 0:D.focus)==null||B.call(D)},F=()=>{var D,B;(B=(D=a.value)==null?void 0:D.blur)==null||B.call(D)},z=D=>{n("focus",D)},M=D=>{var B;n("blur",D),r.validateEvent&&((B=f==null?void 0:f.validate)==null||B.call(f,"blur").catch(V=>void 0))};return At(()=>r.modelValue,D=>{s.currentValue=x(D,!0),s.userInput=null},{immediate:!0}),ir(()=>{var D;const{min:B,max:V,modelValue:Y}=r,K=(D=a.value)==null?void 0:D.input;if(K.setAttribute("role","spinbutton"),Number.isFinite(V)?K.setAttribute("aria-valuemax",String(V)):K.removeAttribute("aria-valuemax"),Number.isFinite(B)?K.setAttribute("aria-valuemin",String(B)):K.removeAttribute("aria-valuemin"),K.setAttribute("aria-valuenow",String(s.currentValue)),K.setAttribute("aria-disabled",String(b.value)),!Jn(Y)&&Y!=null){let X=Number(Y);Number.isNaN(X)&&(X=null),n("update:modelValue",X)}}),gu(()=>{var D;const B=(D=a.value)==null?void 0:D.input;B==null||B.setAttribute("aria-valuenow",`${s.currentValue}`)}),t({focus:k,blur:F}),(D,B)=>(H(),le("div",{class:Z([E(i).b(),E(i).m(E(m)),E(i).is("disabled",E(b)),E(i).is("without-controls",!D.controls),E(i).is("controls-right",E(y))]),onDragstart:B[0]||(B[0]=Fn(()=>{},["prevent"]))},[D.controls?Gn((H(),le("span",{key:0,role:"button","aria-label":E(o)("el.inputNumber.decrease"),class:Z([E(i).e("decrease"),E(i).is("disabled",E(d))]),onKeydown:kr(P,["enter"])},[Te(E(En),null,{default:Be(()=>[E(y)?(H(),et(E(od),{key:0})):(H(),et(E(Xme),{key:1}))]),_:1})],42,Kxe)),[[E(bO),P]]):Ye("v-if",!0),D.controls?Gn((H(),le("span",{key:1,role:"button","aria-label":E(o)("el.inputNumber.increase"),class:Z([E(i).e("increase"),E(i).is("disabled",E(h))]),onKeydown:kr(T,["enter"])},[Te(E(En),null,{default:Be(()=>[E(y)?(H(),et(E(g_),{key:0})):(H(),et(E(GH),{key:1}))]),_:1})],42,Xxe)),[[E(bO),T]]):Ye("v-if",!0),Te(E(na),{id:D.id,ref_key:"input",ref:a,type:"number",step:D.step,"model-value":E(S),placeholder:D.placeholder,readonly:D.readonly,disabled:E(b),size:E(m),max:D.max,min:D.min,name:D.name,label:D.label,"validate-event":!1,onKeydown:[kr(Fn(T,["prevent"]),["up"]),kr(Fn(P,["prevent"]),["down"])],onBlur:M,onFocus:z,onInput:L,onChange:j},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var Jxe=zt(Zxe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const g9=fr(Jxe),Qxe=Kt({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},icon:{type:po}}),qxe={click:e=>e instanceof MouseEvent},eMe=["href"],tMe={name:"ElLink"},nMe=St({...tMe,props:Qxe,emits:qxe,setup(e,{emit:t}){const n=e,r=wt("link");function o(i){n.disabled||t("click",i)}return(i,a)=>(H(),le("a",{class:Z([E(r).b(),E(r).m(i.type),E(r).is("disabled",i.disabled),E(r).is("underline",i.underline&&!i.disabled)]),href:i.disabled||!i.href?void 0:i.href,onClick:o},[i.icon?(H(),et(E(En),{key:0},{default:Be(()=>[(H(),et(mr(i.icon)))]),_:1})):Ye("v-if",!0),i.$slots.default?(H(),le("span",{key:1,class:Z(E(r).e("inner"))},[bt(i.$slots,"default")],2)):Ye("v-if",!0),i.$slots.icon?bt(i.$slots,"icon",{key:2}):Ye("v-if",!0)],10,eMe))}});var rMe=zt(nMe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/link/src/link.vue"]]);const oMe=fr(rMe);class iMe{constructor(t,n){this.parent=t,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(t){t===this.subMenuItems.length?t=0:t<0&&(t=this.subMenuItems.length-1),this.subMenuItems[t].focus(),this.subIndex=t}addListeners(){const t=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",r=>{let o=!1;switch(r.code){case Mn.down:{this.gotoSubIndex(this.subIndex+1),o=!0;break}case Mn.up:{this.gotoSubIndex(this.subIndex-1),o=!0;break}case Mn.tab:{Ow(t,"mouseleave");break}case Mn.enter:case Mn.space:{o=!0,r.currentTarget.click();break}}return o&&(r.preventDefault(),r.stopPropagation()),!1})})}}class aMe{constructor(t,n){this.domNode=t,this.submenu=null,this.submenu=null,this.init(n)}init(t){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${t}-menu`);n&&(this.submenu=new iMe(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",t=>{let n=!1;switch(t.code){case Mn.down:{Ow(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case Mn.up:{Ow(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case Mn.tab:{Ow(t.currentTarget,"mouseleave");break}case Mn.enter:case Mn.space:{n=!0,t.currentTarget.click();break}}n&&t.preventDefault()})}}class sMe{constructor(t,n){this.domNode=t,this.init(n)}init(t){const n=this.domNode.childNodes;Array.from(n).forEach(r=>{r.nodeType===1&&new aMe(r,t)})}}const lMe=St({name:"ElMenuCollapseTransition",setup(){const e=wt("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,r){su(n,`${e.namespace.value}-opacity-transition`),n.style.opacity="1",r()},onAfterEnter(n){Ba(n,`${e.namespace.value}-opacity-transition`),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),pl(n,e.m("collapse"))?(Ba(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),su(n,e.m("collapse"))):(su(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),Ba(n,e.m("collapse"))),n.style.width=`${n.scrollWidth}px`,n.style.overflow="hidden"},onLeave(n){su(n,"horizontal-collapse-transition"),n.style.width=`${n.dataset.scrollWidth}px`}}}}});function uMe(e,t,n,r,o,i){return H(),et(ti,br({mode:"out-in"},e.listeners),{default:Be(()=>[bt(e.$slots,"default")]),_:3},16)}var cMe=zt(lMe,[["render",uMe],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function b9(e,t){const n=G(()=>{let o=e.parent;const i=[t.value];for(;o.type.name!=="ElMenu";)o.props.index&&i.unshift(o.props.index),o=o.parent;return i});return{parentMenu:G(()=>{let o=e.parent;for(;o&&!["ElMenu","ElSubMenu"].includes(o.type.name);)o=o.parent;return o}),indexPath:n}}function fMe(e){return G(()=>{const n=e.backgroundColor;return n?new QG(n).shade(20).toString():""})}const E9=(e,t)=>{const n=wt("menu");return G(()=>n.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":fMe(e).value||"","active-color":e.activeTextColor||"",level:`${t}`}))},dMe=Kt({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6},expandCloseIcon:{type:po},expandOpenIcon:{type:po},collapseCloseIcon:{type:po},collapseOpenIcon:{type:po}}),_A="ElSubMenu";var SN=St({name:_A,props:dMe,setup(e,{slots:t,expose:n}){const r=cr(),{indexPath:o,parentMenu:i}=b9(r,G(()=>e.index)),a=wt("menu"),s=wt("sub-menu"),f=Cn("rootMenu");f||gi(_A,"can not inject root menu");const d=Cn(`subMenu:${i.value.uid}`);d||gi(_A,"can not inject sub menu");const h=re({}),v=re({});let y;const m=re(!1),b=re(),S=re(null),O=G(()=>z.value==="horizontal"&&A.value?"bottom-start":"right-start"),_=G(()=>z.value==="horizontal"&&A.value||z.value==="vertical"&&!f.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?N.value?e.expandOpenIcon:e.expandCloseIcon:od:e.collapseCloseIcon&&e.collapseOpenIcon?N.value?e.collapseOpenIcon:e.collapseCloseIcon:Ea),A=G(()=>d.level===0),T=G(()=>e.popperAppendToBody===void 0?A.value:Boolean(e.popperAppendToBody)),P=G(()=>f.props.collapse?`${a.namespace.value}-zoom-in-left`:`${a.namespace.value}-zoom-in-top`),x=G(()=>z.value==="horizontal"&&A.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","left-start","bottom-start","bottom-end","top-start","top-end"]),N=G(()=>f.openedMenus.includes(e.index)),L=G(()=>{let W=!1;return Object.values(h.value).forEach(ie=>{ie.active&&(W=!0)}),Object.values(v.value).forEach(ie=>{ie.active&&(W=!0)}),W}),j=G(()=>f.props.backgroundColor||""),k=G(()=>f.props.activeTextColor||""),F=G(()=>f.props.textColor||""),z=G(()=>f.props.mode),M=Xr({index:e.index,indexPath:o,active:L}),D=G(()=>z.value!=="horizontal"?{color:F.value}:{borderBottomColor:L.value?f.props.activeTextColor?k.value:"":"transparent",color:L.value?k.value:F.value}),B=()=>{var W,ie,oe;return(oe=(ie=(W=S.value)==null?void 0:W.popperRef)==null?void 0:ie.popperInstanceRef)==null?void 0:oe.destroy()},V=W=>{W||B()},Y=()=>{f.props.menuTrigger==="hover"&&f.props.mode==="horizontal"||f.props.collapse&&f.props.mode==="vertical"||e.disabled||f.handleSubMenuClick({index:e.index,indexPath:o.value,active:L.value})},K=(W,ie=e.showTimeout)=>{var oe;W.type!=="focus"&&(f.props.menuTrigger==="click"&&f.props.mode==="horizontal"||!f.props.collapse&&f.props.mode==="vertical"||e.disabled||(d.mouseInChild.value=!0,y==null||y(),{stop:y}=$h(()=>{f.openMenu(e.index,o.value)},ie),T.value&&((oe=i.value.vnode.el)==null||oe.dispatchEvent(new MouseEvent("mouseenter")))))},X=(W=!1)=>{var ie,oe;f.props.menuTrigger==="click"&&f.props.mode==="horizontal"||!f.props.collapse&&f.props.mode==="vertical"||(y==null||y(),d.mouseInChild.value=!1,{stop:y}=$h(()=>!m.value&&f.closeMenu(e.index,o.value),e.hideTimeout),T.value&&W&&((ie=r.parent)==null?void 0:ie.type.name)==="ElSubMenu"&&((oe=d.handleMouseleave)==null||oe.call(d,!0)))};At(()=>f.props.collapse,W=>V(Boolean(W)));{const W=oe=>{v.value[oe.index]=oe},ie=oe=>{delete v.value[oe.index]};Sr(`subMenu:${r.uid}`,{addSubMenu:W,removeSubMenu:ie,handleMouseleave:X,mouseInChild:m,level:d.level+1})}return n({opened:N}),ir(()=>{f.addSubMenu(M),d.addSubMenu(M)}),Go(()=>{d.removeSubMenu(M),f.removeSubMenu(M)}),()=>{var W;const ie=[(W=t.title)==null?void 0:W.call(t),Pn(En,{class:s.e("icon-arrow"),style:{transform:N.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&f.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>Kn(_.value)?Pn(r.appContext.components[_.value]):Pn(_.value)})],oe=E9(f.props,d.level+1),ee=f.isMenuPopup?Pn(Ua,{ref:S,visible:N.value,effect:"light",pure:!0,offset:e.popperOffset,showArrow:!1,persistent:!0,popperClass:e.popperClass,placement:O.value,teleported:T.value,fallbackPlacements:x.value,transition:P.value,gpuAcceleration:!1},{content:()=>{var ue;return Pn("div",{class:[a.m(z.value),a.m("popup-container"),e.popperClass],onMouseenter:Ne=>K(Ne,100),onMouseleave:()=>X(!0),onFocus:Ne=>K(Ne,100)},[Pn("ul",{class:[a.b(),a.m("popup"),a.m(`popup-${O.value}`)],style:oe.value},[(ue=t.default)==null?void 0:ue.call(t)])])},default:()=>Pn("div",{class:s.e("title"),style:[D.value,{backgroundColor:j.value}],onClick:Y},ie)}):Pn(wn,{},[Pn("div",{class:s.e("title"),style:[D.value,{backgroundColor:j.value}],ref:b,onClick:Y},ie),Pn(N_,{},{default:()=>{var ue;return Gn(Pn("ul",{role:"menu",class:[a.b(),a.m("inline")],style:oe.value},[(ue=t.default)==null?void 0:ue.call(t)]),[[Lr,N.value]])}})]);return Pn("li",{class:[s.b(),s.is("active",L.value),s.is("opened",N.value),s.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:N.value,onMouseenter:K,onMouseleave:()=>X(!0),onFocus:K},[ee])}}});const hMe=Kt({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:ot(Array),default:()=>_o([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0}}),TA=e=>Array.isArray(e)&&e.every(t=>Kn(t)),pMe={close:(e,t)=>Kn(e)&&TA(t),open:(e,t)=>Kn(e)&&TA(t),select:(e,t,n,r)=>Kn(e)&&TA(t)&&Er(n)&&(r===void 0||r instanceof Promise)};var vMe=St({name:"ElMenu",props:hMe,emits:pMe,setup(e,{emit:t,slots:n,expose:r}){const o=cr(),i=o.appContext.config.globalProperties.$router,a=re(),s=wt("menu"),f=wt("sub-menu"),d=re(-1),h=re(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),v=re(e.defaultActive),y=re({}),m=re({}),b=G(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),S=()=>{const F=v.value&&y.value[v.value];if(!F||e.mode==="horizontal"||e.collapse)return;F.indexPath.forEach(M=>{const D=m.value[M];D&&O(M,D.indexPath)})},O=(F,z)=>{h.value.includes(F)||(e.uniqueOpened&&(h.value=h.value.filter(M=>z.includes(M))),h.value.push(F),t("open",F,z))},_=(F,z)=>{const M=h.value.indexOf(F);M!==-1&&h.value.splice(M,1),t("close",F,z)},A=({index:F,indexPath:z})=>{h.value.includes(F)?_(F,z):O(F,z)},T=F=>{(e.mode==="horizontal"||e.collapse)&&(h.value=[]);const{index:z,indexPath:M}=F;if(!(z===void 0||M===void 0))if(e.router&&i){const D=F.route||z,B=i.push(D).then(V=>(V||(v.value=z),V));t("select",z,M,{index:z,indexPath:M,route:D},B)}else v.value=z,t("select",z,M,{index:z,indexPath:M})},P=F=>{const z=y.value,M=z[F]||v.value&&z[v.value]||z[e.defaultActive];M?v.value=M.index:v.value=F},x=()=>{var F,z;if(!a.value)return-1;const M=Array.from((z=(F=a.value)==null?void 0:F.childNodes)!=null?z:[]).filter(W=>W.nodeName!=="#text"||W.nodeValue),D=64,B=Number.parseInt(getComputedStyle(a.value).paddingLeft,10),V=Number.parseInt(getComputedStyle(a.value).paddingRight,10),Y=a.value.clientWidth-B-V;let K=0,X=0;return M.forEach((W,ie)=>{K+=W.offsetWidth||0,K<=Y-D&&(X=ie+1)}),X===M.length?-1:X},N=(F,z=33.34)=>{let M;return()=>{M&&clearTimeout(M),M=setTimeout(()=>{F()},z)}};let L=!0;const j=()=>{const F=()=>{d.value=-1,bn(()=>{d.value=x()})};L?F():N(F)(),L=!1};At(()=>e.defaultActive,F=>{y.value[F]||(v.value=""),P(F)}),At(()=>e.collapse,F=>{F&&(h.value=[])}),At(y.value,S);let k;ns(()=>{e.mode==="horizontal"&&e.ellipsis?k=oa(a,j).stop:k==null||k()});{const F=B=>{m.value[B.index]=B},z=B=>{delete m.value[B.index]};Sr("rootMenu",Xr({props:e,openedMenus:h,items:y,subMenus:m,activeIndex:v,isMenuPopup:b,addMenuItem:B=>{y.value[B.index]=B},removeMenuItem:B=>{delete y.value[B.index]},addSubMenu:F,removeSubMenu:z,openMenu:O,closeMenu:_,handleMenuItemClick:T,handleSubMenuClick:A})),Sr(`subMenu:${o.uid}`,{addSubMenu:F,removeSubMenu:z,mouseInChild:re(!1),level:0})}return ir(()=>{e.mode==="horizontal"&&new sMe(o.vnode.el,s.namespace.value)}),r({open:z=>{const{indexPath:M}=m.value[z];M.forEach(D=>O(D,M))},close:_,handleResize:j}),()=>{var F,z;let M=(z=(F=n.default)==null?void 0:F.call(n))!=null?z:[];const D=[];if(e.mode==="horizontal"&&a.value){const Y=GM(M),K=d.value===-1?Y:Y.slice(0,d.value),X=d.value===-1?[]:Y.slice(d.value);(X==null?void 0:X.length)&&e.ellipsis&&(M=K,D.push(Pn(SN,{index:"sub-menu-more",class:f.e("hide-arrow")},{title:()=>Pn(En,{class:f.e("icon-more")},{default:()=>Pn(ige)}),default:()=>X})))}const B=E9(e,0),V=Pn("ul",{key:String(e.collapse),role:"menubar",ref:a,style:B.value,class:{[s.b()]:!0,[s.m(e.mode)]:!0,[s.m("collapse")]:e.collapse}},[...M,...D]);return e.collapseTransition&&e.mode==="vertical"?Pn(cMe,()=>V):V}}});const yMe=Kt({index:{type:ot([String,null]),default:null},route:{type:ot([String,Object])},disabled:Boolean}),mMe={click:e=>Kn(e.index)&&Array.isArray(e.indexPath)},CA="ElMenuItem",gMe=St({name:CA,components:{ElTooltip:Ua},props:yMe,emits:mMe,setup(e,{emit:t}){const n=cr(),r=Cn("rootMenu"),o=wt("menu"),i=wt("menu-item");r||gi(CA,"can not inject root menu");const{parentMenu:a,indexPath:s}=b9(n,Do(e,"index")),f=Cn(`subMenu:${a.value.uid}`);f||gi(CA,"can not inject sub menu");const d=G(()=>e.index===r.activeIndex),h=Xr({index:e.index,indexPath:s,active:d}),v=()=>{e.disabled||(r.handleMenuItemClick({index:e.index,indexPath:s.value,route:e.route}),t("click",h))};return ir(()=>{f.addSubMenu(h),r.addMenuItem(h)}),Go(()=>{f.removeSubMenu(h),r.removeMenuItem(h)}),{Effect:BEe,parentMenu:a,rootMenu:r,active:d,nsMenu:o,nsMenuItem:i,handleClick:v}}});function bMe(e,t,n,r,o,i){const a=_n("el-tooltip");return H(),le("li",{class:Z([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:t[0]||(t[0]=(...s)=>e.handleClick&&e.handleClick(...s))},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(H(),et(a,{key:0,effect:e.Effect.DARK,placement:"right","fallback-placements":["left"],persistent:""},{content:Be(()=>[bt(e.$slots,"title")]),default:Be(()=>[ve("div",{class:Z(e.nsMenu.be("tooltip","trigger"))},[bt(e.$slots,"default")],2)]),_:3},8,["effect"])):(H(),le(wn,{key:1},[bt(e.$slots,"default"),bt(e.$slots,"title")],64))],2)}var S9=zt(gMe,[["render",bMe],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const EMe={title:String},SMe="ElMenuItemGroup",wMe=St({name:SMe,props:EMe,setup(){return{ns:wt("menu-item-group")}}});function OMe(e,t,n,r,o,i){return H(),le("li",{class:Z(e.ns.b())},[ve("div",{class:Z(e.ns.e("title"))},[e.$slots.title?bt(e.$slots,"title",{key:1}):(H(),le(wn,{key:0},[$r(Bt(e.title),1)],64))],2),ve("ul",null,[bt(e.$slots,"default")])],2)}var w9=zt(wMe,[["render",OMe],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const _Me=fr(vMe,{MenuItem:S9,MenuItemGroup:w9,SubMenu:SN}),TMe=ko(S9),CMe=ko(w9);ko(SN);const AMe=Kt({icon:{type:po,default:()=>Xve},title:String,content:{type:String,default:""}}),PMe={back:()=>!0},xMe=["aria-label"],MMe={name:"ElPageHeader"},NMe=St({...MMe,props:AMe,emits:PMe,setup(e,{emit:t}){const n=Gi(),{t:r}=Hr(),o=wt("page-header"),i=G(()=>[o.b(),{[o.m("has-breadcrumb")]:!!n.breadcrumb,[o.m("has-extra")]:!!n.extra,[o.is("contentful")]:!!n.default}]);function a(){t("back")}return(s,f)=>(H(),le("div",{class:Z(E(i))},[ve("div",{class:Z(E(o).e("breadcrumb"))},[bt(s.$slots,"breadcrumb")],2),ve("div",{class:Z(E(o).e("header"))},[ve("div",{class:Z(E(o).e("left"))},[ve("div",{class:Z(E(o).e("back")),role:"button",tabindex:"0",onClick:a},[s.icon||s.$slots.icon?(H(),le("div",{key:0,"aria-label":s.title||E(r)("el.pageHeader.title"),class:Z(E(o).e("icon"))},[bt(s.$slots,"icon",{},()=>[s.icon?(H(),et(E(En),{key:0},{default:Be(()=>[(H(),et(mr(s.icon)))]),_:1})):Ye("v-if",!0)])],10,xMe)):Ye("v-if",!0),ve("div",{class:Z(E(o).e("title"))},[bt(s.$slots,"title",{},()=>[$r(Bt(s.title||E(r)("el.pageHeader.title")),1)])],2)],2),Te(E(i9),{direction:"vertical"}),ve("div",{class:Z(E(o).e("content"))},[bt(s.$slots,"content",{},()=>[$r(Bt(s.content),1)])],2)],2),s.$slots.extra?(H(),le("div",{key:0,class:Z(E(o).e("extra"))},[bt(s.$slots,"extra")],2)):Ye("v-if",!0)],2),s.$slots.default?(H(),le("div",{key:0,class:Z(E(o).e("main"))},[bt(s.$slots,"default")],2)):Ye("v-if",!0)],2))}});var RMe=zt(NMe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/page-header/src/page-header.vue"]]);const IMe=fr(RMe),DMe=Kt({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:po}}),kMe={click:e=>e instanceof MouseEvent},LMe=["disabled","aria-disabled"],$Me={key:0},BMe={name:"ElPaginationPrev"},jMe=St({...BMe,props:DMe,emits:kMe,setup(e){const t=e,n=G(()=>t.disabled||t.currentPage<=1);return(r,o)=>(H(),le("button",{type:"button",class:"btn-prev",disabled:E(n),"aria-disabled":E(n),onClick:o[0]||(o[0]=i=>r.$emit("click",i))},[r.prevText?(H(),le("span",$Me,Bt(r.prevText),1)):(H(),et(E(En),{key:1},{default:Be(()=>[(H(),et(mr(r.prevIcon)))]),_:1}))],8,LMe))}});var FMe=zt(jMe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const zMe=Kt({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:po}}),UMe=["disabled","aria-disabled"],VMe={key:0},HMe={name:"ElPaginationNext"},GMe=St({...HMe,props:zMe,emits:["click"],setup(e){const t=e,n=G(()=>t.disabled||t.currentPage===t.pageCount||t.pageCount===0);return(r,o)=>(H(),le("button",{type:"button",class:"btn-next",disabled:E(n),"aria-disabled":E(n),onClick:o[0]||(o[0]=i=>r.$emit("click",i))},[r.nextText?(H(),le("span",VMe,Bt(r.nextText),1)):(H(),et(E(En),{key:1},{default:Be(()=>[(H(),et(mr(r.nextIcon)))]),_:1}))],8,UMe))}});var WMe=zt(GMe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]);const O9="ElSelectGroup",I_="ElSelect";function KMe(e,t){const n=Cn(I_),r=Cn(O9,{disabled:!1}),o=G(()=>Object.prototype.toString.call(e.value).toLowerCase()==="[object object]"),i=G(()=>n.props.multiple?v(n.props.modelValue,e.value):y(e.value,n.props.modelValue)),a=G(()=>{if(n.props.multiple){const S=n.props.modelValue||[];return!i.value&&S.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),s=G(()=>e.label||(o.value?"":e.value)),f=G(()=>e.value||e.label||""),d=G(()=>e.disabled||t.groupDisabled||a.value),h=cr(),v=(S=[],O)=>{if(o.value){const _=n.props.valueKey;return S&&S.some(A=>Zr(Ao(A,_))===Ao(O,_))}else return S&&S.includes(O)},y=(S,O)=>{if(o.value){const{valueKey:_}=n.props;return Ao(S,_)===Ao(O,_)}else return S===O},m=()=>{!e.disabled&&!r.disabled&&(n.hoverIndex=n.optionsArray.indexOf(h.proxy))};At(()=>s.value,()=>{!e.created&&!n.props.remote&&n.setSelected()}),At(()=>e.value,(S,O)=>{const{remote:_,valueKey:A}=n.props;if(Object.is(S,O)||(n.onOptionDestroy(O,h.proxy),n.onOptionCreate(h.proxy)),!e.created&&!_){if(A&&typeof S=="object"&&typeof O=="object"&&S[A]===O[A])return;n.setSelected()}}),At(()=>r.disabled,()=>{t.groupDisabled=r.disabled},{immediate:!0});const{queryChange:b}=Zr(n);return At(b,S=>{const{query:O}=E(S),_=new RegExp(gve(O),"i");t.visible=_.test(s.value)||e.created,t.visible||n.filteredOptionsCount--}),{select:n,currentLabel:s,currentValue:f,itemSelected:i,isDisabled:d,hoverItem:m}}const XMe=St({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(e){const t=wt("select"),n=Xr({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:r,itemSelected:o,isDisabled:i,select:a,hoverItem:s}=KMe(e,n),{visible:f,hover:d}=mi(n),h=cr().proxy;a.onOptionCreate(h),Go(()=>{const y=h.value,{selected:m}=a,S=(a.props.multiple?m:[m]).some(O=>O.value===h.value);bn(()=>{a.cachedOptions.get(y)===h&&!S&&a.cachedOptions.delete(y)}),a.onOptionDestroy(y,h)});function v(){e.disabled!==!0&&n.groupDisabled!==!0&&a.handleOptionSelect(h,!0)}return{ns:t,currentLabel:r,itemSelected:o,isDisabled:i,select:a,hoverItem:s,visible:f,hover:d,selectOptionClick:v,states:n}}});function YMe(e,t,n,r,o,i){return Gn((H(),le("li",{class:Z([e.ns.be("dropdown","item"),e.ns.is("disabled",e.isDisabled),{selected:e.itemSelected,hover:e.hover}]),onMouseenter:t[0]||(t[0]=(...a)=>e.hoverItem&&e.hoverItem(...a)),onClick:t[1]||(t[1]=Fn((...a)=>e.selectOptionClick&&e.selectOptionClick(...a),["stop"]))},[bt(e.$slots,"default",{},()=>[ve("span",null,Bt(e.currentLabel),1)])],34)),[[Lr,e.visible]])}var wN=zt(XMe,[["render",YMe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const ZMe=St({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=Cn(I_),t=wt("select"),n=G(()=>e.props.popperClass),r=G(()=>e.props.multiple),o=G(()=>e.props.fitInputWidth),i=re("");function a(){var s;i.value=`${(s=e.selectWrapper)==null?void 0:s.offsetWidth}px`}return ir(()=>{a(),oa(e.selectWrapper,a)}),{ns:t,minWidth:i,popperClass:n,isMultiple:r,isFitInputWidth:o}}});function JMe(e,t,n,r,o,i){return H(),le("div",{class:Z([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:gn({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[bt(e.$slots,"default")],6)}var QMe=zt(ZMe,[["render",JMe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function qMe(e){const{t}=Hr();return Xr({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:t("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1,prefixWidth:11,tagInMultiLine:!1})}const eNe=(e,t,n)=>{const{t:r}=Hr(),o=wt("select"),i=re(null),a=re(null),s=re(null),f=re(null),d=re(null),h=re(null),v=re(-1),y=bo({query:""}),m=bo(""),{form:b,formItem:S}=as(),O=G(()=>!e.filterable||e.multiple||!t.visible),_=G(()=>e.disabled||(b==null?void 0:b.disabled)),A=G(()=>{const Se=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:e.modelValue!==void 0&&e.modelValue!==null&&e.modelValue!=="";return e.clearable&&!_.value&&t.inputHovering&&Se}),T=G(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),P=G(()=>o.is("reverse",T.value&&t.visible&&e.suffixTransition)),x=G(()=>e.remote?300:0),N=G(()=>e.loading?e.loadingText||r("el.select.loading"):e.remote&&t.query===""&&t.options.size===0?!1:e.filterable&&t.query&&t.options.size>0&&t.filteredOptionsCount===0?e.noMatchText||r("el.select.noMatch"):t.options.size===0?e.noDataText||r("el.select.noData"):null),L=G(()=>Array.from(t.options.values())),j=G(()=>Array.from(t.cachedOptions.values())),k=G(()=>{const Se=L.value.filter(tt=>!tt.created).some(tt=>tt.currentLabel===t.query);return e.filterable&&e.allowCreate&&t.query!==""&&!Se}),F=oi(),z=G(()=>["small"].includes(F.value)?"small":"default"),M=G({get(){return t.visible&&N.value!==!1},set(Se){t.visible=Se}});At([()=>_.value,()=>F.value,()=>b==null?void 0:b.size],()=>{bn(()=>{D()})}),At(()=>e.placeholder,Se=>{t.cachedPlaceHolder=t.currentPlaceholder=Se}),At(()=>e.modelValue,(Se,tt)=>{e.multiple&&(D(),Se&&Se.length>0||a.value&&t.query!==""?t.currentPlaceholder="":t.currentPlaceholder=t.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(t.query="",B(t.query))),K(),e.filterable&&!e.multiple&&(t.inputLength=20),!Ns(Se,tt)&&e.validateEvent&&(S==null||S.validate("change").catch(we=>void 0))},{flush:"post",deep:!0}),At(()=>t.visible,Se=>{var tt,we,ht;Se?((we=(tt=s.value)==null?void 0:tt.updatePopper)==null||we.call(tt),e.filterable&&(t.filteredOptionsCount=t.optionsCount,t.query=e.remote?"":t.selectedLabel,e.multiple?(ht=a.value)==null||ht.focus():t.selectedLabel&&(t.currentPlaceholder=`${t.selectedLabel}`,t.selectedLabel=""),B(t.query),!e.multiple&&!e.remote&&(y.value.query="",tg(y),tg(m)))):(a.value&&a.value.blur(),t.query="",t.previousQuery=null,t.selectedLabel="",t.inputLength=20,t.menuVisibleOnFocus=!1,W(),bn(()=>{a.value&&a.value.value===""&&t.selected.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)}),e.multiple||(t.selected&&(e.filterable&&e.allowCreate&&t.createdSelected&&t.createdLabel?t.selectedLabel=t.createdLabel:t.selectedLabel=t.selected.currentLabel,e.filterable&&(t.query=t.selectedLabel)),e.filterable&&(t.currentPlaceholder=t.cachedPlaceHolder))),n.emit("visible-change",Se)}),At(()=>t.options.entries(),()=>{var Se,tt,we;if(!Rr)return;(tt=(Se=s.value)==null?void 0:Se.updatePopper)==null||tt.call(Se),e.multiple&&D();const ht=((we=d.value)==null?void 0:we.querySelectorAll("input"))||[];Array.from(ht).includes(document.activeElement)||K(),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&Y()},{flush:"post"}),At(()=>t.hoverIndex,Se=>{typeof Se=="number"&&Se>-1?v.value=L.value[Se]||{}:v.value={},L.value.forEach(tt=>{tt.hover=v.value===tt})});const D=()=>{e.collapseTags&&!e.filterable||bn(()=>{var Se,tt;if(!i.value)return;const we=i.value.$el.querySelector("input"),ht=f.value,yt=Kbe(F.value||(b==null?void 0:b.size));we.style.height=`${(t.selected.length===0?yt:Math.max(ht?ht.clientHeight+(ht.clientHeight>yt?6:0):0,yt))-2}px`,t.tagInMultiLine=Number.parseFloat(we.style.height)>=yt,t.visible&&N.value!==!1&&((tt=(Se=s.value)==null?void 0:Se.updatePopper)==null||tt.call(Se))})},B=async Se=>{if(!(t.previousQuery===Se||t.isOnComposition)){if(t.previousQuery===null&&(typeof e.filterMethod=="function"||typeof e.remoteMethod=="function")){t.previousQuery=Se;return}t.previousQuery=Se,bn(()=>{var tt,we;t.visible&&((we=(tt=s.value)==null?void 0:tt.updatePopper)==null||we.call(tt))}),t.hoverIndex=-1,e.multiple&&e.filterable&&bn(()=>{const tt=a.value.value.length*15+20;t.inputLength=e.collapseTags?Math.min(50,tt):tt,V(),D()}),e.remote&&typeof e.remoteMethod=="function"?(t.hoverIndex=-1,e.remoteMethod(Se)):typeof e.filterMethod=="function"?(e.filterMethod(Se),tg(m)):(t.filteredOptionsCount=t.optionsCount,y.value.query=Se,tg(y),tg(m)),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&(await bn(),Y())}},V=()=>{t.currentPlaceholder!==""&&(t.currentPlaceholder=a.value.value?"":t.cachedPlaceHolder)},Y=()=>{const Se=L.value.filter(ht=>ht.visible&&!ht.disabled&&!ht.states.groupDisabled),tt=Se.find(ht=>ht.created),we=Se[0];t.hoverIndex=ae(L.value,tt||we)},K=()=>{var Se;if(e.multiple)t.selectedLabel="";else{const we=X(e.modelValue);(Se=we.props)!=null&&Se.created?(t.createdLabel=we.props.value,t.createdSelected=!0):t.createdSelected=!1,t.selectedLabel=we.currentLabel,t.selected=we,e.filterable&&(t.query=t.selectedLabel);return}const tt=[];Array.isArray(e.modelValue)&&e.modelValue.forEach(we=>{tt.push(X(we))}),t.selected=tt,bn(()=>{D()})},X=Se=>{let tt;const we=yw(Se).toLowerCase()==="object",ht=yw(Se).toLowerCase()==="null",yt=yw(Se).toLowerCase()==="undefined";for(let ur=t.cachedOptions.size-1;ur>=0;ur--){const tn=j.value[ur];if(we?Ao(tn.value,e.valueKey)===Ao(Se,e.valueKey):tn.value===Se){tt={value:Se,currentLabel:tn.currentLabel,isDisabled:tn.isDisabled};break}}if(tt)return tt;const Et=we?Se.label:!ht&&!yt?Se:"",Wt={value:Se,currentLabel:Et};return e.multiple&&(Wt.hitState=!1),Wt},W=()=>{setTimeout(()=>{const Se=e.valueKey;e.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map(tt=>L.value.findIndex(we=>Ao(we,Se)===Ao(tt,Se)))):t.hoverIndex=-1:t.hoverIndex=L.value.findIndex(tt=>Oe(tt)===Oe(t.selected))},300)},ie=()=>{var Se,tt;oe(),(tt=(Se=s.value)==null?void 0:Se.updatePopper)==null||tt.call(Se),e.multiple&&!e.filterable&&D()},oe=()=>{var Se;t.inputWidth=(Se=i.value)==null?void 0:Se.$el.getBoundingClientRect().width},ee=()=>{e.filterable&&t.query!==t.selectedLabel&&(t.query=t.selectedLabel,B(t.query))},ue=Sa(()=>{ee()},x.value),Ne=Sa(Se=>{B(Se.target.value)},x.value),$e=Se=>{Ns(e.modelValue,Se)||n.emit(Po,Se)},Ie=Se=>{if(Se.target.value.length<=0&&!lt()){const tt=e.modelValue.slice();tt.pop(),n.emit(hr,tt),$e(tt)}Se.target.value.length===1&&e.modelValue.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)},Le=(Se,tt)=>{const we=t.selected.indexOf(tt);if(we>-1&&!_.value){const ht=e.modelValue.slice();ht.splice(we,1),n.emit(hr,ht),$e(ht),n.emit("remove-tag",tt.value)}Se.stopPropagation()},he=Se=>{Se.stopPropagation();const tt=e.multiple?[]:"";if(typeof tt!="string")for(const we of t.selected)we.isDisabled&&tt.push(we.value);n.emit(hr,tt),$e(tt),t.hoverIndex=-1,t.visible=!1,n.emit("clear")},te=(Se,tt)=>{var we;if(e.multiple){const ht=(e.modelValue||[]).slice(),yt=ae(ht,Se.value);yt>-1?ht.splice(yt,1):(e.multipleLimit<=0||ht.length<e.multipleLimit)&&ht.push(Se.value),n.emit(hr,ht),$e(ht),Se.created&&(t.query="",B(""),t.inputLength=20),e.filterable&&((we=a.value)==null||we.focus())}else n.emit(hr,Se.value),$e(Se.value),t.visible=!1;t.isSilentBlur=tt,Ce(),!t.visible&&bn(()=>{Ze(Se)})},ae=(Se=[],tt)=>{if(!Er(tt))return Se.indexOf(tt);const we=e.valueKey;let ht=-1;return Se.some((yt,Et)=>Zr(Ao(yt,we))===Ao(tt,we)?(ht=Et,!0):!1),ht},Ce=()=>{t.softFocus=!0;const Se=a.value||i.value;Se&&(Se==null||Se.focus())},Ze=Se=>{var tt,we,ht,yt,Et;const Wt=Array.isArray(Se)?Se[0]:Se;let ur=null;if(Wt!=null&&Wt.value){const tn=L.value.filter(Dn=>Dn.value===Wt.value);tn.length>0&&(ur=tn[0].$el)}if(s.value&&ur){const tn=(yt=(ht=(we=(tt=s.value)==null?void 0:tt.popperRef)==null?void 0:we.contentRef)==null?void 0:ht.querySelector)==null?void 0:yt.call(ht,`.${o.be("dropdown","wrap")}`);tn&&UH(tn,ur)}(Et=h.value)==null||Et.handleScroll()},se=Se=>{t.optionsCount++,t.filteredOptionsCount++,t.options.set(Se.value,Se),t.cachedOptions.set(Se.value,Se)},de=(Se,tt)=>{t.options.get(Se)===tt&&(t.optionsCount--,t.filteredOptionsCount--,t.options.delete(Se))},ze=Se=>{Se.code!==Mn.backspace&&lt(!1),t.inputLength=a.value.value.length*15+20,D()},lt=Se=>{if(!Array.isArray(t.selected))return;const tt=t.selected[t.selected.length-1];if(!!tt)return Se===!0||Se===!1?(tt.hitState=Se,Se):(tt.hitState=!tt.hitState,tt.hitState)},Re=Se=>{const tt=Se.target.value;if(Se.type==="compositionend")t.isOnComposition=!1,bn(()=>B(tt));else{const we=tt[tt.length-1]||"";t.isOnComposition=!S_(we)}},qe=()=>{bn(()=>Ze(t.selected))},pe=Se=>{t.softFocus?t.softFocus=!1:((e.automaticDropdown||e.filterable)&&(e.filterable&&!t.visible&&(t.menuVisibleOnFocus=!0),t.visible=!0),n.emit("focus",Se))},Ue=()=>{var Se;t.visible=!1,(Se=i.value)==null||Se.blur()},Ke=Se=>{bn(()=>{t.isSilentBlur?t.isSilentBlur=!1:n.emit("blur",Se)}),t.softFocus=!1},Ve=Se=>{he(Se)},ne=()=>{t.visible=!1},fe=Se=>{t.visible&&(Se.preventDefault(),Se.stopPropagation(),t.visible=!1)},Me=()=>{var Se;_.value||(t.menuVisibleOnFocus?t.menuVisibleOnFocus=!1:t.visible=!t.visible,t.visible&&((Se=a.value||i.value)==null||Se.focus()))},it=()=>{t.visible?L.value[t.hoverIndex]&&te(L.value[t.hoverIndex],void 0):Me()},Oe=Se=>Er(Se.value)?Ao(Se.value,e.valueKey):Se.value,_e=G(()=>L.value.filter(Se=>Se.visible).every(Se=>Se.disabled)),nt=Se=>{if(!t.visible){t.visible=!0;return}if(!(t.options.size===0||t.filteredOptionsCount===0)&&!t.isOnComposition&&!_e.value){Se==="next"?(t.hoverIndex++,t.hoverIndex===t.options.size&&(t.hoverIndex=0)):Se==="prev"&&(t.hoverIndex--,t.hoverIndex<0&&(t.hoverIndex=t.options.size-1));const tt=L.value[t.hoverIndex];(tt.disabled===!0||tt.states.groupDisabled===!0||!tt.visible)&&nt(Se),bn(()=>Ze(v.value))}};return{optionsArray:L,selectSize:F,handleResize:ie,debouncedOnInputChange:ue,debouncedQueryChange:Ne,deletePrevTag:Ie,deleteTag:Le,deleteSelected:he,handleOptionSelect:te,scrollToOption:Ze,readonly:O,resetInputHeight:D,showClose:A,iconComponent:T,iconReverse:P,showNewOption:k,collapseTagSize:z,setSelected:K,managePlaceholder:V,selectDisabled:_,emptyText:N,toggleLastOptionHitState:lt,resetInputState:ze,handleComposition:Re,onOptionCreate:se,onOptionDestroy:de,handleMenuEnter:qe,handleFocus:pe,blur:Ue,handleBlur:Ke,handleClearClick:Ve,handleClose:ne,handleKeydownEscape:fe,toggleMenu:Me,selectOption:it,getValueKey:Oe,navigateOptions:nt,dropMenuVisible:M,queryChange:y,groupQueryChange:m,reference:i,input:a,tooltipRef:s,tags:f,selectWrapper:d,scrollbar:h}},iB="ElSelect",tNe=St({name:iB,componentName:iB,components:{ElInput:na,ElSelectMenu:QMe,ElOption:wN,ElTag:M_,ElScrollbar:Mc,ElTooltip:Ua,ElIcon:En},directives:{ClickOutside:qf},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:qh},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},teleported:Bi.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:po,default:id},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:po,default:od},tagType:{...pN.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:tp,default:"bottom-start"}},emits:[hr,Po,"remove-tag","clear","visible-change","focus","blur"],setup(e,t){const n=wt("select"),r=wt("input"),{t:o}=Hr(),i=qMe(e),{optionsArray:a,selectSize:s,readonly:f,handleResize:d,collapseTagSize:h,debouncedOnInputChange:v,debouncedQueryChange:y,deletePrevTag:m,deleteTag:b,deleteSelected:S,handleOptionSelect:O,scrollToOption:_,setSelected:A,resetInputHeight:T,managePlaceholder:P,showClose:x,selectDisabled:N,iconComponent:L,iconReverse:j,showNewOption:k,emptyText:F,toggleLastOptionHitState:z,resetInputState:M,handleComposition:D,onOptionCreate:B,onOptionDestroy:V,handleMenuEnter:Y,handleFocus:K,blur:X,handleBlur:W,handleClearClick:ie,handleClose:oe,handleKeydownEscape:ee,toggleMenu:ue,selectOption:Ne,getValueKey:$e,navigateOptions:Ie,dropMenuVisible:Le,reference:he,input:te,tooltipRef:ae,tags:Ce,selectWrapper:Ze,scrollbar:se,queryChange:de,groupQueryChange:ze}=eNe(e,i,t),{focus:lt}=n0e(he),{inputWidth:Re,selected:qe,inputLength:pe,filteredOptionsCount:Ue,visible:Ke,softFocus:Ve,selectedLabel:ne,hoverIndex:fe,query:Me,inputHovering:it,currentPlaceholder:Oe,menuVisibleOnFocus:_e,isOnComposition:nt,isSilentBlur:Se,options:tt,cachedOptions:we,optionsCount:ht,prefixWidth:yt,tagInMultiLine:Et}=mi(i),Wt=G(()=>{const vn=[n.b()],Ln=E(s);return Ln&&vn.push(n.m(Ln)),e.disabled&&vn.push(n.m("disabled")),vn}),ur=G(()=>({maxWidth:`${E(Re)-32}px`,width:"100%"})),tn=G(()=>({maxWidth:`${E(Re)>123?E(Re)-123:E(Re)-75}px`}));Sr(I_,Xr({props:e,options:tt,optionsArray:a,cachedOptions:we,optionsCount:ht,filteredOptionsCount:Ue,hoverIndex:fe,handleOptionSelect:O,onOptionCreate:B,onOptionDestroy:V,selectWrapper:Ze,selected:qe,setSelected:A,queryChange:de,groupQueryChange:ze})),ir(()=>{i.cachedPlaceHolder=Oe.value=e.placeholder||o("el.select.placeholder"),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(Oe.value=""),oa(Ze,d),e.remote&&e.multiple&&T(),bn(()=>{const vn=he.value&&he.value.$el;if(!!vn&&(Re.value=vn.getBoundingClientRect().width,t.slots.prefix)){const Ln=vn.querySelector(`.${r.e("prefix")}`);yt.value=Math.max(Ln.getBoundingClientRect().width+5,30)}}),A()}),e.multiple&&!Array.isArray(e.modelValue)&&t.emit(hr,[]),!e.multiple&&Array.isArray(e.modelValue)&&t.emit(hr,"");const Dn=G(()=>{var vn,Ln;return(Ln=(vn=ae.value)==null?void 0:vn.popperRef)==null?void 0:Ln.contentRef});return{tagInMultiLine:Et,prefixWidth:yt,selectSize:s,readonly:f,handleResize:d,collapseTagSize:h,debouncedOnInputChange:v,debouncedQueryChange:y,deletePrevTag:m,deleteTag:b,deleteSelected:S,handleOptionSelect:O,scrollToOption:_,inputWidth:Re,selected:qe,inputLength:pe,filteredOptionsCount:Ue,visible:Ke,softFocus:Ve,selectedLabel:ne,hoverIndex:fe,query:Me,inputHovering:it,currentPlaceholder:Oe,menuVisibleOnFocus:_e,isOnComposition:nt,isSilentBlur:Se,options:tt,resetInputHeight:T,managePlaceholder:P,showClose:x,selectDisabled:N,iconComponent:L,iconReverse:j,showNewOption:k,emptyText:F,toggleLastOptionHitState:z,resetInputState:M,handleComposition:D,handleMenuEnter:Y,handleFocus:K,blur:X,handleBlur:W,handleClearClick:ie,handleClose:oe,handleKeydownEscape:ee,toggleMenu:ue,selectOption:Ne,getValueKey:$e,navigateOptions:Ie,dropMenuVisible:Le,focus:lt,reference:he,input:te,tooltipRef:ae,popperPaneRef:Dn,tags:Ce,selectWrapper:Ze,scrollbar:se,wrapperKls:Wt,selectTagsStyle:ur,nsSelect:n,tagTextStyle:tn}}}),nNe=["disabled","autocomplete"],rNe={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function oNe(e,t,n,r,o,i){const a=_n("el-tag"),s=_n("el-tooltip"),f=_n("el-icon"),d=_n("el-input"),h=_n("el-option"),v=_n("el-scrollbar"),y=_n("el-select-menu"),m=kh("click-outside");return Gn((H(),le("div",{ref:"selectWrapper",class:Z(e.wrapperKls),onClick:t[22]||(t[22]=Fn((...b)=>e.toggleMenu&&e.toggleMenu(...b),["stop"]))},[Te(s,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:Be(()=>[ve("div",{class:"select-trigger",onMouseenter:t[20]||(t[20]=b=>e.inputHovering=!0),onMouseleave:t[21]||(t[21]=b=>e.inputHovering=!1)},[e.multiple?(H(),le("div",{key:0,ref:"tags",class:Z(e.nsSelect.e("tags")),style:gn(e.selectTagsStyle)},[e.collapseTags&&e.selected.length?(H(),le("span",{key:0,class:Z([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[Te(a,{closable:!e.selectDisabled&&!e.selected[0].isDisabled,size:e.collapseTagSize,hit:e.selected[0].hitState,type:e.tagType,"disable-transitions":"",onClose:t[0]||(t[0]=b=>e.deleteTag(b,e.selected[0]))},{default:Be(()=>[ve("span",{class:Z(e.nsSelect.e("tags-text")),style:gn(e.tagTextStyle)},Bt(e.selected[0].currentLabel),7)]),_:1},8,["closable","size","hit","type"]),e.selected.length>1?(H(),et(a,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:Be(()=>[e.collapseTagsTooltip?(H(),et(s,{key:0,disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:Be(()=>[ve("span",{class:Z(e.nsSelect.e("tags-text"))},"+ "+Bt(e.selected.length-1),3)]),content:Be(()=>[ve("div",{class:Z(e.nsSelect.e("collapse-tags"))},[(H(!0),le(wn,null,_r(e.selected.slice(1),(b,S)=>(H(),le("div",{key:S,class:Z(e.nsSelect.e("collapse-tag"))},[(H(),et(a,{key:e.getValueKey(b),class:"in-tooltip",closable:!e.selectDisabled&&!b.isDisabled,size:e.collapseTagSize,hit:b.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:O=>e.deleteTag(O,b)},{default:Be(()=>[ve("span",{class:Z(e.nsSelect.e("tags-text")),style:gn({maxWidth:e.inputWidth-75+"px"})},Bt(b.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(H(),le("span",{key:1,class:Z(e.nsSelect.e("tags-text"))},"+ "+Bt(e.selected.length-1),3))]),_:1},8,["size","type"])):Ye("v-if",!0)],2)):Ye("v-if",!0),Ye(" <div> "),e.collapseTags?Ye("v-if",!0):(H(),et(ti,{key:1,onAfterLeave:e.resetInputHeight},{default:Be(()=>[ve("span",{class:Z([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[(H(!0),le(wn,null,_r(e.selected,b=>(H(),et(a,{key:e.getValueKey(b),closable:!e.selectDisabled&&!b.isDisabled,size:e.collapseTagSize,hit:b.hitState,type:e.tagType,"disable-transitions":"",onClose:S=>e.deleteTag(S,b)},{default:Be(()=>[ve("span",{class:Z(e.nsSelect.e("tags-text")),style:gn({maxWidth:e.inputWidth-75+"px"})},Bt(b.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],2)]),_:1},8,["onAfterLeave"])),Ye(" </div> "),e.filterable?Gn((H(),le("input",{key:2,ref:"input","onUpdate:modelValue":t[1]||(t[1]=b=>e.query=b),type:"text",class:Z([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:gn({marginLeft:e.prefixWidth&&!e.selected.length||e.tagInMultiLine?`${e.prefixWidth}px`:"",flexGrow:1,width:`${e.inputLength/(e.inputWidth-32)}%`,maxWidth:`${e.inputWidth-42}px`}),onFocus:t[2]||(t[2]=(...b)=>e.handleFocus&&e.handleFocus(...b)),onBlur:t[3]||(t[3]=(...b)=>e.handleBlur&&e.handleBlur(...b)),onKeyup:t[4]||(t[4]=(...b)=>e.managePlaceholder&&e.managePlaceholder(...b)),onKeydown:[t[5]||(t[5]=(...b)=>e.resetInputState&&e.resetInputState(...b)),t[6]||(t[6]=kr(Fn(b=>e.navigateOptions("next"),["prevent"]),["down"])),t[7]||(t[7]=kr(Fn(b=>e.navigateOptions("prev"),["prevent"]),["up"])),t[8]||(t[8]=kr((...b)=>e.handleKeydownEscape&&e.handleKeydownEscape(...b),["esc"])),t[9]||(t[9]=kr(Fn((...b)=>e.selectOption&&e.selectOption(...b),["stop","prevent"]),["enter"])),t[10]||(t[10]=kr((...b)=>e.deletePrevTag&&e.deletePrevTag(...b),["delete"])),t[11]||(t[11]=kr(b=>e.visible=!1,["tab"]))],onCompositionstart:t[12]||(t[12]=(...b)=>e.handleComposition&&e.handleComposition(...b)),onCompositionupdate:t[13]||(t[13]=(...b)=>e.handleComposition&&e.handleComposition(...b)),onCompositionend:t[14]||(t[14]=(...b)=>e.handleComposition&&e.handleComposition(...b)),onInput:t[15]||(t[15]=(...b)=>e.debouncedQueryChange&&e.debouncedQueryChange(...b))},null,46,nNe)),[[u_,e.query]]):Ye("v-if",!0)],6)):Ye("v-if",!0),Te(d,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":t[16]||(t[16]=b=>e.selectedLabel=b),type:"text",placeholder:e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:Z([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[t[17]||(t[17]=kr(Fn(b=>e.navigateOptions("next"),["stop","prevent"]),["down"])),t[18]||(t[18]=kr(Fn(b=>e.navigateOptions("prev"),["stop","prevent"]),["up"])),kr(Fn(e.selectOption,["stop","prevent"]),["enter"]),kr(e.handleKeydownEscape,["esc"]),t[19]||(t[19]=kr(b=>e.visible=!1,["tab"]))]},Yf({suffix:Be(()=>[e.iconComponent&&!e.showClose?(H(),et(f,{key:0,class:Z([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:Be(()=>[(H(),et(mr(e.iconComponent)))]),_:1},8,["class"])):Ye("v-if",!0),e.showClose&&e.clearIcon?(H(),et(f,{key:1,class:Z([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:Be(()=>[(H(),et(mr(e.clearIcon)))]),_:1},8,["class","onClick"])):Ye("v-if",!0)]),_:2},[e.$slots.prefix?{name:"prefix",fn:Be(()=>[ve("div",rNe,[bt(e.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:Be(()=>[Te(y,null,{default:Be(()=>[Gn(Te(v,{ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:Z([e.nsSelect.is("empty",!e.allowCreate&&Boolean(e.query)&&e.filteredOptionsCount===0)])},{default:Be(()=>[e.showNewOption?(H(),et(h,{key:0,value:e.query,created:!0},null,8,["value"])):Ye("v-if",!0),bt(e.$slots,"default")]),_:3},8,["wrap-class","view-class","class"]),[[Lr,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&e.options.size===0)?(H(),le(wn,{key:0},[e.$slots.empty?bt(e.$slots,"empty",{key:0}):(H(),le("p",{key:1,class:Z(e.nsSelect.be("dropdown","empty"))},Bt(e.emptyText),3))],64)):Ye("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","effect","transition","persistent","onShow"])],2)),[[m,e.handleClose,e.popperPaneRef]])}var iNe=zt(tNe,[["render",oNe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const aNe=St({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(e){const t=wt("select"),n=re(!0),r=cr(),o=re([]);Sr(O9,Xr({...mi(e)}));const i=Cn(I_);ir(()=>{o.value=a(r.subTree)});const a=f=>{const d=[];return Array.isArray(f.children)&&f.children.forEach(h=>{var v;h.type&&h.type.name==="ElOption"&&h.component&&h.component.proxy?d.push(h.component.proxy):(v=h.children)!=null&&v.length&&d.push(...a(h))}),d},{groupQueryChange:s}=Zr(i);return At(s,()=>{n.value=o.value.some(f=>f.visible===!0)},{flush:"post"}),{visible:n,ns:t}}});function sNe(e,t,n,r,o,i){return Gn((H(),le("ul",{class:Z(e.ns.be("group","wrap"))},[ve("li",{class:Z(e.ns.be("group","title"))},Bt(e.label),3),ve("li",null,[ve("ul",{class:Z(e.ns.b("group"))},[bt(e.$slots,"default")],2)])],2)),[[Lr,e.visible]])}var _9=zt(aNe,[["render",sNe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const Fh=fr(iNe,{Option:wN,OptionGroup:_9}),SO=ko(wN),lNe=ko(_9),ON=()=>Cn(oG,{}),uNe=Kt({pageSize:{type:Number,required:!0},pageSizes:{type:ot(Array),default:()=>_o([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,size:{type:String,default:"default"}}),cNe={name:"ElPaginationSizes"},fNe=St({...cNe,props:uNe,emits:["page-size-change"],setup(e,{emit:t}){const n=e,{t:r}=Hr(),o=wt("pagination"),i=ON(),a=re(n.pageSize);At(()=>n.pageSizes,(d,h)=>{if(!Ns(d,h)&&Array.isArray(d)){const v=d.includes(n.pageSize)?n.pageSize:n.pageSizes[0];t("page-size-change",v)}}),At(()=>n.pageSize,d=>{a.value=d});const s=G(()=>n.pageSizes);function f(d){var h;d!==a.value&&(a.value=d,(h=i.handleSizeChange)==null||h.call(i,Number(d)))}return(d,h)=>(H(),le("span",{class:Z(E(o).e("sizes"))},[Te(E(Fh),{"model-value":a.value,disabled:d.disabled,"popper-class":d.popperClass,size:d.size,"validate-event":!1,onChange:f},{default:Be(()=>[(H(!0),le(wn,null,_r(E(s),v=>(H(),et(E(SO),{key:v,value:v,label:v+E(r)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size"])],2))}});var dNe=zt(fNe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const hNe=["disabled"],pNe={name:"ElPaginationJumper"},vNe=St({...pNe,setup(e){const{t}=Hr(),n=wt("pagination"),{pageCount:r,disabled:o,currentPage:i,changeEvent:a}=ON(),s=re(),f=G(()=>{var v;return(v=s.value)!=null?v:i==null?void 0:i.value});function d(v){s.value=+v}function h(v){v=Math.trunc(+v),a==null||a(+v),s.value=void 0}return(v,y)=>(H(),le("span",{class:Z(E(n).e("jump")),disabled:E(o)},[$r(Bt(E(t)("el.pagination.goto"))+" ",1),Te(E(na),{size:"small",class:Z([E(n).e("editor"),E(n).is("in-pagination")]),min:1,max:E(r),disabled:E(o),"model-value":E(f),"validate-event":!1,type:"number","onUpdate:modelValue":d,onChange:h},null,8,["class","max","disabled","model-value"]),$r(" "+Bt(E(t)("el.pagination.pageClassifier")),1)],10,hNe))}});var yNe=zt(vNe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const mNe=Kt({total:{type:Number,default:1e3}}),gNe=["disabled"],bNe={name:"ElPaginationTotal"},ENe=St({...bNe,props:mNe,setup(e){const{t}=Hr(),n=wt("pagination"),{disabled:r}=ON();return(o,i)=>(H(),le("span",{class:Z(E(n).e("total")),disabled:E(r)},Bt(E(t)("el.pagination.total",{total:o.total})),11,gNe))}});var SNe=zt(ENe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const wNe=Kt({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),ONe=["onKeyup"],_Ne=["aria-current","tabindex"],TNe=["tabindex"],CNe=["aria-current","tabindex"],ANe=["tabindex"],PNe=["aria-current","tabindex"],xNe={name:"ElPaginationPager"},MNe=St({...xNe,props:wNe,emits:["change"],setup(e,{emit:t}){const n=e,r=wt("pager"),o=wt("icon"),i=re(!1),a=re(!1),s=re(!1),f=re(!1),d=re(!1),h=re(!1),v=G(()=>{const _=n.pagerCount,A=(_-1)/2,T=Number(n.currentPage),P=Number(n.pageCount);let x=!1,N=!1;P>_&&(T>_-A&&(x=!0),T<P-A&&(N=!0));const L=[];if(x&&!N){const j=P-(_-2);for(let k=j;k<P;k++)L.push(k)}else if(!x&&N)for(let j=2;j<_;j++)L.push(j);else if(x&&N){const j=Math.floor(_/2)-1;for(let k=T-j;k<=T+j;k++)L.push(k)}else for(let j=2;j<P;j++)L.push(j);return L}),y=G(()=>n.disabled?-1:0);ns(()=>{const _=(n.pagerCount-1)/2;i.value=!1,a.value=!1,n.pageCount>n.pagerCount&&(n.currentPage>n.pagerCount-_&&(i.value=!0),n.currentPage<n.pageCount-_&&(a.value=!0))});function m(_=!1){n.disabled||(_?s.value=!0:f.value=!0)}function b(_=!1){_?d.value=!0:h.value=!0}function S(_){const A=_.target;if(A.tagName.toLowerCase()==="li"&&Array.from(A.classList).includes("number")){const T=Number(A.textContent);T!==n.currentPage&&t("change",T)}else A.tagName.toLowerCase()==="li"&&Array.from(A.classList).includes("more")&&O(_)}function O(_){const A=_.target;if(A.tagName.toLowerCase()==="ul"||n.disabled)return;let T=Number(A.textContent);const P=n.pageCount,x=n.currentPage,N=n.pagerCount-2;A.className.includes("more")&&(A.className.includes("quickprev")?T=x-N:A.className.includes("quicknext")&&(T=x+N)),Number.isNaN(+T)||(T<1&&(T=1),T>P&&(T=P)),T!==x&&t("change",T)}return(_,A)=>(H(),le("ul",{class:Z(E(r).b()),onClick:O,onKeyup:kr(S,["enter"])},[_.pageCount>0?(H(),le("li",{key:0,class:Z([[E(r).is("active",_.currentPage===1),E(r).is("disabled",_.disabled)],"number"]),"aria-current":_.currentPage===1,tabindex:E(y)}," 1 ",10,_Ne)):Ye("v-if",!0),i.value?(H(),le("li",{key:1,class:Z(["more","btn-quickprev",E(o).b(),E(r).is("disabled",_.disabled)]),tabindex:E(y),onMouseenter:A[0]||(A[0]=T=>m(!0)),onMouseleave:A[1]||(A[1]=T=>s.value=!1),onFocus:A[2]||(A[2]=T=>b(!0)),onBlur:A[3]||(A[3]=T=>d.value=!1)},[s.value||d.value?(H(),et(E(fy),{key:0})):(H(),et(E(Y$),{key:1}))],42,TNe)):Ye("v-if",!0),(H(!0),le(wn,null,_r(E(v),T=>(H(),le("li",{key:T,class:Z([[E(r).is("active",_.currentPage===T),E(r).is("disabled",_.disabled)],"number"]),"aria-current":_.currentPage===T,tabindex:E(y)},Bt(T),11,CNe))),128)),a.value?(H(),le("li",{key:2,class:Z(["more","btn-quicknext",E(o).b(),E(r).is("disabled",_.disabled)]),tabindex:E(y),onMouseenter:A[4]||(A[4]=T=>m()),onMouseleave:A[5]||(A[5]=T=>f.value=!1),onFocus:A[6]||(A[6]=T=>b()),onBlur:A[7]||(A[7]=T=>h.value=!1)},[f.value||h.value?(H(),et(E(dy),{key:0})):(H(),et(E(Y$),{key:1}))],42,ANe)):Ye("v-if",!0),_.pageCount>1?(H(),le("li",{key:3,class:Z([[E(r).is("active",_.currentPage===_.pageCount),E(r).is("disabled",_.disabled)],"number"]),"aria-current":_.currentPage===_.pageCount,tabindex:E(y)},Bt(_.pageCount),11,PNe)):Ye("v-if",!0)],42,ONe))}});var NNe=zt(MNe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const ya=e=>typeof e!="number",RNe=Kt({total:Number,pageSize:Number,defaultPageSize:Number,currentPage:Number,defaultCurrentPage:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>typeof e=="number"&&Math.trunc(e)===e&&e>4&&e<22&&e%2===1,default:7},layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:ot(Array),default:()=>_o([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:po,default:()=>Zf},nextText:{type:String,default:""},nextIcon:{type:po,default:()=>Ea},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),INe={"update:current-page":e=>typeof e=="number","update:page-size":e=>typeof e=="number","size-change":e=>typeof e=="number","current-change":e=>typeof e=="number","prev-click":e=>typeof e=="number","next-click":e=>typeof e=="number"},aB="ElPagination";var DNe=St({name:aB,props:RNe,emits:INe,setup(e,{emit:t,slots:n}){const{t:r}=Hr(),o=wt("pagination"),i=cr().vnode.props||{},a="onUpdate:currentPage"in i||"onUpdate:current-page"in i||"onCurrentChange"in i,s="onUpdate:pageSize"in i||"onUpdate:page-size"in i||"onSizeChange"in i,f=G(()=>{if(ya(e.total)&&ya(e.pageCount)||!ya(e.currentPage)&&!a)return!1;if(e.layout.includes("sizes")){if(ya(e.pageCount)){if(!ya(e.total)&&!ya(e.pageSize)&&!s)return!1}else if(!s)return!1}return!0}),d=re(ya(e.defaultPageSize)?10:e.defaultPageSize),h=re(ya(e.defaultCurrentPage)?1:e.defaultCurrentPage),v=G({get(){return ya(e.pageSize)?d.value:e.pageSize},set(T){ya(e.pageSize)&&(d.value=T),s&&(t("update:page-size",T),t("size-change",T))}}),y=G(()=>{let T=0;return ya(e.pageCount)?ya(e.total)||(T=Math.max(1,Math.ceil(e.total/v.value))):T=e.pageCount,T}),m=G({get(){return ya(e.currentPage)?h.value:e.currentPage},set(T){let P=T;T<1?P=1:T>y.value&&(P=y.value),ya(e.currentPage)&&(h.value=P),a&&(t("update:current-page",P),t("current-change",P))}});At(y,T=>{m.value>T&&(m.value=T)});function b(T){m.value=T}function S(T){v.value=T;const P=y.value;m.value>P&&(m.value=P)}function O(){e.disabled||(m.value-=1,t("prev-click",m.value))}function _(){e.disabled||(m.value+=1,t("next-click",m.value))}function A(T,P){T&&(T.props||(T.props={}),T.props.class=[T.props.class,P].join(" "))}return Sr(oG,{pageCount:y,disabled:G(()=>e.disabled),currentPage:m,changeEvent:b,handleSizeChange:S}),()=>{var T,P;if(!f.value)return r("el.pagination.deprecationWarning"),null;if(!e.layout||e.hideOnSinglePage&&y.value<=1)return null;const x=[],N=[],L=Pn("div",{class:o.e("rightwrapper")},N),j={prev:Pn(FMe,{disabled:e.disabled,currentPage:m.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:O}),jumper:Pn(yNe),pager:Pn(NNe,{currentPage:m.value,pageCount:y.value,pagerCount:e.pagerCount,onChange:b,disabled:e.disabled}),next:Pn(WMe,{disabled:e.disabled,currentPage:m.value,pageCount:y.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:_}),sizes:Pn(dNe,{pageSize:v.value,pageSizes:e.pageSizes,popperClass:e.popperClass,disabled:e.disabled,size:e.small?"small":"default"}),slot:(P=(T=n==null?void 0:n.default)==null?void 0:T.call(n))!=null?P:null,total:Pn(SNe,{total:ya(e.total)?0:e.total})},k=e.layout.split(",").map(z=>z.trim());let F=!1;return k.forEach(z=>{if(z==="->"){F=!0;return}F?N.push(j[z]):x.push(j[z])}),A(x[0],o.is("first")),A(x[x.length-1],o.is("last")),F&&N.length>0&&(A(N[0],o.is("first")),A(N[N.length-1],o.is("last")),x.push(L)),Pn("div",{role:"pagination","aria-label":"pagination",class:[o.b(),o.is("background",e.background),{[o.m("small")]:e.small}]},x)}}});const kNe=fr(DNe),LNe=Kt({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:MP,default:"primary"},cancelButtonType:{type:String,values:MP,default:"text"},icon:{type:po,default:()=>wge},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},onConfirm:{type:ot(Function)},onCancel:{type:ot(Function)},teleported:Bi.teleported,persistent:Bi.persistent,width:{type:[String,Number],default:150}}),$Ne={name:"ElPopconfirm"},BNe=St({...$Ne,props:LNe,setup(e){const t=e,{t:n}=Hr(),r=wt("popconfirm"),o=re(),i=()=>{var v,y;(y=(v=o.value)==null?void 0:v.onClose)==null||y.call(v)},a=G(()=>({width:yi(t.width)})),s=v=>{var y;(y=t.onConfirm)==null||y.call(t,v),i()},f=v=>{var y;(y=t.onCancel)==null||y.call(t,v),i()},d=G(()=>t.confirmButtonText||n("el.popconfirm.confirmButtonText")),h=G(()=>t.cancelButtonText||n("el.popconfirm.cancelButtonText"));return(v,y)=>(H(),et(E(Ua),br({ref_key:"tooltipRef",ref:o,trigger:"click",effect:"light"},v.$attrs,{"popper-class":`${E(r).namespace.value}-popover`,"popper-style":E(a),teleported:v.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":v.hideAfter,persistent:v.persistent}),{content:Be(()=>[ve("div",{class:Z(E(r).b())},[ve("div",{class:Z(E(r).e("main"))},[!v.hideIcon&&v.icon?(H(),et(E(En),{key:0,class:Z(E(r).e("icon")),style:gn({color:v.iconColor})},{default:Be(()=>[(H(),et(mr(v.icon)))]),_:1},8,["class","style"])):Ye("v-if",!0),$r(" "+Bt(v.title),1)],2),ve("div",{class:Z(E(r).e("action"))},[Te(E(ra),{size:"small",type:v.cancelButtonType==="text"?"":v.cancelButtonType,text:v.cancelButtonType==="text",onClick:f},{default:Be(()=>[$r(Bt(E(h)),1)]),_:1},8,["type","text"]),Te(E(ra),{size:"small",type:v.confirmButtonType==="text"?"":v.confirmButtonType,text:v.confirmButtonType==="text",onClick:s},{default:Be(()=>[$r(Bt(E(d)),1)]),_:1},8,["type","text"])],2)],2)]),default:Be(()=>[v.$slots.reference?bt(v.$slots,"reference",{key:0}):Ye("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var jNe=zt(BNe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popconfirm/src/popconfirm.vue"]]);const FNe=fr(jNe),zNe=Kt({trigger:Eb.trigger,placement:$w.placement,disabled:Eb.disabled,visible:Bi.visible,transition:Bi.transition,popperOptions:$w.popperOptions,tabindex:$w.tabindex,content:Bi.content,popperStyle:Bi.popperStyle,popperClass:Bi.popperClass,enterable:{...Bi.enterable,default:!0},effect:{...Bi.effect,default:"light"},teleported:Bi.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),UNe={"update:visible":e=>_i(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},VNe={name:"ElPopover"},HNe=St({...VNe,props:zNe,emits:UNe,setup(e,{expose:t,emit:n}){const r=e,o="onUpdate:visible",i=G(()=>r[o]),a=wt("popover"),s=re(),f=G(()=>{var _;return(_=E(s))==null?void 0:_.popperRef}),d=G(()=>[{width:yi(r.width)},r.popperStyle]),h=G(()=>[a.b(),r.popperClass,{[a.m("plain")]:!!r.content}]),v=G(()=>r.transition===`${a.namespace.value}-fade-in-linear`),y=()=>{var _;(_=s.value)==null||_.hide()},m=()=>{n("before-enter")},b=()=>{n("before-leave")},S=()=>{n("after-enter")},O=()=>{n("update:visible",!1),n("after-leave")};return t({popperRef:f,hide:y}),(_,A)=>(H(),et(E(Ua),br({ref_key:"tooltipRef",ref:s},_.$attrs,{trigger:_.trigger,placement:_.placement,disabled:_.disabled,visible:_.visible,transition:_.transition,"popper-options":_.popperOptions,tabindex:_.tabindex,content:_.content,offset:_.offset,"show-after":_.showAfter,"hide-after":_.hideAfter,"auto-close":_.autoClose,"show-arrow":_.showArrow,"aria-label":_.title,effect:_.effect,enterable:_.enterable,"popper-class":E(h),"popper-style":E(d),teleported:_.teleported,persistent:_.persistent,"gpu-acceleration":E(v),"onUpdate:visible":E(i),onBeforeShow:m,onBeforeHide:b,onShow:S,onHide:O}),{content:Be(()=>[_.title?(H(),le("div",{key:0,class:Z(E(a).e("title")),role:"title"},Bt(_.title),3)):Ye("v-if",!0),bt(_.$slots,"default",{},()=>[$r(Bt(_.content),1)])]),default:Be(()=>[_.$slots.reference?bt(_.$slots,"reference",{key:0}):Ye("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var GNe=zt(HNe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const sB=(e,t)=>{const n=t.arg||t.value,r=n==null?void 0:n.popperRef;r&&(r.triggerRef=e)};var WNe={mounted(e,t){sB(e,t)},updated(e,t){sB(e,t)}};const KNe="popover",T9=Hbe(WNe,KNe),XNe=fr(GNe,{directive:T9}),YNe=Kt({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:ot(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:ot([String,Array,Function]),default:""},format:{type:ot(Function),default:e=>`${e}%`}}),ZNe=["aria-valuenow"],JNe={viewBox:"0 0 100 100"},QNe=["d","stroke","stroke-width"],qNe=["d","stroke","opacity","stroke-linecap","stroke-width"],eRe={key:0},tRe={name:"ElProgress"},nRe=St({...tRe,props:YNe,setup(e){const t=e,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},r=wt("progress"),o=G(()=>({width:`${t.percentage}%`,animationDuration:`${t.duration}s`,backgroundColor:A(t.percentage)})),i=G(()=>(t.strokeWidth/t.width*100).toFixed(1)),a=G(()=>["circle","dashboard"].includes(t.type)?Number.parseInt(`${50-Number.parseFloat(i.value)/2}`,10):0),s=G(()=>{const T=a.value,P=t.type==="dashboard";return`
          M 50 50
          m 0 ${P?"":"-"}${T}
          a ${T} ${T} 0 1 1 0 ${P?"-":""}${T*2}
          a ${T} ${T} 0 1 1 0 ${P?"":"-"}${T*2}
          `}),f=G(()=>2*Math.PI*a.value),d=G(()=>t.type==="dashboard"?.75:1),h=G(()=>`${-1*f.value*(1-d.value)/2}px`),v=G(()=>({strokeDasharray:`${f.value*d.value}px, ${f.value}px`,strokeDashoffset:h.value})),y=G(()=>({strokeDasharray:`${f.value*d.value*(t.percentage/100)}px, ${f.value}px`,strokeDashoffset:h.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),m=G(()=>{let T;return t.color?T=A(t.percentage):T=n[t.status]||n.default,T}),b=G(()=>t.status==="warning"?b_:t.type==="line"?t.status==="success"?zM:id:t.status==="success"?Xb:ml),S=G(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),O=G(()=>t.format(t.percentage));function _(T){const P=100/T.length;return T.map((N,L)=>Kn(N)?{color:N,percentage:(L+1)*P}:N).sort((N,L)=>N.percentage-L.percentage)}const A=T=>{var P;const{color:x}=t;if(Wn(x))return x(T);if(Kn(x))return x;{const N=_(x);for(const L of N)if(L.percentage>T)return L.color;return(P=N[N.length-1])==null?void 0:P.color}};return(T,P)=>(H(),le("div",{class:Z([E(r).b(),E(r).m(T.type),E(r).is(T.status),{[E(r).m("without-text")]:!T.showText,[E(r).m("text-inside")]:T.textInside}]),role:"progressbar","aria-valuenow":T.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[T.type==="line"?(H(),le("div",{key:0,class:Z(E(r).b("bar"))},[ve("div",{class:Z(E(r).be("bar","outer")),style:gn({height:`${T.strokeWidth}px`})},[ve("div",{class:Z([E(r).be("bar","inner"),{[E(r).bem("bar","inner","indeterminate")]:T.indeterminate}]),style:gn(E(o))},[(T.showText||T.$slots.default)&&T.textInside?(H(),le("div",{key:0,class:Z(E(r).be("bar","innerText"))},[bt(T.$slots,"default",{percentage:T.percentage},()=>[ve("span",null,Bt(E(O)),1)])],2)):Ye("v-if",!0)],6)],6)],2)):(H(),le("div",{key:1,class:Z(E(r).b("circle")),style:gn({height:`${T.width}px`,width:`${T.width}px`})},[(H(),le("svg",JNe,[ve("path",{class:Z(E(r).be("circle","track")),d:E(s),stroke:`var(${E(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-width":E(i),fill:"none",style:gn(E(v))},null,14,QNe),ve("path",{class:Z(E(r).be("circle","path")),d:E(s),stroke:E(m),fill:"none",opacity:T.percentage?1:0,"stroke-linecap":T.strokeLinecap,"stroke-width":E(i),style:gn(E(y))},null,14,qNe)]))],6)),(T.showText||T.$slots.default)&&!T.textInside?(H(),le("div",{key:2,class:Z(E(r).e("text")),style:gn({fontSize:`${E(S)}px`})},[bt(T.$slots,"default",{percentage:T.percentage},()=>[T.status?(H(),et(E(En),{key:1},{default:Be(()=>[(H(),et(mr(E(b))))]),_:1})):(H(),le("span",eRe,Bt(E(O)),1))])],6)):Ye("v-if",!0)],10,ZNe))}});var rRe=zt(nRe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const C9=fr(rRe),oRe=Kt({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:ot([Array,Object]),default:()=>_o(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:ot([Array,Object]),default:()=>[FS,FS,FS]},voidIcon:{type:po,default:()=>vbe},disabledVoidIcon:{type:po,default:()=>FS},disabled:{type:Boolean},allowHalf:{type:Boolean},showText:{type:Boolean},showScore:{type:Boolean},textColor:{type:String,default:""},texts:{type:ot(Array),default:()=>_o(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:{type:String,validator:qh},label:{type:String,default:void 0}}),iRe={[Po]:e=>Jn(e),[hr]:e=>Jn(e)},aRe=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],sRe=["onMousemove","onClick"],lRe={name:"ElRate"},uRe=St({...lRe,props:oRe,emits:iRe,setup(e,{expose:t,emit:n}){const r=e;function o(V,Y){const K=ie=>Er(ie),X=Object.keys(Y).map(ie=>+ie).filter(ie=>{const oe=Y[ie];return(K(oe)?oe.excluded:!1)?V<ie:V<=ie}).sort((ie,oe)=>ie-oe),W=Y[X[0]];return K(W)&&W.value||W}const i=Cn(ep,void 0),a=Cn(du,void 0),s=oi(),f=wt("rate"),{inputId:d,isLabeledByFormItem:h}=sd(r,{formItemContext:a}),v=re(r.modelValue),y=re(-1),m=re(!0),b=G(()=>[f.b(),f.m(s.value)]),S=G(()=>r.disabled||(i==null?void 0:i.disabled)),O=G(()=>f.cssVarBlock({"void-color":r.voidColor,"disabled-void-color":r.disabledVoidColor,"fill-color":P.value})),_=G(()=>{let V="";return r.showScore?V=r.scoreTemplate.replace(/\{\s*value\s*\}/,S.value?`${r.modelValue}`:`${v.value}`):r.showText&&(V=r.texts[Math.ceil(v.value)-1]),V}),A=G(()=>r.modelValue*100-Math.floor(r.modelValue)*100),T=G(()=>Sn(r.colors)?{[r.lowThreshold]:r.colors[0],[r.highThreshold]:{value:r.colors[1],excluded:!0},[r.max]:r.colors[2]}:r.colors),P=G(()=>{const V=o(v.value,T.value);return Er(V)?"":V}),x=G(()=>{let V="";return S.value?V=`${A.value}%`:r.allowHalf&&(V="50%"),{color:P.value,width:V}}),N=G(()=>{let V=Sn(r.icons)?[...r.icons]:{...r.icons};return V=Ah(V),Sn(V)?{[r.lowThreshold]:V[0],[r.highThreshold]:{value:V[1],excluded:!0},[r.max]:V[2]}:V}),L=G(()=>o(r.modelValue,N.value)),j=G(()=>S.value?Kn(r.disabledVoidIcon)?r.disabledVoidIcon:Ah(r.disabledVoidIcon):Kn(r.voidIcon)?r.voidIcon:Ah(r.voidIcon)),k=G(()=>o(v.value,N.value));function F(V){const Y=S.value&&A.value>0&&V-1<r.modelValue&&V>r.modelValue,K=r.allowHalf&&m.value&&V-.5<=v.value&&V>v.value;return Y||K}function z(V){S.value||(r.allowHalf&&m.value?(n(hr,v.value),r.modelValue!==v.value&&n("change",v.value)):(n(hr,V),r.modelValue!==V&&n("change",V)))}function M(V){if(S.value)return;let Y=v.value;const K=V.code;return K===Mn.up||K===Mn.right?(r.allowHalf?Y+=.5:Y+=1,V.stopPropagation(),V.preventDefault()):(K===Mn.left||K===Mn.down)&&(r.allowHalf?Y-=.5:Y-=1,V.stopPropagation(),V.preventDefault()),Y=Y<0?0:Y,Y=Y>r.max?r.max:Y,n(hr,Y),n("change",Y),Y}function D(V,Y){if(!S.value){if(r.allowHalf){let K=Y.target;pl(K,f.e("item"))&&(K=K.querySelector(`.${f.e("icon")}`)),(K.clientWidth===0||pl(K,f.e("decimal")))&&(K=K.parentNode),m.value=Y.offsetX*2<=K.clientWidth,v.value=m.value?V-.5:V}else v.value=V;y.value=V}}function B(){S.value||(r.allowHalf&&(m.value=r.modelValue!==Math.floor(r.modelValue)),v.value=r.modelValue,y.value=-1)}return At(()=>r.modelValue,V=>{v.value=V,m.value=r.modelValue!==Math.floor(r.modelValue)}),r.modelValue||n(hr,0),t({setCurrentValue:D,resetCurrentValue:B}),(V,Y)=>{var K;return H(),le("div",{id:E(d),class:Z([E(b),E(f).is("disabled",E(S))]),role:"slider","aria-label":E(h)?void 0:V.label||"rating","aria-labelledby":E(h)?(K=E(a))==null?void 0:K.labelId:void 0,"aria-valuenow":v.value,"aria-valuetext":E(_)||void 0,"aria-valuemin":"0","aria-valuemax":V.max,tabindex:"0",style:gn(E(O)),onKeydown:M},[(H(!0),le(wn,null,_r(V.max,(X,W)=>(H(),le("span",{key:W,class:Z(E(f).e("item")),onMousemove:ie=>D(X,ie),onMouseleave:B,onClick:ie=>z(X)},[Te(E(En),{class:Z([E(f).e("icon"),{hover:y.value===X},E(f).is("active",X<=v.value)])},{default:Be(()=>[F(X)?Ye("v-if",!0):(H(),le(wn,{key:0},[Gn((H(),et(mr(E(k)),null,null,512)),[[Lr,X<=v.value]]),Gn((H(),et(mr(E(j)),null,null,512)),[[Lr,!(X<=v.value)]])],64)),F(X)?(H(),et(E(En),{key:1,style:gn(E(x)),class:Z([E(f).e("icon"),E(f).e("decimal")])},{default:Be(()=>[(H(),et(mr(E(L))))]),_:1},8,["style","class"])):Ye("v-if",!0)]),_:2},1032,["class"])],42,sRe))),128)),V.showText||V.showScore?(H(),le("span",{key:0,class:Z(E(f).e("text"))},Bt(E(_)),3)):Ye("v-if",!0)],46,aRe)}}});var cRe=zt(uRe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/rate/src/rate.vue"]]);const fRe=fr(cRe),Bv={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},lB={[Bv.success]:wye,[Bv.warning]:b_,[Bv.error]:UM,[Bv.info]:VM},dRe=Kt({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),hRe={name:"ElResult"},pRe=St({...hRe,props:dRe,setup(e){const t=e,n=wt("result"),r=G(()=>{const o=t.icon,i=o&&Bv[o]?Bv[o]:"icon-info",a=lB[i]||lB["icon-info"];return{class:i,component:a}});return(o,i)=>(H(),le("div",{class:Z(E(n).b())},[ve("div",{class:Z(E(n).e("icon"))},[bt(o.$slots,"icon",{},()=>[E(r).component?(H(),et(mr(E(r).component),{key:0,class:Z(E(r).class)},null,8,["class"])):Ye("v-if",!0)])],2),o.title||o.$slots.title?(H(),le("div",{key:0,class:Z(E(n).e("title"))},[bt(o.$slots,"title",{},()=>[ve("p",null,Bt(o.title),1)])],2)):Ye("v-if",!0),o.subTitle||o.$slots["sub-title"]?(H(),le("div",{key:1,class:Z(E(n).e("subtitle"))},[bt(o.$slots,"sub-title",{},()=>[ve("p",null,Bt(o.subTitle),1)])],2)):Ye("v-if",!0),o.$slots.extra?(H(),le("div",{key:2,class:Z(E(n).e("extra"))},[bt(o.$slots,"extra")],2)):Ye("v-if",!0)],2))}});var vRe=zt(pRe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/result/src/result.vue"]]);const yRe=fr(vRe),mRe=["start","center","end","space-around","space-between","space-evenly"],gRe=["top","middle","bottom"],bRe=Kt({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:mRe,default:"start"},align:{type:String,values:gRe,default:"top"}}),ERe={name:"ElRow"},SRe=St({...ERe,props:bRe,setup(e){const t=e,n=wt("row"),r=G(()=>t.gutter);Sr(aG,{gutter:r});const o=G(()=>{const i={};return t.gutter&&(i.marginRight=i.marginLeft=`-${t.gutter/2}px`),i});return(i,a)=>(H(),et(mr(i.tag),{class:Z([E(n).b(),E(n).is(`justify-${t.justify}`,i.justify!=="start"),E(n).is(`align-${t.align}`,i.align!=="top")]),style:gn(E(o))},{default:Be(()=>[bt(i.$slots,"default")]),_:3},8,["class","style"]))}});var wRe=zt(SRe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);const ORe=fr(wRe);var uB=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function _Re(e,t){return!!(e===t||uB(e)&&uB(t))}function TRe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!_Re(e[n],t[n]))return!1;return!0}function CRe(e,t){t===void 0&&(t=TRe);var n=null;function r(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(n&&n.lastThis===this&&t(o,n.lastArgs))return n.lastResult;var a=e.apply(this,o);return n={lastResult:a,lastArgs:o,lastThis:this},a}return r.clear=function(){n=null},r}const A9=()=>{const t=cr().proxy.$props;return G(()=>{const n=(r,o,i)=>({});return t.perfMode?p_(n):CRe(n)})},ex=50,wO="itemRendered",OO="scroll",jv="forward",_O="backward",xs="auto",D_="smart",Ob="start",lu="center",_b="end",Ey="horizontal",_N="vertical",ARe="ltr",Zv="rtl",Tb="negative",TN="positive-ascending",CN="positive-descending",PRe={[Ey]:"left",[_N]:"top"},xRe=20,MRe={[Ey]:"deltaX",[_N]:"deltaY"},NRe=({atEndEdge:e,atStartEdge:t,layout:n},r)=>{let o,i=0;const a=f=>f<0&&t.value||f>0&&e.value;return{hasReachedEdge:a,onWheel:f=>{XM(o);const d=f[MRe[n.value]];a(i)&&a(i+d)||(i+=d,WM()||f.preventDefault(),o=KM(()=>{r(i),i=0}))}}},tx=Sl({type:ot([Number,Function]),required:!0}),nx=Sl({type:Number}),rx=Sl({type:Number,default:2}),RRe=Sl({type:String,values:["ltr","rtl"],default:"ltr"}),ox=Sl({type:Number,default:0}),TO=Sl({type:Number,required:!0}),P9=Sl({type:String,values:["horizontal","vertical"],default:_N}),x9=Kt({className:{type:String,default:""},containerElement:{type:ot([String,Object]),default:"div"},data:{type:ot(Array),default:()=>_o([])},direction:RRe,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:ot([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),M9=Kt({cache:rx,estimatedItemSize:nx,layout:P9,initScrollOffset:ox,total:TO,itemSize:tx,...x9}),ix={type:Number,default:6},N9={type:Number,default:0},R9={type:Number,default:2},Nh=Kt({columnCache:rx,columnWidth:tx,estimatedColumnWidth:nx,estimatedRowHeight:nx,initScrollLeft:ox,initScrollTop:ox,itemKey:{type:ot(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:rx,rowHeight:tx,totalColumn:TO,totalRow:TO,hScrollbarSize:ix,vScrollbarSize:ix,scrollbarStartGap:N9,scrollbarEndGap:R9,...x9}),I9=Kt({alwaysOn:Boolean,class:String,layout:P9,total:TO,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:ix,startGap:N9,endGap:R9,visible:Boolean}),Oh=(e,t)=>e<t?jv:_O,Cb=e=>e===ARe||e===Zv||e===Ey,cB=e=>e===Zv;let yv=null;function CO(e=!1){if(yv===null||e){const t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const r=document.createElement("div"),o=r.style;return o.width="100px",o.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?yv=CN:(t.scrollLeft=1,t.scrollLeft===0?yv=Tb:yv=TN),document.body.removeChild(t),yv}return yv}function IRe({move:e,size:t,bar:n},r){const o={},i=`translate${n.axis}(${e}px)`;return o[n.size]=t,o.transform=i,o.msTransform=i,o.webkitTransform=i,r==="horizontal"?o.height="100%":o.width="100%",o}const ax=St({name:"ElVirtualScrollBar",props:I9,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const n=G(()=>e.startGap+e.endGap),r=wt("virtual-scrollbar"),o=wt("scrollbar"),i=re(),a=re();let s=null,f=null;const d=Xr({isDragging:!1,traveled:0}),h=G(()=>PG[e.layout]),v=G(()=>e.clientSize-E(n)),y=G(()=>({position:"absolute",width:`${Ey===e.layout?v.value:e.scrollbarSize}px`,height:`${Ey===e.layout?e.scrollbarSize:v.value}px`,[PRe[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),m=G(()=>{const N=e.ratio,L=e.clientSize;if(N>=100)return Number.POSITIVE_INFINITY;if(N>=50)return N*L/100;const j=L/3;return Math.floor(Math.min(Math.max(N*L,xRe),j))}),b=G(()=>{if(!Number.isFinite(m.value))return{display:"none"};const N=`${m.value}px`;return IRe({bar:h.value,size:N,move:d.traveled},e.layout)}),S=G(()=>Math.floor(e.clientSize-m.value-E(n))),O=()=>{window.addEventListener("mousemove",P),window.addEventListener("mouseup",T);const N=E(a);!N||(f=document.onselectstart,document.onselectstart=()=>!1,N.addEventListener("touchmove",P),N.addEventListener("touchend",T))},_=()=>{window.removeEventListener("mousemove",P),window.removeEventListener("mouseup",T),document.onselectstart=f,f=null;const N=E(a);!N||(N.removeEventListener("touchmove",P),N.removeEventListener("touchend",T))},A=N=>{N.stopImmediatePropagation(),!(N.ctrlKey||[1,2].includes(N.button))&&(d.isDragging=!0,d[h.value.axis]=N.currentTarget[h.value.offset]-(N[h.value.client]-N.currentTarget.getBoundingClientRect()[h.value.direction]),t("start-move"),O())},T=()=>{d.isDragging=!1,d[h.value.axis]=0,t("stop-move"),_()},P=N=>{const{isDragging:L}=d;if(!L||!a.value||!i.value)return;const j=d[h.value.axis];if(!j)return;XM(s);const k=(i.value.getBoundingClientRect()[h.value.direction]-N[h.value.client])*-1,F=a.value[h.value.offset]-j,z=k-F;s=KM(()=>{d.traveled=Math.max(e.startGap,Math.min(z,S.value)),t("scroll",z,S.value)})},x=N=>{const L=Math.abs(N.target.getBoundingClientRect()[h.value.direction]-N[h.value.client]),j=a.value[h.value.offset]/2,k=L-j;d.traveled=Math.max(0,Math.min(k,S.value)),t("scroll",k,S.value)};return At(()=>e.scrollFrom,N=>{d.isDragging||(d.traveled=Math.ceil(N*S.value))}),Go(()=>{_()}),()=>Pn("div",{role:"presentation",ref:i,class:[r.b(),e.class,(e.alwaysOn||d.isDragging)&&"always-on"],style:y.value,onMousedown:Fn(x,["stop","prevent"]),onTouchstartPrevent:A},Pn("div",{ref:a,class:o.e("thumb"),style:b.value,onMousedown:A},[]))}}),D9=({name:e,getOffset:t,getItemSize:n,getItemOffset:r,getEstimatedTotalSize:o,getStartIndexForOffset:i,getStopIndexForStartIndex:a,initCache:s,clearCache:f,validateProps:d})=>St({name:e!=null?e:"ElVirtualList",props:M9,emits:[wO,OO],setup(h,{emit:v,expose:y}){d(h);const m=cr(),b=wt("vl"),S=re(s(h,m)),O=A9(),_=re(),A=re(),T=re(),P=re({isScrolling:!1,scrollDir:"forward",scrollOffset:Jn(h.initScrollOffset)?h.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:h.scrollbarAlwaysOn}),x=G(()=>{const{total:ue,cache:Ne}=h,{isScrolling:$e,scrollDir:Ie,scrollOffset:Le}=E(P);if(ue===0)return[0,0,0,0];const he=i(h,Le,E(S)),te=a(h,he,Le,E(S)),ae=!$e||Ie===_O?Math.max(1,Ne):1,Ce=!$e||Ie===jv?Math.max(1,Ne):1;return[Math.max(0,he-ae),Math.max(0,Math.min(ue-1,te+Ce)),he,te]}),N=G(()=>o(h,E(S))),L=G(()=>Cb(h.layout)),j=G(()=>[{position:"relative",[`overflow-${L.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:h.direction,height:Jn(h.height)?`${h.height}px`:h.height,width:Jn(h.width)?`${h.width}px`:h.width},h.style]),k=G(()=>{const ue=E(N),Ne=E(L);return{height:Ne?"100%":`${ue}px`,pointerEvents:E(P).isScrolling?"none":void 0,width:Ne?`${ue}px`:"100%"}}),F=G(()=>L.value?h.width:h.height),{onWheel:z}=NRe({atStartEdge:G(()=>P.value.scrollOffset<=0),atEndEdge:G(()=>P.value.scrollOffset>=N.value),layout:G(()=>h.layout)},ue=>{var Ne,$e;($e=(Ne=T.value).onMouseUp)==null||$e.call(Ne),K(Math.min(P.value.scrollOffset+ue,N.value-F.value))}),M=()=>{const{total:ue}=h;if(ue>0){const[Le,he,te,ae]=E(x);v(wO,Le,he,te,ae)}const{scrollDir:Ne,scrollOffset:$e,updateRequested:Ie}=E(P);v(OO,Ne,$e,Ie)},D=ue=>{const{clientHeight:Ne,scrollHeight:$e,scrollTop:Ie}=ue.currentTarget,Le=E(P);if(Le.scrollOffset===Ie)return;const he=Math.max(0,Math.min(Ie,$e-Ne));P.value={...Le,isScrolling:!0,scrollDir:Oh(Le.scrollOffset,he),scrollOffset:he,updateRequested:!1},bn(ie)},B=ue=>{const{clientWidth:Ne,scrollLeft:$e,scrollWidth:Ie}=ue.currentTarget,Le=E(P);if(Le.scrollOffset===$e)return;const{direction:he}=h;let te=$e;if(he===Zv)switch(CO()){case Tb:{te=-$e;break}case CN:{te=Ie-Ne-$e;break}}te=Math.max(0,Math.min(te,Ie-Ne)),P.value={...Le,isScrolling:!0,scrollDir:Oh(Le.scrollOffset,te),scrollOffset:te,updateRequested:!1},bn(ie)},V=ue=>{E(L)?B(ue):D(ue),M()},Y=(ue,Ne)=>{const $e=(N.value-F.value)/Ne*ue;K(Math.min(N.value-F.value,$e))},K=ue=>{ue=Math.max(ue,0),ue!==E(P).scrollOffset&&(P.value={...E(P),scrollOffset:ue,scrollDir:Oh(E(P).scrollOffset,ue),updateRequested:!0},bn(ie))},X=(ue,Ne=xs)=>{const{scrollOffset:$e}=E(P);ue=Math.max(0,Math.min(ue,h.total-1)),K(t(h,ue,Ne,$e,E(S)))},W=ue=>{const{direction:Ne,itemSize:$e,layout:Ie}=h,Le=O.value(f&&$e,f&&Ie,f&&Ne);let he;if(xr(Le,String(ue)))he=Le[ue];else{const te=r(h,ue,E(S)),ae=n(h,ue,E(S)),Ce=E(L),Ze=Ne===Zv,se=Ce?te:0;Le[ue]=he={position:"absolute",left:Ze?void 0:`${se}px`,right:Ze?`${se}px`:void 0,top:Ce?0:`${te}px`,height:Ce?"100%":`${ae}px`,width:Ce?`${ae}px`:"100%"}}return he},ie=()=>{P.value.isScrolling=!1,bn(()=>{O.value(-1,null,null)})},oe=()=>{const ue=_.value;ue&&(ue.scrollTop=0)};ir(()=>{if(!Rr)return;const{initScrollOffset:ue}=h,Ne=E(_);Jn(ue)&&Ne&&(E(L)?Ne.scrollLeft=ue:Ne.scrollTop=ue),M()}),gu(()=>{const{direction:ue,layout:Ne}=h,{scrollOffset:$e,updateRequested:Ie}=E(P),Le=E(_);if(Ie&&Le)if(Ne===Ey)if(ue===Zv)switch(CO()){case Tb:{Le.scrollLeft=-$e;break}case TN:{Le.scrollLeft=$e;break}default:{const{clientWidth:he,scrollWidth:te}=Le;Le.scrollLeft=te-he-$e;break}}else Le.scrollLeft=$e;else Le.scrollTop=$e});const ee={ns:b,clientSize:F,estimatedTotalSize:N,windowStyle:j,windowRef:_,innerRef:A,innerStyle:k,itemsToRender:x,scrollbarRef:T,states:P,getItemStyle:W,onScroll:V,onScrollbarScroll:Y,onWheel:z,scrollTo:K,scrollToItem:X,resetScrollTop:oe};return y({windowRef:_,innerRef:A,getItemStyleCache:O,scrollTo:K,scrollToItem:X,resetScrollTop:oe,states:P}),ee},render(h){var v;const{$slots:y,className:m,clientSize:b,containerElement:S,data:O,getItemStyle:_,innerElement:A,itemsToRender:T,innerStyle:P,layout:x,total:N,onScroll:L,onScrollbarScroll:j,onWheel:k,states:F,useIsScrolling:z,windowStyle:M,ns:D}=h,[B,V]=T,Y=mr(S),K=mr(A),X=[];if(N>0)for(let ee=B;ee<=V;ee++)X.push((v=y.default)==null?void 0:v.call(y,{data:O,key:ee,index:ee,isScrolling:z?F.isScrolling:void 0,style:_(ee)}));const W=[Pn(K,{style:P,ref:"innerRef"},Kn(K)?X:{default:()=>X})],ie=Pn(ax,{ref:"scrollbarRef",clientSize:b,layout:x,onScroll:j,ratio:b*100/this.estimatedTotalSize,scrollFrom:F.scrollOffset/(this.estimatedTotalSize-b),total:N}),oe=Pn(Y,{class:[D.e("window"),m],style:M,onScroll:L,onWheel:k,ref:"windowRef",key:0},Kn(Y)?[W]:{default:()=>[W]});return Pn("div",{key:0,class:[D.e("wrapper"),F.scrollbarAlwaysOn?"always-on":""]},[oe,ie])}}),k9=D9({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:n,layout:r,width:o},i,a,s)=>{const f=Cb(r)?o:e,d=Math.max(0,t*n-f),h=Math.min(d,i*n),v=Math.max(0,(i+1)*n-f);switch(a===D_&&(s>=v-f&&s<=h+f?a=xs:a=lu),a){case Ob:return h;case _b:return v;case lu:{const y=Math.round(v+(h-v)/2);return y<Math.ceil(f/2)?0:y>d+Math.floor(f/2)?d:y}case xs:default:return s>=v&&s<=h?s:s<v?v:h}},getStartIndexForOffset:({total:e,itemSize:t},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:n,layout:r,width:o},i,a)=>{const s=i*n,f=Cb(r)?o:e,d=Math.ceil((f+a-s)/n);return Math.max(0,Math.min(t-1,i+d-1))},initCache(){},clearCache:!0,validateProps(){}}),Fv=(e,t,n)=>{const{itemSize:r}=e,{items:o,lastVisitedIndex:i}=n;if(t>i){let a=0;if(i>=0){const s=o[i];a=s.offset+s.size}for(let s=i+1;s<=t;s++){const f=r(s);o[s]={offset:a,size:f},a+=f}n.lastVisitedIndex=t}return o[t]},DRe=(e,t,n)=>{const{items:r,lastVisitedIndex:o}=t;return(o>0?r[o].offset:0)>=n?L9(e,t,0,o,n):kRe(e,t,Math.max(0,o),n)},L9=(e,t,n,r,o)=>{for(;n<=r;){const i=n+Math.floor((r-n)/2),a=Fv(e,i,t).offset;if(a===o)return i;a<o?n=i+1:a>o&&(r=i-1)}return Math.max(0,n-1)},kRe=(e,t,n,r)=>{const{total:o}=e;let i=1;for(;n<o&&Fv(e,n,t).offset<r;)n+=i,i*=2;return L9(e,t,Math.floor(n/2),Math.min(n,o-1),r)},fB=({total:e},{items:t,estimatedItemSize:n,lastVisitedIndex:r})=>{let o=0;if(r>=e&&(r=e-1),r>=0){const s=t[r];o=s.offset+s.size}const a=(e-r-1)*n;return o+a},LRe=D9({name:"ElDynamicSizeList",getItemOffset:(e,t,n)=>Fv(e,t,n).offset,getItemSize:(e,t,{items:n})=>n[t].size,getEstimatedTotalSize:fB,getOffset:(e,t,n,r,o)=>{const{height:i,layout:a,width:s}=e,f=Cb(a)?s:i,d=Fv(e,t,o),h=fB(e,o),v=Math.max(0,Math.min(h-f,d.offset)),y=Math.max(0,d.offset-f+d.size);switch(n===D_&&(r>=y-f&&r<=v+f?n=xs:n=lu),n){case Ob:return v;case _b:return y;case lu:return Math.round(y+(v-y)/2);case xs:default:return r>=y&&r<=v?r:r<y?y:v}},getStartIndexForOffset:(e,t,n)=>DRe(e,n,t),getStopIndexForStartIndex:(e,t,n,r)=>{const{height:o,total:i,layout:a,width:s}=e,f=Cb(a)?s:o,d=Fv(e,t,r),h=n+f;let v=d.offset+d.size,y=t;for(;y<i-1&&v<h;)y++,v+=Fv(e,y,r).size;return y},initCache({estimatedItemSize:e=ex},t){const n={items:{},estimatedItemSize:e,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(r,o=!0)=>{var i,a;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,r-1),(i=t.exposed)==null||i.getItemStyleCache(-1),o&&((a=t.proxy)==null||a.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:e})=>{}}),$Re=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:n,atYStartEdge:r},o)=>{let i=null,a=0,s=0;const f=(h,v)=>{const y=h<0&&t.value||h>0&&e.value,m=v<0&&r.value||v>0&&n.value;return y&&m};return{hasReachedEdge:f,onWheel:h=>{XM(i);let v=h.deltaX,y=h.deltaY;Math.abs(v)>Math.abs(y)?y=0:v=0,h.shiftKey&&y!==0&&(v=y,y=0),!(f(a,s)&&f(a+v,s+y))&&(a+=v,s+=y,WM()||h.preventDefault(),i=KM(()=>{o(a,s),a=0,s=0}))}}},$9=({name:e,clearCache:t,getColumnPosition:n,getColumnStartIndexForOffset:r,getColumnStopIndexForStartIndex:o,getEstimatedTotalHeight:i,getEstimatedTotalWidth:a,getColumnOffset:s,getRowOffset:f,getRowPosition:d,getRowStartIndexForOffset:h,getRowStopIndexForStartIndex:v,initCache:y,injectToInstance:m,validateProps:b})=>St({name:e!=null?e:"ElVirtualList",props:Nh,emits:[wO,OO],setup(S,{emit:O,expose:_,slots:A}){const T=wt("vl");b(S);const P=cr(),x=re(y(S,P));m==null||m(P,x);const N=re(),L=re(),j=re(),k=re(null),F=re({isScrolling:!1,scrollLeft:Jn(S.initScrollLeft)?S.initScrollLeft:0,scrollTop:Jn(S.initScrollTop)?S.initScrollTop:0,updateRequested:!1,xAxisScrollDir:jv,yAxisScrollDir:jv}),z=A9(),M=G(()=>Number.parseInt(`${S.height}`,10)),D=G(()=>Number.parseInt(`${S.width}`,10)),B=G(()=>{const{totalColumn:Re,totalRow:qe,columnCache:pe}=S,{isScrolling:Ue,xAxisScrollDir:Ke,scrollLeft:Ve}=E(F);if(Re===0||qe===0)return[0,0,0,0];const ne=r(S,Ve,E(x)),fe=o(S,ne,Ve,E(x)),Me=!Ue||Ke===_O?Math.max(1,pe):1,it=!Ue||Ke===jv?Math.max(1,pe):1;return[Math.max(0,ne-Me),Math.max(0,Math.min(Re-1,fe+it)),ne,fe]}),V=G(()=>{const{totalColumn:Re,totalRow:qe,rowCache:pe}=S,{isScrolling:Ue,yAxisScrollDir:Ke,scrollTop:Ve}=E(F);if(Re===0||qe===0)return[0,0,0,0];const ne=h(S,Ve,E(x)),fe=v(S,ne,Ve,E(x)),Me=!Ue||Ke===_O?Math.max(1,pe):1,it=!Ue||Ke===jv?Math.max(1,pe):1;return[Math.max(0,ne-Me),Math.max(0,Math.min(qe-1,fe+it)),ne,fe]}),Y=G(()=>i(S,E(x))),K=G(()=>a(S,E(x))),X=G(()=>{var Re;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:S.direction,height:Jn(S.height)?`${S.height}px`:S.height,width:Jn(S.width)?`${S.width}px`:S.width},(Re=S.style)!=null?Re:{}]}),W=G(()=>{const Re=`${E(K)}px`;return{height:`${E(Y)}px`,pointerEvents:E(F).isScrolling?"none":void 0,width:Re}}),ie=()=>{const{totalColumn:Re,totalRow:qe}=S;if(Re>0&&qe>0){const[fe,Me,it,Oe]=E(B),[_e,nt,Se,tt]=E(V);O(wO,{columnCacheStart:fe,columnCacheEnd:Me,rowCacheStart:_e,rowCacheEnd:nt,columnVisibleStart:it,columnVisibleEnd:Oe,rowVisibleStart:Se,rowVisibleEnd:tt})}const{scrollLeft:pe,scrollTop:Ue,updateRequested:Ke,xAxisScrollDir:Ve,yAxisScrollDir:ne}=E(F);O(OO,{xAxisScrollDir:Ve,scrollLeft:pe,yAxisScrollDir:ne,scrollTop:Ue,updateRequested:Ke})},oe=Re=>{const{clientHeight:qe,clientWidth:pe,scrollHeight:Ue,scrollLeft:Ke,scrollTop:Ve,scrollWidth:ne}=Re.currentTarget,fe=E(F);if(fe.scrollTop===Ve&&fe.scrollLeft===Ke)return;let Me=Ke;if(cB(S.direction))switch(CO()){case Tb:Me=-Ke;break;case CN:Me=ne-pe-Ke;break}F.value={...fe,isScrolling:!0,scrollLeft:Me,scrollTop:Math.max(0,Math.min(Ve,Ue-qe)),updateRequested:!0,xAxisScrollDir:Oh(fe.scrollLeft,Me),yAxisScrollDir:Oh(fe.scrollTop,Ve)},bn(()=>he()),te(),ie()},ee=(Re,qe)=>{const pe=E(M),Ue=(Y.value-pe)/qe*Re;$e({scrollTop:Math.min(Y.value-pe,Ue)})},ue=(Re,qe)=>{const pe=E(D),Ue=(K.value-pe)/qe*Re;$e({scrollLeft:Math.min(K.value-pe,Ue)})},{onWheel:Ne}=$Re({atXStartEdge:G(()=>F.value.scrollLeft<=0),atXEndEdge:G(()=>F.value.scrollLeft>=K.value),atYStartEdge:G(()=>F.value.scrollTop<=0),atYEndEdge:G(()=>F.value.scrollTop>=Y.value)},(Re,qe)=>{var pe,Ue,Ke,Ve;(Ue=(pe=L.value)==null?void 0:pe.onMouseUp)==null||Ue.call(pe),(Ve=(Ke=L.value)==null?void 0:Ke.onMouseUp)==null||Ve.call(Ke);const ne=E(D),fe=E(M);$e({scrollLeft:Math.min(F.value.scrollLeft+Re,K.value-ne),scrollTop:Math.min(F.value.scrollTop+qe,Y.value-fe)})}),$e=({scrollLeft:Re=F.value.scrollLeft,scrollTop:qe=F.value.scrollTop})=>{Re=Math.max(Re,0),qe=Math.max(qe,0);const pe=E(F);qe===pe.scrollTop&&Re===pe.scrollLeft||(F.value={...pe,xAxisScrollDir:Oh(pe.scrollLeft,Re),yAxisScrollDir:Oh(pe.scrollTop,qe),scrollLeft:Re,scrollTop:qe,updateRequested:!0},bn(()=>he()),te(),ie())},Ie=(Re=0,qe=0,pe=xs)=>{const Ue=E(F);qe=Math.max(0,Math.min(qe,S.totalColumn-1)),Re=Math.max(0,Math.min(Re,S.totalRow-1));const Ke=zH(T.namespace.value),Ve=E(x),ne=i(S,Ve),fe=a(S,Ve);$e({scrollLeft:s(S,qe,pe,Ue.scrollLeft,Ve,fe>S.width?Ke:0),scrollTop:f(S,Re,pe,Ue.scrollTop,Ve,ne>S.height?Ke:0)})},Le=(Re,qe)=>{const{columnWidth:pe,direction:Ue,rowHeight:Ke}=S,Ve=z.value(t&&pe,t&&Ke,t&&Ue),ne=`${Re},${qe}`;if(xr(Ve,ne))return Ve[ne];{const[,fe]=n(S,qe,E(x)),Me=E(x),it=cB(Ue),[Oe,_e]=d(S,Re,Me),[nt]=n(S,qe,Me);return Ve[ne]={position:"absolute",left:it?void 0:`${fe}px`,right:it?`${fe}px`:void 0,top:`${_e}px`,height:`${Oe}px`,width:`${nt}px`},Ve[ne]}},he=()=>{F.value.isScrolling=!1,bn(()=>{z.value(-1,null,null)})};ir(()=>{if(!Rr)return;const{initScrollLeft:Re,initScrollTop:qe}=S,pe=E(N);pe&&(Jn(Re)&&(pe.scrollLeft=Re),Jn(qe)&&(pe.scrollTop=qe)),ie()});const te=()=>{const{direction:Re}=S,{scrollLeft:qe,scrollTop:pe,updateRequested:Ue}=E(F),Ke=E(N);if(Ue&&Ke){if(Re===Zv)switch(CO()){case Tb:{Ke.scrollLeft=-qe;break}case TN:{Ke.scrollLeft=qe;break}default:{const{clientWidth:Ve,scrollWidth:ne}=Ke;Ke.scrollLeft=ne-Ve-qe;break}}else Ke.scrollLeft=Math.max(0,qe);Ke.scrollTop=Math.max(0,pe)}},{resetAfterColumnIndex:ae,resetAfterRowIndex:Ce,resetAfter:Ze}=P.proxy;_({windowRef:N,innerRef:k,getItemStyleCache:z,scrollTo:$e,scrollToItem:Ie,states:F,resetAfterColumnIndex:ae,resetAfterRowIndex:Ce,resetAfter:Ze});const se=()=>{const{scrollbarAlwaysOn:Re,scrollbarStartGap:qe,scrollbarEndGap:pe,totalColumn:Ue,totalRow:Ke}=S,Ve=E(D),ne=E(M),fe=E(K),Me=E(Y),{scrollLeft:it,scrollTop:Oe}=E(F),_e=Pn(ax,{ref:L,alwaysOn:Re,startGap:qe,endGap:pe,class:T.e("horizontal"),clientSize:Ve,layout:"horizontal",onScroll:ue,ratio:Ve*100/fe,scrollFrom:it/(fe-Ve),total:Ke,visible:!0}),nt=Pn(ax,{ref:j,alwaysOn:Re,startGap:qe,endGap:pe,class:T.e("vertical"),clientSize:ne,layout:"vertical",onScroll:ee,ratio:ne*100/Me,scrollFrom:Oe/(Me-ne),total:Ue,visible:!0});return{horizontalScrollbar:_e,verticalScrollbar:nt}},de=()=>{var Re;const[qe,pe]=E(B),[Ue,Ke]=E(V),{data:Ve,totalColumn:ne,totalRow:fe,useIsScrolling:Me,itemKey:it}=S,Oe=[];if(fe>0&&ne>0)for(let _e=Ue;_e<=Ke;_e++)for(let nt=qe;nt<=pe;nt++)Oe.push((Re=A.default)==null?void 0:Re.call(A,{columnIndex:nt,data:Ve,key:it({columnIndex:nt,data:Ve,rowIndex:_e}),isScrolling:Me?E(F).isScrolling:void 0,style:Le(_e,nt),rowIndex:_e}));return Oe},ze=()=>{const Re=mr(S.innerElement),qe=de();return[Pn(Re,{style:E(W),ref:k},Kn(Re)?qe:{default:()=>qe})]};return()=>{const Re=mr(S.containerElement),{horizontalScrollbar:qe,verticalScrollbar:pe}=se(),Ue=ze();return Pn("div",{key:0,class:T.e("wrapper")},[Pn(Re,{class:S.className,style:E(X),onScroll:oe,onWheel:Ne,ref:N},Kn(Re)?Ue:{default:()=>Ue}),qe,pe])}}}),BRe=$9({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:n},r,o,i,a,s)=>{n=Number(n);const f=Math.max(0,e*t-n),d=Math.min(f,r*t),h=Math.max(0,r*t-n+s+t);switch(o==="smart"&&(i>=h-n&&i<=d+n?o=xs:o=lu),o){case Ob:return d;case _b:return h;case lu:{const v=Math.round(h+(d-h)/2);return v<Math.ceil(n/2)?0:v>f+Math.floor(n/2)?f:v}case xs:default:return i>=h&&i<=d?i:h>d||i<h?h:d}},getRowOffset:({rowHeight:e,height:t,totalRow:n},r,o,i,a,s)=>{t=Number(t);const f=Math.max(0,n*e-t),d=Math.min(f,r*e),h=Math.max(0,r*e-t+s+e);switch(o===D_&&(i>=h-t&&i<=d+t?o=xs:o=lu),o){case Ob:return d;case _b:return h;case lu:{const v=Math.round(h+(d-h)/2);return v<Math.ceil(t/2)?0:v>f+Math.floor(t/2)?f:v}case xs:default:return i>=h&&i<=d?i:h>d||i<h?h:d}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:n},r,o)=>{const i=r*e,a=Math.ceil((n+o-i)/e);return Math.max(0,Math.min(t-1,r+a-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:n},r,o)=>{const i=r*e,a=Math.ceil((n+o-i)/e);return Math.max(0,Math.min(t-1,r+a-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),{max:AO,min:B9,floor:j9}=Math,jRe={column:"columnWidth",row:"rowHeight"},sx={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},ic=(e,t,n,r)=>{const[o,i,a]=[n[r],e[jRe[r]],n[sx[r]]];if(t>a){let s=0;if(a>=0){const f=o[a];s=f.offset+f.size}for(let f=a+1;f<=t;f++){const d=i(f);o[f]={offset:s,size:d},s+=d}n[sx[r]]=t}return o[t]},F9=(e,t,n,r,o,i)=>{for(;n<=r;){const a=n+j9((r-n)/2),s=ic(e,a,t,i).offset;if(s===o)return a;s<o?n=a+1:r=a-1}return AO(0,n-1)},FRe=(e,t,n,r,o)=>{const i=o==="column"?e.totalColumn:e.totalRow;let a=1;for(;n<i&&ic(e,n,t,o).offset<r;)n+=a,a*=2;return F9(e,t,j9(n/2),B9(n,i-1),r,o)},dB=(e,t,n,r)=>{const[o,i]=[t[r],t[sx[r]]];return(i>0?o[i].offset:0)>=n?F9(e,t,0,i,n,r):FRe(e,t,AO(0,i),n,r)},z9=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:n,row:r})=>{let o=0;if(n>=e&&(n=e-1),n>=0){const s=r[n];o=s.offset+s.size}const a=(e-n-1)*t;return o+a},U9=({totalColumn:e},{column:t,estimatedColumnWidth:n,lastVisitedColumnIndex:r})=>{let o=0;if(r>e&&(r=e-1),r>=0){const s=t[r];o=s.offset+s.size}const a=(e-r-1)*n;return o+a},zRe={column:U9,row:z9},hB=(e,t,n,r,o,i,a)=>{const[s,f]=[i==="row"?e.height:e.width,zRe[i]],d=ic(e,t,o,i),h=f(e,o),v=AO(0,B9(h-s,d.offset)),y=AO(0,d.offset-s+a+d.size);switch(n===D_&&(r>=y-s&&r<=v+s?n=xs:n=lu),n){case Ob:return v;case _b:return y;case lu:return Math.round(y+(v-y)/2);case xs:default:return r>=y&&r<=v?r:y>v||r<y?y:v}},URe=$9({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,n)=>{const r=ic(e,t,n,"column");return[r.size,r.offset]},getRowPosition:(e,t,n)=>{const r=ic(e,t,n,"row");return[r.size,r.offset]},getColumnOffset:(e,t,n,r,o,i)=>hB(e,t,n,r,o,"column",i),getRowOffset:(e,t,n,r,o,i)=>hB(e,t,n,r,o,"row",i),getColumnStartIndexForOffset:(e,t,n)=>dB(e,n,t,"column"),getColumnStopIndexForStartIndex:(e,t,n,r)=>{const o=ic(e,t,r,"column"),i=n+e.width;let a=o.offset+o.size,s=t;for(;s<e.totalColumn-1&&a<i;)s++,a+=ic(e,t,r,"column").size;return s},getEstimatedTotalHeight:z9,getEstimatedTotalWidth:U9,getRowStartIndexForOffset:(e,t,n)=>dB(e,n,t,"row"),getRowStopIndexForStartIndex:(e,t,n,r)=>{const{totalRow:o,height:i}=e,a=ic(e,t,r,"row"),s=n+i;let f=a.size+a.offset,d=t;for(;d<o-1&&f<s;)d++,f+=ic(e,d,r,"row").size;return d},injectToInstance:(e,t)=>{const n=({columnIndex:i,rowIndex:a},s)=>{var f,d;s=Vi(s)?!0:s,Jn(i)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,i-1)),Jn(a)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,a-1)),(f=e.exposed)==null||f.getItemStyleCache.value(-1,null,null),s&&((d=e.proxy)==null||d.$forceUpdate())},r=(i,a)=>{n({columnIndex:i},a)},o=(i,a)=>{n({rowIndex:i},a)};Object.assign(e.proxy,{resetAfterColumnIndex:r,resetAfterRowIndex:o,resetAfter:n})},initCache:({estimatedColumnWidth:e=ex,estimatedRowHeight:t=ex})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),VRe=St({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:wt("select")}}});function HRe(e,t,n,r,o,i){return e.item.isTitle?(H(),le("div",{key:0,class:Z(e.ns.be("group","title")),style:gn([e.style,{lineHeight:`${e.height}px`}])},Bt(e.item.label),7)):(H(),le("div",{key:1,class:Z(e.ns.be("group","split")),style:gn(e.style)},[ve("span",{class:Z(e.ns.be("group","split-dash")),style:gn({top:`${e.height/2}px`})},null,6)],6))}var GRe=zt(VRe,[["render",HRe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);function WRe(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}const KRe={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:id},effect:{type:String,default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},teleported:Bi.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:qh},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},placement:{type:ot(String),values:tp,default:"bottom-start"}},XRe={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},YRe=St({props:XRe,emits:["select","hover"],setup(e,{emit:t}){const n=wt("select"),{hoverItem:r,selectOptionClick:o}=WRe(e,{emit:t});return{ns:n,hoverItem:r,selectOptionClick:o}}}),ZRe=["aria-selected"];function JRe(e,t,n,r,o,i){return H(),le("li",{"aria-selected":e.selected,style:gn(e.style),class:Z([e.ns.be("dropdown","option-item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),{hover:e.hovering}]),onMouseenter:t[0]||(t[0]=(...a)=>e.hoverItem&&e.hoverItem(...a)),onClick:t[1]||(t[1]=Fn((...a)=>e.selectOptionClick&&e.selectOptionClick(...a),["stop"]))},[bt(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[ve("span",null,Bt(e.item.label),1)])],46,ZRe)}var QRe=zt(YRe,[["render",JRe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]);const V9="ElSelectV2Injection";var qRe=St({name:"ElSelectDropdown",props:{data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(e,{slots:t,expose:n}){const r=Cn(V9),o=wt("select"),i=re([]),a=re(),s=G(()=>Vi(r.props.estimatedOptionHeight)),f=G(()=>s.value?{itemSize:r.props.itemHeight}:{estimatedSize:r.props.estimatedOptionHeight,itemSize:L=>i.value[L]}),d=(L=[],j)=>{const{props:{valueKey:k}}=r;return Er(j)?L&&L.some(F=>Ao(F,k)===Ao(j,k)):L.includes(j)},h=(L,j)=>{if(Er(j)){const{valueKey:k}=r.props;return Ao(L,k)===Ao(j,k)}else return L===j},v=(L,j)=>{const{valueKey:k}=r.props;return r.props.multiple?d(L,Ao(j,k)):h(L,Ao(j,k))},y=(L,j)=>{const{disabled:k,multiple:F,multipleLimit:z}=r.props;return k||!j&&(F?z>0&&L.length>=z:!1)},m=L=>e.hoveringIndex===L;n({listRef:a,isSized:s,isItemDisabled:y,isItemHovering:m,isItemSelected:v,scrollToItem:L=>{const j=a.value;j&&j.scrollToItem(L)},resetScrollTop:()=>{const L=a.value;L&&L.resetScrollTop()}});const O=L=>{const{index:j,data:k,style:F}=L,z=E(s),{itemSize:M,estimatedSize:D}=E(f),{modelValue:B}=r.props,{onSelect:V,onHover:Y}=r,K=k[j];if(K.type==="Group")return Te(GRe,{item:K,style:F,height:z?M:D},null);const X=v(B,K),W=y(B,X),ie=m(j);return Te(QRe,br(L,{selected:X,disabled:K.disabled||W,created:!!K.created,hovering:ie,item:K,onSelect:V,onHover:Y}),{default:oe=>{var ee;return((ee=t.default)==null?void 0:ee.call(t,oe))||Te("span",null,[K.label])}})},{onKeyboardNavigate:_,onKeyboardSelect:A}=r,T=()=>{_("forward")},P=()=>{_("backward")},x=()=>{r.expanded=!1},N=L=>{const{code:j}=L,{tab:k,esc:F,down:z,up:M,enter:D}=Mn;switch(j!==k&&(L.preventDefault(),L.stopPropagation()),j){case k:case F:{x();break}case z:{T();break}case M:{P();break}case D:{A();break}}};return()=>{var L;const{data:j,width:k}=e,{height:F,multiple:z,scrollbarAlwaysOn:M}=r.props;if(j.length===0)return Te("div",{class:o.b("dropdown"),style:{width:`${k}px`}},[(L=t.empty)==null?void 0:L.call(t)]);const D=E(s)?k9:LRe;return Te("div",{class:[o.b("dropdown"),o.is("multiple",z)]},[Te(D,br({ref:a},E(f),{className:o.be("dropdown","list"),scrollbarAlwaysOn:M,data:j,height:F,width:k,total:j.length,onKeydown:N}),{default:B=>Te(O,B,null)})])}}});function eIe(e,t){const n=re(0),r=re(null),o=G(()=>e.allowCreate&&e.filterable);function i(h){const v=y=>y.value===h;return e.options&&e.options.some(v)||t.createdOptions.some(v)}function a(h){!o.value||(e.multiple&&h.created?n.value++:r.value=h)}function s(h){if(o.value)if(h&&h.length>0&&!i(h)){const v={value:h,label:h,created:!0,disabled:!1};t.createdOptions.length>=n.value?t.createdOptions[n.value]=v:t.createdOptions.push(v)}else if(e.multiple)t.createdOptions.length=n.value;else{const v=r.value;t.createdOptions.length=0,v&&v.created&&t.createdOptions.push(v)}}function f(h){if(!o.value||!h||!h.created||h.created&&e.reserveKeyword&&t.inputValue===h.label)return;const v=t.createdOptions.findIndex(y=>y.value===h.value);~v&&(t.createdOptions.splice(v,1),n.value--)}function d(){o.value&&(t.createdOptions.length=0,n.value=0)}return{createNewOption:s,removeNewOption:f,selectNewOption:a,clearAllNewOption:d}}const tIe=e=>{const t=[];return e.forEach(n=>{Sn(n.options)?(t.push({label:n.label,isTitle:!0,type:"Group"}),n.options.forEach(r=>{t.push(r)}),t.push({type:"Group"})):t.push(n)}),t};function nIe(e){const t=re(!1);return{handleCompositionStart:()=>{t.value=!0},handleCompositionUpdate:i=>{const a=i.target.value,s=a[a.length-1]||"";t.value=!S_(s)},handleCompositionEnd:i=>{t.value&&(t.value=!1,Wn(e)&&e(i))}}}const pB="",vB=11,rIe={larget:51,default:42,small:33},oIe=(e,t)=>{const{t:n}=Hr(),r=wt("select-v2"),o=wt("input"),{form:i,formItem:a}=as(),s=Xr({inputValue:pB,displayInputValue:pB,calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:"",query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),f=re(-1),d=re(-1),h=re(null),v=re(null),y=re(null),m=re(null),b=re(null),S=re(null),O=re(null),_=re(!1),A=G(()=>e.disabled||(i==null?void 0:i.disabled)),T=G(()=>{const Ot=M.value.length*34;return Ot>e.height?e.height:Ot}),P=G(()=>!$a(e.modelValue)),x=G(()=>{const Ot=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:P.value;return e.clearable&&!A.value&&s.comboBoxHovering&&Ot}),N=G(()=>e.remote&&e.filterable?"":g_),L=G(()=>N.value&&r.is("reverse",_.value)),j=G(()=>(a==null?void 0:a.validateState)||""),k=G(()=>ZH[j.value]),F=G(()=>e.remote?300:0),z=G(()=>{const Ot=M.value;return e.loading?e.loadingText||n("el.select.loading"):e.remote&&s.inputValue===""&&Ot.length===0?!1:e.filterable&&s.inputValue&&Ot.length>0?e.noMatchText||n("el.select.noMatch"):Ot.length===0?e.noDataText||n("el.select.noData"):null}),M=G(()=>{const Ot=be=>{var We;const rt=s.inputValue;return rt?(We=be.label)==null?void 0:We.includes(rt):!0};return e.loading?[]:tIe(e.options.concat(s.createdOptions).map(be=>{if(Sn(be.options)){const We=be.options.filter(Ot);if(We.length>0)return{...be,options:We}}else if(e.remote||Ot(be))return be;return null}).filter(be=>be!==null))}),D=G(()=>M.value.every(Ot=>Ot.disabled)),B=oi(),V=G(()=>B.value==="small"?"small":"default"),Y=G(()=>{const Ot=S.value,be=V.value||"default",We=Ot?Number.parseInt(getComputedStyle(Ot).paddingLeft):0,rt=Ot?Number.parseInt(getComputedStyle(Ot).paddingRight):0;return s.selectWidth-rt-We-rIe[be]}),K=()=>{var Ot;d.value=((Ot=b.value)==null?void 0:Ot.offsetWidth)||200},X=G(()=>({width:`${s.calculatedWidth===0?vB:Math.ceil(s.calculatedWidth)+vB}px`})),W=G(()=>Sn(e.modelValue)?e.modelValue.length===0&&!s.displayInputValue:e.filterable?s.displayInputValue.length===0:!0),ie=G(()=>{const Ot=e.placeholder||n("el.select.placeholder");return e.multiple?Ot:s.selectedLabel||Ot}),oe=G(()=>{var Ot,be;return(be=(Ot=m.value)==null?void 0:Ot.popperRef)==null?void 0:be.contentRef}),ee=G(()=>{if(e.multiple){const Ot=e.modelValue.length;if(e.modelValue.length>0)return M.value.findIndex(be=>be.value===e.modelValue[Ot-1])}else if(e.modelValue)return M.value.findIndex(Ot=>Ot.value===e.modelValue);return-1}),ue=G({get(){return _.value&&z.value!==!1},set(Ot){_.value=Ot}}),{createNewOption:Ne,removeNewOption:$e,selectNewOption:Ie,clearAllNewOption:Le}=eIe(e,s),{handleCompositionStart:he,handleCompositionUpdate:te,handleCompositionEnd:ae}=nIe(Ot=>ur(Ot)),Ce=()=>{var Ot,be,We;(be=(Ot=v.value).focus)==null||be.call(Ot),(We=m.value)==null||We.updatePopper()},Ze=()=>{if(!e.automaticDropdown&&!A.value)return s.isComposing&&(s.softFocus=!0),bn(()=>{var Ot,be;_.value=!_.value,(be=(Ot=v.value)==null?void 0:Ot.focus)==null||be.call(Ot)})},se=()=>(e.filterable&&s.inputValue!==s.selectedLabel&&(s.query=s.selectedLabel),ze(s.inputValue),bn(()=>{Ne(s.inputValue)})),de=Sa(se,F.value),ze=Ot=>{s.previousQuery!==Ot&&(s.previousQuery=Ot,e.filterable&&Wn(e.filterMethod)?e.filterMethod(Ot):e.filterable&&e.remote&&Wn(e.remoteMethod)&&e.remoteMethod(Ot))},lt=Ot=>{Ns(e.modelValue,Ot)||t(Po,Ot)},Re=Ot=>{t(hr,Ot),lt(Ot),s.previousValue=Ot.toString()},qe=(Ot=[],be)=>{if(!Er(be))return Ot.indexOf(be);const We=e.valueKey;let rt=-1;return Ot.some((vt,Jt)=>Ao(vt,We)===Ao(be,We)?(rt=Jt,!0):!1),rt},pe=Ot=>Er(Ot)?Ao(Ot,e.valueKey):Ot,Ue=Ot=>Er(Ot)?Ot.label:Ot,Ke=()=>{if(!(e.collapseTags&&!e.filterable))return bn(()=>{var Ot,be;if(!v.value)return;const We=S.value;b.value.height=We.offsetHeight,_.value&&z.value!==!1&&((be=(Ot=m.value)==null?void 0:Ot.updatePopper)==null||be.call(Ot))})},Ve=()=>{var Ot,be;if(ne(),K(),(be=(Ot=m.value)==null?void 0:Ot.updatePopper)==null||be.call(Ot),e.multiple)return Ke()},ne=()=>{const Ot=S.value;Ot&&(s.selectWidth=Ot.getBoundingClientRect().width)},fe=(Ot,be,We=!0)=>{var rt,vt;if(e.multiple){let Jt=e.modelValue.slice();const An=qe(Jt,pe(Ot));An>-1?(Jt=[...Jt.slice(0,An),...Jt.slice(An+1)],s.cachedOptions.splice(An,1),$e(Ot)):(e.multipleLimit<=0||Jt.length<e.multipleLimit)&&(Jt=[...Jt,pe(Ot)],s.cachedOptions.push(Ot),Ie(Ot),yt(be)),Re(Jt),Ot.created&&(s.query="",ze(""),s.inputLength=20),e.filterable&&!e.reserveKeyword&&((vt=(rt=v.value).focus)==null||vt.call(rt),tt("")),e.filterable&&(s.calculatedWidth=O.value.getBoundingClientRect().width),Ke(),Wt()}else f.value=be,s.selectedLabel=Ot.label,Re(pe(Ot)),_.value=!1,s.isComposing=!1,s.isSilentBlur=We,Ie(Ot),Ot.created||Le(),yt(be)},Me=(Ot,be)=>{const{valueKey:We}=e,rt=e.modelValue.indexOf(Ao(be,We));if(rt>-1&&!A.value){const vt=[...e.modelValue.slice(0,rt),...e.modelValue.slice(rt+1)];return s.cachedOptions.splice(rt,1),Re(vt),t("remove-tag",Ao(be,We)),s.softFocus=!0,$e(be),bn(Ce)}Ot.stopPropagation()},it=Ot=>{const be=s.isComposing;s.isComposing=!0,s.softFocus?s.softFocus=!1:be||t("focus",Ot)},Oe=Ot=>(s.softFocus=!1,bn(()=>{var be,We;(We=(be=v.value)==null?void 0:be.blur)==null||We.call(be),O.value&&(s.calculatedWidth=O.value.getBoundingClientRect().width),s.isSilentBlur?s.isSilentBlur=!1:s.isComposing&&t("blur",Ot),s.isComposing=!1})),_e=()=>{s.displayInputValue.length>0?tt(""):_.value=!1},nt=Ot=>{if(s.displayInputValue.length===0){Ot.preventDefault();const be=e.modelValue.slice();be.pop(),$e(s.cachedOptions.pop()),Re(be)}},Se=()=>{let Ot;return Sn(e.modelValue)?Ot=[]:Ot="",s.softFocus=!0,e.multiple?s.cachedOptions=[]:s.selectedLabel="",_.value=!1,Re(Ot),t("clear"),Le(),bn(Ce)},tt=Ot=>{s.displayInputValue=Ot,s.inputValue=Ot},we=(Ot,be=void 0)=>{const We=M.value;if(!["forward","backward"].includes(Ot)||A.value||We.length<=0||D.value)return;if(!_.value)return Ze();be===void 0&&(be=s.hoveringIndex);let rt=-1;Ot==="forward"?(rt=be+1,rt>=We.length&&(rt=0)):Ot==="backward"&&(rt=be-1,rt<0&&(rt=We.length-1));const vt=We[rt];if(vt.disabled||vt.type==="Group")return we(Ot,rt);yt(rt),vn(rt)},ht=()=>{if(_.value)~s.hoveringIndex&&M.value[s.hoveringIndex]&&fe(M.value[s.hoveringIndex],s.hoveringIndex,!1);else return Ze()},yt=Ot=>{s.hoveringIndex=Ot},Et=()=>{s.hoveringIndex=-1},Wt=()=>{var Ot;const be=v.value;be&&((Ot=be.focus)==null||Ot.call(be))},ur=Ot=>{const be=Ot.target.value;if(tt(be),s.displayInputValue.length>0&&!_.value&&(_.value=!0),s.calculatedWidth=O.value.getBoundingClientRect().width,e.multiple&&Ke(),e.remote)de();else return se()},tn=()=>(_.value=!1,Oe()),Dn=()=>(s.inputValue=s.displayInputValue,bn(()=>{~ee.value&&(yt(ee.value),vn(s.hoveringIndex))})),vn=Ot=>{y.value.scrollToItem(Ot)},Ln=()=>{if(Et(),e.multiple)if(e.modelValue.length>0){let Ot=!1;s.cachedOptions.length=0,s.previousValue=e.modelValue.toString(),e.modelValue.forEach(be=>{const We=M.value.findIndex(rt=>pe(rt)===be);~We&&(s.cachedOptions.push(M.value[We]),Ot||yt(We),Ot=!0)})}else s.cachedOptions=[],s.previousValue="";else if(P.value){s.previousValue=e.modelValue;const Ot=M.value,be=Ot.findIndex(We=>pe(We)===pe(e.modelValue));~be?(s.selectedLabel=Ot[be].label,yt(be)):s.selectedLabel=`${e.modelValue}`}else s.selectedLabel="",s.previousValue="";Le(),K()};return At(_,Ot=>{var be,We;t("visible-change",Ot),Ot?(We=(be=m.value).update)==null||We.call(be):(s.displayInputValue="",s.previousQuery=null,Ne(""))}),At(()=>e.modelValue,(Ot,be)=>{var We;(!Ot||Ot.toString()!==s.previousValue)&&Ln(),!Ns(Ot,be)&&e.validateEvent&&((We=a==null?void 0:a.validate)==null||We.call(a,"change").catch(rt=>void 0))},{deep:!0}),At(()=>e.options,()=>{const Ot=v.value;(!Ot||Ot&&document.activeElement!==Ot)&&Ln()},{deep:!0}),At(M,()=>bn(y.value.resetScrollTop)),ir(()=>{Ln()}),oa(b,Ve),{collapseTagSize:V,currentPlaceholder:ie,expanded:_,emptyText:z,popupHeight:T,debounce:F,filteredOptions:M,iconComponent:N,iconReverse:L,inputWrapperStyle:X,popperSize:d,dropdownMenuVisible:ue,hasModelValue:P,shouldShowPlaceholder:W,selectDisabled:A,selectSize:B,showClearBtn:x,states:s,tagMaxWidth:Y,nsSelectV2:r,nsInput:o,calculatorRef:O,controlRef:h,inputRef:v,menuRef:y,popper:m,selectRef:b,selectionRef:S,popperRef:oe,validateState:j,validateIcon:k,debouncedOnInputChange:de,deleteTag:Me,getLabel:Ue,getValueKey:pe,handleBlur:Oe,handleClear:Se,handleClickOutside:tn,handleDel:nt,handleEsc:_e,handleFocus:it,handleMenuEnter:Dn,handleResize:Ve,toggleMenu:Ze,scrollTo:vn,onInput:ur,onKeyboardNavigate:we,onKeyboardSelect:ht,onSelect:fe,onHover:yt,onUpdateInputValue:tt,handleCompositionStart:he,handleCompositionEnd:ae,handleCompositionUpdate:te}},iIe=St({name:"ElSelectV2",components:{ElSelectMenu:qRe,ElTag:M_,ElTooltip:Ua,ElIcon:En},directives:{ClickOutside:qf,ModelText:u_},props:KRe,emits:[hr,Po,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const n=oIe(e,t);return Sr(V9,{props:Xr({...mi(e),height:n.popupHeight}),onSelect:n.onSelect,onHover:n.onHover,onKeyboardNavigate:n.onKeyboardNavigate,onKeyboardSelect:n.onKeyboardSelect}),n}}),aIe={key:0},sIe=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],lIe=["textContent"],uIe=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],cIe=["textContent"];function fIe(e,t,n,r,o,i){const a=_n("el-tag"),s=_n("el-tooltip"),f=_n("el-icon"),d=_n("el-select-menu"),h=kh("model-text"),v=kh("click-outside");return Gn((H(),le("div",{ref:"selectRef",class:Z([e.nsSelectV2.b(),e.nsSelectV2.m(e.selectSize)]),onClick:t[25]||(t[25]=Fn((...y)=>e.toggleMenu&&e.toggleMenu(...y),["stop"])),onMouseenter:t[26]||(t[26]=y=>e.states.comboBoxHovering=!0),onMouseleave:t[27]||(t[27]=y=>e.states.comboBoxHovering=!1)},[Te(s,{ref:"popper",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelectV2.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:t[24]||(t[24]=y=>e.states.inputValue=e.states.displayInputValue)},{default:Be(()=>{var y;return[ve("div",{ref:"selectionRef",class:Z([e.nsSelectV2.e("wrapper"),e.nsSelectV2.is("focused",e.states.isComposing),e.nsSelectV2.is("hovering",e.states.comboBoxHovering),e.nsSelectV2.is("filterable",e.filterable),e.nsSelectV2.is("disabled",e.selectDisabled)])},[e.$slots.prefix?(H(),le("div",aIe,[bt(e.$slots,"prefix")])):Ye("v-if",!0),e.multiple?(H(),le("div",{key:1,class:Z(e.nsSelectV2.e("selection"))},[e.collapseTags&&e.modelValue.length>0?(H(),le("div",{key:0,class:Z(e.nsSelectV2.e("selected-item"))},[Te(a,{closable:!e.selectDisabled&&!((y=e.states.cachedOptions[0])!=null&&y.disable),size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:t[0]||(t[0]=m=>e.deleteTag(m,e.states.cachedOptions[0]))},{default:Be(()=>{var m;return[ve("span",{class:Z(e.nsSelectV2.e("tags-text")),style:gn({maxWidth:`${e.tagMaxWidth}px`})},Bt((m=e.states.cachedOptions[0])==null?void 0:m.label),7)]}),_:1},8,["closable","size"]),e.modelValue.length>1?(H(),et(a,{key:0,closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""},{default:Be(()=>[e.collapseTagsTooltip?(H(),et(s,{key:0,disabled:e.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:!1},{default:Be(()=>[ve("span",{class:Z(e.nsSelectV2.e("tags-text")),style:gn({maxWidth:`${e.tagMaxWidth}px`})},"+ "+Bt(e.modelValue.length-1),7)]),content:Be(()=>[ve("div",{class:Z(e.nsSelectV2.e("selection"))},[(H(!0),le(wn,null,_r(e.states.cachedOptions.slice(1),(m,b)=>(H(),le("div",{key:b,class:Z(e.nsSelectV2.e("selected-item"))},[(H(),et(a,{key:e.getValueKey(m),closable:!e.selectDisabled&&!m.disabled,size:e.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:S=>e.deleteTag(S,m)},{default:Be(()=>[ve("span",{class:Z(e.nsSelectV2.e("tags-text")),style:gn({maxWidth:`${e.tagMaxWidth}px`})},Bt(e.getLabel(m)),7)]),_:2},1032,["closable","size","onClose"]))],2))),128))],2)]),_:1},8,["disabled","effect"])):(H(),le("span",{key:1,class:Z(e.nsSelectV2.e("tags-text")),style:gn({maxWidth:`${e.tagMaxWidth}px`})},"+ "+Bt(e.modelValue.length-1),7))]),_:1},8,["size"])):Ye("v-if",!0)],2)):(H(!0),le(wn,{key:1},_r(e.states.cachedOptions,(m,b)=>(H(),le("div",{key:b,class:Z(e.nsSelectV2.e("selected-item"))},[(H(),et(a,{key:e.getValueKey(m),closable:!e.selectDisabled&&!m.disabled,size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:S=>e.deleteTag(S,m)},{default:Be(()=>[ve("span",{class:Z(e.nsSelectV2.e("tags-text")),style:gn({maxWidth:`${e.tagMaxWidth}px`})},Bt(e.getLabel(m)),7)]),_:2},1032,["closable","size","onClose"]))],2))),128)),ve("div",{class:Z([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")]),style:gn(e.inputWrapperStyle)},[Gn(ve("input",{id:e.id,ref:"inputRef",autocomplete:e.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-labelledby":e.label,class:Z([e.nsSelectV2.is(e.selectSize),e.nsSelectV2.e("combobox-input")]),disabled:e.disabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,unselectable:e.expanded?"on":void 0,"onUpdate:modelValue":t[1]||(t[1]=(...m)=>e.onUpdateInputValue&&e.onUpdateInputValue(...m)),onFocus:t[2]||(t[2]=(...m)=>e.handleFocus&&e.handleFocus(...m)),onBlur:t[3]||(t[3]=(...m)=>e.handleBlur&&e.handleBlur(...m)),onInput:t[4]||(t[4]=(...m)=>e.onInput&&e.onInput(...m)),onCompositionstart:t[5]||(t[5]=(...m)=>e.handleCompositionStart&&e.handleCompositionStart(...m)),onCompositionupdate:t[6]||(t[6]=(...m)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...m)),onCompositionend:t[7]||(t[7]=(...m)=>e.handleCompositionEnd&&e.handleCompositionEnd(...m)),onKeydown:[t[8]||(t[8]=kr(Fn(m=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),t[9]||(t[9]=kr(Fn(m=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),t[10]||(t[10]=kr(Fn((...m)=>e.onKeyboardSelect&&e.onKeyboardSelect(...m),["stop","prevent"]),["enter"])),t[11]||(t[11]=kr(Fn((...m)=>e.handleEsc&&e.handleEsc(...m),["stop","prevent"]),["esc"])),t[12]||(t[12]=kr(Fn((...m)=>e.handleDel&&e.handleDel(...m),["stop"]),["delete"]))]},null,42,sIe),[[h,e.states.displayInputValue]]),e.filterable?(H(),le("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:Z(e.nsSelectV2.e("input-calculator")),textContent:Bt(e.states.displayInputValue)},null,10,lIe)):Ye("v-if",!0)],6)],2)):(H(),le(wn,{key:2},[ve("div",{class:Z([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")])},[Gn(ve("input",{id:e.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":e.label,"aria-expanded":e.expanded,autocapitalize:"off",autocomplete:e.autocomplete,class:Z(e.nsSelectV2.e("combobox-input")),disabled:e.disabled,name:e.name,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",unselectable:e.expanded?"on":void 0,onCompositionstart:t[13]||(t[13]=(...m)=>e.handleCompositionStart&&e.handleCompositionStart(...m)),onCompositionupdate:t[14]||(t[14]=(...m)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...m)),onCompositionend:t[15]||(t[15]=(...m)=>e.handleCompositionEnd&&e.handleCompositionEnd(...m)),onFocus:t[16]||(t[16]=(...m)=>e.handleFocus&&e.handleFocus(...m)),onBlur:t[17]||(t[17]=(...m)=>e.handleBlur&&e.handleBlur(...m)),onInput:t[18]||(t[18]=(...m)=>e.onInput&&e.onInput(...m)),onKeydown:[t[19]||(t[19]=kr(Fn(m=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),t[20]||(t[20]=kr(Fn(m=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),t[21]||(t[21]=kr(Fn((...m)=>e.onKeyboardSelect&&e.onKeyboardSelect(...m),["stop","prevent"]),["enter"])),t[22]||(t[22]=kr(Fn((...m)=>e.handleEsc&&e.handleEsc(...m),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":t[23]||(t[23]=(...m)=>e.onUpdateInputValue&&e.onUpdateInputValue(...m))},null,42,uIe),[[h,e.states.displayInputValue]])],2),e.filterable?(H(),le("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:Z([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-calculator")]),textContent:Bt(e.states.displayInputValue)},null,10,cIe)):Ye("v-if",!0)],64)),e.shouldShowPlaceholder?(H(),le("span",{key:3,class:Z([e.nsSelectV2.e("placeholder"),e.nsSelectV2.is("transparent",e.states.isComposing||(e.multiple?e.modelValue.length===0:!e.hasModelValue))])},Bt(e.currentPlaceholder),3)):Ye("v-if",!0),ve("span",{class:Z(e.nsSelectV2.e("suffix"))},[e.iconComponent?Gn((H(),et(f,{key:0,class:Z([e.nsSelectV2.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:Be(()=>[(H(),et(mr(e.iconComponent)))]),_:1},8,["class"])),[[Lr,!e.showClearBtn]]):Ye("v-if",!0),e.showClearBtn&&e.clearIcon?(H(),et(f,{key:1,class:Z([e.nsSelectV2.e("caret"),e.nsInput.e("icon")]),onClick:Fn(e.handleClear,["prevent","stop"])},{default:Be(()=>[(H(),et(mr(e.clearIcon)))]),_:1},8,["class","onClick"])):Ye("v-if",!0),e.validateState&&e.validateIcon?(H(),et(f,{key:2,class:Z([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:Be(()=>[(H(),et(mr(e.validateIcon)))]),_:1},8,["class"])):Ye("v-if",!0)],2)],2)]}),content:Be(()=>[Te(d,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},{default:Be(y=>[bt(e.$slots,"default",fl(s_(y)))]),empty:Be(()=>[bt(e.$slots,"empty",{},()=>[ve("p",{class:Z(e.nsSelectV2.e("empty"))},Bt(e.emptyText?e.emptyText:""),3)])]),_:3},8,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","effect","placement","transition","persistent","onBeforeShow"])],34)),[[v,e.handleClickOutside,e.popperRef]])}var jw=zt(iIe,[["render",fIe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);jw.install=e=>{e.component(jw.name,jw)};const dIe=jw,hIe=dIe,pIe=Kt({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),vIe=Kt({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),yIe={name:"ElSkeletonItem"},mIe=St({...yIe,props:vIe,setup(e){const t=wt("skeleton");return(n,r)=>(H(),le("div",{class:Z([E(t).e("item"),E(t).e(n.variant)])},[n.variant==="image"?(H(),et(E(fge),{key:0})):Ye("v-if",!0)],2))}});var PO=zt(mIe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton-item.vue"]]);const gIe={name:"ElSkeleton"},bIe=St({...gIe,props:pIe,setup(e,{expose:t}){const n=e,r=wt("skeleton"),o=p0e(Do(n,"loading"),n.throttle);return t({uiLoading:o}),(i,a)=>E(o)?(H(),le("div",br({key:0,class:[E(r).b(),E(r).is("animated",i.animated)]},i.$attrs),[(H(!0),le(wn,null,_r(i.count,s=>(H(),le(wn,{key:s},[i.loading?bt(i.$slots,"template",{key:s},()=>[Te(PO,{class:Z(E(r).is("first")),variant:"p"},null,8,["class"]),(H(!0),le(wn,null,_r(i.rows,f=>(H(),et(PO,{key:f,class:Z([E(r).e("paragraph"),E(r).is("last",f===i.rows&&i.rows>1)]),variant:"p"},null,8,["class"]))),128))]):Ye("v-if",!0)],64))),128))],16)):bt(i.$slots,"default",fl(br({key:1},i.$attrs)))}});var EIe=zt(bIe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton.vue"]]);const SIe=fr(EIe,{SkeletonItem:PO}),wIe=ko(PO),OIe=Kt({modelValue:{type:ot([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:os,inputSize:os,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:ot(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:ot(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:tp,default:"top"},marks:{type:ot(Object)},validateEvent:{type:Boolean,default:!0}}),AA=e=>Jn(e)||Sn(e)&&e.every(Jn),_Ie={[hr]:AA,[ks]:AA,[Po]:AA},TIe=(e,t,n)=>{const r=re();return ir(async()=>{e.range?(Array.isArray(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(typeof e.modelValue!="number"||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),Eo(window,"resize",n),await bn(),n()}),{sliderWrapper:r}},CIe=e=>G(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((n,r)=>n-r).filter(n=>n<=e.max&&n>=e.min).map(n=>({point:n,position:(n-e.min)*100/(e.max-e.min),mark:e.marks[n]})):[]),AIe=(e,t,n)=>{const{form:r,formItem:o}=as(),i=bo(),a=re(),s=re(),f={firstButton:a,secondButton:s},d=G(()=>e.disabled||(r==null?void 0:r.disabled)||!1),h=G(()=>Math.min(t.firstValue,t.secondValue)),v=G(()=>Math.max(t.firstValue,t.secondValue)),y=G(()=>e.range?`${100*(v.value-h.value)/(e.max-e.min)}%`:`${100*(t.firstValue-e.min)/(e.max-e.min)}%`),m=G(()=>e.range?`${100*(h.value-e.min)/(e.max-e.min)}%`:"0%"),b=G(()=>e.vertical?{height:e.height}:{}),S=G(()=>e.vertical?{height:y.value,bottom:m.value}:{width:y.value,left:m.value}),O=()=>{i.value&&(t.sliderSize=i.value[`client${e.vertical?"Height":"Width"}`])},_=z=>{const M=e.min+z*(e.max-e.min)/100;if(!e.range)return a;let D;return Math.abs(h.value-M)<Math.abs(v.value-M)?D=t.firstValue<t.secondValue?"firstButton":"secondButton":D=t.firstValue>t.secondValue?"firstButton":"secondButton",f[D]},A=z=>{const M=_(z);return M.value.setPosition(z),M},T=z=>{t.firstValue=z,x(e.range?[h.value,v.value]:z)},P=z=>{t.secondValue=z,e.range&&x([h.value,v.value])},x=z=>{n(hr,z),n(ks,z)},N=async()=>{await bn(),n(Po,e.range?[h.value,v.value]:e.modelValue)},L=z=>{var M,D,B,V,Y,K;if(d.value||t.dragging)return;O();let X=0;if(e.vertical){const W=(B=(D=(M=z.touches)==null?void 0:M.item(0))==null?void 0:D.clientY)!=null?B:z.clientY;X=(i.value.getBoundingClientRect().bottom-W)/t.sliderSize*100}else{const W=(K=(Y=(V=z.touches)==null?void 0:V.item(0))==null?void 0:Y.clientX)!=null?K:z.clientX,ie=i.value.getBoundingClientRect().left;X=(W-ie)/t.sliderSize*100}if(!(X<0||X>100))return A(X)};return{elFormItem:o,slider:i,firstButton:a,secondButton:s,sliderDisabled:d,minValue:h,maxValue:v,runwayStyle:b,barStyle:S,resetSize:O,setPosition:A,emitChange:N,onSliderWrapperPrevent:z=>{var M,D;(((M=f.firstButton.value)==null?void 0:M.dragging)||((D=f.secondButton.value)==null?void 0:D.dragging))&&z.preventDefault()},onSliderClick:z=>{L(z)&&N()},onSliderDown:async z=>{const M=L(z);M&&(await bn(),M.value.onButtonDown(z))},setFirstValue:T,setSecondValue:P}},{left:PIe,down:xIe,right:MIe,up:NIe,home:RIe,end:IIe,pageUp:DIe,pageDown:kIe}=Mn,LIe=(e,t,n)=>{const r=re(),o=re(!1),i=G(()=>t.value instanceof Function),a=G(()=>i.value&&t.value(e.modelValue)||e.modelValue),s=Sa(()=>{n.value&&(o.value=!0)},50),f=Sa(()=>{n.value&&(o.value=!1)},50);return{tooltip:r,tooltipVisible:o,formatValue:a,displayTooltip:s,hideTooltip:f}},$Ie=(e,t,n)=>{const{disabled:r,min:o,max:i,step:a,showTooltip:s,precision:f,sliderSize:d,formatTooltip:h,emitChange:v,resetSize:y,updateDragging:m}=Cn(lG),{tooltip:b,tooltipVisible:S,formatValue:O,displayTooltip:_,hideTooltip:A}=LIe(e,h,s),T=re(),P=G(()=>`${(e.modelValue-o.value)/(i.value-o.value)*100}%`),x=G(()=>e.vertical?{bottom:P.value}:{left:P.value}),N=()=>{t.hovering=!0,_()},L=()=>{t.hovering=!1,t.dragging||A()},j=ee=>{r.value||(ee.preventDefault(),X(ee),window.addEventListener("mousemove",W),window.addEventListener("touchmove",W),window.addEventListener("mouseup",ie),window.addEventListener("touchend",ie),window.addEventListener("contextmenu",ie),T.value.focus())},k=ee=>{r.value||(t.newPosition=Number.parseFloat(P.value)+ee/(i.value-o.value)*100,oe(t.newPosition),v())},F=()=>{k(-a.value)},z=()=>{k(a.value)},M=()=>{k(-a.value*4)},D=()=>{k(a.value*4)},B=()=>{r.value||(oe(0),v())},V=()=>{r.value||(oe(100),v())},Y=ee=>{let ue=!0;[PIe,xIe].includes(ee.key)?F():[MIe,NIe].includes(ee.key)?z():ee.key===RIe?B():ee.key===IIe?V():ee.key===kIe?M():ee.key===DIe?D():ue=!1,ue&&ee.preventDefault()},K=ee=>{let ue,Ne;return ee.type.startsWith("touch")?(Ne=ee.touches[0].clientY,ue=ee.touches[0].clientX):(Ne=ee.clientY,ue=ee.clientX),{clientX:ue,clientY:Ne}},X=ee=>{t.dragging=!0,t.isClick=!0;const{clientX:ue,clientY:Ne}=K(ee);e.vertical?t.startY=Ne:t.startX=ue,t.startPosition=Number.parseFloat(P.value),t.newPosition=t.startPosition},W=ee=>{if(t.dragging){t.isClick=!1,_(),y();let ue;const{clientX:Ne,clientY:$e}=K(ee);e.vertical?(t.currentY=$e,ue=(t.startY-t.currentY)/d.value*100):(t.currentX=Ne,ue=(t.currentX-t.startX)/d.value*100),t.newPosition=t.startPosition+ue,oe(t.newPosition)}},ie=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||A(),t.isClick||oe(t.newPosition),v()},0),window.removeEventListener("mousemove",W),window.removeEventListener("touchmove",W),window.removeEventListener("mouseup",ie),window.removeEventListener("touchend",ie),window.removeEventListener("contextmenu",ie))},oe=async ee=>{if(ee===null||Number.isNaN(+ee))return;ee<0?ee=0:ee>100&&(ee=100);const ue=100/((i.value-o.value)/a.value);let $e=Math.round(ee/ue)*ue*(i.value-o.value)*.01+o.value;$e=Number.parseFloat($e.toFixed(f.value)),$e!==e.modelValue&&n(hr,$e),!t.dragging&&e.modelValue!==t.oldValue&&(t.oldValue=e.modelValue),await bn(),t.dragging&&_(),b.value.updatePopper()};return At(()=>t.dragging,ee=>{m(ee)}),{disabled:r,button:T,tooltip:b,tooltipVisible:S,showTooltip:s,wrapperStyle:x,formatValue:O,handleMouseEnter:N,handleMouseLeave:L,onButtonDown:j,onKeyDown:Y,setPosition:oe}},BIe=(e,t,n,r)=>({stops:G(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const a=(e.max-e.min)/e.step,s=100*e.step/(e.max-e.min),f=Array.from({length:a-1}).map((d,h)=>(h+1)*s);return e.range?f.filter(d=>d<100*(n.value-e.min)/(e.max-e.min)||d>100*(r.value-e.min)/(e.max-e.min)):f.filter(d=>d>100*(t.firstValue-e.min)/(e.max-e.min))}),getStopStyle:a=>e.vertical?{bottom:`${a}%`}:{left:`${a}%`}}),jIe=(e,t,n,r,o,i)=>{const a=d=>{o(hr,d),o(ks,d)},s=()=>e.range?![n.value,r.value].every((d,h)=>d===t.oldValue[h]):e.modelValue!==t.oldValue,f=()=>{var d,h;if(e.min>e.max){gi("Slider","min should not be greater than max.");return}const v=e.modelValue;e.range&&Array.isArray(v)?v[1]<e.min?a([e.min,e.min]):v[0]>e.max?a([e.max,e.max]):v[0]<e.min?a([e.min,v[1]]):v[1]>e.max?a([v[0],e.max]):(t.firstValue=v[0],t.secondValue=v[1],s()&&(e.validateEvent&&((d=i==null?void 0:i.validate)==null||d.call(i,"change").catch(y=>void 0)),t.oldValue=v.slice())):!e.range&&typeof v=="number"&&!Number.isNaN(v)&&(v<e.min?a(e.min):v>e.max?a(e.max):(t.firstValue=v,s()&&(e.validateEvent&&((h=i==null?void 0:i.validate)==null||h.call(i,"change").catch(y=>void 0)),t.oldValue=v)))};f(),At(()=>t.dragging,d=>{d||f()}),At(()=>e.modelValue,(d,h)=>{t.dragging||Array.isArray(d)&&Array.isArray(h)&&d.every((v,y)=>v===h[y])&&t.firstValue===d[0]&&t.secondValue===d[1]||f()},{deep:!0}),At(()=>[e.min,e.max],()=>{f()})},FIe=Kt({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:tp,default:"top"}}),zIe={[hr]:e=>Jn(e)},UIe=["tabindex"],VIe={name:"ElSliderButton"},HIe=St({...VIe,props:FIe,emits:zIe,setup(e,{expose:t,emit:n}){const r=e,o=wt("slider"),i=Xr({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),{disabled:a,button:s,tooltip:f,showTooltip:d,tooltipVisible:h,wrapperStyle:v,formatValue:y,handleMouseEnter:m,handleMouseLeave:b,onButtonDown:S,onKeyDown:O,setPosition:_}=$Ie(r,i,n),{hovering:A,dragging:T}=mi(i);return t({onButtonDown:S,onKeyDown:O,setPosition:_,hovering:A,dragging:T}),(P,x)=>(H(),le("div",{ref_key:"button",ref:s,class:Z([E(o).e("button-wrapper"),{hover:E(A),dragging:E(T)}]),style:gn(E(v)),tabindex:E(a)?-1:0,onMouseenter:x[0]||(x[0]=(...N)=>E(m)&&E(m)(...N)),onMouseleave:x[1]||(x[1]=(...N)=>E(b)&&E(b)(...N)),onMousedown:x[2]||(x[2]=(...N)=>E(S)&&E(S)(...N)),onTouchstart:x[3]||(x[3]=(...N)=>E(S)&&E(S)(...N)),onFocus:x[4]||(x[4]=(...N)=>E(m)&&E(m)(...N)),onBlur:x[5]||(x[5]=(...N)=>E(b)&&E(b)(...N)),onKeydown:x[6]||(x[6]=(...N)=>E(O)&&E(O)(...N))},[Te(E(Ua),{ref_key:"tooltip",ref:f,visible:E(h),placement:P.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":P.tooltipClass,disabled:!E(d),persistent:""},{content:Be(()=>[ve("span",null,Bt(E(y)),1)]),default:Be(()=>[ve("div",{class:Z([E(o).e("button"),{hover:E(A),dragging:E(T)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,UIe))}});var yB=zt(HIe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);const GIe=Kt({mark:{type:ot([String,Object]),default:void 0}});var WIe=St({name:"ElSliderMarker",props:GIe,setup(e){const t=wt("slider"),n=G(()=>Kn(e.mark)?e.mark:e.mark.label),r=G(()=>Kn(e.mark)?void 0:e.mark.style);return()=>Pn("div",{class:t.e("marks-text"),style:r.value},n.value)}});const KIe=["id","role","aria-label","aria-labelledby"],XIe={key:1},YIe={name:"ElSlider"},ZIe=St({...YIe,props:OIe,emits:_Ie,setup(e,{expose:t,emit:n}){const r=e,o=wt("slider"),{t:i}=Hr(),a=Xr({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:s,slider:f,firstButton:d,secondButton:h,sliderDisabled:v,minValue:y,maxValue:m,runwayStyle:b,barStyle:S,resetSize:O,emitChange:_,onSliderWrapperPrevent:A,onSliderClick:T,onSliderDown:P,setFirstValue:x,setSecondValue:N}=AIe(r,a,n),{stops:L,getStopStyle:j}=BIe(r,a,y,m),{inputId:k,isLabeledByFormItem:F}=sd(r,{formItemContext:s}),z=oi(),M=G(()=>r.inputSize||z.value),D=G(()=>r.label||i("el.slider.defaultLabel",{min:r.min,max:r.max})),B=G(()=>r.range?r.rangeStartLabel||i("el.slider.defaultRangeStartLabel"):D.value),V=G(()=>r.formatValueText?r.formatValueText(ee.value):`${ee.value}`),Y=G(()=>r.rangeEndLabel||i("el.slider.defaultRangeEndLabel")),K=G(()=>r.formatValueText?r.formatValueText(ue.value):`${ue.value}`),X=G(()=>[o.b(),o.m(z.value),o.is("vertical",r.vertical),{[o.m("with-input")]:r.showInput}]),W=CIe(r);jIe(r,a,y,m,n,s);const ie=G(()=>{const Ie=[r.min,r.max,r.step].map(Le=>{const he=`${Le}`.split(".")[1];return he?he.length:0});return Math.max.apply(null,Ie)}),{sliderWrapper:oe}=TIe(r,a,O),{firstValue:ee,secondValue:ue,sliderSize:Ne}=mi(a),$e=Ie=>{a.dragging=Ie};return Sr(lG,{...mi(r),sliderSize:Ne,disabled:v,precision:ie,emitChange:_,resetSize:O,updateDragging:$e}),t({onSliderClick:T}),(Ie,Le)=>{var he,te;return H(),le("div",{id:Ie.range?E(k):void 0,ref_key:"sliderWrapper",ref:oe,class:Z(E(X)),role:Ie.range?"group":void 0,"aria-label":Ie.range&&!E(F)?E(D):void 0,"aria-labelledby":Ie.range&&E(F)?(he=E(s))==null?void 0:he.labelId:void 0,onTouchstart:Le[2]||(Le[2]=(...ae)=>E(A)&&E(A)(...ae)),onTouchmove:Le[3]||(Le[3]=(...ae)=>E(A)&&E(A)(...ae))},[ve("div",{ref_key:"slider",ref:f,class:Z([E(o).e("runway"),{"show-input":Ie.showInput&&!Ie.range},E(o).is("disabled",E(v))]),style:gn(E(b)),onMousedown:Le[0]||(Le[0]=(...ae)=>E(P)&&E(P)(...ae)),onTouchstart:Le[1]||(Le[1]=(...ae)=>E(P)&&E(P)(...ae))},[ve("div",{class:Z(E(o).e("bar")),style:gn(E(S))},null,6),Te(yB,{id:Ie.range?void 0:E(k),ref_key:"firstButton",ref:d,"model-value":E(ee),vertical:Ie.vertical,"tooltip-class":Ie.tooltipClass,placement:Ie.placement,role:"slider","aria-label":Ie.range||!E(F)?E(B):void 0,"aria-labelledby":!Ie.range&&E(F)?(te=E(s))==null?void 0:te.labelId:void 0,"aria-valuemin":Ie.min,"aria-valuemax":Ie.range?E(ue):Ie.max,"aria-valuenow":E(ee),"aria-valuetext":E(V),"aria-orientation":Ie.vertical?"vertical":"horizontal","aria-disabled":E(v),"onUpdate:modelValue":E(x)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),Ie.range?(H(),et(yB,{key:0,ref_key:"secondButton",ref:h,"model-value":E(ue),vertical:Ie.vertical,"tooltip-class":Ie.tooltipClass,placement:Ie.placement,role:"slider","aria-label":E(Y),"aria-valuemin":E(ee),"aria-valuemax":Ie.max,"aria-valuenow":E(ue),"aria-valuetext":E(K),"aria-orientation":Ie.vertical?"vertical":"horizontal","aria-disabled":E(v),"onUpdate:modelValue":E(N)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):Ye("v-if",!0),Ie.showStops?(H(),le("div",XIe,[(H(!0),le(wn,null,_r(E(L),(ae,Ce)=>(H(),le("div",{key:Ce,class:Z(E(o).e("stop")),style:gn(E(j)(ae))},null,6))),128))])):Ye("v-if",!0),E(W).length>0?(H(),le(wn,{key:2},[ve("div",null,[(H(!0),le(wn,null,_r(E(W),(ae,Ce)=>(H(),le("div",{key:Ce,style:gn(E(j)(ae.position)),class:Z([E(o).e("stop"),E(o).e("marks-stop")])},null,6))),128))]),ve("div",{class:Z(E(o).e("marks"))},[(H(!0),le(wn,null,_r(E(W),(ae,Ce)=>(H(),et(E(WIe),{key:Ce,mark:ae.mark,style:gn(E(j)(ae.position))},null,8,["mark","style"]))),128))],2)],64)):Ye("v-if",!0)],38),Ie.showInput&&!Ie.range?(H(),et(E(g9),{key:0,ref:"input","model-value":E(ee),class:Z(E(o).e("input")),step:Ie.step,disabled:E(v),controls:Ie.showInputControls,min:Ie.min,max:Ie.max,debounce:Ie.debounce,size:E(M),"onUpdate:modelValue":E(x),onChange:E(_)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):Ye("v-if",!0)],42,KIe)}}});var JIe=zt(ZIe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue"]]);const QIe=fr(JIe),qIe=Kt({prefixCls:{type:String}}),mB=St({name:"ElSpaceItem",props:qIe,setup(e,{slots:t}){const n=wt("space"),r=G(()=>`${e.prefixCls||n.b()}__item`);return()=>Pn("div",{class:r.value},bt(t,"default"))}}),gB={small:8,default:12,large:16};function eDe(e){const t=wt("space"),n=G(()=>[t.b(),t.m(e.direction),e.class]),r=re(0),o=re(0),i=G(()=>{const s=e.wrap||e.fill?{flexWrap:"wrap",marginBottom:`-${o.value}px`}:{},f={alignItems:e.alignment};return[s,f,e.style]}),a=G(()=>{const s={paddingBottom:`${o.value}px`,marginRight:`${r.value}px`},f=e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{};return[s,f]});return ns(()=>{const{size:s="small",wrap:f,direction:d,fill:h}=e;if(Sn(s)){const[v=0,y=0]=s;r.value=v,o.value=y}else{let v;Jn(s)?v=s:v=gB[s||"small"]||gB.small,(f||h)&&d==="horizontal"?r.value=o.value=v:d==="horizontal"?(r.value=v,o.value=0):(o.value=v,r.value=0)}}),{classes:n,containerStyle:i,itemStyle:a}}const tDe=Kt({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:ot([String,Object,Array]),default:""},style:{type:ot([String,Array,Object]),default:""},alignment:{type:ot(String),default:"center"},prefixCls:{type:String},spacer:{type:ot([Object,String,Number,Array]),default:null,validator:e=>Ho(e)||Jn(e)||Kn(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:Qh,validator:e=>Jn(e)||Sn(e)&&e.length===2&&e.every(Jn)}});var nDe=St({name:"ElSpace",props:tDe,setup(e,{slots:t}){const{classes:n,containerStyle:r,itemStyle:o}=eDe(e);function i(a,s="",f=[]){const{prefixCls:d}=e;return a.forEach((h,v)=>{AP(h)?Sn(h.children)&&h.children.forEach((y,m)=>{AP(y)&&Sn(y.children)?i(y.children,`${s+m}-`,f):f.push(Te(mB,{style:o.value,prefixCls:d,key:`nested-${s+m}`},{default:()=>[y]},Ts.PROPS|Ts.STYLE,["style","prefixCls"]))}):Ybe(h)&&f.push(Te(mB,{style:o.value,prefixCls:d,key:`LoopKey${s+v}`},{default:()=>[h]},Ts.PROPS|Ts.STYLE,["style","prefixCls"]))}),f}return()=>{var a;const{spacer:s,direction:f}=e,d=bt(t,"default",{key:0},()=>[]);if(((a=d.children)!=null?a:[]).length===0)return null;if(Sn(d.children)){let h=i(d.children);if(s){const v=h.length-1;h=h.reduce((y,m,b)=>{const S=[...y,m];return b!==v&&S.push(Te("span",{style:[o.value,f==="vertical"?"width: 100%":null],key:b},[Ho(s)?s:$r(s,Ts.TEXT)],Ts.STYLE)),S},[])}return Te("div",{class:n.value,style:r.value},h,Ts.STYLE|Ts.CLASS)}return d.children}}});const rDe=fr(nDe),oDe=Kt({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),iDe={[Po]:(e,t)=>[e,t].every(Jn)},aDe={name:"ElSteps"},sDe=St({...aDe,props:oDe,emits:iDe,setup(e,{emit:t}){const n=e,r=wt("steps"),o=re([]);return At(o,()=>{o.value.forEach((i,a)=>{i.setIndex(a)})}),Sr("ElSteps",{props:n,steps:o}),At(()=>n.active,(i,a)=>{t(Po,i,a)}),(i,a)=>(H(),le("div",{class:Z([E(r).b(),E(r).m(i.simple?"simple":i.direction)])},[bt(i.$slots,"default")],2))}});var lDe=zt(sDe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/steps.vue"]]);const uDe=Kt({title:{type:String,default:""},icon:{type:po},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),cDe={name:"ElStep"},fDe=St({...cDe,props:uDe,setup(e){const t=e,n=wt("step"),r=re(-1),o=re({}),i=re(""),a=Cn("ElSteps"),s=cr();ir(()=>{At([()=>a.props.active,()=>a.props.processStatus,()=>a.props.finishStatus],([x])=>{T(x)},{immediate:!0})}),Go(()=>{a.steps.value=a.steps.value.filter(x=>x.uid!==(s==null?void 0:s.uid))});const f=G(()=>t.status||i.value),d=G(()=>{const x=a.steps.value[r.value-1];return x?x.currentStatus:"wait"}),h=G(()=>a.props.alignCenter),v=G(()=>a.props.direction==="vertical"),y=G(()=>a.props.simple),m=G(()=>a.steps.value.length),b=G(()=>{var x;return((x=a.steps.value[m.value-1])==null?void 0:x.uid)===(s==null?void 0:s.uid)}),S=G(()=>y.value?"":a.props.space),O=G(()=>{const x={flexBasis:typeof S.value=="number"?`${S.value}px`:S.value?S.value:`${100/(m.value-(h.value?0:1))}%`};return v.value||b.value&&(x.maxWidth=`${100/m.value}%`),x}),_=x=>{r.value=x},A=x=>{let N=100;const L={};L.transitionDelay=`${150*r.value}ms`,x===a.props.processStatus?N=0:x==="wait"&&(N=0,L.transitionDelay=`${-150*r.value}ms`),L.borderWidth=N&&!y.value?"1px":0,L[a.props.direction==="vertical"?"height":"width"]=`${N}%`,o.value=L},T=x=>{x>r.value?i.value=a.props.finishStatus:x===r.value&&d.value!=="error"?i.value=a.props.processStatus:i.value="wait";const N=a.steps.value[m.value-1];N&&N.calcProgress(i.value)},P=Xr({uid:G(()=>s==null?void 0:s.uid),currentStatus:f,setIndex:_,calcProgress:A});return a.steps.value=[...a.steps.value,P],(x,N)=>(H(),le("div",{style:gn(E(O)),class:Z([E(n).b(),E(n).is(E(y)?"simple":E(a).props.direction),E(n).is("flex",E(b)&&!E(S)&&!E(h)),E(n).is("center",E(h)&&!E(v)&&!E(y))])},[Ye(" icon & line "),ve("div",{class:Z([E(n).e("head"),E(n).is(E(f))])},[E(y)?Ye("v-if",!0):(H(),le("div",{key:0,class:Z(E(n).e("line"))},[ve("i",{class:Z(E(n).e("line-inner")),style:gn(o.value)},null,6)],2)),ve("div",{class:Z([E(n).e("icon"),E(n).is(x.icon||x.$slots.icon?"icon":"text")])},[bt(x.$slots,"icon",{},()=>[x.icon?(H(),et(E(En),{key:0,class:Z(E(n).e("icon-inner"))},{default:Be(()=>[(H(),et(mr(x.icon)))]),_:1},8,["class"])):E(f)==="success"?(H(),et(E(En),{key:1,class:Z([E(n).e("icon-inner"),E(n).is("status")])},{default:Be(()=>[Te(E(Xb))]),_:1},8,["class"])):E(f)==="error"?(H(),et(E(En),{key:2,class:Z([E(n).e("icon-inner"),E(n).is("status")])},{default:Be(()=>[Te(E(ml))]),_:1},8,["class"])):E(y)?Ye("v-if",!0):(H(),le("div",{key:3,class:Z(E(n).e("icon-inner"))},Bt(r.value+1),3))])],2)],2),Ye(" title & description "),ve("div",{class:Z(E(n).e("main"))},[ve("div",{class:Z([E(n).e("title"),E(n).is(E(f))])},[bt(x.$slots,"title",{},()=>[$r(Bt(x.title),1)])],2),E(y)?(H(),le("div",{key:0,class:Z(E(n).e("arrow"))},null,2)):(H(),le("div",{key:1,class:Z([E(n).e("description"),E(n).is(E(f))])},[bt(x.$slots,"description",{},()=>[$r(Bt(x.description),1)])],2))],2)],6))}});var H9=zt(fDe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/item.vue"]]);const dDe=fr(lDe,{Step:H9}),hDe=ko(H9),pDe=Kt({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:po},inactiveIcon:{type:po},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:ot(Function)},size:{type:String,validator:qh},tabindex:{type:[String,Number]}}),vDe={[hr]:e=>_i(e)||Kn(e)||Jn(e),[Po]:e=>_i(e)||Kn(e)||Jn(e),[ks]:e=>_i(e)||Kn(e)||Jn(e)},yDe=["onClick"],mDe=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],gDe=["aria-hidden"],bDe=["aria-hidden"],EDe=["aria-hidden"],SDe=["aria-hidden"],wDe={name:"ElSwitch"},ODe=St({...wDe,props:pDe,emits:vDe,setup(e,{expose:t,emit:n}){const r=e,o="ElSwitch",i=cr(),{formItem:a}=as(),s=oi(),f=wt("switch");Bh({from:'"value"',replacement:'"model-value" or "v-model"',scope:o,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},G(()=>{var N;return!!((N=i.vnode.props)!=null&&N.value)}));const{inputId:d}=sd(r,{formItemContext:a}),h=Ac(G(()=>r.loading)),v=re(r.modelValue!==!1),y=re(),m=re(),b=G(()=>[f.b(),f.m(s.value),f.is("disabled",h.value),f.is("checked",_.value)]),S=G(()=>({width:yi(r.width)}));At(()=>r.modelValue,()=>{v.value=!0}),At(()=>r.value,()=>{v.value=!1});const O=G(()=>v.value?r.modelValue:r.value),_=G(()=>O.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(O.value)||(n(hr,r.inactiveValue),n(Po,r.inactiveValue),n(ks,r.inactiveValue)),At(_,N=>{var L;y.value.checked=N,r.validateEvent&&((L=a==null?void 0:a.validate)==null||L.call(a,"change").catch(j=>void 0))});const A=()=>{const N=_.value?r.inactiveValue:r.activeValue;n(hr,N),n(Po,N),n(ks,N),bn(()=>{y.value.checked=_.value})},T=()=>{if(h.value)return;const{beforeChange:N}=r;if(!N){A();return}const L=N();[rb(L),_i(L)].includes(!0)||gi(o,"beforeChange must return type `Promise<boolean>` or `boolean`"),rb(L)?L.then(k=>{k&&A()}).catch(k=>{}):L&&A()},P=G(()=>f.cssVarBlock({...r.activeColor?{"on-color":r.activeColor}:null,...r.inactiveColor?{"off-color":r.inactiveColor}:null,...r.borderColor?{"border-color":r.borderColor}:null})),x=()=>{var N,L;(L=(N=y.value)==null?void 0:N.focus)==null||L.call(N)};return ir(()=>{y.value.checked=_.value}),t({focus:x,checked:_}),(N,L)=>(H(),le("div",{class:Z(E(b)),style:gn(E(P)),onClick:Fn(T,["prevent"])},[ve("input",{id:E(d),ref_key:"input",ref:y,class:Z(E(f).e("input")),type:"checkbox",role:"switch","aria-checked":E(_),"aria-disabled":E(h),name:N.name,"true-value":N.activeValue,"false-value":N.inactiveValue,disabled:E(h),tabindex:N.tabindex,onChange:A,onKeydown:kr(T,["enter"])},null,42,mDe),!N.inlinePrompt&&(N.inactiveIcon||N.inactiveText)?(H(),le("span",{key:0,class:Z([E(f).e("label"),E(f).em("label","left"),E(f).is("active",!E(_))])},[N.inactiveIcon?(H(),et(E(En),{key:0},{default:Be(()=>[(H(),et(mr(N.inactiveIcon)))]),_:1})):Ye("v-if",!0),!N.inactiveIcon&&N.inactiveText?(H(),le("span",{key:1,"aria-hidden":E(_)},Bt(N.inactiveText),9,gDe)):Ye("v-if",!0)],2)):Ye("v-if",!0),ve("span",{ref_key:"core",ref:m,class:Z(E(f).e("core")),style:gn(E(S))},[N.inlinePrompt?(H(),le("div",{key:0,class:Z(E(f).e("inner"))},[N.activeIcon||N.inactiveIcon?(H(),le(wn,{key:0},[N.activeIcon?(H(),et(E(En),{key:0,class:Z([E(f).is("icon"),E(_)?E(f).is("show"):E(f).is("hide")])},{default:Be(()=>[(H(),et(mr(N.activeIcon)))]),_:1},8,["class"])):Ye("v-if",!0),N.inactiveIcon?(H(),et(E(En),{key:1,class:Z([E(f).is("icon"),E(_)?E(f).is("hide"):E(f).is("show")])},{default:Be(()=>[(H(),et(mr(N.inactiveIcon)))]),_:1},8,["class"])):Ye("v-if",!0)],64)):N.activeText||N.inactiveIcon?(H(),le(wn,{key:1},[N.activeText?(H(),le("span",{key:0,class:Z([E(f).is("text"),E(_)?E(f).is("show"):E(f).is("hide")]),"aria-hidden":!E(_)},Bt(N.activeText.substring(0,3)),11,bDe)):Ye("v-if",!0),N.inactiveText?(H(),le("span",{key:1,class:Z([E(f).is("text"),E(_)?E(f).is("hide"):E(f).is("show")]),"aria-hidden":E(_)},Bt(N.inactiveText.substring(0,3)),11,EDe)):Ye("v-if",!0)],64)):Ye("v-if",!0)],2)):Ye("v-if",!0),ve("div",{class:Z(E(f).e("action"))},[N.loading?(H(),et(E(En),{key:0,class:Z(E(f).is("loading"))},{default:Be(()=>[Te(E(ad))]),_:1},8,["class"])):Ye("v-if",!0)],2)],6),!N.inlinePrompt&&(N.activeIcon||N.activeText)?(H(),le("span",{key:1,class:Z([E(f).e("label"),E(f).em("label","right"),E(f).is("active",E(_))])},[N.activeIcon?(H(),et(E(En),{key:0},{default:Be(()=>[(H(),et(mr(N.activeIcon)))]),_:1})):Ye("v-if",!0),!N.activeIcon&&N.activeText?(H(),le("span",{key:1,"aria-hidden":!E(_)},Bt(N.activeText),9,SDe)):Ye("v-if",!0)],2)):Ye("v-if",!0)],14,yDe))}});var _De=zt(ODe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const TDe=fr(_De);/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var CDe=/["'&<>]/,ADe=PDe;function PDe(e){var t=""+e,n=CDe.exec(t);if(!n)return t;var r,o="",i=0,a=0;for(i=n.index;i<t.length;i++){switch(t.charCodeAt(i)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}a!==i&&(o+=t.substring(a,i)),a=i+1,o+=r}return a!==i?o+t.substring(a,i):o}const PA=function(e){var t;return(t=e.target)==null?void 0:t.closest("td")},bB=function(e){return e!==null&&typeof e=="object"},xDe=function(e,t,n,r,o){if(!t&&!r&&(!o||Array.isArray(o)&&!o.length))return e;typeof n=="string"?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const i=r?null:function(s,f){return o?(Array.isArray(o)||(o=[o]),o.map(d=>typeof d=="string"?Ao(s,d):d(s,f,e))):(t!=="$key"&&bB(s)&&"$value"in s&&(s=s.$value),[bB(s)?Ao(s,t):s])},a=function(s,f){if(r)return r(s.value,f.value);for(let d=0,h=s.key.length;d<h;d++){if(s.key[d]<f.key[d])return-1;if(s.key[d]>f.key[d])return 1}return 0};return e.map((s,f)=>({value:s,index:f,key:i?i(s,f):null})).sort((s,f)=>{let d=a(s,f);return d||(d=s.index-f.index),d*+n}).map(s=>s.value)},G9=function(e,t){let n=null;return e.columns.forEach(r=>{r.id===t&&(n=r)}),n},MDe=function(e,t){let n=null;for(let r=0;r<e.columns.length;r++){const o=e.columns[r];if(o.columnKey===t){n=o;break}}return n||gi("ElTable",`No column matching with column-key: ${t}`),n},EB=function(e,t,n){const r=(t.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return r?G9(e,r[0]):null},Ui=(e,t)=>{if(!e)throw new Error("Row is required when get row identity");if(typeof t=="string"){if(!t.includes("."))return`${e[t]}`;const n=t.split(".");let r=e;for(const o of n)r=r[o];return`${r}`}else if(typeof t=="function")return t.call(null,e)},_h=function(e,t){const n={};return(e||[]).forEach((r,o)=>{n[Ui(r,t)]={row:r,index:o}}),n};function NDe(e,t){const n={};let r;for(r in e)n[r]=e[r];for(r in t)if(xr(t,r)){const o=t[r];typeof o<"u"&&(n[r]=o)}return n}function AN(e){return e===""||e!==void 0&&(e=Number.parseInt(e,10),Number.isNaN(e)&&(e="")),e}function W9(e){return e===""||e!==void 0&&(e=AN(e),Number.isNaN(e)&&(e=80)),e}function RDe(e){return typeof e=="number"?e:typeof e=="string"?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function IDe(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Fw(e,t,n){let r=!1;const o=e.indexOf(t),i=o!==-1,a=()=>{e.push(t),r=!0},s=()=>{e.splice(o,1),r=!0};return typeof n=="boolean"?n&&!i?a():!n&&i&&s():i?s():a(),r}function DDe(e,t,n="children",r="hasChildren"){const o=a=>!(Array.isArray(a)&&a.length);function i(a,s,f){t(a,s,f),s.forEach(d=>{if(d[r]){t(d,null,f+1);return}const h=d[n];o(h)||i(d,h,f+1)})}e.forEach(a=>{if(a[r]){t(a,null,0);return}const s=a[n];o(s)||i(a,s,0)})}let nc;function kDe(e,t,n,r,o){const{nextZIndex:i}=Pc(),a=e==null?void 0:e.dataset.prefix,s=e==null?void 0:e.querySelector(`.${a}-scrollbar__wrap`);function f(){const b=o==="light",S=document.createElement("div");return S.className=`${a}-popper ${b?"is-light":"is-dark"}`,n=ADe(n),S.innerHTML=n,S.style.zIndex=String(i()),e==null||e.appendChild(S),S}function d(){const b=document.createElement("div");return b.className=`${a}-popper__arrow`,b}function h(){v&&v.update()}nc==null||nc(),nc=()=>{try{v&&v.destroy(),y&&(e==null||e.removeChild(y)),t.removeEventListener("mouseenter",h),t.removeEventListener("mouseleave",nc),s==null||s.removeEventListener("scroll",nc),nc=void 0}catch{}};let v=null;const y=f(),m=d();return y.appendChild(m),v=GG(t,y,{strategy:"absolute",modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"arrow",options:{element:m,padding:10}}],...r}),t.addEventListener("mouseenter",h),t.addEventListener("mouseleave",nc),s==null||s.addEventListener("scroll",nc),v}const K9=(e,t,n,r)=>{let o=0,i=e;if(r){if(r[e].colSpan>1)return{};for(let f=0;f<e;f++)o+=r[f].colSpan;i=o+r[e].colSpan-1}else o=e;let a;const s=n.states.columns;switch(t){case"left":i<n.states.fixedLeafColumnsLength.value&&(a="left");break;case"right":o>=s.value.length-n.states.rightFixedLeafColumnsLength.value&&(a="right");break;default:i<n.states.fixedLeafColumnsLength.value?a="left":o>=s.value.length-n.states.rightFixedLeafColumnsLength.value&&(a="right")}return a?{direction:a,start:o,after:i}:{}},PN=(e,t,n,r,o)=>{const i=[],{direction:a,start:s}=K9(t,n,r,o);if(a){const f=a==="left";i.push(`${e}-fixed-column--${a}`),f&&s===r.states.fixedLeafColumnsLength.value-1?i.push("is-last-column"):!f&&s===r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value&&i.push("is-first-column")}return i};function SB(e,t){return e+(t.realWidth===null||Number.isNaN(t.realWidth)?Number(t.width):t.realWidth)}const xN=(e,t,n,r)=>{const{direction:o,start:i=0}=K9(e,t,n,r);if(!o)return;const a={},s=o==="left",f=n.states.columns.value;return s?a.left=f.slice(0,e).reduce(SB,0):a.right=f.slice(i+1).reverse().reduce(SB,0),a},Sy=(e,t)=>{!e||Number.isNaN(e[t])||(e[t]=`${e[t]}px`)};function LDe(e){const t=cr(),n=re(!1),r=re([]);return{updateExpandRows:()=>{const f=e.data.value||[],d=e.rowKey.value;if(n.value)r.value=f.slice();else if(d){const h=_h(r.value,d);r.value=f.reduce((v,y)=>{const m=Ui(y,d);return h[m]&&v.push(y),v},[])}else r.value=[]},toggleRowExpansion:(f,d)=>{Fw(r.value,f,d)&&t.emit("expand-change",f,r.value.slice())},setExpandRowKeys:f=>{t.store.assertRowKey();const d=e.data.value||[],h=e.rowKey.value,v=_h(d,h);r.value=f.reduce((y,m)=>{const b=v[m];return b&&y.push(b.row),y},[])},isRowExpanded:f=>{const d=e.rowKey.value;return d?!!_h(r.value,d)[Ui(f,d)]:r.value.includes(f)},states:{expandRows:r,defaultExpandAll:n}}}function $De(e){const t=cr(),n=re(null),r=re(null),o=d=>{t.store.assertRowKey(),n.value=d,a(d)},i=()=>{n.value=null},a=d=>{const{data:h,rowKey:v}=e;let y=null;v.value&&(y=(E(h)||[]).find(m=>Ui(m,v.value)===d)),r.value=y,t.emit("current-change",r.value,null)};return{setCurrentRowKey:o,restoreCurrentRowKey:i,setCurrentRowByKey:a,updateCurrentRow:d=>{const h=r.value;if(d&&d!==h){r.value=d,t.emit("current-change",r.value,h);return}!d&&h&&(r.value=null,t.emit("current-change",null,h))},updateCurrentRowData:()=>{const d=e.rowKey.value,h=e.data.value||[],v=r.value;if(!h.includes(v)&&v){if(d){const y=Ui(v,d);a(y)}else r.value=null;r.value===null&&t.emit("current-change",null,v)}else n.value&&(a(n.value),i())},states:{_currentRowKey:n,currentRow:r}}}function BDe(e){const t=re([]),n=re({}),r=re(16),o=re(!1),i=re({}),a=re("hasChildren"),s=re("children"),f=cr(),d=G(()=>{if(!e.rowKey.value)return{};const _=e.data.value||[];return v(_)}),h=G(()=>{const _=e.rowKey.value,A=Object.keys(i.value),T={};return A.length&&A.forEach(P=>{if(i.value[P].length){const x={children:[]};i.value[P].forEach(N=>{const L=Ui(N,_);x.children.push(L),N[a.value]&&!T[L]&&(T[L]={children:[]})}),T[P]=x}}),T}),v=_=>{const A=e.rowKey.value,T={};return DDe(_,(P,x,N)=>{const L=Ui(P,A);Array.isArray(x)?T[L]={children:x.map(j=>Ui(j,A)),level:N}:o.value&&(T[L]={children:[],lazy:!0,level:N})},s.value,a.value),T},y=(_=!1,A=(T=>(T=f.store)==null?void 0:T.states.defaultExpandAll.value)())=>{var T;const P=d.value,x=h.value,N=Object.keys(P),L={};if(N.length){const j=E(n),k=[],F=(M,D)=>{if(_)return t.value?A||t.value.includes(D):!!(A||(M==null?void 0:M.expanded));{const B=A||t.value&&t.value.includes(D);return!!((M==null?void 0:M.expanded)||B)}};N.forEach(M=>{const D=j[M],B={...P[M]};if(B.expanded=F(D,M),B.lazy){const{loaded:V=!1,loading:Y=!1}=D||{};B.loaded=!!V,B.loading=!!Y,k.push(M)}L[M]=B});const z=Object.keys(x);o.value&&z.length&&k.length&&z.forEach(M=>{const D=j[M],B=x[M].children;if(k.includes(M)){if(L[M].children.length!==0)throw new Error("[ElTable]children must be an empty array.");L[M].children=B}else{const{loaded:V=!1,loading:Y=!1}=D||{};L[M]={lazy:!0,loaded:!!V,loading:!!Y,expanded:F(D,M),children:B,level:""}}})}n.value=L,(T=f.store)==null||T.updateTableScrollY()};At(()=>t.value,()=>{y(!0)}),At(()=>d.value,()=>{y()}),At(()=>h.value,()=>{y()});const m=_=>{t.value=_,y()},b=(_,A)=>{f.store.assertRowKey();const T=e.rowKey.value,P=Ui(_,T),x=P&&n.value[P];if(P&&x&&"expanded"in x){const N=x.expanded;A=typeof A>"u"?!x.expanded:A,n.value[P].expanded=A,N!==A&&f.emit("expand-change",_,A),f.store.updateTableScrollY()}},S=_=>{f.store.assertRowKey();const A=e.rowKey.value,T=Ui(_,A),P=n.value[T];o.value&&P&&"loaded"in P&&!P.loaded?O(_,T,P):b(_,void 0)},O=(_,A,T)=>{const{load:P}=f.props;P&&!n.value[A].loaded&&(n.value[A].loading=!0,P(_,T,x=>{if(!Array.isArray(x))throw new TypeError("[ElTable] data must be an array");n.value[A].loading=!1,n.value[A].loaded=!0,n.value[A].expanded=!0,x.length&&(i.value[A]=x),f.emit("expand-change",_,!0)}))};return{loadData:O,loadOrToggle:S,toggleTreeExpansion:b,updateTreeExpandKeys:m,updateTreeData:y,normalize:v,states:{expandRowKeys:t,treeData:n,indent:r,lazy:o,lazyTreeNodeMap:i,lazyColumnIdentifier:a,childrenColumnName:s}}}const jDe=(e,t)=>{const n=t.sortingColumn;return!n||typeof n.sortable=="string"?e:xDe(e,t.sortProp,t.sortOrder,n.sortMethod,n.sortBy)},zw=e=>{const t=[];return e.forEach(n=>{n.children?t.push.apply(t,zw(n.children)):t.push(n)}),t};function FDe(){var e;const t=cr(),{size:n}=mi((e=t.proxy)==null?void 0:e.$props),r=re(null),o=re([]),i=re([]),a=re(!1),s=re([]),f=re([]),d=re([]),h=re([]),v=re([]),y=re([]),m=re([]),b=re([]),S=re(0),O=re(0),_=re(0),A=re(!1),T=re([]),P=re(!1),x=re(!1),N=re(null),L=re({}),j=re(null),k=re(null),F=re(null),z=re(null),M=re(null);At(o,()=>t.state&&V(!1),{deep:!0});const D=()=>{if(!r.value)throw new Error("[ElTable] prop row-key is required")},B=()=>{h.value=s.value.filter(we=>we.fixed===!0||we.fixed==="left"),v.value=s.value.filter(we=>we.fixed==="right"),h.value.length>0&&s.value[0]&&s.value[0].type==="selection"&&!s.value[0].fixed&&(s.value[0].fixed=!0,h.value.unshift(s.value[0]));const _e=s.value.filter(we=>!we.fixed);f.value=[].concat(h.value).concat(_e).concat(v.value);const nt=zw(_e),Se=zw(h.value),tt=zw(v.value);S.value=nt.length,O.value=Se.length,_.value=tt.length,d.value=[].concat(Se).concat(nt).concat(tt),a.value=h.value.length>0||v.value.length>0},V=(_e,nt=!1)=>{_e&&B(),nt?t.state.doLayout():t.state.debouncedUpdateLayout()},Y=_e=>T.value.includes(_e),K=()=>{A.value=!1,T.value.length&&(T.value=[],t.emit("selection-change",[]))},X=()=>{let _e;if(r.value){_e=[];const nt=_h(T.value,r.value),Se=_h(o.value,r.value);for(const tt in nt)xr(nt,tt)&&!Se[tt]&&_e.push(nt[tt].row)}else _e=T.value.filter(nt=>!o.value.includes(nt));if(_e.length){const nt=T.value.filter(Se=>!_e.includes(Se));T.value=nt,t.emit("selection-change",nt.slice())}},W=()=>(T.value||[]).slice(),ie=(_e,nt=void 0,Se=!0)=>{if(Fw(T.value,_e,nt)){const we=(T.value||[]).slice();Se&&t.emit("select",we,_e),t.emit("selection-change",we)}},oe=()=>{var _e,nt;const Se=x.value?!A.value:!(A.value||T.value.length);A.value=Se;let tt=!1,we=0;const ht=(nt=(_e=t==null?void 0:t.store)==null?void 0:_e.states)==null?void 0:nt.rowKey.value;o.value.forEach((yt,Et)=>{const Wt=Et+we;N.value?N.value.call(null,yt,Wt)&&Fw(T.value,yt,Se)&&(tt=!0):Fw(T.value,yt,Se)&&(tt=!0),we+=Ne(Ui(yt,ht))}),tt&&t.emit("selection-change",T.value?T.value.slice():[]),t.emit("select-all",T.value)},ee=()=>{const _e=_h(T.value,r.value);o.value.forEach(nt=>{const Se=Ui(nt,r.value),tt=_e[Se];tt&&(T.value[tt.index]=nt)})},ue=()=>{var _e,nt,Se;if(((_e=o.value)==null?void 0:_e.length)===0){A.value=!1;return}let tt;r.value&&(tt=_h(T.value,r.value));const we=function(Wt){return tt?!!tt[Ui(Wt,r.value)]:T.value.includes(Wt)};let ht=!0,yt=0,Et=0;for(let Wt=0,ur=(o.value||[]).length;Wt<ur;Wt++){const tn=(Se=(nt=t==null?void 0:t.store)==null?void 0:nt.states)==null?void 0:Se.rowKey.value,Dn=Wt+Et,vn=o.value[Wt],Ln=N.value&&N.value.call(null,vn,Dn);if(we(vn))yt++;else if(!N.value||Ln){ht=!1;break}Et+=Ne(Ui(vn,tn))}yt===0&&(ht=!1),A.value=ht},Ne=_e=>{var nt;if(!t||!t.store)return 0;const{treeData:Se}=t.store.states;let tt=0;const we=(nt=Se.value[_e])==null?void 0:nt.children;return we&&(tt+=we.length,we.forEach(ht=>{tt+=Ne(ht)})),tt},$e=(_e,nt)=>{Array.isArray(_e)||(_e=[_e]);const Se={};return _e.forEach(tt=>{L.value[tt.id]=nt,Se[tt.columnKey||tt.id]=nt}),Se},Ie=(_e,nt,Se)=>{k.value&&k.value!==_e&&(k.value.order=null),k.value=_e,F.value=nt,z.value=Se},Le=()=>{let _e=E(i);Object.keys(L.value).forEach(nt=>{const Se=L.value[nt];if(!Se||Se.length===0)return;const tt=G9({columns:d.value},nt);tt&&tt.filterMethod&&(_e=_e.filter(we=>Se.some(ht=>tt.filterMethod.call(null,ht,we,tt))))}),j.value=_e},he=()=>{o.value=jDe(j.value,{sortingColumn:k.value,sortProp:F.value,sortOrder:z.value})},te=(_e=void 0)=>{_e&&_e.filter||Le(),he()},ae=_e=>{const{tableHeaderRef:nt}=t.refs;if(!nt)return;const Se=Object.assign({},nt.filterPanels),tt=Object.keys(Se);if(!!tt.length)if(typeof _e=="string"&&(_e=[_e]),Array.isArray(_e)){const we=_e.map(ht=>MDe({columns:d.value},ht));tt.forEach(ht=>{const yt=we.find(Et=>Et.id===ht);yt&&(yt.filteredValue=[])}),t.store.commit("filterChange",{column:we,values:[],silent:!0,multi:!0})}else tt.forEach(we=>{const ht=d.value.find(yt=>yt.id===we);ht&&(ht.filteredValue=[])}),L.value={},t.store.commit("filterChange",{column:{},values:[],silent:!0})},Ce=()=>{!k.value||(Ie(null,null,null),t.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Ze,toggleRowExpansion:se,updateExpandRows:de,states:ze,isRowExpanded:lt}=LDe({data:o,rowKey:r}),{updateTreeExpandKeys:Re,toggleTreeExpansion:qe,updateTreeData:pe,loadOrToggle:Ue,states:Ke}=BDe({data:o,rowKey:r}),{updateCurrentRowData:Ve,updateCurrentRow:ne,setCurrentRowKey:fe,states:Me}=$De({data:o,rowKey:r});return{assertRowKey:D,updateColumns:B,scheduleLayout:V,isSelected:Y,clearSelection:K,cleanSelection:X,getSelectionRows:W,toggleRowSelection:ie,_toggleAllSelection:oe,toggleAllSelection:null,updateSelectionByRowKey:ee,updateAllSelected:ue,updateFilters:$e,updateCurrentRow:ne,updateSort:Ie,execFilter:Le,execSort:he,execQuery:te,clearFilter:ae,clearSort:Ce,toggleRowExpansion:se,setExpandRowKeysAdapter:_e=>{Ze(_e),Re(_e)},setCurrentRowKey:fe,toggleRowExpansionAdapter:(_e,nt)=>{d.value.some(({type:tt})=>tt==="expand")?se(_e,nt):qe(_e,nt)},isRowExpanded:lt,updateExpandRows:de,updateCurrentRowData:Ve,loadOrToggle:Ue,updateTreeData:pe,states:{tableSize:n,rowKey:r,data:o,_data:i,isComplex:a,_columns:s,originColumns:f,columns:d,fixedColumns:h,rightFixedColumns:v,leafColumns:y,fixedLeafColumns:m,rightFixedLeafColumns:b,leafColumnsLength:S,fixedLeafColumnsLength:O,rightFixedLeafColumnsLength:_,isAllSelected:A,selection:T,reserveSelection:P,selectOnIndeterminate:x,selectable:N,filters:L,filteredData:j,sortingColumn:k,sortProp:F,sortOrder:z,hoverRow:M,...ze,...Ke,...Me}}}function lx(e,t){return e.map(n=>{var r;return n.id===t.id?t:((r=n.children)!=null&&r.length&&(n.children=lx(n.children,t)),n)})}function X9(e){e.forEach(t=>{var n,r;t.no=(n=t.getColumnIndex)==null?void 0:n.call(t),(r=t.children)!=null&&r.length&&X9(t.children)}),e.sort((t,n)=>t.no-n.no)}function zDe(){const e=cr(),t=FDe();return{ns:wt("table"),...t,mutations:{setData(a,s){const f=E(a._data)!==s;a.data.value=s,a._data.value=s,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),e.store.updateTreeData(e.store.states.defaultExpandAll.value),E(a.reserveSelection)?(e.store.assertRowKey(),e.store.updateSelectionByRowKey()):f?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(a,s,f){const d=E(a._columns);let h=[];f?(f&&!f.children&&(f.children=[]),f.children.push(s),h=lx(d,f)):(d.push(s),h=d),X9(h),a._columns.value=h,s.type==="selection"&&(a.selectable.value=s.selectable,a.reserveSelection.value=s.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},removeColumn(a,s,f){const d=E(a._columns)||[];if(f)f.children.splice(f.children.findIndex(h=>h.id===s.id),1),f.children.length===0&&delete f.children,a._columns.value=lx(d,f);else{const h=d.indexOf(s);h>-1&&(d.splice(h,1),a._columns.value=d)}e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(a,s){const{prop:f,order:d,init:h}=s;if(f){const v=E(a.columns).find(y=>y.property===f);v&&(v.order=d,e.store.updateSort(v,f,d),e.store.commit("changeSortCondition",{init:h}))}},changeSortCondition(a,s){const{sortingColumn:f,sortProp:d,sortOrder:h}=a,v=E(f),y=E(d),m=E(h);m===null&&(a.sortingColumn.value=null,a.sortProp.value=null);const b={filter:!0};e.store.execQuery(b),(!s||!(s.silent||s.init))&&e.emit("sort-change",{column:v,prop:y,order:m}),e.store.updateTableScrollY()},filterChange(a,s){const{column:f,values:d,silent:h}=s,v=e.store.updateFilters(f,d);e.store.execQuery(),h||e.emit("filter-change",v),e.store.updateTableScrollY()},toggleAllSelection(){e.store.toggleAllSelection()},rowSelectedChanged(a,s){e.store.toggleRowSelection(s),e.store.updateAllSelected()},setHoverRow(a,s){a.hoverRow.value=s},setCurrentRow(a,s){e.store.updateCurrentRow(s)}},commit:function(a,...s){const f=e.store.mutations;if(f[a])f[a].apply(e,[e.store.states].concat(s));else throw new Error(`Action not found: ${a}`)},updateTableScrollY:function(){bn(()=>e.layout.updateScrollY.apply(e.layout))}}}const Kg={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data",["treeProps.hasChildren"]:{key:"lazyColumnIdentifier",default:"hasChildren"},["treeProps.children"]:{key:"childrenColumnName",default:"children"}};function UDe(e,t){if(!e)throw new Error("Table is required.");const n=zDe();return n.toggleAllSelection=Sa(n._toggleAllSelection,10),Object.keys(Kg).forEach(r=>{Y9(Z9(t,r),r,n)}),VDe(n,t),n}function VDe(e,t){Object.keys(Kg).forEach(n=>{At(()=>Z9(t,n),r=>{Y9(r,n,e)})})}function Y9(e,t,n){let r=e,o=Kg[t];typeof Kg[t]=="object"&&(o=o.key,r=r||Kg[t].default),n.states[o].value=r}function Z9(e,t){if(t.includes(".")){const n=t.split(".");let r=e;return n.forEach(o=>{r=r[o]}),r}else return e[t]}class HDe{constructor(t){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=re(null),this.scrollX=re(!1),this.scrollY=re(!1),this.bodyWidth=re(null),this.fixedWidth=re(null),this.rightFixedWidth=re(null),this.gutterWidth=0;for(const n in t)xr(t,n)&&(uo(this[n])?this[n].value=t[n]:this[n]=t[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&n){let r=!0;const o=this.scrollY.value;return r=n.wrap$.scrollHeight>n.wrap$.clientHeight,this.scrollY.value=r,o!==r}return!1}setHeight(t,n="height"){if(!Rr)return;const r=this.table.vnode.el;if(t=RDe(t),this.height.value=Number(t),!r&&(t||t===0))return bn(()=>this.setHeight(t,n));typeof t=="number"?(r.style[n]=`${t}px`,this.updateElsHeight()):typeof t=="string"&&(r.style[n]=t,this.updateElsHeight())}setMaxHeight(t){this.setHeight(t,"max-height")}getFlattenColumns(){const t=[];return this.table.store.states.columns.value.forEach(r=>{r.isColumnGroup?t.push.apply(t,r.columns):t.push(r)}),t}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(t){if(!t)return!0;let n=t;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){if(!Rr)return;const t=this.fit,n=this.table.vnode.el.clientWidth;let r=0;const o=this.getFlattenColumns(),i=o.filter(f=>typeof f.width!="number");if(o.forEach(f=>{typeof f.width=="number"&&f.realWidth&&(f.realWidth=null)}),i.length>0&&t){if(o.forEach(f=>{r+=Number(f.width||f.minWidth||80)}),r<=n){this.scrollX.value=!1;const f=n-r;if(i.length===1)i[0].realWidth=Number(i[0].minWidth||80)+f;else{const d=i.reduce((y,m)=>y+Number(m.minWidth||80),0),h=f/d;let v=0;i.forEach((y,m)=>{if(m===0)return;const b=Math.floor(Number(y.minWidth||80)*h);v+=b,y.realWidth=Number(y.minWidth||80)+b}),i[0].realWidth=Number(i[0].minWidth||80)+f-v}}else this.scrollX.value=!0,i.forEach(f=>{f.realWidth=Number(f.minWidth)});this.bodyWidth.value=Math.max(r,n),this.table.state.resizeState.value.width=this.bodyWidth.value}else o.forEach(f=>{!f.width&&!f.minWidth?f.realWidth=80:f.realWidth=Number(f.width||f.minWidth),r+=f.realWidth}),this.scrollX.value=r>n,this.bodyWidth.value=r;const a=this.store.states.fixedColumns.value;if(a.length>0){let f=0;a.forEach(d=>{f+=Number(d.realWidth||d.width)}),this.fixedWidth.value=f}const s=this.store.states.rightFixedColumns.value;if(s.length>0){let f=0;s.forEach(d=>{f+=Number(d.realWidth||d.width)}),this.rightFixedWidth.value=f}this.notifyObservers("columns")}addObserver(t){this.observers.push(t)}removeObserver(t){const n=this.observers.indexOf(t);n!==-1&&this.observers.splice(n,1)}notifyObservers(t){this.observers.forEach(r=>{var o,i;switch(t){case"columns":(o=r.state)==null||o.onColumnsChange(this);break;case"scrollable":(i=r.state)==null||i.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${t}.`)}})}}const{CheckboxGroup:GDe}=Bs,WDe=St({name:"ElTableFilterPanel",components:{ElCheckbox:Bs,ElCheckboxGroup:GDe,ElScrollbar:Mc,ElTooltip:Ua,ElIcon:En,ArrowDown:od,ArrowUp:g_},directives:{ClickOutside:qf},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(e){const t=cr(),{t:n}=Hr(),r=wt("table-filter"),o=t==null?void 0:t.parent;o.filterPanels.value[e.column.id]||(o.filterPanels.value[e.column.id]=t);const i=re(!1),a=re(null),s=G(()=>e.column&&e.column.filters),f=G({get:()=>{var P;return(((P=e.column)==null?void 0:P.filteredValue)||[])[0]},set:P=>{d.value&&(typeof P<"u"&&P!==null?d.value.splice(0,1,P):d.value.splice(0,1))}}),d=G({get(){return e.column?e.column.filteredValue||[]:[]},set(P){e.column&&e.upDataColumn("filteredValue",P)}}),h=G(()=>e.column?e.column.filterMultiple:!0),v=P=>P.value===f.value,y=()=>{i.value=!1},m=P=>{P.stopPropagation(),i.value=!i.value},b=()=>{i.value=!1},S=()=>{A(d.value),y()},O=()=>{d.value=[],A(d.value),y()},_=P=>{f.value=P,A(typeof P<"u"&&P!==null?d.value:[]),y()},A=P=>{e.store.commit("filterChange",{column:e.column,values:P}),e.store.updateAllSelected()};At(i,P=>{e.column&&e.upDataColumn("filterOpened",P)},{immediate:!0});const T=G(()=>{var P,x;return(x=(P=a.value)==null?void 0:P.popperRef)==null?void 0:x.contentRef});return{tooltipVisible:i,multiple:h,filteredValue:d,filterValue:f,filters:s,handleConfirm:S,handleReset:O,handleSelect:_,isActive:v,t:n,ns:r,showFilterPanel:m,hideFilterPanel:b,popperPaneRef:T,tooltip:a}}}),KDe={key:0},XDe=["disabled"],YDe=["label","onClick"];function ZDe(e,t,n,r,o,i){const a=_n("el-checkbox"),s=_n("el-checkbox-group"),f=_n("el-scrollbar"),d=_n("arrow-up"),h=_n("arrow-down"),v=_n("el-icon"),y=_n("el-tooltip"),m=kh("click-outside");return H(),et(y,{ref:"tooltip",visible:e.tooltipVisible,offset:0,placement:e.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":e.ns.b(),persistent:""},{content:Be(()=>[e.multiple?(H(),le("div",KDe,[ve("div",{class:Z(e.ns.e("content"))},[Te(f,{"wrap-class":e.ns.e("wrap")},{default:Be(()=>[Te(s,{modelValue:e.filteredValue,"onUpdate:modelValue":t[0]||(t[0]=b=>e.filteredValue=b),class:Z(e.ns.e("checkbox-group"))},{default:Be(()=>[(H(!0),le(wn,null,_r(e.filters,b=>(H(),et(a,{key:b.value,label:b.value},{default:Be(()=>[$r(Bt(b.text),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),ve("div",{class:Z(e.ns.e("bottom"))},[ve("button",{class:Z({[e.ns.is("disabled")]:e.filteredValue.length===0}),disabled:e.filteredValue.length===0,type:"button",onClick:t[1]||(t[1]=(...b)=>e.handleConfirm&&e.handleConfirm(...b))},Bt(e.t("el.table.confirmFilter")),11,XDe),ve("button",{type:"button",onClick:t[2]||(t[2]=(...b)=>e.handleReset&&e.handleReset(...b))},Bt(e.t("el.table.resetFilter")),1)],2)])):(H(),le("ul",{key:1,class:Z(e.ns.e("list"))},[ve("li",{class:Z([e.ns.e("list-item"),{[e.ns.is("active")]:e.filterValue===void 0||e.filterValue===null}]),onClick:t[3]||(t[3]=b=>e.handleSelect(null))},Bt(e.t("el.table.clearFilter")),3),(H(!0),le(wn,null,_r(e.filters,b=>(H(),le("li",{key:b.value,class:Z([e.ns.e("list-item"),e.ns.is("active",e.isActive(b))]),label:b.value,onClick:S=>e.handleSelect(b.value)},Bt(b.text),11,YDe))),128))],2))]),default:Be(()=>[Gn((H(),le("span",{class:Z([`${e.ns.namespace.value}-table__column-filter-trigger`,`${e.ns.namespace.value}-none-outline`]),onClick:t[4]||(t[4]=(...b)=>e.showFilterPanel&&e.showFilterPanel(...b))},[Te(v,null,{default:Be(()=>[e.column.filterOpened?(H(),et(d,{key:0})):(H(),et(h,{key:1}))]),_:1})],2)),[[m,e.hideFilterPanel,e.popperPaneRef]])]),_:1},8,["visible","placement","popper-class"])}var JDe=zt(WDe,[["render",ZDe],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/filter-panel.vue"]]);function J9(e){const t=cr();i_(()=>{n.value.addObserver(t)}),ir(()=>{r(n.value),o(n.value)}),gu(()=>{r(n.value),o(n.value)}),Yh(()=>{n.value.removeObserver(t)});const n=G(()=>{const i=e.layout;if(!i)throw new Error("Can not find table layout.");return i}),r=i=>{var a;const s=((a=e.vnode.el)==null?void 0:a.querySelectorAll("colgroup > col"))||[];if(!s.length)return;const f=i.getFlattenColumns(),d={};f.forEach(h=>{d[h.id]=h});for(let h=0,v=s.length;h<v;h++){const y=s[h],m=y.getAttribute("name"),b=d[m];b&&y.setAttribute("width",b.realWidth||b.width)}},o=i=>{var a,s;const f=((a=e.vnode.el)==null?void 0:a.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let h=0,v=f.length;h<v;h++)f[h].setAttribute("width",i.scrollY.value?i.gutterWidth:"0");const d=((s=e.vnode.el)==null?void 0:s.querySelectorAll("th.gutter"))||[];for(let h=0,v=d.length;h<v;h++){const y=d[h];y.style.width=i.scrollY.value?`${i.gutterWidth}px`:"0",y.style.display=i.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:r,onScrollableChange:o}}const bu=Symbol("ElTable");function QDe(e,t){const n=cr(),r=Cn(bu),o=S=>{S.stopPropagation()},i=(S,O)=>{!O.filters&&O.sortable?b(S,O,!1):O.filterable&&!O.sortable&&o(S),r==null||r.emit("header-click",O,S)},a=(S,O)=>{r==null||r.emit("header-contextmenu",O,S)},s=re(null),f=re(!1),d=re({}),h=(S,O)=>{if(!!Rr&&!(O.children&&O.children.length>0)&&s.value&&e.border){f.value=!0;const _=r;t("set-drag-visible",!0);const T=(_==null?void 0:_.vnode.el).getBoundingClientRect().left,P=n.vnode.el.querySelector(`th.${O.id}`),x=P.getBoundingClientRect(),N=x.left-T+30;su(P,"noclick"),d.value={startMouseLeft:S.clientX,startLeft:x.right-T,startColumnLeft:x.left-T,tableLeft:T};const L=_==null?void 0:_.refs.resizeProxy;L.style.left=`${d.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const j=F=>{const z=F.clientX-d.value.startMouseLeft,M=d.value.startLeft+z;L.style.left=`${Math.max(N,M)}px`},k=()=>{if(f.value){const{startColumnLeft:F,startLeft:z}=d.value,D=Number.parseInt(L.style.left,10)-F;O.width=O.realWidth=D,_==null||_.emit("header-dragend",O.width,z-F,O,S),requestAnimationFrame(()=>{e.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",f.value=!1,s.value=null,d.value={},t("set-drag-visible",!1)}document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",k),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{Ba(P,"noclick")},0)};document.addEventListener("mousemove",j),document.addEventListener("mouseup",k)}},v=(S,O)=>{var _;if(O.children&&O.children.length>0)return;const A=(_=S.target)==null?void 0:_.closest("th");if(!(!O||!O.resizable)&&!f.value&&e.border){const T=A.getBoundingClientRect(),P=document.body.style;T.width>12&&T.right-S.pageX<8?(P.cursor="col-resize",pl(A,"is-sortable")&&(A.style.cursor="col-resize"),s.value=O):f.value||(P.cursor="",pl(A,"is-sortable")&&(A.style.cursor="pointer"),s.value=null)}},y=()=>{!Rr||(document.body.style.cursor="")},m=({order:S,sortOrders:O})=>{if(S==="")return O[0];const _=O.indexOf(S||null);return O[_>O.length-2?0:_+1]},b=(S,O,_)=>{var A;S.stopPropagation();const T=O.order===_?null:_||m(O),P=(A=S.target)==null?void 0:A.closest("th");if(P&&pl(P,"noclick")){Ba(P,"noclick");return}if(!O.sortable)return;const x=e.store.states;let N=x.sortProp.value,L;const j=x.sortingColumn.value;(j!==O||j===O&&j.order===null)&&(j&&(j.order=null),x.sortingColumn.value=O,N=O.property),T?L=O.order=T:L=O.order=null,x.sortProp.value=N,x.sortOrder.value=L,r==null||r.store.commit("changeSortCondition")};return{handleHeaderClick:i,handleHeaderContextMenu:a,handleMouseDown:h,handleMouseMove:v,handleMouseOut:y,handleSortClick:b,handleFilterClick:o}}function qDe(e){const t=Cn(bu),n=wt("table");return{getHeaderRowStyle:s=>{const f=t==null?void 0:t.props.headerRowStyle;return typeof f=="function"?f.call(null,{rowIndex:s}):f},getHeaderRowClass:s=>{const f=[],d=t==null?void 0:t.props.headerRowClassName;return typeof d=="string"?f.push(d):typeof d=="function"&&f.push(d.call(null,{rowIndex:s})),f.join(" ")},getHeaderCellStyle:(s,f,d,h)=>{var v;let y=(v=t==null?void 0:t.props.headerCellStyle)!=null?v:{};typeof y=="function"&&(y=y.call(null,{rowIndex:s,columnIndex:f,row:d,column:h}));const m=h.isSubColumn?null:xN(f,h.fixed,e.store,d);return Sy(m,"left"),Sy(m,"right"),Object.assign({},y,m)},getHeaderCellClass:(s,f,d,h)=>{const v=h.isSubColumn?[]:PN(n.b(),f,h.fixed,e.store,d),y=[h.id,h.order,h.headerAlign,h.className,h.labelClassName,...v];h.children||y.push("is-leaf"),h.sortable&&y.push("is-sortable");const m=t==null?void 0:t.props.headerCellClassName;return typeof m=="string"?y.push(m):typeof m=="function"&&y.push(m.call(null,{rowIndex:s,columnIndex:f,row:d,column:h})),y.push(n.e("cell")),y.filter(b=>Boolean(b)).join(" ")}}}const Q9=e=>{const t=[];return e.forEach(n=>{n.children?(t.push(n),t.push.apply(t,Q9(n.children))):t.push(n)}),t},eke=e=>{let t=1;const n=(i,a)=>{if(a&&(i.level=a.level+1,t<i.level&&(t=i.level)),i.children){let s=0;i.children.forEach(f=>{n(f,i),s+=f.colSpan}),i.colSpan=s}else i.colSpan=1};e.forEach(i=>{i.level=1,n(i,void 0)});const r=[];for(let i=0;i<t;i++)r.push([]);return Q9(e).forEach(i=>{i.children?(i.rowSpan=1,i.children.forEach(a=>a.isSubColumn=!0)):i.rowSpan=t-i.level+1,r[i.level-1].push(i)}),r};function tke(e){const t=Cn(bu),n=G(()=>eke(e.store.states.originColumns.value));return{isGroup:G(()=>{const i=n.value.length>1;return i&&t&&(t.state.isGroup.value=!0),i}),toggleAllSelection:i=>{i.stopPropagation(),t==null||t.store.commit("toggleAllSelection")},columnRows:n}}var nke=St({name:"ElTableHeader",components:{ElCheckbox:Bs},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e,{emit:t}){const n=cr(),r=Cn(bu),o=wt("table"),i=re({}),{onColumnsChange:a,onScrollableChange:s}=J9(r);ir(async()=>{await bn(),await bn();const{prop:N,order:L}=e.defaultSort;r==null||r.store.commit("sort",{prop:N,order:L,init:!0})});const{handleHeaderClick:f,handleHeaderContextMenu:d,handleMouseDown:h,handleMouseMove:v,handleMouseOut:y,handleSortClick:m,handleFilterClick:b}=QDe(e,t),{getHeaderRowStyle:S,getHeaderRowClass:O,getHeaderCellStyle:_,getHeaderCellClass:A}=qDe(e),{isGroup:T,toggleAllSelection:P,columnRows:x}=tke(e);return n.state={onColumnsChange:a,onScrollableChange:s},n.filterPanels=i,{ns:o,filterPanels:i,onColumnsChange:a,onScrollableChange:s,columnRows:x,getHeaderRowClass:O,getHeaderRowStyle:S,getHeaderCellClass:A,getHeaderCellStyle:_,handleHeaderClick:f,handleHeaderContextMenu:d,handleMouseDown:h,handleMouseMove:v,handleMouseOut:y,handleSortClick:m,handleFilterClick:b,isGroup:T,toggleAllSelection:P}},render(){const{ns:e,isGroup:t,columnRows:n,getHeaderCellStyle:r,getHeaderCellClass:o,getHeaderRowClass:i,getHeaderRowStyle:a,handleHeaderClick:s,handleHeaderContextMenu:f,handleMouseDown:d,handleMouseMove:h,handleSortClick:v,handleMouseOut:y,store:m,$parent:b}=this;let S=1;return Pn("thead",{class:{[e.is("group")]:t}},n.map((O,_)=>Pn("tr",{class:i(_),key:_,style:a(_)},O.map((A,T)=>(A.rowSpan>S&&(S=A.rowSpan),Pn("th",{class:o(_,T,O,A),colspan:A.colSpan,key:`${A.id}-thead`,rowspan:A.rowSpan,style:r(_,T,O,A),onClick:P=>s(P,A),onContextmenu:P=>f(P,A),onMousedown:P=>d(P,A),onMousemove:P=>h(P,A),onMouseout:y},[Pn("div",{class:["cell",A.filteredValue&&A.filteredValue.length>0?"highlight":""]},[A.renderHeader?A.renderHeader({column:A,$index:T,store:m,_self:b}):A.label,A.sortable&&Pn("span",{onClick:P=>v(P,A),class:"caret-wrapper"},[Pn("i",{onClick:P=>v(P,A,"ascending"),class:"sort-caret ascending"}),Pn("i",{onClick:P=>v(P,A,"descending"),class:"sort-caret descending"})]),A.filterable&&Pn(JDe,{store:m,placement:A.filterPlacement||"bottom-start",column:A,upDataColumn:(P,x)=>{A[P]=x}})])]))))))}});function rke(e){const t=Cn(bu),n=re(""),r=re(Pn("div")),o=(y,m,b)=>{var S;const O=t,_=PA(y);let A;const T=(S=O==null?void 0:O.vnode.el)==null?void 0:S.dataset.prefix;_&&(A=EB({columns:e.store.states.columns.value},_,T),A&&(O==null||O.emit(`cell-${b}`,m,A,_,y))),O==null||O.emit(`row-${b}`,m,A,y)},i=(y,m)=>{o(y,m,"dblclick")},a=(y,m)=>{e.store.commit("setCurrentRow",m),o(y,m,"click")},s=(y,m)=>{o(y,m,"contextmenu")},f=Sa(y=>{e.store.commit("setHoverRow",y)},30),d=Sa(()=>{e.store.commit("setHoverRow",null)},30);return{handleDoubleClick:i,handleClick:a,handleContextMenu:s,handleMouseEnter:f,handleMouseLeave:d,handleCellMouseEnter:(y,m,b)=>{var S;const O=t,_=PA(y),A=(S=O==null?void 0:O.vnode.el)==null?void 0:S.dataset.prefix;if(_){const L=EB({columns:e.store.states.columns.value},_,A),j=O.hoverState={cell:_,column:L,row:m};O==null||O.emit("cell-mouse-enter",j.row,j.column,j.cell,y)}const T=y.target.querySelector(".cell");if(!(pl(T,`${A}-tooltip`)&&T.childNodes.length))return;const P=document.createRange();P.setStart(T,0),P.setEnd(T,T.childNodes.length);const x=P.getBoundingClientRect().width,N=(Number.parseInt(lc(T,"paddingLeft"),10)||0)+(Number.parseInt(lc(T,"paddingRight"),10)||0);(x+N>T.offsetWidth||T.scrollWidth>T.offsetWidth)&&kDe(t==null?void 0:t.refs.tableWrapper,_,_.innerText||_.textContent,{placement:"top",strategy:"fixed"},b)},handleCellMouseLeave:y=>{if(!PA(y))return;const b=t==null?void 0:t.hoverState;t==null||t.emit("cell-mouse-leave",b==null?void 0:b.row,b==null?void 0:b.column,b==null?void 0:b.cell,y)},tooltipContent:n,tooltipTrigger:r}}function oke(e){const t=Cn(bu),n=wt("table");return{getRowStyle:(d,h)=>{const v=t==null?void 0:t.props.rowStyle;return typeof v=="function"?v.call(null,{row:d,rowIndex:h}):v||null},getRowClass:(d,h)=>{const v=[n.e("row")];(t==null?void 0:t.props.highlightCurrentRow)&&d===e.store.states.currentRow.value&&v.push("current-row"),e.stripe&&h%2===1&&v.push(n.em("row","striped"));const y=t==null?void 0:t.props.rowClassName;return typeof y=="string"?v.push(y):typeof y=="function"&&v.push(y.call(null,{row:d,rowIndex:h})),v},getCellStyle:(d,h,v,y)=>{const m=t==null?void 0:t.props.cellStyle;let b=m!=null?m:{};typeof m=="function"&&(b=m.call(null,{rowIndex:d,columnIndex:h,row:v,column:y}));const S=y.isSubColumn?null:xN(h,e==null?void 0:e.fixed,e.store);return Sy(S,"left"),Sy(S,"right"),Object.assign({},b,S)},getCellClass:(d,h,v,y)=>{const m=y.isSubColumn?[]:PN(n.b(),h,e==null?void 0:e.fixed,e.store),b=[y.id,y.align,y.className,...m],S=t==null?void 0:t.props.cellClassName;return typeof S=="string"?b.push(S):typeof S=="function"&&b.push(S.call(null,{rowIndex:d,columnIndex:h,row:v,column:y})),b.push(n.e("cell")),b.filter(O=>Boolean(O)).join(" ")},getSpan:(d,h,v,y)=>{let m=1,b=1;const S=t==null?void 0:t.props.spanMethod;if(typeof S=="function"){const O=S({row:d,column:h,rowIndex:v,columnIndex:y});Array.isArray(O)?(m=O[0],b=O[1]):typeof O=="object"&&(m=O.rowspan,b=O.colspan)}return{rowspan:m,colspan:b}},getColspanRealWidth:(d,h,v)=>{if(h<1)return d[v].realWidth;const y=d.map(({realWidth:m,width:b})=>m||b).slice(v,v+h);return Number(y.reduce((m,b)=>Number(m)+Number(b),-1))}}}function ike(e){const t=Cn(bu),n=wt("table"),{handleDoubleClick:r,handleClick:o,handleContextMenu:i,handleMouseEnter:a,handleMouseLeave:s,handleCellMouseEnter:f,handleCellMouseLeave:d,tooltipContent:h,tooltipTrigger:v}=rke(e),{getRowStyle:y,getRowClass:m,getCellStyle:b,getCellClass:S,getSpan:O,getColspanRealWidth:_}=oke(e),A=G(()=>e.store.states.columns.value.findIndex(({type:L})=>L==="default")),T=(L,j)=>{const k=t.props.rowKey;return k?Ui(L,k):j},P=(L,j,k,F=!1)=>{const{tooltipEffect:z,store:M}=e,{indent:D,columns:B}=M.states,V=m(L,j);let Y=!0;return k&&(V.push(n.em("row",`level-${k.level}`)),Y=k.display),Pn("tr",{style:[Y?null:{display:"none"},y(L,j)],class:V,key:T(L,j),onDblclick:X=>r(X,L),onClick:X=>o(X,L),onContextmenu:X=>i(X,L),onMouseenter:()=>a(j),onMouseleave:s},B.value.map((X,W)=>{const{rowspan:ie,colspan:oe}=O(L,X,j,W);if(!ie||!oe)return null;const ee={...X};ee.realWidth=_(B.value,oe,W);const ue={store:e.store,_self:e.context||t,column:ee,row:L,$index:j,cellIndex:W,expanded:F};W===A.value&&k&&(ue.treeNode={indent:k.level*D.value,level:k.level},typeof k.expanded=="boolean"&&(ue.treeNode.expanded=k.expanded,"loading"in k&&(ue.treeNode.loading=k.loading),"noLazyChildren"in k&&(ue.treeNode.noLazyChildren=k.noLazyChildren)));const Ne=`${j},${W}`,$e=ee.columnKey||ee.rawColumnKey||"",Ie=x(W,X,ue);return Pn("td",{style:b(j,W,L,X),class:S(j,W,L,X),key:`${$e}${Ne}`,rowspan:ie,colspan:oe,onMouseenter:Le=>f(Le,L,z),onMouseleave:d},[Ie])}))},x=(L,j,k)=>j.renderCell(k);return{wrappedRowRender:(L,j)=>{const k=e.store,{isRowExpanded:F,assertRowKey:z}=k,{treeData:M,lazyTreeNodeMap:D,childrenColumnName:B,rowKey:V}=k.states,Y=k.states.columns.value;if(Y.some(({type:X})=>X==="expand")){const X=F(L),W=P(L,j,void 0,X),ie=t.renderExpanded;return X?ie?[[W,Pn("tr",{key:`expanded-row__${W.key}`},[Pn("td",{colspan:Y.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[ie({row:L,$index:j,store:k,expanded:X})])])]]:(console.error("[Element Error]renderExpanded is required."),W):[[W]]}else if(Object.keys(M.value).length){z();const X=Ui(L,V.value);let W=M.value[X],ie=null;W&&(ie={expanded:W.expanded,level:W.level,display:!0},typeof W.lazy=="boolean"&&(typeof W.loaded=="boolean"&&W.loaded&&(ie.noLazyChildren=!(W.children&&W.children.length)),ie.loading=W.loading));const oe=[P(L,j,ie)];if(W){let ee=0;const ue=($e,Ie)=>{!($e&&$e.length&&Ie)||$e.forEach(Le=>{const he={display:Ie.display&&Ie.expanded,level:Ie.level+1,expanded:!1,noLazyChildren:!1,loading:!1},te=Ui(Le,V.value);if(te==null)throw new Error("For nested data item, row-key is required.");if(W={...M.value[te]},W&&(he.expanded=W.expanded,W.level=W.level||he.level,W.display=!!(W.expanded&&he.display),typeof W.lazy=="boolean"&&(typeof W.loaded=="boolean"&&W.loaded&&(he.noLazyChildren=!(W.children&&W.children.length)),he.loading=W.loading)),ee++,oe.push(P(Le,j+ee,he)),W){const ae=D.value[te]||Le[B.value];ue(ae,W)}})};W.display=!0;const Ne=D.value[X]||L[B.value];ue(Ne,W)}return oe}else return P(L,j,void 0)},tooltipContent:h,tooltipTrigger:v}}const ake={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var ske=St({name:"ElTableBody",props:ake,setup(e){const t=cr(),n=Cn(bu),r=wt("table"),{wrappedRowRender:o,tooltipContent:i,tooltipTrigger:a}=ike(e),{onColumnsChange:s,onScrollableChange:f}=J9(n);return At(e.store.states.hoverRow,(d,h)=>{if(!e.store.states.isComplex.value||!Rr)return;let v=window.requestAnimationFrame;v||(v=y=>window.setTimeout(y,16)),v(()=>{var y;const m=(y=t==null?void 0:t.vnode.el)==null?void 0:y.querySelectorAll(`.${r.e("row")}`),b=m[h],S=m[d];b&&Ba(b,"hover-row"),S&&su(S,"hover-row")})}),Yh(()=>{var d;(d=nc)==null||d()}),{ns:r,onColumnsChange:s,onScrollableChange:f,wrappedRowRender:o,tooltipContent:i,tooltipTrigger:a}},render(){const{wrappedRowRender:e,store:t}=this,n=t.states.data.value||[];return Pn("tbody",{},[n.reduce((r,o)=>r.concat(e(o,r.length)),[])])}});function MN(e){const t=e.tableLayout==="auto";let n=e.columns||[];t&&n.every(o=>o.width===void 0)&&(n=[]);const r=o=>{const i={key:`${e.tableLayout}_${o.id}`,style:{},name:void 0};return t?i.style={width:`${o.width}px`}:i.name=o.id,i};return Pn("colgroup",{},n.map(o=>Pn("col",r(o))))}MN.props=["columns","tableLayout"];function lke(){const e=Cn(bu),t=e==null?void 0:e.store,n=G(()=>t.states.fixedLeafColumnsLength.value),r=G(()=>t.states.rightFixedColumns.value.length),o=G(()=>t.states.columns.value.length),i=G(()=>t.states.fixedColumns.value.length),a=G(()=>t.states.rightFixedColumns.value.length);return{leftFixedLeafCount:n,rightFixedLeafCount:r,columnsCount:o,leftFixedCount:i,rightFixedCount:a,columns:t.states.columns}}function uke(e){const{columns:t}=lke(),n=wt("table");return{getCellClasses:(i,a)=>{const s=i[a],f=[n.e("cell"),s.id,s.align,s.labelClassName,...PN(n.b(),a,s.fixed,e.store)];return s.className&&f.push(s.className),s.children||f.push(n.is("leaf")),f},getCellStyles:(i,a)=>{const s=xN(a,i.fixed,e.store);return Sy(s,"left"),Sy(s,"right"),s},columns:t}}var cke=St({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e){const{getCellClasses:t,getCellStyles:n,columns:r}=uke(e);return{ns:wt("table"),getCellClasses:t,getCellStyles:n,columns:r}},render(){const{columns:e,getCellStyles:t,getCellClasses:n,summaryMethod:r,sumText:o,ns:i}=this,a=this.store.states.data.value;let s=[];return r?s=r({columns:e,data:a}):e.forEach((f,d)=>{if(d===0){s[d]=o;return}const h=a.map(b=>Number(b[f.property])),v=[];let y=!0;h.forEach(b=>{if(!Number.isNaN(+b)){y=!1;const S=`${b}`.split(".")[1];v.push(S?S.length:0)}});const m=Math.max.apply(null,v);y?s[d]="":s[d]=h.reduce((b,S)=>{const O=Number(S);return Number.isNaN(+O)?b:Number.parseFloat((b+S).toFixed(Math.min(m,20)))},0)}),Pn("table",{class:i.e("footer"),cellspacing:"0",cellpadding:"0",border:"0"},[MN({columns:e}),Pn("tbody",[Pn("tr",{},[...e.map((f,d)=>Pn("td",{key:d,colspan:f.colSpan,rowspan:f.rowSpan,class:n(e,d),style:t(f,d)},[Pn("div",{class:["cell",f.labelClassName]},[s[d]])]))])])])}});function fke(e){return{setCurrentRow:h=>{e.commit("setCurrentRow",h)},getSelectionRows:()=>e.getSelectionRows(),toggleRowSelection:(h,v)=>{e.toggleRowSelection(h,v,!1),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:h=>{e.clearFilter(h)},toggleAllSelection:()=>{e.commit("toggleAllSelection")},toggleRowExpansion:(h,v)=>{e.toggleRowExpansionAdapter(h,v)},clearSort:()=>{e.clearSort()},sort:(h,v)=>{e.commit("sort",{prop:h,order:v})}}}function dke(e,t,n,r){const o=re(!1),i=re(null),a=re(!1),s=X=>{a.value=X},f=re({width:null,height:null,headerHeight:null}),d=re(!1),h={display:"inline-block",verticalAlign:"middle"},v=re(),y=re(0),m=re(0),b=re(0),S=re(0);ns(()=>{t.setHeight(e.height)}),ns(()=>{t.setMaxHeight(e.maxHeight)}),At(()=>[e.currentRowKey,n.states.rowKey],([X,W])=>{!E(W)||n.setCurrentRowKey(`${X}`)},{immediate:!0}),At(()=>e.data,X=>{r.store.commit("setData",X)},{immediate:!0,deep:!0}),ns(()=>{e.expandRowKeys&&n.setExpandRowKeysAdapter(e.expandRowKeys)});const O=()=>{r.store.commit("setHoverRow",null),r.hoverState&&(r.hoverState=null)},_=(X,W)=>{const{pixelX:ie,pixelY:oe}=W;Math.abs(ie)>=Math.abs(oe)&&(r.refs.bodyWrapper.scrollLeft+=W.pixelX/5)},A=G(()=>e.height||e.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),T=G(()=>({width:t.bodyWidth.value?`${t.bodyWidth.value}px`:""})),P=()=>{A.value&&t.updateElsHeight(),t.updateColumnsWidth(),requestAnimationFrame(j)};ir(async()=>{await bn(),n.updateColumns(),k(),requestAnimationFrame(P);const X=r.vnode.el,W=r.refs.headerWrapper;e.flexible&&X&&X.parentElement&&(X.parentElement.style.minWidth="0"),f.value={width:v.value=X.offsetWidth,height:X.offsetHeight,headerHeight:e.showHeader&&W?W.offsetHeight:null},n.states.columns.value.forEach(ie=>{ie.filteredValue&&ie.filteredValue.length&&r.store.commit("filterChange",{column:ie,values:ie.filteredValue,silent:!0})}),r.$ready=!0});const x=(X,W)=>{if(!X)return;const ie=Array.from(X.classList).filter(oe=>!oe.startsWith("is-scrolling-"));ie.push(t.scrollX.value?W:"is-scrolling-none"),X.className=ie.join(" ")},N=X=>{const{tableWrapper:W}=r.refs;x(W,X)},L=X=>{const{tableWrapper:W}=r.refs;return!!(W&&W.classList.contains(X))},j=function(){if(!r.refs.scrollBarRef)return;if(!t.scrollX.value){const $e="is-scrolling-none";L($e)||N($e);return}const X=r.refs.scrollBarRef.wrap$;if(!X)return;const{scrollLeft:W,offsetWidth:ie,scrollWidth:oe}=X,{headerWrapper:ee,footerWrapper:ue}=r.refs;ee&&(ee.scrollLeft=W),ue&&(ue.scrollLeft=W);const Ne=oe-ie-1;W>=Ne?N("is-scrolling-right"):N(W===0?"is-scrolling-left":"is-scrolling-middle")},k=()=>{!r.refs.scrollBarRef||(r.refs.scrollBarRef.wrap$&&Eo(r.refs.scrollBarRef.wrap$,"scroll",j,{passive:!0}),e.fit?oa(r.vnode.el,F):Eo(window,"resize",F),oa(r.refs.bodyWrapper,()=>{var X,W;F(),(W=(X=r.refs)==null?void 0:X.scrollBarRef)==null||W.update()}))},F=()=>{var X,W,ie;const oe=r.vnode.el;if(!r.$ready||!oe)return;let ee=!1;const{width:ue,height:Ne,headerHeight:$e}=f.value,Ie=v.value=oe.offsetWidth;ue!==Ie&&(ee=!0);const Le=oe.offsetHeight;(e.height||A.value)&&Ne!==Le&&(ee=!0);const he=e.tableLayout==="fixed"?r.refs.headerWrapper:(X=r.refs.tableHeaderRef)==null?void 0:X.$el;e.showHeader&&(he==null?void 0:he.offsetHeight)!==$e&&(ee=!0),y.value=((W=r.refs.tableWrapper)==null?void 0:W.scrollHeight)||0,b.value=(he==null?void 0:he.scrollHeight)||0,S.value=((ie=r.refs.footerWrapper)==null?void 0:ie.offsetHeight)||0,m.value=y.value-b.value-S.value,ee&&(f.value={width:Ie,height:Le,headerHeight:e.showHeader&&(he==null?void 0:he.offsetHeight)||0},P())},z=oi(),M=G(()=>{const{bodyWidth:X,scrollY:W,gutterWidth:ie}=t;return X.value?`${X.value-(W.value?ie:0)}px`:""}),D=G(()=>e.maxHeight?"fixed":e.tableLayout),B=G(()=>{if(e.data&&e.data.length)return null;let X="100%";e.height&&m.value&&(X=`${m.value}px`);const W=v.value;return{width:W?`${W}px`:"",height:X}}),V=G(()=>e.height?{height:Number.isNaN(Number(e.height))?e.height:`${e.height}px`}:e.maxHeight?{maxHeight:Number.isNaN(Number(e.maxHeight))?e.maxHeight:`${e.maxHeight}px`}:{}),Y=G(()=>{if(e.height)return{height:"100%"};if(e.maxHeight){if(Number.isNaN(Number(e.maxHeight)))return{maxHeight:`calc(${e.maxHeight} - ${b.value+S.value}px)`};{const X=e.maxHeight;if(y.value>=Number(X))return{maxHeight:`${y.value-b.value-S.value}px`}}}return{}});return{isHidden:o,renderExpanded:i,setDragVisible:s,isGroup:d,handleMouseLeave:O,handleHeaderFooterMousewheel:_,tableSize:z,emptyBlockStyle:B,handleFixedMousewheel:(X,W)=>{const ie=r.refs.bodyWrapper;if(Math.abs(W.spinY)>0){const oe=ie.scrollTop;W.pixelY<0&&oe!==0&&X.preventDefault(),W.pixelY>0&&ie.scrollHeight-ie.clientHeight>oe&&X.preventDefault(),ie.scrollTop+=Math.ceil(W.pixelY/5)}else ie.scrollLeft+=Math.ceil(W.pixelX/5)},resizeProxyVisible:a,bodyWidth:M,resizeState:f,doLayout:P,tableBodyStyles:T,tableLayout:D,scrollbarViewStyle:h,tableInnerStyle:V,scrollbarStyle:Y}}var hke={data:{type:Array,default:()=>[]},size:String,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:{type:Boolean,default:!1},flexible:Boolean};const pke=()=>{const e=re(),t=(i,a)=>{const s=e.value;s&&s.scrollTo(i,a)},n=(i,a)=>{const s=e.value;s&&Jn(a)&&["Top","Left"].includes(i)&&s[`setScroll${i}`](a)};return{scrollBarRef:e,scrollTo:t,setScrollTop:i=>n("Top",i),setScrollLeft:i=>n("Left",i)}};let vke=1;const yke=St({name:"ElTable",directives:{Mousewheel:Jwe},components:{TableHeader:nke,TableBody:ske,TableFooter:cke,ElScrollbar:Mc,hColgroup:MN},props:hke,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(e){const{t}=Hr(),n=wt("table"),r=cr();Sr(bu,r);const o=UDe(r,e);r.store=o;const i=new HDe({store:r.store,table:r,fit:e.fit,showHeader:e.showHeader});r.layout=i;const a=G(()=>(o.states.data.value||[]).length===0),{setCurrentRow:s,getSelectionRows:f,toggleRowSelection:d,clearSelection:h,clearFilter:v,toggleAllSelection:y,toggleRowExpansion:m,clearSort:b,sort:S}=fke(o),{isHidden:O,renderExpanded:_,setDragVisible:A,isGroup:T,handleMouseLeave:P,handleHeaderFooterMousewheel:x,tableSize:N,emptyBlockStyle:L,handleFixedMousewheel:j,resizeProxyVisible:k,bodyWidth:F,resizeState:z,doLayout:M,tableBodyStyles:D,tableLayout:B,scrollbarViewStyle:V,tableInnerStyle:Y,scrollbarStyle:K}=dke(e,i,o,r),{scrollBarRef:X,scrollTo:W,setScrollLeft:ie,setScrollTop:oe}=pke(),ee=Sa(M,50),ue=`${n.namespace.value}-table_${vke++}`;r.tableId=ue,r.state={isGroup:T,resizeState:z,doLayout:M,debouncedUpdateLayout:ee};const Ne=G(()=>e.sumText||t("el.table.sumText")),$e=G(()=>e.emptyText||t("el.table.emptyText"));return{ns:n,layout:i,store:o,handleHeaderFooterMousewheel:x,handleMouseLeave:P,tableId:ue,tableSize:N,isHidden:O,isEmpty:a,renderExpanded:_,resizeProxyVisible:k,resizeState:z,isGroup:T,bodyWidth:F,tableBodyStyles:D,emptyBlockStyle:L,debouncedUpdateLayout:ee,handleFixedMousewheel:j,setCurrentRow:s,getSelectionRows:f,toggleRowSelection:d,clearSelection:h,clearFilter:v,toggleAllSelection:y,toggleRowExpansion:m,clearSort:b,doLayout:M,sort:S,t,setDragVisible:A,context:r,computedSumText:Ne,computedEmptyText:$e,tableLayout:B,scrollbarViewStyle:V,tableInnerStyle:Y,scrollbarStyle:K,scrollBarRef:X,scrollTo:W,setScrollLeft:ie,setScrollTop:oe}}}),mke=["data-prefix"],gke={ref:"hiddenColumns",class:"hidden-columns"};function bke(e,t,n,r,o,i){const a=_n("hColgroup"),s=_n("table-header"),f=_n("table-body"),d=_n("el-scrollbar"),h=_n("table-footer"),v=kh("mousewheel");return H(),le("div",{ref:"tableWrapper",class:Z([{[e.ns.m("fit")]:e.fit,[e.ns.m("striped")]:e.stripe,[e.ns.m("border")]:e.border||e.isGroup,[e.ns.m("hidden")]:e.isHidden,[e.ns.m("group")]:e.isGroup,[e.ns.m("fluid-height")]:e.maxHeight,[e.ns.m("scrollable-x")]:e.layout.scrollX.value,[e.ns.m("scrollable-y")]:e.layout.scrollY.value,[e.ns.m("enable-row-hover")]:!e.store.states.isComplex.value,[e.ns.m("enable-row-transition")]:(e.store.states.data.value||[]).length!==0&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:gn(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:t[0]||(t[0]=y=>e.handleMouseLeave())},[ve("div",{class:Z(e.ns.e("inner-wrapper")),style:gn(e.tableInnerStyle)},[ve("div",gke,[bt(e.$slots,"default")],512),e.showHeader&&e.tableLayout==="fixed"?Gn((H(),le("div",{key:0,ref:"headerWrapper",class:Z(e.ns.e("header-wrapper"))},[ve("table",{ref:"tableHeader",class:Z(e.ns.e("header")),style:gn(e.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[Te(a,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),Te(s,{ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[v,e.handleHeaderFooterMousewheel]]):Ye("v-if",!0),ve("div",{ref:"bodyWrapper",class:Z(e.ns.e("body-wrapper"))},[Te(d,{ref:"scrollBarRef","view-style":e.scrollbarViewStyle,"wrap-style":e.scrollbarStyle,always:e.scrollbarAlwaysOn},{default:Be(()=>[ve("table",{ref:"tableBody",class:Z(e.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:gn({width:e.bodyWidth,tableLayout:e.tableLayout})},[Te(a,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),e.showHeader&&e.tableLayout==="auto"?(H(),et(s,{key:0,ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])):Ye("v-if",!0),Te(f,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","row-style","store","stripe"])],6),e.isEmpty?(H(),le("div",{key:0,ref:"emptyBlock",style:gn(e.emptyBlockStyle),class:Z(e.ns.e("empty-block"))},[ve("span",{class:Z(e.ns.e("empty-text"))},[bt(e.$slots,"empty",{},()=>[$r(Bt(e.computedEmptyText),1)])],2)],6)):Ye("v-if",!0),e.$slots.append?(H(),le("div",{key:1,ref:"appendWrapper",class:Z(e.ns.e("append-wrapper"))},[bt(e.$slots,"append")],2)):Ye("v-if",!0)]),_:3},8,["view-style","wrap-style","always"])],2),e.showSummary?Gn((H(),le("div",{key:1,ref:"footerWrapper",class:Z(e.ns.e("footer-wrapper"))},[Te(h,{border:e.border,"default-sort":e.defaultSort,store:e.store,style:gn(e.tableBodyStyles),"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["border","default-sort","store","style","sum-text","summary-method"])],2)),[[Lr,!e.isEmpty],[v,e.handleHeaderFooterMousewheel]]):Ye("v-if",!0),e.border||e.isGroup?(H(),le("div",{key:2,class:Z(e.ns.e("border-left-patch"))},null,2)):Ye("v-if",!0)],6),Gn(ve("div",{ref:"resizeProxy",class:Z(e.ns.e("column-resize-proxy"))},null,2),[[Lr,e.resizeProxyVisible]])],46,mke)}var Eke=zt(yke,[["render",bke],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/table.vue"]]);const Ske={selection:"table-column--selection",expand:"table__expand-column"},wke={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},Oke=e=>Ske[e]||"",_ke={selection:{renderHeader({store:e}){function t(){return e.states.data.value&&e.states.data.value.length===0}return Pn(Bs,{disabled:t(),size:e.states.tableSize.value,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":e.toggleAllSelection,modelValue:e.states.isAllSelected.value})},renderCell({row:e,column:t,store:n,$index:r}){return Pn(Bs,{disabled:t.selectable?!t.selectable.call(null,e,r):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",e)},onClick:o=>o.stopPropagation(),modelValue:n.isSelected(e)})},sortable:!1,resizable:!1},index:{renderHeader({column:e}){return e.label||"#"},renderCell({column:e,$index:t}){let n=t+1;const r=e.index;return typeof r=="number"?n=t+r:typeof r=="function"&&(n=r(t)),Pn("div",{},[n])},sortable:!1},expand:{renderHeader({column:e}){return e.label||""},renderCell({row:e,store:t,expanded:n}){const{ns:r}=t,o=[r.e("expand-icon")];return n&&o.push(r.em("expand-icon","expanded")),Pn("div",{class:o,onClick:function(a){a.stopPropagation(),t.toggleRowExpansion(e)}},{default:()=>[Pn(En,null,{default:()=>[Pn(Ea)]})]})},sortable:!1,resizable:!1}};function Tke({row:e,column:t,$index:n}){var r;const o=t.property,i=o&&Tw(e,o).value;return t&&t.formatter?t.formatter(e,t,i,n):((r=i==null?void 0:i.toString)==null?void 0:r.call(i))||""}function Cke({row:e,treeNode:t,store:n},r=!1){const{ns:o}=n;if(!t)return r?[Pn("span",{class:o.e("placeholder")})]:null;const i=[],a=function(s){s.stopPropagation(),!t.loading&&n.loadOrToggle(e)};if(t.indent&&i.push(Pn("span",{class:o.e("indent"),style:{"padding-left":`${t.indent}px`}})),typeof t.expanded=="boolean"&&!t.noLazyChildren){const s=[o.e("expand-icon"),t.expanded?o.em("expand-icon","expanded"):""];let f=Ea;t.loading&&(f=ad),i.push(Pn("div",{class:s,onClick:a},{default:()=>[Pn(En,{class:{[o.is("loading")]:t.loading}},{default:()=>[Pn(f)]})]}))}else i.push(Pn("span",{class:o.e("placeholder")}));return i}function wB(e,t){return e.reduce((n,r)=>(n[r]=r,n),t)}function Ake(e,t){const n=cr();return{registerComplexWatchers:()=>{const i=["fixed"],a={realWidth:"width",realMinWidth:"minWidth"},s=wB(i,a);Object.keys(s).forEach(f=>{const d=a[f];xr(t,d)&&At(()=>t[d],h=>{let v=h;d==="width"&&f==="realWidth"&&(v=AN(h)),d==="minWidth"&&f==="realMinWidth"&&(v=W9(h)),n.columnConfig.value[d]=v,n.columnConfig.value[f]=v;const y=d==="fixed";e.value.store.scheduleLayout(y)})})},registerNormalWatchers:()=>{const i=["label","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"],a={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},s=wB(i,a);Object.keys(s).forEach(f=>{const d=a[f];xr(t,d)&&At(()=>t[d],h=>{n.columnConfig.value[f]=h})})}}}function Pke(e,t,n){const r=cr(),o=re(""),i=re(!1),a=re(),s=re(),f=wt("table");ns(()=>{a.value=e.align?`is-${e.align}`:null,a.value}),ns(()=>{s.value=e.headerAlign?`is-${e.headerAlign}`:a.value,s.value});const d=G(()=>{let T=r.vnode.vParent||r.parent;for(;T&&!T.tableId&&!T.columnId;)T=T.vnode.vParent||T.parent;return T}),h=G(()=>{const{store:T}=r.parent;if(!T)return!1;const{treeData:P}=T.states,x=P.value;return x&&Object.keys(x).length>0}),v=re(AN(e.width)),y=re(W9(e.minWidth)),m=T=>(v.value&&(T.width=v.value),y.value&&(T.minWidth=y.value),!v.value&&y.value&&(T.width=void 0),T.minWidth||(T.minWidth=80),T.realWidth=Number(T.width===void 0?T.minWidth:T.width),T),b=T=>{const P=T.type,x=_ke[P]||{};Object.keys(x).forEach(L=>{const j=x[L];L!=="className"&&j!==void 0&&(T[L]=j)});const N=Oke(P);if(N){const L=`${E(f.namespace)}-${N}`;T.className=T.className?`${T.className} ${L}`:L}return T},S=T=>{Array.isArray(T)?T.forEach(x=>P(x)):P(T);function P(x){var N;((N=x==null?void 0:x.type)==null?void 0:N.name)==="ElTableColumn"&&(x.vParent=r)}};return{columnId:o,realAlign:a,isSubColumn:i,realHeaderAlign:s,columnOrTableParent:d,setColumnWidth:m,setColumnForcedProps:b,setColumnRenders:T=>{e.renderHeader||T.type!=="selection"&&(T.renderHeader=x=>{r.columnConfig.value.label;const N=t.header;return N?N(x):T.label});let P=T.renderCell;return T.type==="expand"?(T.renderCell=x=>Pn("div",{class:"cell"},[P(x)]),n.value.renderExpanded=x=>t.default?t.default(x):t.default):(P=P||Tke,T.renderCell=x=>{let N=null;if(t.default){const F=t.default(x);N=F.some(z=>z.type!==ba)?F:P(x)}else N=P(x);const L=h.value&&x.cellIndex===0&&x.column.type!=="selection",j=Cke(x,L),k={class:"cell",style:{}};return T.showOverflowTooltip&&(k.class=`${k.class} ${E(f.namespace)}-tooltip`,k.style={width:`${(x.column.realWidth||Number(x.column.width))-1}px`}),S(N),Pn("div",k,[j,N])}),T},getPropsData:(...T)=>T.reduce((P,x)=>(Array.isArray(x)&&x.forEach(N=>{P[N]=e[N]}),P),{}),getColumnElIndex:(T,P)=>Array.prototype.indexOf.call(T,P)}}var xke={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every(t=>["ascending","descending",null].includes(t))}};let Mke=1;var q9=St({name:"ElTableColumn",components:{ElCheckbox:Bs},props:xke,setup(e,{slots:t}){const n=cr(),r=re({}),o=G(()=>{let A=n.parent;for(;A&&!A.tableId;)A=A.parent;return A}),{registerNormalWatchers:i,registerComplexWatchers:a}=Ake(o,e),{columnId:s,isSubColumn:f,realHeaderAlign:d,columnOrTableParent:h,setColumnWidth:v,setColumnForcedProps:y,setColumnRenders:m,getPropsData:b,getColumnElIndex:S,realAlign:O}=Pke(e,t,o),_=h.value;s.value=`${_.tableId||_.columnId}_column_${Mke++}`,i_(()=>{f.value=o.value!==_;const A=e.type||"default",T=e.sortable===""?!0:e.sortable,P={...wke[A],id:s.value,type:A,property:e.prop||e.property,align:O,headerAlign:d,showOverflowTooltip:e.showOverflowTooltip||e.showTooltipWhenOverflow,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:T,index:e.index,rawColumnKey:n.vnode.key};let k=b(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"]);k=NDe(P,k),k=IDe(m,v,y)(k),r.value=k,i(),a()}),ir(()=>{var A;const T=h.value,P=f.value?T.vnode.el.children:(A=T.refs.hiddenColumns)==null?void 0:A.children,x=()=>S(P||[],n.vnode.el);r.value.getColumnIndex=x,x()>-1&&o.value.store.commit("insertColumn",r.value,f.value?T.columnConfig.value:null)}),Go(()=>{o.value.store.commit("removeColumn",r.value,f.value?_.columnConfig.value:null)}),n.columnId=s.value,n.columnConfig=r},render(){var e,t,n;try{const r=(t=(e=this.$slots).default)==null?void 0:t.call(e,{row:{},column:{},$index:-1}),o=[];if(Array.isArray(r))for(const a of r)((n=a.type)==null?void 0:n.name)==="ElTableColumn"||a.shapeFlag&2?o.push(a):a.type===wn&&Array.isArray(a.children)&&a.children.forEach(s=>{(s==null?void 0:s.patchFlag)!==1024&&!Kn(s==null?void 0:s.children)&&o.push(s)});return Pn("div",o)}catch{return Pn("div",[])}}});const Nke=fr(Eke,{TableColumn:q9}),Rke=ko(q9);var Ab=(e=>(e.ASC="asc",e.DESC="desc",e))(Ab||{}),Pb=(e=>(e.CENTER="center",e.RIGHT="right",e))(Pb||{}),eW=(e=>(e.LEFT="left",e.RIGHT="right",e))(eW||{});const ux={asc:"desc",desc:"asc"},xb=Symbol("placeholder"),Ike=(e,t,n)=>{var r;const o={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};n||(o.flexShrink=1);const i={...(r=e.style)!=null?r:{},...o,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(i.maxWidth=e.maxWidth),e.minWidth&&(i.minWidth=e.minWidth)),i};function Dke(e,t,n){const r=G(()=>E(t).filter(S=>!S.hidden)),o=G(()=>E(r).filter(S=>S.fixed==="left"||S.fixed===!0)),i=G(()=>E(r).filter(S=>S.fixed==="right")),a=G(()=>E(r).filter(S=>!S.fixed)),s=G(()=>{const S=[];return E(o).forEach(O=>{S.push({...O,placeholderSign:xb})}),E(a).forEach(O=>{S.push(O)}),E(i).forEach(O=>{S.push({...O,placeholderSign:xb})}),S}),f=G(()=>E(o).length||E(i).length),d=G(()=>E(t).reduce((O,_)=>(O[_.key]=Ike(_,E(n),e.fixed),O),{})),h=G(()=>E(r).reduce((S,O)=>S+O.width,0)),v=S=>E(t).find(O=>O.key===S),y=S=>E(d)[S],m=(S,O)=>{S.width=O};function b(S){var O;const{key:_}=S.currentTarget.dataset;if(!_)return;const{sortState:A,sortBy:T}=e;let P=Ab.ASC;Er(A)?P=ux[A[_]]:P=ux[T.order],(O=e.onColumnSort)==null||O.call(e,{column:v(_),key:_,order:P})}return{columns:t,columnsStyles:d,columnsTotalWidth:h,fixedColumnsOnLeft:o,fixedColumnsOnRight:i,hasFixedColumns:f,mainColumns:s,normalColumns:a,visibleColumns:r,getColumn:v,getColumnStyle:y,updateColumnWidth:m,onColumnSorted:b}}const kke=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:o})=>{const i=re({scrollLeft:0,scrollTop:0});function a(m){var b,S,O;const{scrollTop:_}=m;(b=t.value)==null||b.scrollTo(m),(S=n.value)==null||S.scrollToTop(_),(O=r.value)==null||O.scrollToTop(_)}function s(m){i.value=m,a(m)}function f(m){i.value.scrollTop=m,a(E(i))}function d(m){var b,S;i.value.scrollLeft=m,(S=(b=t.value)==null?void 0:b.scrollTo)==null||S.call(b,E(i))}function h(m){var b;s(m),(b=e.onScroll)==null||b.call(e,m)}function v({scrollTop:m}){const{scrollTop:b}=E(i);m!==b&&f(m)}function y(m,b="auto"){var S;(S=t.value)==null||S.scrollToRow(m,b)}return At(()=>E(i).scrollTop,(m,b)=>{m>b&&o()}),{scrollPos:i,scrollTo:s,scrollToLeft:d,scrollToTop:f,scrollToRow:y,onScroll:h,onVerticalScroll:v}},Lke=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:o})=>{const i=cr(),{emit:a}=i,s=bo(!1),f=bo(null),d=re(e.defaultExpandedRowKeys||[]),h=re(-1),v=bo(null),y=re({}),m=re({}),b=bo({}),S=bo({}),O=bo({}),_=G(()=>Jn(e.estimatedRowHeight));function A(k){var F;(F=e.onRowsRendered)==null||F.call(e,k),k.rowCacheEnd>E(h)&&(h.value=k.rowCacheEnd)}function T({hovered:k,rowKey:F}){f.value=k?F:null}function P({expanded:k,rowData:F,rowIndex:z,rowKey:M}){var D,B;const V=[...E(d)],Y=V.indexOf(M);k?Y===-1&&V.push(M):Y>-1&&V.splice(Y,1),d.value=V,a("update:expandedRowKeys",V),(D=e.onRowExpand)==null||D.call(e,{expanded:k,rowData:F,rowIndex:z,rowKey:M}),(B=e.onExpandedRowsChange)==null||B.call(e,V)}const x=Sa(()=>{var k,F,z,M;s.value=!0,y.value={...E(y),...E(m)},N(E(v),!1),m.value={},v.value=null,(k=t.value)==null||k.forceUpdate(),(F=n.value)==null||F.forceUpdate(),(z=r.value)==null||z.forceUpdate(),(M=i.proxy)==null||M.$forceUpdate(),s.value=!1},0);function N(k,F=!1){!E(_)||[t,n,r].forEach(z=>{const M=E(z);M&&M.resetAfterRowIndex(k,F)})}function L(k,F,z){const M=E(v);(M===null||M>z)&&(v.value=z),m.value[k]=F}function j({rowKey:k,height:F,rowIndex:z},M){M?M===eW.RIGHT?O.value[k]=F:b.value[k]=F:S.value[k]=F;const D=Math.max(...[b,O,S].map(B=>B.value[k]||0));E(y)[k]!==D&&(L(k,D,z),x())}return At(h,()=>o()),{hoveringRowKey:f,expandedRowKeys:d,lastRenderedRowIndex:h,isDynamic:_,isResetting:s,rowHeights:y,resetAfterIndex:N,onRowExpanded:P,onRowHovered:T,onRowsRendered:A,onRowHeightChange:j}},$ke=(e,{expandedRowKeys:t,lastRenderedRowIndex:n,resetAfterIndex:r})=>{const o=re({}),i=G(()=>{const s={},{data:f,rowKey:d}=e,h=E(t);if(!h||!h.length)return f;const v=[],y=new Set;h.forEach(b=>y.add(b));let m=f.slice();for(m.forEach(b=>s[b[d]]=0);m.length>0;){const b=m.shift();v.push(b),y.has(b[d])&&Array.isArray(b.children)&&b.children.length>0&&(m=[...b.children,...m],b.children.forEach(S=>s[S[d]]=s[b[d]]+1))}return o.value=s,v}),a=G(()=>{const{data:s,expandColumnKey:f}=e;return f?E(i):s});return At(a,(s,f)=>{s!==f&&(n.value=-1,r(0,!0))}),{data:a,depthMap:o}},Bke=(e,t)=>e+t,Uw=e=>Sn(e)?e.reduce(Bke,0):e,zh=(e,t,n={})=>Wn(e)?e(t):e!=null?e:n,Vf=e=>(["width","maxWidth","minWidth","height"].forEach(t=>{e[t]=yi(e[t])}),e),tW=e=>Ho(e)?t=>Pn(e,t):e,jke=(e,{columnsTotalWidth:t,data:n,fixedColumnsOnLeft:r,fixedColumnsOnRight:o})=>{const i=G(()=>{const{fixed:T,width:P,vScrollbarSize:x}=e,N=P-x;return T?Math.max(Math.round(E(t)),N):N}),a=G(()=>E(i)+(e.fixed?e.vScrollbarSize:0)),s=G(()=>{const{height:T=0,maxHeight:P=0,footerHeight:x,hScrollbarSize:N}=e;if(P>0){const L=E(b),j=E(f),F=E(m)+L+j+N;return Math.min(F,P-x)}return T-x}),f=G(()=>{const{rowHeight:T,estimatedRowHeight:P}=e,x=E(n);return Jn(P)?x.length*P:x.length*T}),d=G(()=>{const{maxHeight:T}=e,P=E(s);if(Jn(T)&&T>0)return P;const x=E(f)+E(m)+E(b);return Math.min(P,x)}),h=T=>T.width,v=G(()=>Uw(E(r).map(h))),y=G(()=>Uw(E(o).map(h))),m=G(()=>Uw(e.headerHeight)),b=G(()=>{var T;return(((T=e.fixedData)==null?void 0:T.length)||0)*e.rowHeight}),S=G(()=>E(s)-E(m)-E(b)),O=G(()=>{const{style:T={},height:P,width:x}=e;return Vf({...T,height:P,width:x})}),_=G(()=>Vf({height:e.footerHeight})),A=G(()=>({top:yi(E(m)),bottom:yi(e.footerHeight),width:yi(e.width)}));return{bodyWidth:i,fixedTableHeight:d,mainTableHeight:s,leftTableWidth:v,rightTableWidth:y,headerWidth:a,rowsHeight:f,windowHeight:S,footerHeight:_,emptyStyle:A,rootStyle:O}},Fke=e=>{const t=re(),n=re(0),r=re(0);let o;return ir(()=>{o=oa(t,([i])=>{const{width:a,height:s}=i.contentRect,{paddingLeft:f,paddingRight:d,paddingTop:h,paddingBottom:v}=getComputedStyle(i.target),y=Number.parseInt(f)||0,m=Number.parseInt(d)||0,b=Number.parseInt(h)||0,S=Number.parseInt(v)||0;n.value=a-y-m,r.value=s-b-S}).stop}),Go(()=>{o==null||o()}),At([n,r],([i,a])=>{var s;(s=e.onResize)==null||s.call(e,{width:i,height:a})}),{sizer:t,width:n,height:r}};function zke(e){const t=re(),n=re(),r=re(),{columns:o,columnsStyles:i,columnsTotalWidth:a,fixedColumnsOnLeft:s,fixedColumnsOnRight:f,hasFixedColumns:d,mainColumns:h,onColumnSorted:v}=Dke(e,Do(e,"columns"),Do(e,"fixed")),{scrollTo:y,scrollToLeft:m,scrollToTop:b,scrollToRow:S,onScroll:O,onVerticalScroll:_,scrollPos:A}=kke(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:Ce}),{expandedRowKeys:T,hoveringRowKey:P,lastRenderedRowIndex:x,isDynamic:N,isResetting:L,rowHeights:j,resetAfterIndex:k,onRowExpanded:F,onRowHeightChange:z,onRowHovered:M,onRowsRendered:D}=Lke(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:Ce}),{data:B,depthMap:V}=$ke(e,{expandedRowKeys:T,lastRenderedRowIndex:x,resetAfterIndex:k}),{bodyWidth:Y,fixedTableHeight:K,mainTableHeight:X,leftTableWidth:W,rightTableWidth:ie,headerWidth:oe,rowsHeight:ee,windowHeight:ue,footerHeight:Ne,emptyStyle:$e,rootStyle:Ie}=jke(e,{columnsTotalWidth:a,data:B,fixedColumnsOnLeft:s,fixedColumnsOnRight:f}),Le=bo(!1),he=re(),te=G(()=>{const Ze=E(B).length===0;return Sn(e.fixedData)?e.fixedData.length===0&&Ze:Ze});function ae(Ze){const{estimatedRowHeight:se,rowHeight:de,rowKey:ze}=e;return se?E(j)[E(B)[Ze][ze]]||se:de}function Ce(){const{onEndReached:Ze}=e;if(!Ze)return;const{scrollTop:se}=E(A),de=E(ee),ze=E(ue),lt=de-(se+ze)+e.hScrollbarSize;E(x)>=0&&de!==E(ee)&&Ze(lt)}return At(()=>e.expandedRowKeys,Ze=>T.value=Ze,{deep:!0}),{columns:o,containerRef:he,mainTableRef:t,leftTableRef:n,rightTableRef:r,isDynamic:N,isResetting:L,isScrolling:Le,hoveringRowKey:P,hasFixedColumns:d,columnsStyles:i,columnsTotalWidth:a,data:B,expandedRowKeys:T,depthMap:V,fixedColumnsOnLeft:s,fixedColumnsOnRight:f,mainColumns:h,bodyWidth:Y,emptyStyle:$e,rootStyle:Ie,headerWidth:oe,footerHeight:Ne,mainTableHeight:X,fixedTableHeight:K,leftTableWidth:W,rightTableWidth:ie,showEmpty:te,getRowHeight:ae,onColumnSorted:v,onRowHovered:M,onRowExpanded:F,onRowsRendered:D,onRowHeightChange:z,scrollTo:y,scrollToLeft:m,scrollToTop:b,scrollToRow:S,onScroll:O,onVerticalScroll:_}}const NN=Symbol("tableV2"),nW=String,qb={type:ot(Array),required:!0},RN={type:ot(Array)},rW={...RN,required:!0},Uke=String,OB={type:ot(Array),default:()=>_o([])},yh={type:Number,required:!0},oW={type:ot([String,Number,Symbol]),default:"id"},_B={type:ot(Object)},Th=Kt({class:String,columns:qb,columnsStyles:{type:ot(Object),required:!0},depth:Number,expandColumnKey:Uke,estimatedRowHeight:{...Nh.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:ot(Function)},onRowHover:{type:ot(Function)},onRowHeightChange:{type:ot(Function)},rowData:{type:ot(Object),required:!0},rowEventHandlers:{type:ot(Object)},rowIndex:{type:Number,required:!0},rowKey:oW,style:{type:ot(Object)}}),xA={type:Number,required:!0},IN=Kt({class:String,columns:qb,fixedHeaderData:{type:ot(Array)},headerData:{type:ot(Array),required:!0},headerHeight:{type:ot([Number,Array]),default:50},rowWidth:xA,rowHeight:{type:Number,default:50},height:xA,width:xA}),Vw=Kt({columns:qb,data:rW,fixedData:RN,estimatedRowHeight:Th.estimatedRowHeight,width:yh,height:yh,headerWidth:yh,headerHeight:IN.headerHeight,bodyWidth:yh,rowHeight:yh,cache:M9.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:Nh.scrollbarAlwaysOn,scrollbarStartGap:Nh.scrollbarStartGap,scrollbarEndGap:Nh.scrollbarEndGap,class:nW,style:_B,containerStyle:_B,getRowHeight:{type:ot(Function),required:!0},rowKey:Th.rowKey,onRowsRendered:{type:ot(Function)},onScroll:{type:ot(Function)}}),Vke=Kt({cache:Vw.cache,estimatedRowHeight:Th.estimatedRowHeight,rowKey:oW,headerClass:{type:ot([String,Function])},headerProps:{type:ot([Object,Function])},headerCellProps:{type:ot([Object,Function])},headerHeight:IN.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:ot([String,Function])},rowProps:{type:ot([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:ot([Object,Function])},columns:qb,data:rW,dataGetter:{type:ot(Function)},fixedData:RN,expandColumnKey:Th.expandColumnKey,expandedRowKeys:OB,defaultExpandedRowKeys:OB,class:nW,fixed:Boolean,style:{type:ot(Object)},width:yh,height:yh,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:Nh.hScrollbarSize,vScrollbarSize:Nh.vScrollbarSize,scrollbarAlwaysOn:I9.alwaysOn,sortBy:{type:ot(Object),default:()=>({})},sortState:{type:ot(Object),default:void 0},onColumnSort:{type:ot(Function)},onExpandedRowsChange:{type:ot(Function)},onEndReached:{type:ot(Function)},onRowExpand:Th.onRowExpand,onScroll:Vw.onScroll,onRowsRendered:Vw.onRowsRendered,rowEventHandlers:Th.rowEventHandlers}),DN=(e,{slots:t})=>{var n;const{cellData:r,style:o}=e,i=((n=r==null?void 0:r.toString)==null?void 0:n.call(r))||"";return Te("div",{class:e.class,title:i,style:o},[t.default?t.default(e):i])};DN.displayName="ElTableV2Cell";DN.inheritAttrs=!1;const kN=(e,{slots:t})=>{var n,r;return t.default?t.default(e):Te("div",{class:e.class,title:(n=e.column)==null?void 0:n.title},[(r=e.column)==null?void 0:r.title])};kN.displayName="ElTableV2HeaderCell";kN.inheritAttrs=!1;const Hke=Kt({class:String,columns:qb,columnsStyles:{type:ot(Object),required:!0},headerIndex:Number,style:{type:ot(Object)}}),Gke=St({name:"ElTableV2HeaderRow",props:Hke,setup(e,{slots:t}){return()=>{const{columns:n,columnsStyles:r,headerIndex:o,style:i}=e;let a=n.map((s,f)=>t.cell({columns:n,column:s,columnIndex:f,headerIndex:o,style:r[s.key]}));return t.header&&(a=t.header({cells:a.map(s=>Sn(s)&&s.length===1?s[0]:s),columns:n,headerIndex:o})),Te("div",{class:e.class,style:i},[a])}}}),Wke="ElTableV2Header",Kke=St({name:Wke,props:IN,setup(e,{slots:t,expose:n}){const r=wt("table-v2"),o=re(),i=G(()=>Vf({width:e.width,height:e.height})),a=G(()=>Vf({width:e.rowWidth,height:e.height})),s=G(()=>cy(E(e.headerHeight))),f=v=>{const y=E(o);bn(()=>{y!=null&&y.scroll&&y.scroll({left:v})})},d=()=>{const v=r.e("fixed-header-row"),{columns:y,fixedHeaderData:m,rowHeight:b}=e;return m==null?void 0:m.map((S,O)=>{var _;const A=Vf({height:b,width:"100%"});return(_=t.fixed)==null?void 0:_.call(t,{class:v,columns:y,rowData:S,rowIndex:-(O+1),style:A})})},h=()=>{const v=r.e("dynamic-header-row"),{columns:y}=e;return E(s).map((m,b)=>{var S;const O=Vf({width:"100%",height:m});return(S=t.dynamic)==null?void 0:S.call(t,{class:v,columns:y,headerIndex:b,style:O})})};return n({scrollToLeft:f}),()=>{if(!(e.height<=0))return Te("div",{ref:o,class:e.class,style:E(i)},[Te("div",{style:E(a),class:r.e("header")},[h(),d()])])}}}),Xke=e=>{const{isScrolling:t}=Cn(NN),n=re(!1),r=re(),o=G(()=>Jn(e.estimatedRowHeight)&&e.rowIndex>=0),i=(f=!1)=>{const d=E(r);if(!d)return;const{columns:h,onRowHeightChange:v,rowKey:y,rowIndex:m,style:b}=e,{height:S}=d.getBoundingClientRect();n.value=!0,bn(()=>{if(f||S!==Number.parseInt(b.height)){const O=h[0],_=(O==null?void 0:O.placeholderSign)===xb;v==null||v({rowKey:y,height:S,rowIndex:m},O&&!_&&O.fixed)}})},a=G(()=>{const{rowData:f,rowIndex:d,rowKey:h,onRowHover:v}=e,y=e.rowEventHandlers||{},m={};return Object.entries(y).forEach(([b,S])=>{Wn(S)&&(m[b]=O=>{S({event:O,rowData:f,rowIndex:d,rowKey:h})})}),v&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:b,hovered:S})=>{const O=m[b];m[b]=_=>{v({event:_,hovered:S,rowData:f,rowIndex:d,rowKey:h}),O==null||O(_)}}),m}),s=f=>{const{onRowExpand:d,rowData:h,rowIndex:v,rowKey:y}=e;d==null||d({expanded:f,rowData:h,rowIndex:v,rowKey:y})};return ir(()=>{E(o)&&i(!0)}),{isScrolling:t,measurable:o,measured:n,rowRef:r,eventHandlers:a,onExpand:s}},Yke="ElTableV2TableRow",Zke=St({name:Yke,props:Th,setup(e,{expose:t,slots:n,attrs:r}){const{eventHandlers:o,isScrolling:i,measurable:a,measured:s,rowRef:f,onExpand:d}=Xke(e);return t({onExpand:d}),()=>{const{columns:h,columnsStyles:v,expandColumnKey:y,depth:m,rowData:b,rowIndex:S,style:O}=e;let _=h.map((A,T)=>{const P=Sn(b.children)&&b.children.length>0&&A.key===y;return n.cell({column:A,columns:h,columnIndex:T,depth:m,style:v[A.key],rowData:b,rowIndex:S,isScrolling:E(i),expandIconProps:P?{rowData:b,rowIndex:S,onExpand:d}:void 0})});if(n.row&&(_=n.row({cells:_.map(A=>Sn(A)&&A.length===1?A[0]:A),style:O,columns:h,depth:m,rowData:b,rowIndex:S,isScrolling:E(i)})),E(a)){const{height:A,...T}=O||{},P=E(s);return Te("div",br({ref:f,class:e.class,style:P?O:T},r,E(o)),[_])}return Te("div",br(r,{ref:f,class:e.class,style:O},E(o)),[_])}}}),Jke=e=>{const{sortOrder:t}=e;return Te(En,{size:14,class:e.class},{default:()=>[t===Ab.ASC?Te(obe,null,null):Te(Qge,null,null)]})},Qke=e=>{const{expanded:t,expandable:n,onExpand:r,style:o,size:i}=e,a={onClick:n?()=>r(!t):void 0,class:e.class};return Te(En,br(a,{size:i,style:o}),{default:()=>[Te(Ea,null,null)]})},qke="ElTableV2Grid",eLe=e=>{const t=re(),n=re(),r=G(()=>{const{data:S,rowHeight:O,estimatedRowHeight:_}=e;if(!_)return S.length*O}),o=G(()=>{const{fixedData:S,rowHeight:O}=e;return((S==null?void 0:S.length)||0)*O}),i=G(()=>Uw(e.headerHeight)),a=G(()=>{const{height:S}=e;return Math.max(0,S-E(i)-E(o))}),s=G(()=>E(i)+E(o)>0),f=({data:S,rowIndex:O})=>S[O][e.rowKey];function d({rowCacheStart:S,rowCacheEnd:O,rowVisibleStart:_,rowVisibleEnd:A}){var T;(T=e.onRowsRendered)==null||T.call(e,{rowCacheStart:S,rowCacheEnd:O,rowVisibleStart:_,rowVisibleEnd:A})}function h(S,O){var _;(_=n.value)==null||_.resetAfterRowIndex(S,O)}function v(S,O){const _=E(t),A=E(n);!_||!A||(Er(S)?(_.scrollToLeft(S.scrollLeft),A.scrollTo(S)):(_.scrollToLeft(S),A.scrollTo({scrollLeft:S,scrollTop:O})))}function y(S){var O;(O=E(n))==null||O.scrollTo({scrollTop:S})}function m(S,O){var _;(_=E(n))==null||_.scrollToItem(S,1,O)}function b(){var S,O;(S=E(n))==null||S.$forceUpdate(),(O=E(t))==null||O.$forceUpdate()}return{bodyRef:n,forceUpdate:b,fixedRowHeight:o,gridHeight:a,hasHeader:s,headerHeight:i,headerRef:t,totalHeight:r,itemKey:f,onItemRendered:d,resetAfterRowIndex:h,scrollTo:v,scrollToTop:y,scrollToRow:m}},LN=St({name:qke,props:Vw,setup(e,{slots:t,expose:n}){const{ns:r}=Cn(NN),{bodyRef:o,fixedRowHeight:i,gridHeight:a,hasHeader:s,headerRef:f,headerHeight:d,totalHeight:h,forceUpdate:v,itemKey:y,onItemRendered:m,resetAfterRowIndex:b,scrollTo:S,scrollToTop:O,scrollToRow:_}=eLe(e);n({forceUpdate:v,totalHeight:h,scrollTo:S,scrollToTop:O,scrollToRow:_,resetAfterRowIndex:b});const A=()=>e.bodyWidth;return()=>{const{cache:T,columns:P,data:x,fixedData:N,useIsScrolling:L,scrollbarAlwaysOn:j,scrollbarEndGap:k,scrollbarStartGap:F,style:z,rowHeight:M,bodyWidth:D,estimatedRowHeight:B,headerWidth:V,height:Y,width:K,getRowHeight:X,onScroll:W}=e,ie=Jn(B),oe=ie?URe:BRe,ee=E(d);return Te("div",{role:"table",class:[r.e("table"),e.class],style:z},[Te(oe,{ref:o,data:x,useIsScrolling:L,itemKey:y,columnCache:0,columnWidth:ie?A:D,totalColumn:1,totalRow:x.length,rowCache:T,rowHeight:ie?X:M,width:K,height:E(a),class:r.e("body"),scrollbarStartGap:F,scrollbarEndGap:k,scrollbarAlwaysOn:j,onScroll:W,onItemRendered:m,perfMode:!1},{default:ue=>{var Ne;const $e=x[ue.rowIndex];return(Ne=t.row)==null?void 0:Ne.call(t,{...ue,columns:P,rowData:$e})}}),E(s)&&Te(Kke,{ref:f,class:r.e("header-wrapper"),columns:P,headerData:x,headerHeight:e.headerHeight,fixedHeaderData:N,rowWidth:V,rowHeight:M,width:K,height:Math.min(ee+E(i),Y)},{dynamic:t.header,fixed:t.row})])}}});function tLe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ho(e)}const nLe=(e,{slots:t})=>{const{mainTableRef:n,...r}=e;return Te(LN,br({ref:n},r),tLe(t)?t:{default:()=>[t]})};function rLe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ho(e)}const oLe=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:n,...r}=e;return Te(LN,br({ref:n},r),rLe(t)?t:{default:()=>[t]})};function iLe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ho(e)}const aLe=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:n,...r}=e;return Te(LN,br({ref:n},r),iLe(t)?t:{default:()=>[t]})};function sLe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ho(e)}const lLe=(e,{slots:t})=>{const{columns:n,columnsStyles:r,depthMap:o,expandColumnKey:i,expandedRowKeys:a,estimatedRowHeight:s,hasFixedColumns:f,hoveringRowKey:d,rowData:h,rowIndex:v,style:y,isScrolling:m,rowProps:b,rowClass:S,rowKey:O,rowEventHandlers:_,ns:A,onRowHovered:T,onRowExpanded:P}=e,x=zh(S,{columns:n,rowData:h,rowIndex:v},""),N=zh(b,{columns:n,rowData:h,rowIndex:v}),L=h[O],j=o[L]||0,k=Boolean(i),F=v<0,z=[A.e("row"),x,{[A.e(`row-depth-${j}`)]:k&&v>=0,[A.is("expanded")]:k&&a.includes(L),[A.is("hovered")]:!m&&L===d,[A.is("fixed")]:!j&&F,[A.is("customized")]:Boolean(t.row)}],M=f?T:void 0,D={...N,columns:n,columnsStyles:r,class:z,depth:j,expandColumnKey:i,estimatedRowHeight:F?void 0:s,isScrolling:m,rowIndex:v,rowData:h,rowKey:L,rowEventHandlers:_,style:y};return Te(Zke,br(D,{onRowHover:M,onRowExpand:P}),sLe(t)?t:{default:()=>[t]})},cx=({columns:e,column:t,columnIndex:n,depth:r,expandIconProps:o,isScrolling:i,rowData:a,rowIndex:s,style:f,expandedRowKeys:d,ns:h,cellProps:v,expandColumnKey:y,indentSize:m,iconSize:b,rowKey:S},{slots:O})=>{const _=Vf(f);if(t.placeholderSign===xb)return Te("div",{class:h.em("row-cell","placeholder"),style:_},null);const{cellRenderer:A,dataKey:T,dataGetter:P}=t,N=tW(A)||O.default||(Y=>Te(DN,Y,null)),L=Wn(P)?P({columns:e,column:t,columnIndex:n,rowData:a,rowIndex:s}):Ao(a,T!=null?T:""),j=zh(v,{cellData:L,columns:e,column:t,columnIndex:n,rowIndex:s,rowData:a}),k={class:h.e("cell-text"),columns:e,column:t,columnIndex:n,cellData:L,isScrolling:i,rowData:a,rowIndex:s},F=N(k),z=[h.e("row-cell"),t.align===Pb.CENTER&&h.is("align-center"),t.align===Pb.RIGHT&&h.is("align-right")],M=s>=0&&t.key===y,D=s>=0&&d.includes(a[S]);let B;const V=`margin-inline-start: ${r*m}px;`;return M&&(Er(o)?B=Te(Qke,br(o,{class:[h.e("expand-icon"),h.is("expanded",D)],size:b,expanded:D,style:V,expandable:!0}),null):B=Te("div",{style:[V,`width: ${b}px; height: ${b}px;`].join(" ")},null)),Te("div",br({class:z,style:_},j),[B,F])};cx.inheritAttrs=!1;function uLe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ho(e)}const cLe=({columns:e,columnsStyles:t,headerIndex:n,style:r,headerClass:o,headerProps:i,ns:a},{slots:s})=>{const f={columns:e,headerIndex:n},d=[a.e("header-row"),zh(o,f,""),{[a.is("customized")]:Boolean(s.header)}],h={...zh(i,f),columnsStyles:t,class:d,columns:e,headerIndex:n,style:r};return Te(Gke,h,uLe(s)?s:{default:()=>[s]})},TB=(e,{slots:t})=>{const{column:n,ns:r,style:o,onColumnSorted:i}=e,a=Vf(o);if(n.placeholderSign===xb)return Te("div",{class:r.em("header-row-cell","placeholder"),style:a},null);const{headerCellRenderer:s,headerClass:f,sortable:d}=n,h={...e,class:r.e("header-cell-text")},y=(tW(s)||t.default||(P=>Te(kN,P,null)))(h),{sortBy:m,sortState:b,headerCellProps:S}=e;let O,_;if(b){const P=b[n.key];O=Boolean(ux[P]),_=O?P:Ab.ASC}else O=n.key===m.key,_=O?m.order:Ab.ASC;const A=[r.e("header-cell"),zh(f,e,""),n.align===Pb.CENTER&&r.is("align-center"),n.align===Pb.RIGHT&&r.is("align-right"),d&&r.is("sortable")],T={...zh(S,e),onClick:n.sortable?i:void 0,class:A,style:a,["data-key"]:n.key};return Te("div",T,[y,d&&Te(Jke,{class:[r.e("sort-icon"),O&&r.is("sorting")],sortOrder:_},null)])},iW=(e,{slots:t})=>{var n;return Te("div",{class:e.class,style:e.style},[(n=t.default)==null?void 0:n.call(t)])};iW.displayName="ElTableV2Footer";const aW=(e,{slots:t})=>Te("div",{class:e.class,style:e.style},[t.default?t.default():Te(p9,null,null)]);aW.displayName="ElTableV2Empty";const sW=(e,{slots:t})=>{var n;return Te("div",{class:e.class,style:e.style},[(n=t.default)==null?void 0:n.call(t)])};sW.displayName="ElTableV2Overlay";function lg(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ho(e)}const fLe="ElTableV2",dLe=St({name:fLe,props:Vke,setup(e,{slots:t,expose:n}){const r=wt("table-v2"),{columnsStyles:o,fixedColumnsOnLeft:i,fixedColumnsOnRight:a,mainColumns:s,mainTableHeight:f,fixedTableHeight:d,leftTableWidth:h,rightTableWidth:v,data:y,depthMap:m,expandedRowKeys:b,hasFixedColumns:S,hoveringRowKey:O,mainTableRef:_,leftTableRef:A,rightTableRef:T,isDynamic:P,isResetting:x,isScrolling:N,bodyWidth:L,emptyStyle:j,rootStyle:k,headerWidth:F,footerHeight:z,showEmpty:M,scrollTo:D,scrollToLeft:B,scrollToTop:V,scrollToRow:Y,getRowHeight:K,onColumnSorted:X,onRowHeightChange:W,onRowHovered:ie,onRowExpanded:oe,onRowsRendered:ee,onScroll:ue,onVerticalScroll:Ne}=zke(e);return n({scrollTo:D,scrollToLeft:B,scrollToTop:V,scrollToRow:Y}),Sr(NN,{ns:r,isResetting:x,hoveringRowKey:O,isScrolling:N}),()=>{const{cache:$e,cellProps:Ie,estimatedRowHeight:Le,expandColumnKey:he,fixedData:te,headerHeight:ae,headerClass:Ce,headerProps:Ze,headerCellProps:se,sortBy:de,sortState:ze,rowHeight:lt,rowClass:Re,rowEventHandlers:qe,rowKey:pe,rowProps:Ue,scrollbarAlwaysOn:Ke,indentSize:Ve,iconSize:ne,useIsScrolling:fe,vScrollbarSize:Me,width:it}=e,Oe=E(y),_e={cache:$e,class:r.e("main"),columns:E(s),data:Oe,fixedData:te,estimatedRowHeight:Le,bodyWidth:E(L),headerHeight:ae,headerWidth:E(F),height:E(f),mainTableRef:_,rowKey:pe,rowHeight:lt,scrollbarAlwaysOn:Ke,scrollbarStartGap:2,scrollbarEndGap:Me,useIsScrolling:fe,width:it,getRowHeight:K,onRowsRendered:ee,onScroll:ue},nt=E(h),Se=E(d),tt={cache:$e,class:r.e("left"),columns:E(i),data:Oe,estimatedRowHeight:Le,leftTableRef:A,rowHeight:lt,bodyWidth:nt,headerWidth:nt,headerHeight:ae,height:Se,rowKey:pe,scrollbarAlwaysOn:Ke,scrollbarStartGap:2,scrollbarEndGap:Me,useIsScrolling:fe,width:nt,getRowHeight:K,onScroll:Ne},ht=E(v)+Me,yt={cache:$e,class:r.e("right"),columns:E(a),data:Oe,estimatedRowHeight:Le,rightTableRef:T,rowHeight:lt,bodyWidth:ht,headerWidth:ht,headerHeight:ae,height:Se,rowKey:pe,scrollbarAlwaysOn:Ke,scrollbarStartGap:2,scrollbarEndGap:Me,width:ht,style:`--${E(r.namespace)}-table-scrollbar-size: ${Me}px`,useIsScrolling:fe,getRowHeight:K,onScroll:Ne},Et=E(o),Wt={ns:r,depthMap:E(m),columnsStyles:Et,expandColumnKey:he,expandedRowKeys:E(b),estimatedRowHeight:Le,hasFixedColumns:E(S),hoveringRowKey:E(O),rowProps:Ue,rowClass:Re,rowKey:pe,rowEventHandlers:qe,onRowHovered:ie,onRowExpanded:oe,onRowHeightChange:W},ur={cellProps:Ie,expandColumnKey:he,indentSize:Ve,iconSize:ne,rowKey:pe,expandedRowKeys:E(b),ns:r},tn={ns:r,headerClass:Ce,headerProps:Ze,columnsStyles:Et},Dn={ns:r,sortBy:de,sortState:ze,headerCellProps:se,onColumnSorted:X},vn={row:be=>Te(lLe,br(be,Wt),{row:t.row,cell:We=>{let rt;return t.cell?Te(cx,br(We,ur,{style:Et[We.column.key]}),lg(rt=t.cell(We))?rt:{default:()=>[rt]}):Te(cx,br(We,ur,{style:Et[We.column.key]}),null)}}),header:be=>Te(cLe,br(be,tn),{header:t.header,cell:We=>{let rt;return t["header-cell"]?Te(TB,br(We,Dn,{style:Et[We.column.key]}),lg(rt=t["header-cell"](We))?rt:{default:()=>[rt]}):Te(TB,br(We,Dn,{style:Et[We.column.key]}),null)}})},Ln=[e.class,r.b(),r.e("root"),{[r.is("dynamic")]:E(P)}],Ot={class:r.e("footer"),style:E(z)};return Te("div",{class:Ln,style:E(k)},[Te(nLe,_e,lg(vn)?vn:{default:()=>[vn]}),Te(oLe,tt,lg(vn)?vn:{default:()=>[vn]}),Te(aLe,yt,lg(vn)?vn:{default:()=>[vn]}),t.footer&&Te(iW,Ot,{default:t.footer}),E(M)&&Te(aW,{class:r.e("empty"),style:E(j)},{default:t.empty}),t.overlay&&Te(sW,{class:r.e("overlay")},{default:t.overlay})])}}}),hLe=Kt({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:ot(Function)}}),pLe=St({name:"ElAutoResizer",props:hLe,setup(e,{slots:t}){const n=wt("auto-resizer"),{height:r,width:o,sizer:i}=Fke(e),a={width:"100%",height:"100%"};return()=>{var s;return Te("div",{ref:i,class:n.b(),style:a},[(s=t.default)==null?void 0:s.call(t,{height:r.value,width:o.value})])}}}),vLe=fr(dLe),yLe=fr(pLe),mLe=Kt({tabs:{type:ot(Array),default:()=>_o([])}}),gLe={name:"ElTabBar"},bLe=St({...gLe,props:mLe,setup(e,{expose:t}){const n=e,r="ElTabBar",o=cr(),i=Cn(w_);i||gi(r,"<el-tabs><el-tab-bar /></el-tabs>");const a=wt("tabs"),s=re(),f=re(),d=()=>{let v=0,y=0;const m=["top","bottom"].includes(i.props.tabPosition)?"width":"height",b=m==="width"?"x":"y";return n.tabs.every(S=>{var O,_,A,T;const P=(_=(O=o.parent)==null?void 0:O.refs)==null?void 0:_[`tab-${S.uid}`];if(!P)return!1;if(!S.active)return!0;y=P[`client${sc(m)}`];const x=b==="x"?"left":"top";v=P.getBoundingClientRect()[x]-((T=(A=P.parentElement)==null?void 0:A.getBoundingClientRect()[x])!=null?T:0);const N=window.getComputedStyle(P);return m==="width"&&(n.tabs.length>1&&(y-=Number.parseFloat(N.paddingLeft)+Number.parseFloat(N.paddingRight)),v+=Number.parseFloat(N.paddingLeft)),!1}),{[m]:`${y}px`,transform:`translate${sc(b)}(${v}px)`}},h=()=>f.value=d();return At(()=>n.tabs,async()=>{await bn(),h()},{immediate:!0}),oa(s,()=>h()),t({ref:s,update:h}),(v,y)=>(H(),le("div",{ref_key:"barRef",ref:s,class:Z([E(a).e("active-bar"),E(a).is(E(i).props.tabPosition)]),style:gn(f.value)},null,6))}});var ELe=zt(bLe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const SLe=Kt({panes:{type:ot(Array),default:()=>_o([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),wLe={tabClick:(e,t,n)=>n instanceof Event,tabRemove:(e,t)=>t instanceof Event},CB="ElTabNav",OLe=St({name:CB,props:SLe,emits:wLe,setup(e,{expose:t,emit:n}){const r=cr(),o=Cn(w_);o||gi(CB,"<el-tabs><tab-nav /></el-tabs>");const i=wt("tabs"),a=rve(),s=hve(),f=re(),d=re(),h=re(),v=re(!1),y=re(0),m=re(!1),b=re(!0),S=G(()=>["top","bottom"].includes(o.props.tabPosition)?"width":"height"),O=G(()=>({transform:`translate${S.value==="width"?"X":"Y"}(-${y.value}px)`})),_=()=>{if(!f.value)return;const j=f.value[`offset${sc(S.value)}`],k=y.value;if(!k)return;const F=k>j?k-j:0;y.value=F},A=()=>{if(!f.value||!d.value)return;const j=d.value[`offset${sc(S.value)}`],k=f.value[`offset${sc(S.value)}`],F=y.value;if(j-F<=k)return;const z=j-F>k*2?F+k:j-k;y.value=z},T=async()=>{const j=d.value;if(!v.value||!h.value||!f.value||!j)return;await bn();const k=h.value.querySelector(".is-active");if(!k)return;const F=f.value,z=["top","bottom"].includes(o.props.tabPosition),M=k.getBoundingClientRect(),D=F.getBoundingClientRect(),B=z?j.offsetWidth-D.width:j.offsetHeight-D.height,V=y.value;let Y=V;z?(M.left<D.left&&(Y=V-(D.left-M.left)),M.right>D.right&&(Y=V+M.right-D.right)):(M.top<D.top&&(Y=V-(D.top-M.top)),M.bottom>D.bottom&&(Y=V+(M.bottom-D.bottom))),Y=Math.max(Y,0),y.value=Math.min(Y,B)},P=()=>{if(!d.value||!f.value)return;const j=d.value[`offset${sc(S.value)}`],k=f.value[`offset${sc(S.value)}`],F=y.value;if(k<j){const z=y.value;v.value=v.value||{},v.value.prev=z,v.value.next=z+k<j,j-z<k&&(y.value=j-k)}else v.value=!1,F>0&&(y.value=0)},x=j=>{const k=j.code,{up:F,down:z,left:M,right:D}=Mn;if(![F,z,M,D].includes(k))return;const B=Array.from(j.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),V=B.indexOf(j.target);let Y;k===M||k===F?V===0?Y=B.length-1:Y=V-1:V<B.length-1?Y=V+1:Y=0,B[Y].focus(),B[Y].click(),N()},N=()=>{b.value&&(m.value=!0)},L=()=>m.value=!1;return At(a,j=>{j==="hidden"?b.value=!1:j==="visible"&&setTimeout(()=>b.value=!0,50)}),At(s,j=>{j?setTimeout(()=>b.value=!0,50):b.value=!1}),oa(h,P),ir(()=>setTimeout(()=>T(),0)),gu(()=>P()),t({scrollToActiveTab:T,removeFocus:L}),At(()=>e.panes,()=>r.update(),{flush:"post"}),()=>{const j=v.value?[Te("span",{class:[i.e("nav-prev"),i.is("disabled",!v.value.prev)],onClick:_},[Te(En,null,{default:()=>[Te(Zf,null,null)]})]),Te("span",{class:[i.e("nav-next"),i.is("disabled",!v.value.next)],onClick:A},[Te(En,null,{default:()=>[Te(Ea,null,null)]})])]:null,k=e.panes.map((F,z)=>{var M,D,B,V;const Y=F.uid,K=F.props.disabled,X=(D=(M=F.props.name)!=null?M:F.index)!=null?D:`${z}`,W=!K&&(F.isClosable||e.editable);F.index=`${z}`;const ie=W?Te(En,{class:"is-icon-close",onClick:ue=>n("tabRemove",F,ue)},{default:()=>[Te(ml,null,null)]}):null,oe=((V=(B=F.slots).label)==null?void 0:V.call(B))||F.props.label,ee=!K&&F.active?0:-1;return Te("div",{ref:`tab-${Y}`,class:[i.e("item"),i.is(o.props.tabPosition),i.is("active",F.active),i.is("disabled",K),i.is("closable",W),i.is("focus",m.value)],id:`tab-${X}`,key:`tab-${Y}`,"aria-controls":`pane-${X}`,role:"tab","aria-selected":F.active,tabindex:ee,onFocus:()=>N(),onBlur:()=>L(),onClick:ue=>{L(),n("tabClick",F,X,ue)},onKeydown:ue=>{W&&(ue.code===Mn.delete||ue.code===Mn.backspace)&&n("tabRemove",F,ue)}},[oe,ie])});return Te("div",{ref:h,class:[i.e("nav-wrap"),i.is("scrollable",!!v.value),i.is(o.props.tabPosition)]},[j,Te("div",{class:i.e("nav-scroll"),ref:f},[Te("div",{class:[i.e("nav"),i.is(o.props.tabPosition),i.is("stretch",e.stretch&&["top","bottom"].includes(o.props.tabPosition))],ref:d,style:O.value,role:"tablist",onKeydown:x},[e.type?null:Te(ELe,{tabs:[...e.panes]},null),k])])])}}}),_Le=Kt({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:ot(Function),default:()=>!0},stretch:Boolean}),MA=e=>Kn(e)||Jn(e),TLe={[hr]:e=>MA(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>MA(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>MA(e),tabAdd:()=>!0};var CLe=St({name:"ElTabs",props:_Le,emits:TLe,setup(e,{emit:t,slots:n,expose:r}){var o,i;const a=wt("tabs"),s=re(),f=Xr({}),d=re((i=(o=e.modelValue)!=null?o:e.activeName)!=null?i:"0"),h=S=>{d.value=S,t(hr,S),t("tabChange",S)},v=async S=>{var O,_,A;if(!(d.value===S||Vi(S)))try{await((O=e.beforeLeave)==null?void 0:O.call(e,S,d.value))!==!1&&(h(S),(A=(_=s.value)==null?void 0:_.removeFocus)==null||A.call(_))}catch{}},y=(S,O,_)=>{S.props.disabled||(v(O),t("tabClick",S,_))},m=(S,O)=>{S.props.disabled||Vi(S.props.name)||(O.stopPropagation(),t("edit",S.props.name,"remove"),t("tabRemove",S.props.name))},b=()=>{t("edit",void 0,"add"),t("tabAdd")};return Bh({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},G(()=>!!e.activeName)),At(()=>e.activeName,S=>v(S)),At(()=>e.modelValue,S=>v(S)),At(d,async()=>{var S;await bn(),(S=s.value)==null||S.scrollToActiveTab()}),Sr(w_,{props:e,currentName:d,registerPane:_=>f[_.uid]=_,unregisterPane:_=>delete f[_]}),r({currentName:d}),()=>{const S=e.editable||e.addable?Te("span",{class:a.e("new-tab"),tabindex:"0",onClick:b,onKeydown:A=>{A.code===Mn.enter&&b()}},[Te(En,{class:a.is("icon-plus")},{default:()=>[Te(GH,null,null)]})]):null,O=Te("div",{class:[a.e("header"),a.is(e.tabPosition)]},[S,Te(OLe,{ref:s,currentName:d.value,editable:e.editable,type:e.type,panes:Object.values(f),stretch:e.stretch,onTabClick:y,onTabRemove:m},null)]),_=Te("div",{class:a.e("content")},[bt(n,"default")]);return Te("div",{class:[a.b(),a.m(e.tabPosition),{[a.m("card")]:e.type==="card",[a.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[O,_]:[_,O]])}}});const ALe=Kt({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),PLe=["id","aria-hidden","aria-labelledby"],xLe={name:"ElTabPane"},MLe=St({...xLe,props:ALe,setup(e){const t=e,n="ElTabPane",r=cr(),o=Gi(),i=Cn(w_);i||gi(n,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const a=wt("tab-pane"),s=re(),f=G(()=>t.closable||i.props.closable),d=z$(()=>{var b;return i.currentName.value===((b=t.name)!=null?b:s.value)}),h=re(d.value),v=G(()=>{var b;return(b=t.name)!=null?b:s.value}),y=z$(()=>!t.lazy||h.value||d.value);At(d,b=>{b&&(h.value=!0)});const m=Xr({uid:r.uid,slots:o,props:t,paneName:v,active:d,index:s,isClosable:f});return ir(()=>{i.registerPane(m)}),Yh(()=>{i.unregisterPane(m.uid)}),(b,S)=>E(y)?Gn((H(),le("div",{key:0,id:`pane-${E(v)}`,class:Z(E(a).b()),role:"tabpanel","aria-hidden":!E(d),"aria-labelledby":`tab-${E(v)}`},[bt(b.$slots,"default")],10,PLe)),[[Lr,E(d)]]):Ye("v-if",!0)}});var lW=zt(MLe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const NLe=fr(CLe,{TabPane:lW}),RLe=ko(lW),ILe=Kt({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:os,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:ot([String,Object]),default:()=>HH},clearIcon:{type:ot([String,Object]),default:()=>id}}),uc=e=>{const t=(e||"").split(":");if(t.length>=2){let n=Number.parseInt(t[0],10);const r=Number.parseInt(t[1],10),o=e.toUpperCase();return o.includes("AM")&&n===12?n=0:o.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:r}}return null},NA=(e,t)=>{const n=uc(e);if(!n)return-1;const r=uc(t);if(!r)return-1;const o=n.minutes+n.hours*60,i=r.minutes+r.hours*60;return o===i?0:o>i?1:-1},AB=e=>`${e}`.padStart(2,"0"),Mv=e=>`${AB(e.hours)}:${AB(e.minutes)}`,DLe=(e,t)=>{const n=uc(e);if(!n)return"";const r=uc(t);if(!r)return"";const o={hours:n.hours,minutes:n.minutes};return o.minutes+=r.minutes,o.hours+=r.hours,o.hours+=Math.floor(o.minutes/60),o.minutes=o.minutes%60,Mv(o)},kLe={name:"ElTimeSelect"},LLe=St({...kLe,props:ILe,emits:["change","blur","focus","update:modelValue"],setup(e,{expose:t}){const n=e;rr.extend(fN);const{Option:r}=Fh,o=wt("input"),i=re(),a=Ac(),s=G(()=>n.modelValue),f=G(()=>{const O=uc(n.start);return O?Mv(O):null}),d=G(()=>{const O=uc(n.end);return O?Mv(O):null}),h=G(()=>{const O=uc(n.step);return O?Mv(O):null}),v=G(()=>{const O=uc(n.minTime||"");return O?Mv(O):null}),y=G(()=>{const O=uc(n.maxTime||"");return O?Mv(O):null}),m=G(()=>{const O=[];if(n.start&&n.end&&n.step){let _=f.value,A;for(;_&&d.value&&NA(_,d.value)<=0;)A=rr(_,"HH:mm").format(n.format),O.push({value:A,disabled:NA(_,v.value||"-1:-1")<=0||NA(_,y.value||"100:100")>=0}),_=DLe(_,h.value)}return O});return t({blur:()=>{var O,_;(_=(O=i.value)==null?void 0:O.blur)==null||_.call(O)},focus:()=>{var O,_;(_=(O=i.value)==null?void 0:O.focus)==null||_.call(O)}}),(O,_)=>(H(),et(E(Fh),{ref_key:"select",ref:i,"model-value":E(s),disabled:E(a),clearable:O.clearable,"clear-icon":O.clearIcon,size:O.size,effect:O.effect,placeholder:O.placeholder,"default-first-option":"",filterable:O.editable,"onUpdate:modelValue":_[0]||(_[0]=A=>O.$emit("update:modelValue",A)),onChange:_[1]||(_[1]=A=>O.$emit("change",A)),onBlur:_[2]||(_[2]=A=>O.$emit("blur",A)),onFocus:_[3]||(_[3]=A=>O.$emit("focus",A))},{prefix:Be(()=>[O.prefixIcon?(H(),et(E(En),{key:0,class:Z(E(o).e("prefix-icon"))},{default:Be(()=>[(H(),et(mr(O.prefixIcon)))]),_:1},8,["class"])):Ye("v-if",!0)]),default:Be(()=>[(H(!0),le(wn,null,_r(E(m),A=>(H(),et(E(r),{key:A.value,label:A.value,value:A.value,disabled:A.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable"]))}});var Hw=zt(LLe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-select/src/time-select.vue"]]);Hw.install=e=>{e.component(Hw.name,Hw)};const $Le=Hw,BLe=$Le,jLe=St({name:"ElTimeline",setup(e,{slots:t}){const n=wt("timeline");return Sr("timeline",t),()=>Pn("ul",{class:[n.b()]},[bt(t,"default")])}}),FLe=Kt({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:po},hollow:{type:Boolean,default:!1}}),zLe={name:"ElTimelineItem"},ULe=St({...zLe,props:FLe,setup(e){const t=wt("timeline-item");return(n,r)=>(H(),le("li",{class:Z([E(t).b(),{[E(t).e("center")]:n.center}])},[ve("div",{class:Z(E(t).e("tail"))},null,2),n.$slots.dot?Ye("v-if",!0):(H(),le("div",{key:0,class:Z([E(t).e("node"),E(t).em("node",n.size||""),E(t).em("node",n.type||""),E(t).is("hollow",n.hollow)]),style:gn({backgroundColor:n.color})},[n.icon?(H(),et(E(En),{key:0,class:Z(E(t).e("icon"))},{default:Be(()=>[(H(),et(mr(n.icon)))]),_:1},8,["class"])):Ye("v-if",!0)],6)),n.$slots.dot?(H(),le("div",{key:1,class:Z(E(t).e("dot"))},[bt(n.$slots,"dot")],2)):Ye("v-if",!0),ve("div",{class:Z(E(t).e("wrapper"))},[!n.hideTimestamp&&n.placement==="top"?(H(),le("div",{key:0,class:Z([E(t).e("timestamp"),E(t).is("top")])},Bt(n.timestamp),3)):Ye("v-if",!0),ve("div",{class:Z(E(t).e("content"))},[bt(n.$slots,"default")],2),!n.hideTimestamp&&n.placement==="bottom"?(H(),le("div",{key:1,class:Z([E(t).e("timestamp"),E(t).is("bottom")])},Bt(n.timestamp),3)):Ye("v-if",!0)],2)],2))}});var uW=zt(ULe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/timeline/src/timeline-item.vue"]]);const VLe=fr(jLe,{TimelineItem:uW}),HLe=ko(uW),cW=Kt({nowrap:Boolean});var fW=(e=>(e.top="top",e.bottom="bottom",e.left="left",e.right="right",e))(fW||{});const GLe=Object.values(fW),$N=Kt({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:ot(Object),default:null}}),WLe=Kt({side:{type:ot(String),values:GLe,required:!0}}),KLe=["absolute","fixed"],XLe=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],BN=Kt({ariaLabel:String,arrowPadding:{type:ot(Number),default:5},effect:{type:String,default:""},contentClass:String,placement:{type:ot(String),values:XLe,default:"bottom"},reference:{type:ot(Object),default:null},offset:{type:Number,default:8},strategy:{type:ot(String),values:KLe,default:"absolute"},showArrow:{type:Boolean,default:!1}}),jN=Kt({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:ot(Function)},"onUpdate:open":{type:ot(Function)}}),mv={type:ot(Function)},FN=Kt({onBlur:mv,onClick:mv,onFocus:mv,onMouseDown:mv,onMouseEnter:mv,onMouseLeave:mv}),YLe=Kt({...jN,...$N,...FN,...BN,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:ot(Object),default:null},teleported:Boolean,to:{type:ot(String),default:"body"}}),ZLe={name:"ElTooltipV2Root"},JLe=St({...ZLe,props:jN,setup(e,{expose:t}){const n=e,r=re(n.defaultOpen),o=re(null),i=G({get:()=>mve(n.open)?r.value:n.open,set:O=>{var _;r.value=O,(_=n["onUpdate:open"])==null||_.call(n,O)}}),a=G(()=>Jn(n.delayDuration)&&n.delayDuration>0),{start:s,stop:f}=$h(()=>{i.value=!0},G(()=>n.delayDuration),{immediate:!1}),d=wt("tooltip-v2"),h=gl(),v=()=>{f(),i.value=!0},y=()=>{E(a)?s():v()},m=v,b=()=>{f(),i.value=!1};return At(i,O=>{var _;O&&(document.dispatchEvent(new CustomEvent(dA)),m()),(_=n.onOpenChange)==null||_.call(n,O)}),ir(()=>{document.addEventListener(dA,b)}),Go(()=>{f(),document.removeEventListener(dA,b)}),Sr(O_,{contentId:h,triggerRef:o,ns:d,onClose:b,onDelayOpen:y,onOpen:m}),t({onOpen:m,onClose:b}),(O,_)=>bt(O.$slots,"default",{open:E(i)})}});var QLe=zt(JLe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/root.vue"]]);const qLe={name:"ElTooltipV2Arrow"},e3e=St({...qLe,props:{...$N,...WLe},setup(e){const t=e,{ns:n}=Cn(O_),{arrowRef:r}=Cn(fG),o=G(()=>{const{style:i,width:a,height:s}=t,f=n.namespace.value;return{[`--${f}-tooltip-v2-arrow-width`]:`${a}px`,[`--${f}-tooltip-v2-arrow-height`]:`${s}px`,[`--${f}-tooltip-v2-arrow-border-width`]:`${a/2}px`,[`--${f}-tooltip-v2-arrow-cover-width`]:a/2-1,...i||{}}});return(i,a)=>(H(),le("span",{ref_key:"arrowRef",ref:r,style:gn(E(o)),class:Z(E(n).e("arrow"))},null,6))}});var PB=zt(e3e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/arrow.vue"]]);const t3e=Kt({style:{type:ot([String,Object,Array]),default:()=>({})}}),n3e={name:"ElVisuallyHidden"},r3e=St({...n3e,props:t3e,setup(e){const t=e,n=G(()=>[t.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(r,o)=>(H(),le("span",br(r.$attrs,{style:E(n)}),[bt(r.$slots,"default")],16))}});var o3e=zt(r3e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/visual-hidden/src/visual-hidden.vue"]]);const i3e=["data-side"],a3e={name:"ElTooltipV2Content"},s3e=St({...a3e,props:{...BN,...cW},setup(e){const t=e,{triggerRef:n,contentId:r}=Cn(O_),o=re(t.placement),i=re(t.strategy),a=re(null),{referenceRef:s,contentRef:f,middlewareData:d,x:h,y:v,update:y}=X0e({placement:o,strategy:i,middleware:G(()=>{const T=[R0e(t.offset)];return t.showArrow&&T.push(Y0e({arrowRef:a})),T})}),m=Pc().nextZIndex(),b=wt("tooltip-v2"),S=G(()=>o.value.split("-")[0]),O=G(()=>({position:E(i),top:`${E(v)||0}px`,left:`${E(h)||0}px`,zIndex:m})),_=G(()=>{if(!t.showArrow)return{};const{arrow:T}=E(d);return{[`--${b.namespace.value}-tooltip-v2-arrow-x`]:`${T==null?void 0:T.x}px`||"",[`--${b.namespace.value}-tooltip-v2-arrow-y`]:`${T==null?void 0:T.y}px`||""}}),A=G(()=>[b.e("content"),b.is("dark",t.effect==="dark"),b.is(E(i)),t.contentClass]);return At(a,()=>y()),At(()=>t.placement,T=>o.value=T),ir(()=>{At(()=>t.reference||n.value,T=>{s.value=T||void 0},{immediate:!0})}),Sr(fG,{arrowRef:a}),(T,P)=>(H(),le("div",{ref_key:"contentRef",ref:f,style:gn(E(O)),"data-tooltip-v2-root":""},[T.nowrap?Ye("v-if",!0):(H(),le("div",{key:0,"data-side":E(S),class:Z(E(A))},[bt(T.$slots,"default",{contentStyle:E(O),contentClass:E(A)}),Te(E(o3e),{id:E(r),role:"tooltip"},{default:Be(()=>[T.ariaLabel?(H(),le(wn,{key:0},[$r(Bt(T.ariaLabel),1)],64)):bt(T.$slots,"default",{key:1})]),_:3},8,["id"]),bt(T.$slots,"arrow",{style:gn(E(_)),side:E(S)})],10,i3e))],4))}});var xB=zt(s3e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/content.vue"]]);const l3e=Kt({setRef:{type:ot(Function),required:!0},onlyChild:Boolean});var u3e=St({props:l3e,setup(e,{slots:t}){const n=re(),r=E_(n,o=>{o?e.setRef(o.nextElementSibling):e.setRef(null)});return()=>{var o;const[i]=((o=t.default)==null?void 0:o.call(t))||[],a=e.onlyChild?Jbe(i.children):i.children;return Te(wn,{ref:r},[a])}}});const c3e={name:"ElTooltipV2Trigger"},f3e=St({...c3e,props:{...cW,...FN},setup(e){const t=e,{onClose:n,onOpen:r,onDelayOpen:o,triggerRef:i,contentId:a}=Cn(O_);let s=!1;const f=A=>{i.value=A},d=()=>{s=!1},h=Io(t.onMouseEnter,o),v=Io(t.onMouseLeave,n),y=Io(t.onMouseDown,()=>{n(),s=!0,document.addEventListener("mouseup",d,{once:!0})}),m=Io(t.onFocus,()=>{s||r()}),b=Io(t.onBlur,n),S=Io(t.onClick,A=>{A.detail===0&&n()}),O={blur:b,click:S,focus:m,mousedown:y,mouseenter:h,mouseleave:v},_=(A,T,P)=>{A&&Object.entries(T).forEach(([x,N])=>{A[P](x,N)})};return At(i,(A,T)=>{_(A,O,"addEventListener"),_(T,O,"removeEventListener"),A&&A.setAttribute("aria-describedby",a.value)}),Go(()=>{_(i.value,O,"removeEventListener"),document.removeEventListener("mouseup",d)}),(A,T)=>A.nowrap?(H(),et(E(u3e),{key:0,"set-ref":f,"only-child":""},{default:Be(()=>[bt(A.$slots,"default")]),_:3})):(H(),le("button",br({key:1,ref_key:"triggerRef",ref:i},A.$attrs),[bt(A.$slots,"default")],16))}});var d3e=zt(f3e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/trigger.vue"]]);const h3e={name:"ElTooltipV2"},p3e=St({...h3e,props:YLe,setup(e){const n=mi(e),r=Xr(zf(n,Object.keys($N))),o=Xr(zf(n,Object.keys(BN))),i=Xr(zf(n,Object.keys(jN))),a=Xr(zf(n,Object.keys(FN)));return(s,f)=>(H(),et(QLe,fl(s_(i)),{default:Be(({open:d})=>[Te(d3e,br(a,{nowrap:""}),{default:Be(()=>[bt(s.$slots,"trigger")]),_:3},16),(H(),et(Vb,{to:s.to,disabled:!s.teleported},[s.fullTransition?(H(),et(ti,fl(br({key:0},s.transitionProps)),{default:Be(()=>[s.alwaysOn||d?(H(),et(xB,fl(br({key:0},o)),{arrow:Be(({style:h,side:v})=>[s.showArrow?(H(),et(PB,br({key:0},r,{style:h,side:v}),null,16,["style","side"])):Ye("v-if",!0)]),default:Be(()=>[bt(s.$slots,"default")]),_:3},16)):Ye("v-if",!0)]),_:2},1040)):(H(),le(wn,{key:1},[s.alwaysOn||d?(H(),et(xB,fl(br({key:0},o)),{arrow:Be(({style:h,side:v})=>[s.showArrow?(H(),et(PB,br({key:0},r,{style:h,side:v}),null,16,["style","side"])):Ye("v-if",!0)]),default:Be(()=>[bt(s.$slots,"default")]),_:3},16)):Ye("v-if",!0)],64))],8,["to","disabled"]))]),_:3},16))}});var v3e=zt(p3e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/tooltip.vue"]]);const y3e=fr(v3e),dW="left-check-change",hW="right-check-change",Nv=Kt({data:{type:ot(Array),default:()=>[]},titles:{type:ot(Array),default:()=>[]},buttonTexts:{type:ot(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:ot(Function)},leftDefaultChecked:{type:ot(Array),default:()=>[]},rightDefaultChecked:{type:ot(Array),default:()=>[]},renderContent:{type:ot(Function)},modelValue:{type:ot(Array),default:()=>[]},format:{type:ot(Object),default:()=>({})},filterable:Boolean,props:{type:ot(Object),default:()=>_o({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),fx=(e,t)=>[e,t].every(Sn)||Sn(e)&&$a(t),m3e={[Po]:(e,t,n)=>[e,n].every(Sn)&&["left","right"].includes(t),[hr]:e=>Sn(e),[dW]:fx,[hW]:fx},dx="checked-change",g3e=Kt({data:Nv.data,optionRender:{type:ot(Function)},placeholder:String,title:String,filterable:Boolean,format:Nv.format,filterMethod:Nv.filterMethod,defaultChecked:Nv.leftDefaultChecked,props:Nv.props}),b3e={[dx]:fx},e0=e=>{const t={label:"label",key:"key",disabled:"disabled"};return G(()=>({...t,...e.props}))},E3e=(e,t,n)=>{const r=e0(e),o=G(()=>e.data.filter(h=>Wn(e.filterMethod)?e.filterMethod(t.query,h):String(h[r.value.label]||h[r.value.key]).toLowerCase().includes(t.query.toLowerCase()))),i=G(()=>o.value.filter(h=>!h[r.value.disabled])),a=G(()=>{const h=t.checked.length,v=e.data.length,{noChecked:y,hasChecked:m}=e.format;return y&&m?h>0?m.replace(/\${checked}/g,h.toString()).replace(/\${total}/g,v.toString()):y.replace(/\${total}/g,v.toString()):`${h}/${v}`}),s=G(()=>{const h=t.checked.length;return h>0&&h<i.value.length}),f=()=>{const h=i.value.map(v=>v[r.value.key]);t.allChecked=h.length>0&&h.every(v=>t.checked.includes(v))},d=h=>{t.checked=h?i.value.map(v=>v[r.value.key]):[]};return At(()=>t.checked,(h,v)=>{if(f(),t.checkChangeByUser){const y=h.concat(v).filter(m=>!h.includes(m)||!v.includes(m));n(dx,h,y)}else n(dx,h),t.checkChangeByUser=!0}),At(i,()=>{f()}),At(()=>e.data,()=>{const h=[],v=o.value.map(y=>y[r.value.key]);t.checked.forEach(y=>{v.includes(y)&&h.push(y)}),t.checkChangeByUser=!1,t.checked=h}),At(()=>e.defaultChecked,(h,v)=>{if(v&&h.length===v.length&&h.every(b=>v.includes(b)))return;const y=[],m=i.value.map(b=>b[r.value.key]);h.forEach(b=>{m.includes(b)&&y.push(b)}),t.checkChangeByUser=!1,t.checked=y},{immediate:!0}),{filteredData:o,checkableData:i,checkedSummary:a,isIndeterminate:s,updateAllChecked:f,handleAllCheckedChange:d}},S3e=(e,t)=>({onSourceCheckedChange:(o,i)=>{e.leftChecked=o,i&&t(dW,o,i)},onTargetCheckedChange:(o,i)=>{e.rightChecked=o,i&&t(hW,o,i)}}),w3e=e=>{const t=e0(e),n=G(()=>e.data.reduce((i,a)=>(i[a[t.value.key]]=a)&&i,{})),r=G(()=>e.data.filter(i=>!e.modelValue.includes(i[t.value.key]))),o=G(()=>e.targetOrder==="original"?e.data.filter(i=>e.modelValue.includes(i[t.value.key])):e.modelValue.reduce((i,a)=>{const s=n.value[a];return s&&i.push(s),i},[]));return{sourceData:r,targetData:o}},O3e=(e,t,n)=>{const r=e0(e),o=(s,f,d)=>{n(hr,s),n(Po,s,f,d)};return{addToLeft:()=>{const s=e.modelValue.slice();t.rightChecked.forEach(f=>{const d=s.indexOf(f);d>-1&&s.splice(d,1)}),o(s,"left",t.rightChecked)},addToRight:()=>{let s=e.modelValue.slice();const f=e.data.filter(d=>{const h=d[r.value.key];return t.leftChecked.includes(h)&&!e.modelValue.includes(h)}).map(d=>d[r.value.key]);s=e.targetOrder==="unshift"?f.concat(s):s.concat(f),e.targetOrder==="original"&&(s=e.data.filter(d=>s.includes(d[r.value.key])).map(d=>d[r.value.key])),o(s,"right",t.leftChecked)}}},_3e={name:"ElTransferPanel"},T3e=St({..._3e,props:g3e,emits:b3e,setup(e,{expose:t,emit:n}){const r=e,o=Gi(),i=({option:P})=>P,{t:a}=Hr(),s=wt("transfer"),f=Xr({checked:[],allChecked:!1,query:"",inputHover:!1,checkChangeByUser:!0}),d=e0(r),{filteredData:h,checkedSummary:v,isIndeterminate:y,handleAllCheckedChange:m}=E3e(r,f,n),b=G(()=>!As(f.query)&&As(h.value)),S=G(()=>!As(o.default()[0].children)),{checked:O,allChecked:_,query:A,inputHover:T}=mi(f);return t({query:A}),(P,x)=>(H(),le("div",{class:Z(E(s).b("panel"))},[ve("p",{class:Z(E(s).be("panel","header"))},[Te(E(Bs),{modelValue:E(_),"onUpdate:modelValue":x[0]||(x[0]=N=>uo(_)?_.value=N:null),indeterminate:E(y),"validate-event":!1,onChange:E(m)},{default:Be(()=>[$r(Bt(P.title)+" ",1),ve("span",null,Bt(E(v)),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),ve("div",{class:Z([E(s).be("panel","body"),E(s).is("with-footer",E(S))])},[P.filterable?(H(),et(E(na),{key:0,modelValue:E(A),"onUpdate:modelValue":x[1]||(x[1]=N=>uo(A)?A.value=N:null),class:Z(E(s).be("panel","filter")),size:"default",placeholder:P.placeholder,"prefix-icon":E(Wge),clearable:"","validate-event":!1,onMouseenter:x[2]||(x[2]=N=>T.value=!0),onMouseleave:x[3]||(x[3]=N=>T.value=!1)},null,8,["modelValue","class","placeholder","prefix-icon"])):Ye("v-if",!0),Gn(Te(E(P7),{modelValue:E(O),"onUpdate:modelValue":x[4]||(x[4]=N=>uo(O)?O.value=N:null),"validate-event":!1,class:Z([E(s).is("filterable",P.filterable),E(s).be("panel","list")])},{default:Be(()=>[(H(!0),le(wn,null,_r(E(h),N=>(H(),et(E(Bs),{key:N[E(d).key],class:Z(E(s).be("panel","item")),label:N[E(d).key],disabled:N[E(d).disabled],"validate-event":!1},{default:Be(()=>{var L;return[Te(i,{option:(L=P.optionRender)==null?void 0:L.call(P,N)},null,8,["option"])]}),_:2},1032,["class","label","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[Lr,!E(b)&&!E(As)(P.data)]]),Gn(ve("p",{class:Z(E(s).be("panel","empty"))},Bt(E(b)?E(a)("el.transfer.noMatch"):E(a)("el.transfer.noData")),3),[[Lr,E(b)||E(As)(P.data)]])],2),E(S)?(H(),le("p",{key:0,class:Z(E(s).be("panel","footer"))},[bt(P.$slots,"default")],2)):Ye("v-if",!0)],2))}});var MB=zt(T3e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer-panel.vue"]]);const C3e={key:0},A3e={key:0},P3e={name:"ElTransfer"},x3e=St({...P3e,props:Nv,emits:m3e,setup(e,{expose:t,emit:n}){const r=e,o=Gi(),{t:i}=Hr(),a=wt("transfer"),{formItem:s}=as(),f=Xr({leftChecked:[],rightChecked:[]}),d=e0(r),{sourceData:h,targetData:v}=w3e(r),{onSourceCheckedChange:y,onTargetCheckedChange:m}=S3e(f,n),{addToLeft:b,addToRight:S}=O3e(r,f,n),O=re(),_=re(),A=j=>{switch(j){case"left":O.value.query="";break;case"right":_.value.query="";break}},T=G(()=>r.buttonTexts.length===2),P=G(()=>r.titles[0]||i("el.transfer.titles.0")),x=G(()=>r.titles[1]||i("el.transfer.titles.1")),N=G(()=>r.filterPlaceholder||i("el.transfer.filterPlaceholder"));At(()=>r.modelValue,()=>{var j;r.validateEvent&&((j=s==null?void 0:s.validate)==null||j.call(s,"change").catch(k=>void 0))});const L=G(()=>j=>r.renderContent?r.renderContent(Pn,j):o.default?o.default({option:j}):Pn("span",j[d.value.label]||j[d.value.key]));return t({clearQuery:A,leftPanel:O,rightPanel:_}),(j,k)=>(H(),le("div",{class:Z(E(a).b())},[Te(MB,{ref_key:"leftPanel",ref:O,data:E(h),"option-render":E(L),placeholder:E(N),title:E(P),filterable:j.filterable,format:j.format,"filter-method":j.filterMethod,"default-checked":j.leftDefaultChecked,props:r.props,onCheckedChange:E(y)},{default:Be(()=>[bt(j.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),ve("div",{class:Z(E(a).e("buttons"))},[Te(E(ra),{type:"primary",class:Z([E(a).e("button"),E(a).is("with-texts",E(T))]),disabled:E(As)(f.rightChecked),onClick:E(b)},{default:Be(()=>[Te(E(En),null,{default:Be(()=>[Te(E(Zf))]),_:1}),E(Vi)(j.buttonTexts[0])?Ye("v-if",!0):(H(),le("span",C3e,Bt(j.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),Te(E(ra),{type:"primary",class:Z([E(a).e("button"),E(a).is("with-texts",E(T))]),disabled:E(As)(f.leftChecked),onClick:E(S)},{default:Be(()=>[E(Vi)(j.buttonTexts[1])?Ye("v-if",!0):(H(),le("span",A3e,Bt(j.buttonTexts[1]),1)),Te(E(En),null,{default:Be(()=>[Te(E(Ea))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),Te(MB,{ref_key:"rightPanel",ref:_,data:E(v),"option-render":E(L),placeholder:E(N),filterable:j.filterable,format:j.format,"filter-method":j.filterMethod,title:E(x),"default-checked":j.rightDefaultChecked,props:r.props,onCheckedChange:E(m)},{default:Be(()=>[bt(j.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var M3e=zt(x3e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer.vue"]]);const N3e=fr(M3e),Jv="$treeNodeId",NB=function(e,t){!t||t[Jv]||Object.defineProperty(t,Jv,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},zN=function(e,t){return e?t[e]:t[Jv]},hx=(e,t,n)=>{const r=e.value.currentNode;n();const o=e.value.currentNode;r!==o&&t("current-change",o||null,o)},px=e=>{let t=!0,n=!0,r=!0;for(let o=0,i=e.length;o<i;o++){const a=e[o];(a.checked!==!0||a.indeterminate)&&(t=!1,a.disabled||(r=!1)),(a.checked!==!1||a.indeterminate)&&(n=!1)}return{all:t,none:n,allWithoutDisable:r,half:!t&&!n}},Gw=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:n,half:r}=px(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):r?(e.checked=!1,e.indeterminate=!0):n&&(e.checked=!1,e.indeterminate=!1);const o=e.parent;!o||o.level===0||e.store.checkStrictly||Gw(o)},KS=function(e,t){const n=e.store.props,r=e.data||{},o=n[t];if(typeof o=="function")return o(r,e);if(typeof o=="string")return r[o];if(typeof o>"u"){const i=r[t];return i===void 0?"":i}};let R3e=0;class Rh{constructor(t){this.id=R3e++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in t)xr(t,n)&&(this[n]=t[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const n=t.props;if(n&&typeof n.isLeaf<"u"){const i=KS(this,"isLeaf");typeof i=="boolean"&&(this.isLeafByUser=i)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&this.expand(),Array.isArray(this.data)||NB(this,this.data),!this.data)return;const r=t.defaultExpandedKeys,o=t.key;o&&r&&r.includes(this.key)&&this.expand(null,t.autoExpandParent),o&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){Array.isArray(t)||NB(this,t),this.data=t,this.childNodes=[];let n;this.level===0&&Array.isArray(this.data)?n=this.data:n=KS(this,"children")||[];for(let r=0,o=n.length;r<o;r++)this.insertChild({data:n[r]})}get label(){return KS(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return KS(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return t.childNodes[n+1]}return null}get previousSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return n>0?t.childNodes[n-1]:null}return null}contains(t,n=!0){return(this.childNodes||[]).some(r=>r===t||n&&r.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,n,r){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof Rh)){if(!r){const o=this.getChildren(!0);o.includes(t.data)||(typeof n>"u"||n<0?o.push(t.data):o.splice(n,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=Xr(new Rh(t)),t instanceof Rh&&t.initialize()}t.level=this.level+1,typeof n>"u"||n<0?this.childNodes.push(t):this.childNodes.splice(n,0,t),this.updateLeafState()}insertBefore(t,n){let r;n&&(r=this.childNodes.indexOf(n)),this.insertChild(t,r)}insertAfter(t,n){let r;n&&(r=this.childNodes.indexOf(n),r!==-1&&(r+=1)),this.insertChild(t,r)}removeChild(t){const n=this.getChildren()||[],r=n.indexOf(t.data);r>-1&&n.splice(r,1);const o=this.childNodes.indexOf(t);o>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(o,1)),this.updateLeafState()}removeChildByData(t){let n=null;for(let r=0;r<this.childNodes.length;r++)if(this.childNodes[r].data===t){n=this.childNodes[r];break}n&&this.removeChild(n)}expand(t,n){const r=()=>{if(n){let o=this.parent;for(;o.level>0;)o.expanded=!0,o=o.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(o=>{o.canFocus=!0})};this.shouldLoadData()?this.loadData(o=>{Array.isArray(o)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Gw(this),r())}):r()}doCreateChildren(t,n={}){t.forEach(r=>{this.insertChild(Object.assign({data:r},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,n,r,o){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:a,allWithoutDisable:s}=px(this.childNodes);!this.isLeaf&&!a&&s&&(this.checked=!1,t=!1);const f=()=>{if(n){const d=this.childNodes;for(let y=0,m=d.length;y<m;y++){const b=d[y];o=o||t!==!1;const S=b.disabled?b.checked:o;b.setChecked(S,n,!0,o)}const{half:h,all:v}=px(d);v||(this.checked=v,this.indeterminate=h)}};if(this.shouldLoadData()){this.loadData(()=>{f(),Gw(this)},{checked:t!==!1});return}else f()}const i=this.parent;!i||i.level===0||r||Gw(i)}getChildren(t=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const r=this.store.props;let o="children";return r&&(o=r.children||"children"),n[o]===void 0&&(n[o]=null),t&&!n[o]&&(n[o]=[]),n[o]}updateChildren(){const t=this.getChildren()||[],n=this.childNodes.map(i=>i.data),r={},o=[];t.forEach((i,a)=>{const s=i[Jv];!!s&&n.findIndex(d=>d[Jv]===s)>=0?r[s]={index:a,data:i}:o.push({index:a,data:i})}),this.store.lazy||n.forEach(i=>{r[i[Jv]]||this.removeChildByData(i)}),o.forEach(({index:i,data:a})=>{this.insertChild({data:a},i)}),this.updateLeafState()}loadData(t,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const r=o=>{this.childNodes=[],this.doCreateChildren(o,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,o)};this.store.load(this,r)}else t&&t.call(this)}}class I3e{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const n in t)xr(t,n)&&(this[n]=t[n]);this.nodesMap={}}initialize(){if(this.root=new Rh({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const n=this.filterNodeMethod,r=this.lazy,o=function(i){const a=i.root?i.root.childNodes:i.childNodes;if(a.forEach(s=>{s.visible=n.call(s,t,s.data,s),o(s)}),!i.visible&&a.length){let s=!0;s=!a.some(f=>f.visible),i.root?i.root.visible=s===!1:i.visible=s===!1}!t||i.visible&&!i.isLeaf&&!r&&i.expand()};o(this)}setData(t){t!==this.root.data?(this.root.setData(t),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(t){if(t instanceof Rh)return t;const n=Er(t)?zN(this.key,t):t;return this.nodesMap[n]||null}insertBefore(t,n){const r=this.getNode(n);r.parent.insertBefore({data:t},r)}insertAfter(t,n){const r=this.getNode(n);r.parent.insertAfter({data:t},r)}remove(t){const n=this.getNode(t);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(t,n){const r=n?this.getNode(n):this.root;r&&r.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],n=this.nodesMap;t.forEach(r=>{const o=n[r];o&&o.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const n=this.key;!t||!t.data||(n?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(r=>{this.deregisterNode(r)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,n=!1){const r=[],o=function(i){(i.root?i.root.childNodes:i.childNodes).forEach(s=>{(s.checked||n&&s.indeterminate)&&(!t||t&&s.isLeaf)&&r.push(s.data),o(s)})};return o(this),r}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const t=[],n=function(r){(r.root?r.root.childNodes:r.childNodes).forEach(i=>{i.indeterminate&&t.push(i.data),n(i)})};return n(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],n=this.nodesMap;for(const r in n)xr(n,r)&&t.push(n[r]);return t}updateChildren(t,n){const r=this.nodesMap[t];if(!r)return;const o=r.childNodes;for(let i=o.length-1;i>=0;i--){const a=o[i];this.remove(a.data)}for(let i=0,a=n.length;i<a;i++){const s=n[i];this.append(s,r.data)}}_setCheckedKeys(t,n=!1,r){const o=this._getAllNodes().sort((s,f)=>f.level-s.level),i=Object.create(null),a=Object.keys(r);o.forEach(s=>s.setChecked(!1,!1));for(let s=0,f=o.length;s<f;s++){const d=o[s],h=d.data[t].toString();if(!a.includes(h)){d.checked&&!i[h]&&d.setChecked(!1,!1);continue}let y=d.parent;for(;y&&y.level>0;)i[y.data[t]]=!0,y=y.parent;if(d.isLeaf||this.checkStrictly){d.setChecked(!0,!1);continue}if(d.setChecked(!0,!0),n){d.setChecked(!1,!1);const m=function(b){b.childNodes.forEach(O=>{O.isLeaf||O.setChecked(!1,!1),m(O)})};m(d)}}}setCheckedNodes(t,n=!1){const r=this.key,o={};t.forEach(i=>{o[(i||{})[r]]=!0}),this._setCheckedKeys(r,n,o)}setCheckedKeys(t,n=!1){this.defaultCheckedKeys=t;const r=this.key,o={};t.forEach(i=>{o[i]=!0}),this._setCheckedKeys(r,n,o)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(n=>{const r=this.getNode(n);r&&r.expand(null,this.autoExpandParent)})}setChecked(t,n,r){const o=this.getNode(t);o&&o.setChecked(!!n,r)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,n=!0){const r=t[this.key],o=this.nodesMap[r];this.setCurrentNode(o),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,n=!0){if(t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const r=this.getNode(t);r&&(this.setCurrentNode(r),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const D3e=St({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=wt("tree"),n=Cn("NodeInstance"),r=Cn("RootTree");return()=>{const o=e.node,{data:i,store:a}=o;return e.renderContent?e.renderContent(Pn,{_self:n,node:o,data:i,store:a}):Pn("span",{class:t.be("node","label")},[r.ctx.slots.default?r.ctx.slots.default({node:o,data:i}):o.label])}}});var k3e=zt(D3e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function pW(e){const t=Cn("TreeNodeMap",null),n={treeNodeExpand:r=>{e.node!==r&&e.node.collapse()},children:[]};return t&&t.children.push(n),Sr("TreeNodeMap",n),{broadcastExpanded:r=>{if(!!e.accordion)for(const o of n.children)o.treeNodeExpand(r)}}}const vW=Symbol("dragEvents");function L3e({props:e,ctx:t,el$:n,dropIndicator$:r,store:o}){const i=wt("tree"),a=re({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Sr(vW,{treeNodeDragStart:({event:h,treeNode:v})=>{if(typeof e.allowDrag=="function"&&!e.allowDrag(v.node))return h.preventDefault(),!1;h.dataTransfer.effectAllowed="move";try{h.dataTransfer.setData("text/plain","")}catch{}a.value.draggingNode=v,t.emit("node-drag-start",v.node,h)},treeNodeDragOver:({event:h,treeNode:v})=>{const y=v,m=a.value.dropNode;m&&m!==y&&Ba(m.$el,i.is("drop-inner"));const b=a.value.draggingNode;if(!b||!y)return;let S=!0,O=!0,_=!0,A=!0;typeof e.allowDrop=="function"&&(S=e.allowDrop(b.node,y.node,"prev"),A=O=e.allowDrop(b.node,y.node,"inner"),_=e.allowDrop(b.node,y.node,"next")),h.dataTransfer.dropEffect=O||S||_?"move":"none",(S||O||_)&&m!==y&&(m&&t.emit("node-drag-leave",b.node,m.node,h),t.emit("node-drag-enter",b.node,y.node,h)),(S||O||_)&&(a.value.dropNode=y),y.node.nextSibling===b.node&&(_=!1),y.node.previousSibling===b.node&&(S=!1),y.node.contains(b.node,!1)&&(O=!1),(b.node===y.node||b.node.contains(y.node))&&(S=!1,O=!1,_=!1);const T=y.$el.getBoundingClientRect(),P=n.value.getBoundingClientRect();let x;const N=S?O?.25:_?.45:1:-1,L=_?O?.75:S?.55:0:1;let j=-9999;const k=h.clientY-T.top;k<T.height*N?x="before":k>T.height*L?x="after":O?x="inner":x="none";const F=y.$el.querySelector(`.${i.be("node","expand-icon")}`).getBoundingClientRect(),z=r.value;x==="before"?j=F.top-P.top:x==="after"&&(j=F.bottom-P.top),z.style.top=`${j}px`,z.style.left=`${F.right-P.left}px`,x==="inner"?su(y.$el,i.is("drop-inner")):Ba(y.$el,i.is("drop-inner")),a.value.showDropIndicator=x==="before"||x==="after",a.value.allowDrop=a.value.showDropIndicator||A,a.value.dropType=x,t.emit("node-drag-over",b.node,y.node,h)},treeNodeDragEnd:h=>{const{draggingNode:v,dropType:y,dropNode:m}=a.value;if(h.preventDefault(),h.dataTransfer.dropEffect="move",v&&m){const b={data:v.node.data};y!=="none"&&v.node.remove(),y==="before"?m.node.parent.insertBefore(b,m.node):y==="after"?m.node.parent.insertAfter(b,m.node):y==="inner"&&m.node.insertChild(b),y!=="none"&&o.value.registerNode(b),Ba(m.$el,i.is("drop-inner")),t.emit("node-drag-end",v.node,m.node,y,h),y!=="none"&&t.emit("node-drop",v.node,m.node,y,h)}v&&!m&&t.emit("node-drag-end",v.node,null,y,h),a.value.showDropIndicator=!1,a.value.draggingNode=null,a.value.dropNode=null,a.value.allowDrop=!0}}),{dragState:a}}const $3e=St({name:"ElTreeNode",components:{ElCollapseTransition:N_,ElCheckbox:Bs,NodeContent:k3e,ElIcon:En,Loading:ad},props:{node:{type:Rh,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const n=wt("tree"),{broadcastExpanded:r}=pW(e),o=Cn("RootTree"),i=re(!1),a=re(!1),s=re(null),f=re(null),d=re(null),h=Cn(vW),v=cr();Sr("NodeInstance",v),e.node.expanded&&(i.value=!0,a.value=!0);const y=o.props.children||"children";At(()=>{const k=e.node.data[y];return k&&[...k]},()=>{e.node.updateChildren()}),At(()=>e.node.indeterminate,k=>{S(e.node.checked,k)}),At(()=>e.node.checked,k=>{S(k,e.node.indeterminate)}),At(()=>e.node.expanded,k=>{bn(()=>i.value=k),k&&(a.value=!0)});const m=k=>zN(o.props.nodeKey,k.data),b=k=>{const F=e.props.class;if(!F)return{};let z;if(Wn(F)){const{data:M}=k;z=F(M,k)}else z=F;return Kn(z)?{[z]:!0}:z},S=(k,F)=>{(s.value!==k||f.value!==F)&&o.ctx.emit("check-change",e.node.data,k,F),s.value=k,f.value=F},O=k=>{hx(o.store,o.ctx.emit,()=>o.store.value.setCurrentNode(e.node)),o.currentNode.value=e.node,o.props.expandOnClickNode&&A(),o.props.checkOnClickNode&&!e.node.disabled&&T(null,{target:{checked:!e.node.checked}}),o.ctx.emit("node-click",e.node.data,e.node,v,k)},_=k=>{o.instance.vnode.props.onNodeContextmenu&&(k.stopPropagation(),k.preventDefault()),o.ctx.emit("node-contextmenu",k,e.node.data,e.node,v)},A=()=>{e.node.isLeaf||(i.value?(o.ctx.emit("node-collapse",e.node.data,e.node,v),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,v)))},T=(k,F)=>{e.node.setChecked(F.target.checked,!o.props.checkStrictly),bn(()=>{const z=o.store.value;o.ctx.emit("check",e.node.data,{checkedNodes:z.getCheckedNodes(),checkedKeys:z.getCheckedKeys(),halfCheckedNodes:z.getHalfCheckedNodes(),halfCheckedKeys:z.getHalfCheckedKeys()})})};return{ns:n,node$:d,tree:o,expanded:i,childNodeRendered:a,oldChecked:s,oldIndeterminate:f,getNodeKey:m,getNodeClass:b,handleSelectChange:S,handleClick:O,handleContextMenu:_,handleExpandIconClick:A,handleCheckChange:T,handleChildNodeExpand:(k,F,z)=>{r(F),o.ctx.emit("node-expand",k,F,z)},handleDragStart:k=>{!o.props.draggable||h.treeNodeDragStart({event:k,treeNode:e})},handleDragOver:k=>{k.preventDefault(),o.props.draggable&&h.treeNodeDragOver({event:k,treeNode:{$el:d.value,node:e.node}})},handleDrop:k=>{k.preventDefault()},handleDragEnd:k=>{!o.props.draggable||h.treeNodeDragEnd(k)},CaretRight:VH}}}),B3e=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],j3e=["aria-expanded"];function F3e(e,t,n,r,o,i){const a=_n("el-icon"),s=_n("el-checkbox"),f=_n("loading"),d=_n("node-content"),h=_n("el-tree-node"),v=_n("el-collapse-transition");return Gn((H(),le("div",{ref:"node$",class:Z([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[1]||(t[1]=Fn((...y)=>e.handleClick&&e.handleClick(...y),["stop"])),onContextmenu:t[2]||(t[2]=(...y)=>e.handleContextMenu&&e.handleContextMenu(...y)),onDragstart:t[3]||(t[3]=Fn((...y)=>e.handleDragStart&&e.handleDragStart(...y),["stop"])),onDragover:t[4]||(t[4]=Fn((...y)=>e.handleDragOver&&e.handleDragOver(...y),["stop"])),onDragend:t[5]||(t[5]=Fn((...y)=>e.handleDragEnd&&e.handleDragEnd(...y),["stop"])),onDrop:t[6]||(t[6]=Fn((...y)=>e.handleDrop&&e.handleDrop(...y),["stop"]))},[ve("div",{class:Z(e.ns.be("node","content")),style:gn({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(H(),et(a,{key:0,class:Z([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:Fn(e.handleExpandIconClick,["stop"])},{default:Be(()=>[(H(),et(mr(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):Ye("v-if",!0),e.showCheckbox?(H(),et(s,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=Fn(()=>{},["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):Ye("v-if",!0),e.node.loading?(H(),et(a,{key:2,class:Z([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:Be(()=>[Te(f)]),_:1},8,["class"])):Ye("v-if",!0),Te(d,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),Te(v,null,{default:Be(()=>[!e.renderAfterExpand||e.childNodeRendered?Gn((H(),le("div",{key:0,class:Z(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(H(!0),le(wn,null,_r(e.node.childNodes,y=>(H(),et(h,{key:e.getNodeKey(y),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:y,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,j3e)),[[Lr,e.expanded]]):Ye("v-if",!0)]),_:1})],42,B3e)),[[Lr,e.node.visible]])}var z3e=zt($3e,[["render",F3e],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function U3e({el$:e},t){const n=wt("tree"),r=bo([]),o=bo([]);ir(()=>{a()}),gu(()=>{r.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),At(o,s=>{s.forEach(f=>{f.setAttribute("tabindex","-1")})}),Eo(e,"keydown",s=>{const f=s.target;if(!f.className.includes(n.b("node")))return;const d=s.code;r.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));const h=r.value.indexOf(f);let v;if([Mn.up,Mn.down].includes(d)){if(s.preventDefault(),d===Mn.up){v=h===-1?0:h!==0?h-1:r.value.length-1;const m=v;for(;!t.value.getNode(r.value[v].dataset.key).canFocus;){if(v--,v===m){v=-1;break}v<0&&(v=r.value.length-1)}}else{v=h===-1?0:h<r.value.length-1?h+1:0;const m=v;for(;!t.value.getNode(r.value[v].dataset.key).canFocus;){if(v++,v===m){v=-1;break}v>=r.value.length&&(v=0)}}v!==-1&&r.value[v].focus()}[Mn.left,Mn.right].includes(d)&&(s.preventDefault(),f.click());const y=f.querySelector('[type="checkbox"]');[Mn.enter,Mn.space].includes(d)&&y&&(s.preventDefault(),y.click())});const a=()=>{var s;r.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const f=e.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(f.length){f[0].setAttribute("tabindex","0");return}(s=r.value[0])==null||s.setAttribute("tabindex","0")}}const V3e=St({name:"ElTree",components:{ElTreeNode:z3e},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:po}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:n}=Hr(),r=wt("tree"),o=re(new I3e({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));o.value.initialize();const i=re(o.value.root),a=re(null),s=re(null),f=re(null),{broadcastExpanded:d}=pW(e),{dragState:h}=L3e({props:e,ctx:t,el$:s,dropIndicator$:f,store:o});U3e({el$:s},o);const v=G(()=>{const{childNodes:K}=i.value;return!K||K.length===0||K.every(({visible:X})=>!X)});At(()=>e.currentNodeKey,K=>{o.value.setCurrentNodeKey(K)}),At(()=>e.defaultCheckedKeys,K=>{o.value.setDefaultCheckedKey(K)}),At(()=>e.defaultExpandedKeys,K=>{o.value.setDefaultExpandedKeys(K)}),At(()=>e.data,K=>{o.value.setData(K)},{deep:!0}),At(()=>e.checkStrictly,K=>{o.value.checkStrictly=K});const y=K=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");o.value.filter(K)},m=K=>zN(e.nodeKey,K.data),b=K=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const X=o.value.getNode(K);if(!X)return[];const W=[X.data];let ie=X.parent;for(;ie&&ie!==i.value;)W.push(ie.data),ie=ie.parent;return W.reverse()},S=(K,X)=>o.value.getCheckedNodes(K,X),O=K=>o.value.getCheckedKeys(K),_=()=>{const K=o.value.getCurrentNode();return K?K.data:null},A=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const K=_();return K?K[e.nodeKey]:null},T=(K,X)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");o.value.setCheckedNodes(K,X)},P=(K,X)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");o.value.setCheckedKeys(K,X)},x=(K,X,W)=>{o.value.setChecked(K,X,W)},N=()=>o.value.getHalfCheckedNodes(),L=()=>o.value.getHalfCheckedKeys(),j=(K,X=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");hx(o,t.emit,()=>o.value.setUserCurrentNode(K,X))},k=(K,X=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");hx(o,t.emit,()=>o.value.setCurrentNodeKey(K,X))},F=K=>o.value.getNode(K),z=K=>{o.value.remove(K)},M=(K,X)=>{o.value.append(K,X)},D=(K,X)=>{o.value.insertBefore(K,X)},B=(K,X)=>{o.value.insertAfter(K,X)},V=(K,X,W)=>{d(X),t.emit("node-expand",K,X,W)},Y=(K,X)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");o.value.updateChildren(K,X)};return Sr("RootTree",{ctx:t,props:e,store:o,root:i,currentNode:a,instance:cr()}),Sr(du,void 0),{ns:r,store:o,root:i,currentNode:a,dragState:h,el$:s,dropIndicator$:f,isEmpty:v,filter:y,getNodeKey:m,getNodePath:b,getCheckedNodes:S,getCheckedKeys:O,getCurrentNode:_,getCurrentKey:A,setCheckedNodes:T,setCheckedKeys:P,setChecked:x,getHalfCheckedNodes:N,getHalfCheckedKeys:L,setCurrentNode:j,setCurrentKey:k,t:n,getNode:F,remove:z,append:M,insertBefore:D,insertAfter:B,handleNodeExpand:V,updateKeyChildren:Y}}});function H3e(e,t,n,r,o,i){var a;const s=_n("el-tree-node");return H(),le("div",{ref:"el$",class:Z([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(H(!0),le(wn,null,_r(e.root.childNodes,f=>(H(),et(s,{key:e.getNodeKey(f),node:f,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(H(),le("div",{key:0,class:Z(e.ns.e("empty-block"))},[ve("span",{class:Z(e.ns.e("empty-text"))},Bt((a=e.emptyText)!=null?a:e.t("el.tree.emptyText")),3)],2)):Ye("v-if",!0),Gn(ve("div",{ref:"dropIndicator$",class:Z(e.ns.e("drop-indicator"))},null,2),[[Lr,e.dragState.showDropIndicator]])],2)}var Ww=zt(V3e,[["render",H3e],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);Ww.install=e=>{e.component(Ww.name,Ww)};const xO=Ww,G3e=xO,W3e=(e,{attrs:t},{tree:n,key:r})=>{const o=wt("tree-select"),i={...zf(mi(e),Object.keys(Fh.props)),...t,valueKey:r,popperClass:G(()=>{const a=[o.e("popper")];return e.popperClass&&a.push(e.popperClass),a.join(" ")}),filterMethod:(a="")=>{e.filterMethod&&e.filterMethod(a),bn(()=>{var s;(s=n.value)==null||s.filter(a)})},onVisibleChange:a=>{var s;(s=t.onVisibleChange)==null||s.call(t,a),e.filterable&&a&&i.filterMethod()}};return i},K3e=St({extends:SO,setup(e,t){const n=SO.setup(e,t);delete n.selectOptionClick;const r=cr().proxy;return bn(()=>{n.select.cachedOptions.get(r.value)||n.select.onOptionCreate(r)}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function vx(e){return e||e===0}function yW(e){return Array.isArray(e)&&e.length}function RA(e){return Array.isArray(e)?e:vx(e)?[e]:[]}function Kw(e,t,n,r,o){for(let i=0;i<e.length;i++){const a=e[i];if(t(a,i,e,o))return r?r(a,i,e,o):a;{const s=n(a);if(yW(s)){const f=Kw(s,t,n,r,a);if(f)return f}}}}const X3e=(e,{attrs:t,slots:n,emit:r},{select:o,tree:i,key:a})=>{At(()=>e.modelValue,()=>{e.showCheckbox&&bn(()=>{const h=i.value;h&&!Ns(h.getCheckedKeys(),RA(e.modelValue))&&h.setCheckedKeys(RA(e.modelValue))})},{immediate:!0,deep:!0});const s=G(()=>({value:a.value,...e.props})),f=(h,v)=>{var y;const m=s.value[h];return Wn(m)?m(v,(y=i.value)==null?void 0:y.getNode(f("value",v))):v[m]},d=RA(e.modelValue).map(h=>Kw(e.data||[],v=>f("value",v)===h,v=>f("children",v),(v,y,m,b)=>b&&f("value",b))).filter(h=>vx(h));return{...zf(mi(e),Object.keys(xO.props)),...t,nodeKey:a,expandOnClickNode:G(()=>!e.checkStrictly&&e.expandOnClickNode),defaultExpandedKeys:G(()=>e.defaultExpandedKeys?e.defaultExpandedKeys.concat(d):d),renderContent:(h,{node:v,data:y,store:m})=>h(K3e,{value:f("value",y),label:f("label",y),disabled:f("disabled",y)},e.renderContent?()=>e.renderContent(h,{node:v,data:y,store:m}):n.default?()=>n.default({node:v,data:y,store:m}):void 0),filterNodeMethod:(h,v,y)=>{var m;return e.filterNodeMethod?e.filterNodeMethod(h,v,y):h?(m=f("label",v))==null?void 0:m.includes(h):!0},onNodeClick:(h,v,y)=>{var m,b,S;if((m=t.onNodeClick)==null||m.call(t,h,v,y),!(e.showCheckbox&&e.checkOnClickNode))if(!e.showCheckbox&&(e.checkStrictly||v.isLeaf)){if(!f("disabled",h)){const O=(b=o.value)==null?void 0:b.options.get(f("value",h));(S=o.value)==null||S.handleOptionSelect(O,!0)}}else e.expandOnClickNode&&y.proxy.handleExpandIconClick()},onCheck:(h,v)=>{var y;(y=t.onCheck)==null||y.call(t,h,v);const m=f("value",h);if(e.checkStrictly)r(hr,e.multiple?v.checkedKeys:v.checkedKeys.includes(m)?m:void 0);else if(e.multiple)r(hr,i.value.getCheckedKeys(!0));else{const b=Kw([h],_=>!yW(f("children",_))&&!f("disabled",_),_=>f("children",_)),S=b?f("value",b):void 0,O=vx(e.modelValue)&&!!Kw([h],_=>f("value",_)===e.modelValue,_=>f("children",_));r(hr,S===e.modelValue||O?void 0:S)}}}},Y3e=St({name:"ElTreeSelect",inheritAttrs:!1,props:{...Fh.props,...xO.props},setup(e,t){const{slots:n,expose:r}=t,o=re(),i=re(),a=G(()=>e.nodeKey||e.valueKey||"value"),s=W3e(e,t,{select:o,tree:i,key:a}),f=X3e(e,t,{select:o,tree:i,key:a}),d=Xr({});return r(d),ir(()=>{Object.assign(d,{...zf(i.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...zf(o.value,["focus","blur"])})}),()=>Pn(Fh,Xr({...s,ref:h=>o.value=h}),{...n,default:()=>Pn(xO,Xr({...f,ref:h=>i.value=h}))})}});var Xw=zt(Y3e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-select/src/tree-select.vue"]]);Xw.install=e=>{e.component(Xw.name,Xw)};const Z3e=Xw,J3e=Z3e,UN=Symbol(),Q3e={key:-1,level:-1,data:{}};var Rg=(e=>(e.KEY="id",e.LABEL="label",e.CHILDREN="children",e.DISABLED="disabled",e))(Rg||{}),yx=(e=>(e.ADD="add",e.DELETE="delete",e))(yx||{});const q3e=Kt({data:{type:ot(Array),default:()=>_o([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:ot(Object),default:()=>_o({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:ot(Array),default:()=>_o([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:ot(Array),default:()=>_o([])},indent:{type:Number,default:16},icon:{type:po},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:ot([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:ot(Function)},perfMode:{type:Boolean,default:!0}}),e$e=Kt({node:{type:ot(Object),default:()=>_o(Q3e)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1}}),t$e=Kt({node:{type:ot(Object),required:!0}}),mW="node-click",gW="node-expand",bW="node-collapse",EW="current-change",SW="check",wW="check-change",OW="node-contextmenu",n$e={[mW]:(e,t,n)=>e&&t&&n,[gW]:(e,t)=>e&&t,[bW]:(e,t)=>e&&t,[EW]:(e,t)=>e&&t,[SW]:(e,t)=>e&&t,[wW]:(e,t)=>e&&typeof t=="boolean",[OW]:(e,t,n)=>e&&t&&n},r$e={click:(e,t)=>!!(e&&t),toggle:e=>!!e,check:(e,t)=>e&&typeof t=="boolean"};function o$e(e,t){const n=re(new Set),r=re(new Set),{emit:o}=cr();At([()=>t.value,()=>e.defaultCheckedKeys],()=>bn(()=>{A(e.defaultCheckedKeys)}),{immediate:!0});const i=()=>{if(!t.value||!e.showCheckbox||e.checkStrictly)return;const{levelTreeNodeMap:T,maxLevel:P}=t.value,x=n.value,N=new Set;for(let L=P-1;L>=1;--L){const j=T.get(L);!j||j.forEach(k=>{const F=k.children;if(F){let z=!0,M=!1;for(const D of F){const B=D.key;if(x.has(B))M=!0;else if(N.has(B)){z=!1,M=!0;break}else z=!1}z?x.add(k.key):M?(N.add(k.key),x.delete(k.key)):(x.delete(k.key),N.delete(k.key))}})}r.value=N},a=T=>n.value.has(T.key),s=T=>r.value.has(T.key),f=(T,P,x=!0)=>{const N=n.value,L=(j,k)=>{N[k?yx.ADD:yx.DELETE](j.key);const F=j.children;!e.checkStrictly&&F&&F.forEach(z=>{z.disabled||L(z,k)})};L(T,P),i(),x&&d(T,P)},d=(T,P)=>{const{checkedNodes:x,checkedKeys:N}=b(),{halfCheckedNodes:L,halfCheckedKeys:j}=S();o(SW,T.data,{checkedKeys:N,checkedNodes:x,halfCheckedKeys:j,halfCheckedNodes:L}),o(wW,T.data,P)};function h(T=!1){return b(T).checkedKeys}function v(T=!1){return b(T).checkedNodes}function y(){return S().halfCheckedKeys}function m(){return S().halfCheckedNodes}function b(T=!1){const P=[],x=[];if((t==null?void 0:t.value)&&e.showCheckbox){const{treeNodeMap:N}=t.value;n.value.forEach(L=>{const j=N.get(L);j&&(!T||T&&j.isLeaf)&&(x.push(L),P.push(j.data))})}return{checkedKeys:x,checkedNodes:P}}function S(){const T=[],P=[];if((t==null?void 0:t.value)&&e.showCheckbox){const{treeNodeMap:x}=t.value;r.value.forEach(N=>{const L=x.get(N);L&&(P.push(N),T.push(L.data))})}return{halfCheckedNodes:T,halfCheckedKeys:P}}function O(T){n.value.clear(),r.value.clear(),A(T)}function _(T,P){if((t==null?void 0:t.value)&&e.showCheckbox){const x=t.value.treeNodeMap.get(T);x&&f(x,P,!1)}}function A(T){if(t!=null&&t.value){const{treeNodeMap:P}=t.value;if(e.showCheckbox&&P&&T)for(const x of T){const N=P.get(x);N&&!a(N)&&f(N,!0,!1)}}}return{updateCheckedKeys:i,toggleCheckbox:f,isChecked:a,isIndeterminate:s,getCheckedKeys:h,getCheckedNodes:v,getHalfCheckedKeys:y,getHalfCheckedNodes:m,setChecked:_,setCheckedKeys:O}}function i$e(e,t){const n=re(new Set([])),r=re(new Set([])),o=G(()=>Wn(e.filterMethod));function i(s){var f;if(!o.value)return;const d=new Set,h=r.value,v=n.value,y=[],m=((f=t.value)==null?void 0:f.treeNodes)||[],b=e.filterMethod;v.clear();function S(O){O.forEach(_=>{y.push(_),b!=null&&b(s,_.data)?y.forEach(T=>{d.add(T.key)}):_.isLeaf&&v.add(_.key);const A=_.children;if(A&&S(A),!_.isLeaf){if(!d.has(_.key))v.add(_.key);else if(A){let T=!0;for(const P of A)if(!v.has(P.key)){T=!1;break}T?h.add(_.key):h.delete(_.key)}}y.pop()})}return S(m),d}function a(s){return r.value.has(s.key)}return{hiddenExpandIconKeySet:r,hiddenNodeKeySet:n,doFilter:i,isForceHiddenExpandIcon:a}}function a$e(e,t){const n=re(new Set(e.defaultExpandedKeys)),r=re(),o=bo();At(()=>e.currentNodeKey,he=>{r.value=he},{immediate:!0}),At(()=>e.data,he=>{Ie(he)},{immediate:!0});const{isIndeterminate:i,isChecked:a,toggleCheckbox:s,getCheckedKeys:f,getCheckedNodes:d,getHalfCheckedKeys:h,getHalfCheckedNodes:v,setChecked:y,setCheckedKeys:m}=o$e(e,o),{doFilter:b,hiddenNodeKeySet:S,isForceHiddenExpandIcon:O}=i$e(e,o),_=G(()=>{var he;return((he=e.props)==null?void 0:he.value)||Rg.KEY}),A=G(()=>{var he;return((he=e.props)==null?void 0:he.children)||Rg.CHILDREN}),T=G(()=>{var he;return((he=e.props)==null?void 0:he.disabled)||Rg.DISABLED}),P=G(()=>{var he;return((he=e.props)==null?void 0:he.label)||Rg.LABEL}),x=G(()=>{const he=n.value,te=S.value,ae=[],Ce=o.value&&o.value.treeNodes||[];function Ze(){const se=[];for(let de=Ce.length-1;de>=0;--de)se.push(Ce[de]);for(;se.length;){const de=se.pop();if(!!de&&(te.has(de.key)||ae.push(de),he.has(de.key))){const ze=de.children;if(ze){const lt=ze.length;for(let Re=lt-1;Re>=0;--Re)se.push(ze[Re])}}}}return Ze(),ae}),N=G(()=>x.value.length>0);function L(he){const te=new Map,ae=new Map;let Ce=1;function Ze(de,ze=1,lt=void 0){var Re;const qe=[];for(const pe of de){const Ue=F(pe),Ke={level:ze,key:Ue,data:pe};Ke.label=M(pe),Ke.parent=lt;const Ve=k(pe);Ke.disabled=z(pe),Ke.isLeaf=!Ve||Ve.length===0,Ve&&Ve.length&&(Ke.children=Ze(Ve,ze+1,Ke)),qe.push(Ke),te.set(Ue,Ke),ae.has(ze)||ae.set(ze,[]),(Re=ae.get(ze))==null||Re.push(Ke)}return ze>Ce&&(Ce=ze),qe}const se=Ze(he);return{treeNodeMap:te,levelTreeNodeMap:ae,maxLevel:Ce,treeNodes:se}}function j(he){const te=b(he);te&&(n.value=te)}function k(he){return he[A.value]}function F(he){return he?he[_.value]:""}function z(he){return he[T.value]}function M(he){return he[P.value]}function D(he){n.value.has(he.key)?W(he):X(he)}function B(he){n.value=new Set(he)}function V(he,te){t(mW,he.data,he,te),Y(he),e.expandOnClickNode&&D(he),e.showCheckbox&&e.checkOnClickNode&&!he.disabled&&s(he,!a(he),!0)}function Y(he){ee(he)||(r.value=he.key,t(EW,he.data,he))}function K(he,te){s(he,te)}function X(he){const te=n.value;if(o.value&&e.accordion){const{treeNodeMap:ae}=o.value;te.forEach(Ce=>{const Ze=ae.get(Ce);he&&he.level===Ze.level&&te.delete(Ce)})}te.add(he.key),t(gW,he.data,he)}function W(he){n.value.delete(he.key),t(bW,he.data,he)}function ie(he){return n.value.has(he.key)}function oe(he){return!!he.disabled}function ee(he){const te=r.value;return!!te&&te===he.key}function ue(){var he,te;if(!!r.value)return(te=(he=o.value)==null?void 0:he.treeNodeMap.get(r.value))==null?void 0:te.data}function Ne(){return r.value}function $e(he){r.value=he}function Ie(he){bn(()=>o.value=L(he))}function Le(he){var te;const ae=Er(he)?F(he):he;return(te=o.value)==null?void 0:te.treeNodeMap.get(ae)}return{tree:o,flattenTree:x,isNotEmpty:N,getKey:F,getChildren:k,toggleExpand:D,toggleCheckbox:s,isExpanded:ie,isChecked:a,isIndeterminate:i,isDisabled:oe,isCurrent:ee,isForceHiddenExpandIcon:O,handleNodeClick:V,handleNodeCheck:K,getCurrentNode:ue,getCurrentKey:Ne,setCurrentKey:$e,getCheckedKeys:f,getCheckedNodes:d,getHalfCheckedKeys:h,getHalfCheckedNodes:v,setChecked:y,setCheckedKeys:m,filter:j,setData:Ie,getNode:Le,expandNode:X,collapseNode:W,setExpandedKeys:B}}var s$e=St({name:"ElTreeNodeContent",props:t$e,setup(e){const t=Cn(UN),n=wt("tree");return()=>{const r=e.node,{data:o}=r;return t!=null&&t.ctx.slots.default?t.ctx.slots.default({node:r,data:o}):Pn("span",{class:n.be("node","label")},[r==null?void 0:r.label])}}});const l$e="caret-right",u$e=St({name:"ElTreeNode",components:{ElIcon:En,CaretRight:VH,ElCheckbox:Bs,ElNodeContent:s$e},props:e$e,emits:r$e,setup(e,{emit:t}){const n=Cn(UN),r=wt("tree"),o=G(()=>{var h;return(h=n==null?void 0:n.props.indent)!=null?h:16}),i=G(()=>{var h;return(h=n==null?void 0:n.props.icon)!=null?h:l$e});return{ns:r,indent:o,icon:i,handleClick:h=>{t("click",e.node,h)},handleExpandIconClick:()=>{t("toggle",e.node)},handleCheckChange:h=>{t("check",e.node,h)},handleContextMenu:h=>{var v,y,m,b;(m=(y=(v=n==null?void 0:n.instance)==null?void 0:v.vnode)==null?void 0:y.props)!=null&&m.onNodeContextmenu&&(h.stopPropagation(),h.preventDefault()),n==null||n.ctx.emit(OW,h,(b=e.node)==null?void 0:b.data,e.node)}}}}),c$e=["aria-expanded","aria-disabled","aria-checked","data-key"];function f$e(e,t,n,r,o,i){var a,s,f;const d=_n("el-icon"),h=_n("el-checkbox"),v=_n("el-node-content");return H(),le("div",{ref:"node$",class:Z([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.current),e.ns.is("focusable",!e.disabled),e.ns.is("checked",!e.disabled&&e.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.disabled,"aria-checked":e.checked,"data-key":(a=e.node)==null?void 0:a.key,onClick:t[1]||(t[1]=Fn((...y)=>e.handleClick&&e.handleClick(...y),["stop"])),onContextmenu:t[2]||(t[2]=(...y)=>e.handleContextMenu&&e.handleContextMenu(...y))},[ve("div",{class:Z(e.ns.be("node","content")),style:gn({paddingLeft:`${(e.node.level-1)*e.indent}px`})},[e.icon?(H(),et(d,{key:0,class:Z([e.ns.is("leaf",!!((s=e.node)!=null&&s.isLeaf)),e.ns.is("hidden",e.hiddenExpandIcon),{expanded:!((f=e.node)!=null&&f.isLeaf)&&e.expanded},e.ns.be("node","expand-icon")]),onClick:Fn(e.handleExpandIconClick,["stop"])},{default:Be(()=>[(H(),et(mr(e.icon)))]),_:1},8,["class","onClick"])):Ye("v-if",!0),e.showCheckbox?(H(),et(h,{key:1,"model-value":e.checked,indeterminate:e.indeterminate,disabled:e.disabled,onChange:e.handleCheckChange,onClick:t[0]||(t[0]=Fn(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled","onChange"])):Ye("v-if",!0),Te(v,{node:e.node},null,8,["node"])],6)],42,c$e)}var d$e=zt(u$e,[["render",f$e],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree-node.vue"]]);const h$e=St({name:"ElTreeV2",components:{ElTreeNode:d$e,FixedSizeList:k9},props:q3e,emits:n$e,setup(e,t){Sr(UN,{ctx:t,props:e,instance:cr()}),Sr(du,void 0);const{t:n}=Hr(),r=wt("tree"),{flattenTree:o,isNotEmpty:i,toggleExpand:a,isExpanded:s,isIndeterminate:f,isChecked:d,isDisabled:h,isCurrent:v,isForceHiddenExpandIcon:y,toggleCheckbox:m,handleNodeClick:b,handleNodeCheck:S,getCurrentNode:O,getCurrentKey:_,setCurrentKey:A,getCheckedKeys:T,getCheckedNodes:P,getHalfCheckedKeys:x,getHalfCheckedNodes:N,setChecked:L,setCheckedKeys:j,filter:k,setData:F,getNode:z,expandNode:M,collapseNode:D,setExpandedKeys:B}=a$e(e,t.emit);return t.expose({getCurrentNode:O,getCurrentKey:_,setCurrentKey:A,getCheckedKeys:T,getCheckedNodes:P,getHalfCheckedKeys:x,getHalfCheckedNodes:N,setChecked:L,setCheckedKeys:j,filter:k,setData:F,getNode:z,expandNode:M,collapseNode:D,setExpandedKeys:B}),{t:n,ns:r,flattenTree:o,itemSize:26,isNotEmpty:i,toggleExpand:a,toggleCheckbox:m,isExpanded:s,isIndeterminate:f,isChecked:d,isDisabled:h,isCurrent:v,isForceHiddenExpandIcon:y,handleNodeClick:b,handleNodeCheck:S}}});function p$e(e,t,n,r,o,i){var a;const s=_n("el-tree-node"),f=_n("fixed-size-list");return H(),le("div",{class:Z([e.ns.b(),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[e.isNotEmpty?(H(),et(f,{key:0,"class-name":e.ns.b("virtual-list"),data:e.flattenTree,total:e.flattenTree.length,height:e.height,"item-size":e.itemSize,"perf-mode":e.perfMode},{default:Be(({data:d,index:h,style:v})=>[(H(),et(s,{key:d[h].key,style:gn(v),node:d[h],expanded:e.isExpanded(d[h]),"show-checkbox":e.showCheckbox,checked:e.isChecked(d[h]),indeterminate:e.isIndeterminate(d[h]),disabled:e.isDisabled(d[h]),current:e.isCurrent(d[h]),"hidden-expand-icon":e.isForceHiddenExpandIcon(d[h]),onClick:e.handleNodeClick,onToggle:e.toggleExpand,onCheck:e.handleNodeCheck},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(H(),le("div",{key:1,class:Z(e.ns.e("empty-block"))},[ve("span",{class:Z(e.ns.e("empty-text"))},Bt((a=e.emptyText)!=null?a:e.t("el.tree.emptyText")),3)],2))],2)}var v$e=zt(h$e,[["render",p$e],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree.vue"]]);const y$e=fr(v$e),m$e="ElUpload";class g$e extends Error{constructor(t,n,r,o){super(t),this.name="UploadAjaxError",this.status=n,this.method=r,this.url=o}}function RB(e,t,n){let r;return n.response?r=`${n.response.error||n.response}`:n.responseText?r=`${n.responseText}`:r=`fail to ${t.method} ${e} ${n.status}`,new g$e(r,n.status,t.method,e)}function b$e(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}const E$e=e=>{typeof XMLHttpRequest>"u"&&gi(m$e,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,n=e.action;t.upload&&t.upload.addEventListener("progress",i=>{const a=i;a.percent=i.total>0?i.loaded/i.total*100:0,e.onProgress(a)});const r=new FormData;if(e.data)for(const[i,a]of Object.entries(e.data))Array.isArray(a)?r.append(i,...a):r.append(i,a);r.append(e.filename,e.file,e.file.name),t.addEventListener("error",()=>{e.onError(RB(n,e,t))}),t.addEventListener("load",()=>{if(t.status<200||t.status>=300)return e.onError(RB(n,e,t));e.onSuccess(b$e(t))}),t.open(e.method,n,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const o=e.headers||{};if(o instanceof Headers)o.forEach((i,a)=>t.setRequestHeader(a,i));else for(const[i,a]of Object.entries(o))$a(a)||t.setRequestHeader(i,String(a));return t.send(r),t},_W=["text","picture","picture-card"];let S$e=1;const TW=()=>Date.now()+S$e++,CW=Kt({action:{type:String,default:"#"},headers:{type:ot(Object)},method:{type:String,default:"post"},data:{type:Object,default:()=>_o({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},fileList:{type:ot(Array),default:()=>_o([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:_W,default:"text"},httpRequest:{type:ot(Function),default:E$e},disabled:Boolean,limit:Number}),w$e=Kt({...CW,beforeUpload:{type:ot(Function),default:to},beforeRemove:{type:ot(Function)},onRemove:{type:ot(Function),default:to},onChange:{type:ot(Function),default:to},onPreview:{type:ot(Function),default:to},onSuccess:{type:ot(Function),default:to},onProgress:{type:ot(Function),default:to},onError:{type:ot(Function),default:to},onExceed:{type:ot(Function),default:to}}),O$e=Kt({files:{type:ot(Array),default:()=>_o([])},disabled:{type:Boolean,default:!1},handlePreview:{type:ot(Function),default:to},listType:{type:String,values:_W,default:"text"}}),_$e={remove:e=>!!e},T$e=["onKeydown"],C$e=["src"],A$e=["onClick"],P$e=["onClick"],x$e=["onClick"],M$e={name:"ElUploadList"},N$e=St({...M$e,props:O$e,emits:_$e,setup(e,{emit:t}){const{t:n}=Hr(),r=wt("upload"),o=wt("icon"),i=wt("list"),a=re(!1),s=f=>{t("remove",f)};return(f,d)=>(H(),et(Xle,{tag:"ul",class:Z([E(r).b("list"),E(r).bm("list",f.listType),E(r).is("disabled",f.disabled)]),name:E(i).b()},{default:Be(()=>[(H(!0),le(wn,null,_r(f.files,h=>(H(),le("li",{key:h.uid||h.name,class:Z([E(r).be("list","item"),E(r).is(h.status),{focusing:a.value}]),tabindex:"0",onKeydown:kr(v=>!f.disabled&&s(h),["delete"]),onFocus:d[0]||(d[0]=v=>a.value=!0),onBlur:d[1]||(d[1]=v=>a.value=!1),onClick:d[2]||(d[2]=v=>a.value=!1)},[bt(f.$slots,"default",{file:h},()=>[f.listType==="picture"||h.status!=="uploading"&&f.listType==="picture-card"?(H(),le("img",{key:0,class:Z(E(r).be("list","item-thumbnail")),src:h.url,alt:""},null,10,C$e)):Ye("v-if",!0),h.status==="uploading"||f.listType!=="picture-card"?(H(),le("div",{key:1,class:Z(E(r).be("list","item-info"))},[ve("a",{class:Z(E(r).be("list","item-name")),onClick:Fn(v=>f.handlePreview(h),["prevent"])},[Te(E(En),{class:Z(E(o).m("document"))},{default:Be(()=>[Te(E(bme))]),_:1},8,["class"]),ve("span",{class:Z(E(r).be("list","item-file-name"))},Bt(h.name),3)],10,A$e),h.status==="uploading"?(H(),et(E(C9),{key:0,type:f.listType==="picture-card"?"circle":"line","stroke-width":f.listType==="picture-card"?6:2,percentage:Number(h.percentage),style:gn(f.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):Ye("v-if",!0)],2)):Ye("v-if",!0),ve("label",{class:Z(E(r).be("list","item-status-label"))},[f.listType==="text"?(H(),et(E(En),{key:0,class:Z([E(o).m("upload-success"),E(o).m("circle-check")])},{default:Be(()=>[Te(E(zM))]),_:1},8,["class"])):["picture-card","picture"].includes(f.listType)?(H(),et(E(En),{key:1,class:Z([E(o).m("upload-success"),E(o).m("check")])},{default:Be(()=>[Te(E(Xb))]),_:1},8,["class"])):Ye("v-if",!0)],2),f.disabled?Ye("v-if",!0):(H(),et(E(En),{key:2,class:Z(E(o).m("close")),onClick:v=>s(h)},{default:Be(()=>[Te(E(ml))]),_:2},1032,["class","onClick"])),Ye(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),Ye(" This is a bug which needs to be fixed "),Ye(" TODO: Fix the incorrect navigation interaction "),f.disabled?Ye("v-if",!0):(H(),le("i",{key:3,class:Z(E(o).m("close-tip"))},Bt(E(n)("el.upload.deleteTip")),3)),f.listType==="picture-card"?(H(),le("span",{key:4,class:Z(E(r).be("list","item-actions"))},[ve("span",{class:Z(E(r).be("list","item-preview")),onClick:v=>f.handlePreview(h)},[Te(E(En),{class:Z(E(o).m("zoom-in"))},{default:Be(()=>[Te(E(KH))]),_:1},8,["class"])],10,P$e),f.disabled?Ye("v-if",!0):(H(),le("span",{key:0,class:Z(E(r).be("list","item-delete")),onClick:v=>s(h)},[Te(E(En),{class:Z(E(o).m("delete"))},{default:Be(()=>[Te(E(hme))]),_:1},8,["class"])],10,x$e))],2)):Ye("v-if",!0)])],42,T$e))),128)),bt(f.$slots,"append")]),_:3},8,["class","name"]))}});var IB=zt(N$e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const R$e=Kt({disabled:{type:Boolean,default:!1}}),I$e={file:e=>Sn(e)},D$e=["onDrop","onDragover"],k$e={name:"ElUploadDrag"},L$e=St({...k$e,props:R$e,emits:I$e,setup(e,{emit:t}){const n=e,r="ElUploadDrag",o=Cn(uG);o||gi(r,"usage: <el-upload><el-upload-dragger /></el-upload>");const i=wt("upload"),a=re(!1),s=d=>{if(n.disabled)return;a.value=!1;const h=Array.from(d.dataTransfer.files),v=o.accept.value;if(!v){t("file",h);return}const y=h.filter(m=>{const{type:b,name:S}=m,O=S.includes(".")?`.${S.split(".").pop()}`:"",_=b.replace(/\/.*$/,"");return v.split(",").map(A=>A.trim()).filter(A=>A).some(A=>A.startsWith(".")?O===A:/\/\*$/.test(A)?_===A.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(A)?b===A:!1)});t("file",y)},f=()=>{n.disabled||(a.value=!0)};return(d,h)=>(H(),le("div",{class:Z([E(i).b("dragger"),E(i).is("dragover",a.value)]),onDrop:Fn(s,["prevent"]),onDragover:Fn(f,["prevent"]),onDragleave:h[0]||(h[0]=Fn(v=>a.value=!1,["prevent"]))},[bt(d.$slots,"default")],42,D$e))}});var $$e=zt(L$e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const B$e=Kt({...CW,beforeUpload:{type:ot(Function),default:to},onRemove:{type:ot(Function),default:to},onStart:{type:ot(Function),default:to},onSuccess:{type:ot(Function),default:to},onProgress:{type:ot(Function),default:to},onError:{type:ot(Function),default:to},onExceed:{type:ot(Function),default:to}}),j$e=["onKeydown"],F$e=["name","multiple","accept"],z$e={name:"ElUploadContent",inheritAttrs:!1},U$e=St({...z$e,props:B$e,setup(e,{expose:t}){const n=e,r=wt("upload"),o=bo({}),i=bo(),a=m=>{if(m.length===0)return;const{autoUpload:b,limit:S,fileList:O,multiple:_,onStart:A,onExceed:T}=n;if(S&&O.length+m.length>S){T(m,O);return}_||(m=m.slice(0,1));for(const P of m){const x=P;x.uid=TW(),A(x),b&&s(x)}},s=async m=>{if(i.value.value="",!n.beforeUpload)return f(m);let b;try{b=await n.beforeUpload(m)}catch{b=!1}if(b===!1){n.onRemove(m);return}let S=m;b instanceof Blob&&(b instanceof File?S=b:S=new File([b],m.name,{type:m.type})),f(Object.assign(S,{uid:m.uid}))},f=m=>{const{headers:b,data:S,method:O,withCredentials:_,name:A,action:T,onProgress:P,onSuccess:x,onError:N,httpRequest:L}=n,{uid:j}=m,k={headers:b||{},withCredentials:_,file:m,data:S,method:O,filename:A,action:T,onProgress:z=>{P(z,m)},onSuccess:z=>{x(z,m),delete o.value[j]},onError:z=>{N(z,m),delete o.value[j]}},F=L(k);o.value[j]=F,F instanceof Promise&&F.then(k.onSuccess,k.onError)},d=m=>{const b=m.target.files;!b||a(Array.from(b))},h=()=>{n.disabled||(i.value.value="",i.value.click())},v=()=>{h()};return t({abort:m=>{bve(o.value).filter(m?([S])=>String(m.uid)===S:()=>!0).forEach(([S,O])=>{O instanceof XMLHttpRequest&&O.abort(),delete o.value[S]})},upload:s}),(m,b)=>(H(),le("div",{class:Z([E(r).b(),E(r).m(m.listType),E(r).is("drag",m.drag)]),tabindex:"0",onClick:h,onKeydown:kr(Fn(v,["self"]),["enter","space"])},[m.drag?(H(),et($$e,{key:0,disabled:m.disabled,onFile:a},{default:Be(()=>[bt(m.$slots,"default")]),_:3},8,["disabled"])):bt(m.$slots,"default",{key:1}),ve("input",{ref_key:"inputRef",ref:i,class:Z(E(r).e("input")),name:m.name,multiple:m.multiple,accept:m.accept,type:"file",onChange:d,onClick:b[0]||(b[0]=Fn(()=>{},["stop"]))},null,42,F$e)],42,j$e))}});var DB=zt(U$e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const kB="ElUpload",V$e=e=>{var t;(t=e.url)!=null&&t.startsWith("blob:")&&URL.revokeObjectURL(e.url)},H$e=(e,t)=>{const n=dve(e,"fileList",void 0,{passive:!0}),r=y=>n.value.find(m=>m.uid===y.uid);function o(y){var m;(m=t.value)==null||m.abort(y)}function i(y=["ready","uploading","success","fail"]){n.value=n.value.filter(m=>!y.includes(m.status))}const a=(y,m)=>{const b=r(m);!b||(console.error(y),b.status="fail",n.value.splice(n.value.indexOf(b),1),e.onError(y,b,n.value),e.onChange(b,n.value))},s=(y,m)=>{const b=r(m);!b||(e.onProgress(y,b,n.value),b.status="uploading",b.percentage=Math.round(y.percent))},f=(y,m)=>{const b=r(m);!b||(b.status="success",b.response=y,e.onSuccess(y,b,n.value),e.onChange(b,n.value))},d=y=>{const m={name:y.name,percentage:0,status:"ready",size:y.size,raw:y,uid:y.uid};if(e.listType==="picture-card"||e.listType==="picture")try{m.url=URL.createObjectURL(y)}catch(b){b.message,e.onError(b,m,n.value)}n.value=[...n.value,m],e.onChange(m,n.value)},h=async y=>{const m=y instanceof File?r(y):y;m||gi(kB,"file to be removed not found");const b=S=>{o(S);const O=n.value;O.splice(O.indexOf(S),1),e.onRemove(S,O),V$e(S)};e.beforeRemove?await e.beforeRemove(m,n.value)!==!1&&b(m):b(m)};function v(){n.value.filter(({status:y})=>y==="ready").forEach(({raw:y})=>{var m;return y&&((m=t.value)==null?void 0:m.upload(y))})}return At(()=>e.listType,y=>{y!=="picture-card"&&y!=="picture"||(n.value=n.value.map(m=>{const{raw:b,url:S}=m;if(!S&&b)try{m.url=URL.createObjectURL(b)}catch(O){e.onError(O,m,n.value)}return m}))}),At(n,y=>{for(const m of y)m.uid||(m.uid=TW()),m.status||(m.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:o,clearFiles:i,handleError:a,handleProgress:s,handleStart:d,handleSuccess:f,handleRemove:h,submit:v}},G$e={name:"ElUpload"},W$e=St({...G$e,props:w$e,setup(e,{expose:t}){const n=e,r=Gi(),o=Ac(),i=bo(),{abort:a,submit:s,clearFiles:f,uploadFiles:d,handleStart:h,handleError:v,handleRemove:y,handleSuccess:m,handleProgress:b}=H$e(n,i),S=G(()=>n.listType==="picture-card"),O=G(()=>({...n,fileList:d.value,onStart:h,onProgress:b,onSuccess:m,onError:v,onRemove:y}));return Go(()=>{d.value.forEach(({url:_})=>{_!=null&&_.startsWith("blob:")&&URL.revokeObjectURL(_)})}),Sr(uG,{accept:Do(n,"accept")}),t({abort:a,submit:s,clearFiles:f,handleStart:h,handleRemove:y}),(_,A)=>(H(),le("div",null,[E(S)&&_.showFileList?(H(),et(IB,{key:0,disabled:E(o),"list-type":_.listType,files:E(d),"handle-preview":_.onPreview,onRemove:E(y)},Yf({append:Be(()=>[Te(DB,br({ref_key:"uploadRef",ref:i},E(O)),{default:Be(()=>[E(r).trigger?bt(_.$slots,"trigger",{key:0}):Ye("v-if",!0),!E(r).trigger&&E(r).default?bt(_.$slots,"default",{key:1}):Ye("v-if",!0)]),_:3},16)]),_:2},[_.$slots.file?{name:"default",fn:Be(({file:T})=>[bt(_.$slots,"file",{file:T})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):Ye("v-if",!0),!E(S)||E(S)&&!_.showFileList?(H(),et(DB,br({key:1,ref_key:"uploadRef",ref:i},E(O)),{default:Be(()=>[E(r).trigger?bt(_.$slots,"trigger",{key:0}):Ye("v-if",!0),!E(r).trigger&&E(r).default?bt(_.$slots,"default",{key:1}):Ye("v-if",!0)]),_:3},16)):Ye("v-if",!0),_.$slots.trigger?bt(_.$slots,"default",{key:2}):Ye("v-if",!0),bt(_.$slots,"tip"),!E(S)&&_.showFileList?(H(),et(IB,{key:3,disabled:E(o),"list-type":_.listType,files:E(d),"handle-preview":_.onPreview,onRemove:E(y)},Yf({_:2},[_.$slots.file?{name:"default",fn:Be(({file:T})=>[bt(_.$slots,"file",{file:T})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):Ye("v-if",!0)]))}});var K$e=zt(W$e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const X$e=fr(K$e);var Y$e=[oEe,vEe,jSe,yLe,WSe,qSe,YG,dwe,hwe,ra,e7,_Oe,xOe,zOe,UOe,oTe,V_e,cTe,Bs,u_e,P7,vTe,MTe,NTe,OTe,tCe,oCe,yCe,mCe,gCe,bCe,ECe,A2e,$2e,B2e,Q2e,i9,dAe,rPe,oPe,iPe,p9,xxe,Mxe,En,Hxe,m9,na,g9,oMe,_Me,TMe,CMe,IMe,kNe,FNe,XNe,XG,C9,D7,T_e,__e,fRe,yRe,ORe,Mc,Fh,SO,lNe,hIe,SIe,wIe,QIe,rDe,dDe,hDe,TDe,Nke,Rke,vLe,NLe,RLe,M_,lOe,BLe,VLe,HLe,Ua,y3e,N3e,G3e,J3e,y$e,X$e];const ul="ElInfiniteScroll",Z$e=50,J$e=200,Q$e=0,q$e={delay:{type:Number,default:J$e},distance:{type:Number,default:Q$e},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},VN=(e,t)=>Object.entries(q$e).reduce((n,[r,o])=>{var i,a;const{type:s,default:f}=o,d=e.getAttribute(`infinite-scroll-${r}`);let h=(a=(i=t[d])!=null?i:d)!=null?a:f;return h=h==="false"?!1:h,h=s(h),n[r]=Number.isNaN(h)?f:h,n},{}),AW=e=>{const{observer:t}=e[ul];t&&(t.disconnect(),delete e[ul].observer)},e4e=(e,t)=>{const{container:n,containerEl:r,instance:o,observer:i,lastScrollTop:a}=e[ul],{disabled:s,distance:f}=VN(e,o),{clientHeight:d,scrollHeight:h,scrollTop:v}=r,y=v-a;if(e[ul].lastScrollTop=v,i||s||y<0)return;let m=!1;if(n===e)m=h-(d+v)<=f;else{const{clientTop:b,scrollHeight:S}=e,O=yve(e,r);m=v+d>=O+b+S-f}m&&t.call(o)};function IA(e,t){const{containerEl:n,instance:r}=e[ul],{disabled:o}=VN(e,r);o||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?t.call(r):AW(e))}const t4e={async mounted(e,t){const{instance:n,value:r}=t;Wn(r)||gi(ul,"'v-infinite-scroll' binding value must be a function"),await bn();const{delay:o,immediate:i}=VN(e,n),a=FM(e,!0),s=a===window?document.documentElement:a,f=xh(e4e.bind(null,e,r),o);if(!!a){if(e[ul]={instance:n,container:a,containerEl:s,delay:o,cb:r,onScroll:f,lastScrollTop:s.scrollTop},i){const d=new MutationObserver(xh(IA.bind(null,e,r),Z$e));e[ul].observer=d,d.observe(e,{childList:!0,subtree:!0}),IA(e,r)}a.addEventListener("scroll",f)}},unmounted(e){const{container:t,onScroll:n}=e[ul];t==null||t.removeEventListener("scroll",n),AW(e)},async updated(e){e[ul]||await bn();const{containerEl:t,cb:n,observer:r}=e[ul];t.clientHeight&&r&&IA(e,n)}},mx=t4e;mx.install=e=>{e.directive("InfiniteScroll",mx)};const n4e=mx;function r4e(e){let t;const n=wt("loading"),r=re(!1),o=Xr({...e,originalPosition:"",originalOverflow:"",visible:!1});function i(m){o.text=m}function a(){const m=o.parent;if(!m.vLoadingAddClassList){let b=m.getAttribute("loading-number");b=Number.parseInt(b)-1,b?m.setAttribute("loading-number",b.toString()):(Ba(m,n.bm("parent","relative")),m.removeAttribute("loading-number")),Ba(m,n.bm("parent","hidden"))}s(),v.unmount()}function s(){var m,b;(b=(m=y.$el)==null?void 0:m.parentNode)==null||b.removeChild(y.$el)}function f(){var m;e.beforeClose&&!e.beforeClose()||(r.value=!0,clearTimeout(t),t=window.setTimeout(d,400),o.visible=!1,(m=e.closed)==null||m.call(e))}function d(){if(!r.value)return;const m=o.parent;r.value=!1,m.vLoadingAddClassList=void 0,a()}const v=Wb({name:"ElLoading",setup(){return()=>{const m=o.spinner||o.svg,b=Pn("svg",{class:"circular",viewBox:o.svgViewBox?o.svgViewBox:"25 25 50 50",...m?{innerHTML:m}:{}},[Pn("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none"})]),S=o.text?Pn("p",{class:n.b("text")},[o.text]):void 0;return Pn(ti,{name:n.b("fade"),onAfterLeave:d},{default:Be(()=>[Gn(Te("div",{style:{backgroundColor:o.background||""},class:[n.b("mask"),o.customClass,o.fullscreen?"is-fullscreen":""]},[Pn("div",{class:n.b("spinner")},[b,S])]),[[Lr,o.visible]])])})}}}),y=v.mount(document.createElement("div"));return{...mi(o),setText:i,removeElLoadingChild:s,close:f,handleAfterLeave:d,vm:y,get $el(){return y.$el}}}let XS;const gx=function(e={}){if(!Rr)return;const t=o4e(e);if(t.fullscreen&&XS)return XS;const n=r4e({...t,closed:()=>{var o;(o=t.closed)==null||o.call(t),t.fullscreen&&(XS=void 0)}});i4e(t,t.parent,n),LB(t,t.parent,n),t.parent.vLoadingAddClassList=()=>LB(t,t.parent,n);let r=t.parent.getAttribute("loading-number");return r?r=`${Number.parseInt(r)+1}`:r="1",t.parent.setAttribute("loading-number",r),t.parent.appendChild(n.$el),bn(()=>n.visible.value=t.visible),t.fullscreen&&(XS=n),n},o4e=e=>{var t,n,r,o;let i;return Kn(e.target)?i=(t=document.querySelector(e.target))!=null?t:document.body:i=e.target||document.body,{parent:i===document.body||e.body?document.body:i,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:i===document.body&&((n=e.fullscreen)!=null?n:!0),lock:(r=e.lock)!=null?r:!1,customClass:e.customClass||"",visible:(o=e.visible)!=null?o:!0,target:i}},i4e=async(e,t,n)=>{const{nextZIndex:r}=Pc(),o={};if(e.fullscreen)n.originalPosition.value=lc(document.body,"position"),n.originalOverflow.value=lc(document.body,"overflow"),o.zIndex=r();else if(e.parent===document.body){n.originalPosition.value=lc(document.body,"position"),await bn();for(const i of["top","left"]){const a=i==="top"?"scrollTop":"scrollLeft";o[i]=`${e.target.getBoundingClientRect()[i]+document.body[a]+document.documentElement[a]-Number.parseInt(lc(document.body,`margin-${i}`),10)}px`}for(const i of["height","width"])o[i]=`${e.target.getBoundingClientRect()[i]}px`}else n.originalPosition.value=lc(t,"position");for(const[i,a]of Object.entries(o))n.$el.style[i]=a},LB=(e,t,n)=>{const r=wt("loading");["absolute","fixed","sticky"].includes(n.originalPosition.value)?Ba(t,r.bm("parent","relative")):su(t,r.bm("parent","relative")),e.fullscreen&&e.lock?su(t,r.bm("parent","hidden")):Ba(t,r.bm("parent","hidden"))},bx=Symbol("ElLoading"),$B=(e,t)=>{var n,r,o,i;const a=t.instance,s=y=>Er(t.value)?t.value[y]:void 0,f=y=>{const m=Kn(y)&&(a==null?void 0:a[y])||y;return m&&re(m)},d=y=>f(s(y)||e.getAttribute(`element-loading-${rd(y)}`)),h=(n=s("fullscreen"))!=null?n:t.modifiers.fullscreen,v={text:d("text"),svg:d("svg"),svgViewBox:d("svgViewBox"),spinner:d("spinner"),background:d("background"),customClass:d("customClass"),fullscreen:h,target:(r=s("target"))!=null?r:h?void 0:e,body:(o=s("body"))!=null?o:t.modifiers.body,lock:(i=s("lock"))!=null?i:t.modifiers.lock};e[bx]={options:v,instance:gx(v)}},a4e=(e,t)=>{for(const n of Object.keys(t))uo(t[n])&&(t[n].value=e[n])},BB={mounted(e,t){t.value&&$B(e,t)},updated(e,t){const n=e[bx];t.oldValue!==t.value&&(t.value&&!t.oldValue?$B(e,t):t.value&&t.oldValue?Er(t.value)&&a4e(t.value,n.options):n==null||n.instance.close())},unmounted(e){var t;(t=e[bx])==null||t.instance.close()}},s4e={install(e){e.directive("loading",BB),e.config.globalProperties.$loading=gx},directive:BB,service:gx},PW=["success","info","warning","error"],Ia=_o({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Rr?document.body:void 0}),l4e=Kt({customClass:{type:String,default:Ia.customClass},center:{type:Boolean,default:Ia.center},dangerouslyUseHTMLString:{type:Boolean,default:Ia.dangerouslyUseHTMLString},duration:{type:Number,default:Ia.duration},icon:{type:po,default:Ia.icon},id:{type:String,default:Ia.id},message:{type:ot([String,Object,Function]),default:Ia.message},onClose:{type:ot(Function),required:!1},showClose:{type:Boolean,default:Ia.showClose},type:{type:String,values:PW,default:Ia.type},offset:{type:Number,default:Ia.offset},zIndex:{type:Number,default:Ia.zIndex},grouping:{type:Boolean,default:Ia.grouping},repeatNum:{type:Number,default:Ia.repeatNum}}),u4e={destroy:()=>!0},uu=hV([]),c4e=e=>{const t=uu.findIndex(o=>o.id===e),n=uu[t];let r;return t>0&&(r=uu[t-1]),{current:n,prev:r}},f4e=e=>{const{prev:t}=c4e(e);return t?t.vm.exposed.bottom.value:0},d4e=["id"],h4e=["innerHTML"],p4e={name:"ElMessage"},v4e=St({...p4e,props:l4e,emits:u4e,setup(e,{expose:t}){const n=e,{Close:r}=HM,o=wt("message"),i=re(),a=re(!1),s=re(0);let f;const d=G(()=>n.type?n.type==="error"?"danger":n.type:"info"),h=G(()=>{const P=n.type;return{[o.bm("icon",P)]:P&&Jf[P]}}),v=G(()=>n.icon||Jf[n.type]||""),y=G(()=>f4e(n.id)),m=G(()=>n.offset+y.value),b=G(()=>s.value+m.value),S=G(()=>({top:`${m.value}px`,zIndex:n.zIndex}));function O(){n.duration!==0&&({stop:f}=$h(()=>{A()},n.duration))}function _(){f==null||f()}function A(){a.value=!1}function T({code:P}){P===Mn.esc&&A()}return ir(()=>{O(),a.value=!0}),At(()=>n.repeatNum,()=>{_(),O()}),Eo(document,"keydown",T),oa(i,()=>{s.value=i.value.getBoundingClientRect().height}),t({visible:a,bottom:b,close:A}),(P,x)=>(H(),et(ti,{name:E(o).b("fade"),onBeforeLeave:P.onClose,onAfterLeave:x[0]||(x[0]=N=>P.$emit("destroy")),persisted:""},{default:Be(()=>[Gn(ve("div",{id:P.id,ref_key:"messageRef",ref:i,class:Z([E(o).b(),{[E(o).m(P.type)]:P.type&&!P.icon},E(o).is("center",P.center),E(o).is("closable",P.showClose),P.customClass]),style:gn(E(S)),role:"alert",onMouseenter:_,onMouseleave:O},[P.repeatNum>1?(H(),et(E(YG),{key:0,value:P.repeatNum,type:E(d),class:Z(E(o).e("badge"))},null,8,["value","type","class"])):Ye("v-if",!0),E(v)?(H(),et(E(En),{key:1,class:Z([E(o).e("icon"),E(h)])},{default:Be(()=>[(H(),et(mr(E(v))))]),_:1},8,["class"])):Ye("v-if",!0),bt(P.$slots,"default",{},()=>[P.dangerouslyUseHTMLString?(H(),le(wn,{key:1},[Ye(" Caution here, message could've been compromised, never use user's input as message "),ve("p",{class:Z(E(o).e("content")),innerHTML:P.message},null,10,h4e)],2112)):(H(),le("p",{key:0,class:Z(E(o).e("content"))},Bt(P.message),3))]),P.showClose?(H(),et(E(En),{key:2,class:Z(E(o).e("closeBtn")),onClick:Fn(A,["stop"])},{default:Be(()=>[Te(E(r))]),_:1},8,["class","onClick"])):Ye("v-if",!0)],46,d4e),[[Lr,a.value]])]),_:3},8,["name","onBeforeLeave"]))}});var y4e=zt(v4e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let m4e=1;const xW=e=>{const t=!e||Kn(e)||Ho(e)||Wn(e)?{message:e}:e,n={...Ia,...t};if(!n.appendTo)n.appendTo=document.body;else if(Kn(n.appendTo)){let r=document.querySelector(n.appendTo);gc(r)||(r=document.body),n.appendTo=r}return n},g4e=e=>{const t=uu.indexOf(e);if(t===-1)return;uu.splice(t,1);const{handler:n}=e;n.close()},b4e=({appendTo:e,...t},n)=>{const{nextZIndex:r}=Pc(),o=`message_${m4e++}`,i=t.onClose,a=document.createElement("div"),s={...t,zIndex:r()+t.zIndex,id:o,onClose:()=>{i==null||i(),g4e(v)},onDestroy:()=>{ly(null,a)}},f=Te(y4e,s,Wn(s.message)||Ho(s.message)?{default:Wn(s.message)?s.message:()=>s.message}:null);f.appContext=n||wy._context,ly(f,a),e.appendChild(a.firstElementChild);const d=f.component,v={id:o,vnode:f,vm:d,handler:{close:()=>{d.exposed.visible.value=!1}},props:f.component.props};return v},wy=(e={},t)=>{if(!Rr)return{close:()=>{}};if(Jn(GP.max)&&uu.length>=GP.max)return{close:()=>{}};const n=xW(e);if(n.grouping&&uu.length){const o=uu.find(({vnode:i})=>{var a;return((a=i.props)==null?void 0:a.message)===n.message});if(o)return o.props.repeatNum+=1,o.props.type=n.type,o.handler}const r=b4e(n,t);return uu.push(r),r.handler};PW.forEach(e=>{wy[e]=(t={},n)=>{const r=xW(t);return wy({...r,type:e},n)}});function E4e(e){for(const t of uu)(!e||e===t.props.type)&&t.handler.close()}wy.closeAll=E4e;wy._context=null;const S4e=JH(wy,"$message"),w4e=St({name:"ElMessageBox",directives:{TrapFocus:Hwe},components:{ElButton:ra,ElFocusTrap:P_,ElInput:na,ElOverlay:mN,ElIcon:En,...HM},inheritAttrs:!1,props:{buttonSize:{type:String,validator:qh},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{t:n}=Hr(),r=wt("message-box"),o=re(!1),{nextZIndex:i}=Pc(),a=Xr({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:i()}),s=G(()=>{const D=a.type;return{[r.bm("icon",D)]:D&&Jf[D]}}),f=gl(),d=gl(),h=oi(G(()=>e.buttonSize),{prop:!0,form:!0,formItem:!0}),v=G(()=>a.icon||Jf[a.type]||""),y=G(()=>!!a.message),m=re(),b=re(),S=re(),O=re(),_=re(),A=G(()=>a.confirmButtonClass);At(()=>a.inputValue,async D=>{await bn(),e.boxType==="prompt"&&D!==null&&k()},{immediate:!0}),At(()=>o.value,D=>{var B,V;D&&(e.boxType!=="prompt"&&(a.autofocus?S.value=(V=(B=_.value)==null?void 0:B.$el)!=null?V:m.value:S.value=m.value),a.zIndex=i()),e.boxType==="prompt"&&(D?bn().then(()=>{var Y;O.value&&O.value.$el&&(a.autofocus?S.value=(Y=F())!=null?Y:m.value:S.value=m.value)}):(a.editorErrorMessage="",a.validateError=!1))});const T=G(()=>e.draggable);pG(m,b,T),ir(async()=>{await bn(),e.closeOnHashChange&&window.addEventListener("hashchange",P)}),Go(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",P)});function P(){!o.value||(o.value=!1,bn(()=>{a.action&&t("action",a.action)}))}const x=()=>{e.closeOnClickModal&&j(a.distinguishCancelAndClose?"close":"cancel")},N=QM(x),L=D=>{if(a.inputType!=="textarea")return D.preventDefault(),j("confirm")},j=D=>{var B;e.boxType==="prompt"&&D==="confirm"&&!k()||(a.action=D,a.beforeClose?(B=a.beforeClose)==null||B.call(a,D,a,P):P())},k=()=>{if(e.boxType==="prompt"){const D=a.inputPattern;if(D&&!D.test(a.inputValue||""))return a.editorErrorMessage=a.inputErrorMessage||n("el.messagebox.error"),a.validateError=!0,!1;const B=a.inputValidator;if(typeof B=="function"){const V=B(a.inputValue);if(V===!1)return a.editorErrorMessage=a.inputErrorMessage||n("el.messagebox.error"),a.validateError=!0,!1;if(typeof V=="string")return a.editorErrorMessage=V,a.validateError=!0,!1}}return a.editorErrorMessage="",a.validateError=!1,!0},F=()=>{const D=O.value.$refs;return D.input||D.textarea},z=()=>{j("close")},M=()=>{e.closeOnPressEscape&&z()};return e.lockScroll&&vG(o),h0e(o),{...mi(a),ns:r,overlayEvent:N,visible:o,hasMessage:y,typeClass:s,contentId:f,inputId:d,btnSize:h,iconComponent:v,confirmButtonClasses:A,rootRef:m,focusStartRef:S,headerRef:b,inputRef:O,confirmRef:_,doClose:P,handleClose:z,onCloseRequested:M,handleWrapperClick:x,handleInputEnter:L,handleAction:j,t:n}}}),O4e=["aria-label","aria-describedby"],_4e=["aria-label"],T4e=["id"];function C4e(e,t,n,r,o,i){const a=_n("el-icon"),s=_n("close"),f=_n("el-input"),d=_n("el-button"),h=_n("el-focus-trap"),v=_n("el-overlay");return H(),et(ti,{name:"fade-in-linear",onAfterLeave:t[11]||(t[11]=y=>e.$emit("vanish")),persisted:""},{default:Be(()=>[Gn(Te(v,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:Be(()=>[ve("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:Z(`${e.ns.namespace.value}-overlay-message-box`),onClick:t[8]||(t[8]=(...y)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...y)),onMousedown:t[9]||(t[9]=(...y)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...y)),onMouseup:t[10]||(t[10]=(...y)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...y))},[Te(h,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:Be(()=>[ve("div",{ref:"rootRef",class:Z([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:gn(e.customStyle),tabindex:"-1",onClick:t[7]||(t[7]=Fn(()=>{},["stop"]))},[e.title!==null&&e.title!==void 0?(H(),le("div",{key:0,ref:"headerRef",class:Z(e.ns.e("header"))},[ve("div",{class:Z(e.ns.e("title"))},[e.iconComponent&&e.center?(H(),et(a,{key:0,class:Z([e.ns.e("status"),e.typeClass])},{default:Be(()=>[(H(),et(mr(e.iconComponent)))]),_:1},8,["class"])):Ye("v-if",!0),ve("span",null,Bt(e.title),1)],2),e.showClose?(H(),le("button",{key:0,type:"button",class:Z(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:t[0]||(t[0]=y=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:t[1]||(t[1]=kr(Fn(y=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[Te(a,{class:Z(e.ns.e("close"))},{default:Be(()=>[Te(s)]),_:1},8,["class"])],42,_4e)):Ye("v-if",!0)],2)):Ye("v-if",!0),ve("div",{id:e.contentId,class:Z(e.ns.e("content"))},[ve("div",{class:Z(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(H(),et(a,{key:0,class:Z([e.ns.e("status"),e.typeClass])},{default:Be(()=>[(H(),et(mr(e.iconComponent)))]),_:1},8,["class"])):Ye("v-if",!0),e.hasMessage?(H(),le("div",{key:1,class:Z(e.ns.e("message"))},[bt(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(H(),et(mr(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(H(),et(mr(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:Be(()=>[$r(Bt(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):Ye("v-if",!0)],2),Gn(ve("div",{class:Z(e.ns.e("input"))},[Te(f,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":t[2]||(t[2]=y=>e.inputValue=y),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:Z({invalid:e.validateError}),onKeydown:kr(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),ve("div",{class:Z(e.ns.e("errormsg")),style:gn({visibility:e.editorErrorMessage?"visible":"hidden"})},Bt(e.editorErrorMessage),7)],2),[[Lr,e.showInput]])],10,T4e),ve("div",{class:Z(e.ns.e("btns"))},[e.showCancelButton?(H(),et(d,{key:0,loading:e.cancelButtonLoading,class:Z([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:t[3]||(t[3]=y=>e.handleAction("cancel")),onKeydown:t[4]||(t[4]=kr(Fn(y=>e.handleAction("cancel"),["prevent"]),["enter"]))},{default:Be(()=>[$r(Bt(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):Ye("v-if",!0),Gn(Te(d,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,class:Z([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:t[5]||(t[5]=y=>e.handleAction("confirm")),onKeydown:t[6]||(t[6]=kr(Fn(y=>e.handleAction("confirm"),["prevent"]),["enter"]))},{default:Be(()=>[$r(Bt(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[Lr,e.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,O4e)]),_:3},8,["z-index","overlay-class","mask"]),[[Lr,e.visible]])]),_:3})}var A4e=zt(w4e,[["render",C4e],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const Mb=new Map,P4e=(e,t,n=null)=>{const r=Te(A4e,e,Wn(e.message)||Ho(e.message)?{default:Wn(e.message)?e.message:()=>e.message}:null);return r.appContext=n,ly(r,t),document.body.appendChild(t.firstElementChild),r.component},x4e=()=>document.createElement("div"),M4e=(e,t)=>{const n=x4e();e.onVanish=()=>{ly(null,n),Mb.delete(o)},e.onAction=i=>{const a=Mb.get(o);let s;e.showInput?s={value:o.inputValue,action:i}:s=i,e.callback?e.callback(s,r.proxy):i==="cancel"||i==="close"?e.distinguishCancelAndClose&&i!=="cancel"?a.reject("close"):a.reject("cancel"):a.resolve(s)};const r=P4e(e,n,t),o=r.proxy;for(const i in e)xr(e,i)&&!xr(o.$props,i)&&(o[i]=e[i]);return o.visible=!0,o};function Ny(e,t=null){if(!Rr)return Promise.reject();let n;return Kn(e)||Ho(e)?e={message:e}:n=e.callback,new Promise((r,o)=>{const i=M4e(e,t!=null?t:Ny._context);Mb.set(i,{options:e,callback:n,resolve:r,reject:o})})}const N4e=["alert","confirm","prompt"],R4e={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};N4e.forEach(e=>{Ny[e]=I4e(e)});function I4e(e){return(t,n,r,o)=>{let i="";return Er(n)?(r=n,i=""):Vi(n)?i="":i=n,Ny(Object.assign({title:i,message:t,type:"",...R4e[e]},r,{boxType:e}),o)}}Ny.close=()=>{Mb.forEach((e,t)=>{t.doClose()}),Mb.clear()};Ny._context=null;const kf=Ny;kf.install=e=>{kf._context=e._context,e.config.globalProperties.$msgbox=kf,e.config.globalProperties.$messageBox=kf,e.config.globalProperties.$alert=kf.alert,e.config.globalProperties.$confirm=kf.confirm,e.config.globalProperties.$prompt=kf.prompt};const D4e=kf,MW=["success","info","warning","error"],k4e=Kt({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:po},id:{type:String,default:""},message:{type:ot([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:ot(Function),default:()=>{}},onClose:{type:ot(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...MW,""],default:""},zIndex:{type:Number,default:0}}),L4e={destroy:()=>!0},$4e=["id"],B4e=["textContent"],j4e={key:0},F4e=["innerHTML"],z4e={name:"ElNotification"},U4e=St({...z4e,props:k4e,emits:L4e,setup(e,{expose:t}){const n=e,r=wt("notification"),{Close:o}=YH,i=re(!1);let a;const s=G(()=>{const O=n.type;return O&&Jf[n.type]?r.m(O):""}),f=G(()=>n.type&&Jf[n.type]||n.icon),d=G(()=>n.position.endsWith("right")?"right":"left"),h=G(()=>n.position.startsWith("top")?"top":"bottom"),v=G(()=>({[h.value]:`${n.offset}px`,zIndex:n.zIndex}));function y(){n.duration>0&&({stop:a}=$h(()=>{i.value&&b()},n.duration))}function m(){a==null||a()}function b(){i.value=!1}function S({code:O}){O===Mn.delete||O===Mn.backspace?m():O===Mn.esc?i.value&&b():y()}return ir(()=>{y(),i.value=!0}),Eo(document,"keydown",S),t({visible:i,close:b}),(O,_)=>(H(),et(ti,{name:E(r).b("fade"),onBeforeLeave:O.onClose,onAfterLeave:_[1]||(_[1]=A=>O.$emit("destroy")),persisted:""},{default:Be(()=>[Gn(ve("div",{id:O.id,class:Z([E(r).b(),O.customClass,E(d)]),style:gn(E(v)),role:"alert",onMouseenter:m,onMouseleave:y,onClick:_[0]||(_[0]=(...A)=>O.onClick&&O.onClick(...A))},[E(f)?(H(),et(E(En),{key:0,class:Z([E(r).e("icon"),E(s)])},{default:Be(()=>[(H(),et(mr(E(f))))]),_:1},8,["class"])):Ye("v-if",!0),ve("div",{class:Z(E(r).e("group"))},[ve("h2",{class:Z(E(r).e("title")),textContent:Bt(O.title)},null,10,B4e),Gn(ve("div",{class:Z(E(r).e("content")),style:gn(O.title?void 0:{margin:0})},[bt(O.$slots,"default",{},()=>[O.dangerouslyUseHTMLString?(H(),le(wn,{key:1},[Ye(" Caution here, message could've been compromised, never use user's input as message "),ve("p",{innerHTML:O.message},null,8,F4e)],2112)):(H(),le("p",j4e,Bt(O.message),1))])],6),[[Lr,O.message]]),O.showClose?(H(),et(E(En),{key:0,class:Z(E(r).e("closeBtn")),onClick:Fn(b,["stop"])},{default:Be(()=>[Te(E(o))]),_:1},8,["class","onClick"])):Ye("v-if",!0)],2)],46,$4e),[[Lr,i.value]])]),_:3},8,["name","onBeforeLeave"]))}});var V4e=zt(U4e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/notification/src/notification.vue"]]);const MO={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},Ex=16;let H4e=1;const Oy=function(e={},t=null){if(!Rr)return{close:()=>{}};(typeof e=="string"||Ho(e))&&(e={message:e});const n=e.position||"top-right";let r=e.offset||0;MO[n].forEach(({vm:v})=>{var y;r+=(((y=v.el)==null?void 0:y.offsetHeight)||0)+Ex}),r+=Ex;const{nextZIndex:o}=Pc(),i=`notification_${H4e++}`,a=e.onClose,s={...e,zIndex:o(),offset:r,id:i,onClose:()=>{G4e(i,n,a)}};let f=document.body;gc(e.appendTo)?f=e.appendTo:Kn(e.appendTo)&&(f=document.querySelector(e.appendTo)),gc(f)||(f=document.body);const d=document.createElement("div"),h=Te(V4e,s,Ho(s.message)?{default:()=>s.message}:null);return h.appContext=t!=null?t:Oy._context,h.props.onDestroy=()=>{ly(null,d)},ly(h,d),MO[n].push({vm:h}),f.appendChild(d.firstElementChild),{close:()=>{h.component.exposed.visible.value=!1}}};MW.forEach(e=>{Oy[e]=(t={})=>((typeof t=="string"||Ho(t))&&(t={message:t}),Oy({...t,type:e}))});function G4e(e,t,n){const r=MO[t],o=r.findIndex(({vm:d})=>{var h;return((h=d.component)==null?void 0:h.props.id)===e});if(o===-1)return;const{vm:i}=r[o];if(!i)return;n==null||n(i);const a=i.el.offsetHeight,s=t.split("-")[0];r.splice(o,1);const f=r.length;if(!(f<1))for(let d=o;d<f;d++){const{el:h,component:v}=r[d].vm,y=Number.parseInt(h.style[s],10)-a-Ex;v.props.offset=y}}function W4e(){for(const e of Object.values(MO))e.forEach(({vm:t})=>{t.component.exposed.visible.value=!1})}Oy.closeAll=W4e;Oy._context=null;const K4e=JH(Oy,"$notify");var X4e=[n4e,s4e,S4e,D4e,K4e,T9],Y4e=Q0e([...Y$e,...X4e]),Un={exports:{}};(function(e,t){(function(r,o){e.exports=o()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var a=r[i]={i,l:!1,exports:{}};return n[i].call(a.exports,a,a.exports,o),a.l=!0,a.exports}return o.m=n,o.c=r,o.d=function(i,a,s){o.o(i,a)||Object.defineProperty(i,a,{enumerable:!0,get:s})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,a){if(a&1&&(i=o(i)),a&8||a&4&&typeof i=="object"&&i&&i.__esModule)return i;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:i}),a&2&&typeof i!="string")for(var f in i)o.d(s,f,function(d){return i[d]}.bind(null,f));return s},o.n=function(i){var a=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(a,"a",a),a},o.o=function(i,a){return Object.prototype.hasOwnProperty.call(i,a)},o.p="",o(o.s=215)}([function(n,r,o){(function(i,a){o.d(r,"a",function(){return D}),o.d(r,"b",function(){return Au}),o.d(r,"c",function(){return Us}),o.d(r,"d",function(){return Yr}),o.d(r,"e",function(){return Yn}),o.d(r,"f",function(){return An}),o.d(r,"g",function(){return Su}),o.d(r,"h",function(){return Gs}),o.d(r,"i",function(){return vn}),o.d(r,"j",function(){return Mi}),o.d(r,"k",function(){return Wo}),o.d(r,"l",function(){return Ta}),o.d(r,"m",function(){return yt}),o.d(r,"n",function(){return Wy}),o.d(r,"o",function(){return Y}),o.d(r,"p",function(){return _p}),o.d(r,"q",function(){return bd}),o.d(r,"r",function(){return Fc}),o.d(r,"s",function(){return bi}),o.d(r,"t",function(){return Sp}),o.d(r,"u",function(){return Vy}),o.d(r,"v",function(){return Op}),o.d(r,"w",function(){return Xy}),o.d(r,"x",function(){return hs}),o.d(r,"y",function(){return ca}),o.d(r,"z",function(){return Zo}),o.d(r,"A",function(){return Ri}),o.d(r,"B",function(){return Ni}),o.d(r,"C",function(){return Se}),o.d(r,"D",function(){return Yy}),o.d(r,"E",function(){return gd}),o.d(r,"F",function(){return Hy}),o.d(r,"G",function(){return jc}),o.d(r,"H",function(){return vp}),o.d(r,"I",function(){return Qy}),o.d(r,"J",function(){return Ca}),o.d(r,"K",function(){return rt}),o.d(r,"L",function(){return Uc}),o.d(r,"M",function(){return Aa});var s="An invariant failed, however the error is obfuscated because this is a production build.",f=[];Object.freeze(f);var d={};Object.freeze(d);function h(){return++Xn.mobxGuid}function v(R){throw y(!1,R),"X"}function y(R,$){if(!R)throw new Error("[mobx] "+($||s))}function m(R){var $=!1;return function(){if(!$)return $=!0,R.apply(this,arguments)}}var b=function(){};function S(R){var $=[];return R.forEach(function(J){$.indexOf(J)===-1&&$.push(J)}),$}function O(R){return R!==null&&typeof R=="object"}function _(R){if(R===null||typeof R!="object")return!1;var $=Object.getPrototypeOf(R);return $===Object.prototype||$===null}function A(R){if(L(R)||Zo(R))return R;if(Array.isArray(R))return new Map(R);if(_(R)){var $=new Map;for(var J in R)$.set(J,R[J]);return $}else return v("Cannot convert to map from '"+R+"'")}function T(R,$,J){Object.defineProperty(R,$,{enumerable:!1,writable:!0,configurable:!0,value:J})}function P(R,$,J){Object.defineProperty(R,$,{enumerable:!1,writable:!1,configurable:!0,value:J})}function x(R,$){var J=Object.getOwnPropertyDescriptor(R,$);return!J||J.configurable!==!1&&J.writable!==!1}function N(R,$){var J="isMobX"+R;return $.prototype[J]=!0,function(me){return O(me)&&me[J]===!0}}function L(R){return R instanceof Map}function j(R){return R instanceof Set}function k(R){var $=new Set;for(var J in R)$.add(J);return Object.getOwnPropertySymbols(R).forEach(function(me){Object.getOwnPropertyDescriptor(R,me).enumerable&&$.add(me)}),Array.from($)}function F(R){return R&&R.toString?R.toString():new String(R).toString()}function z(R){return R===null?null:typeof R=="object"?""+R:R}var M=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(R){return Object.getOwnPropertyNames(R).concat(Object.getOwnPropertySymbols(R))}:Object.getOwnPropertyNames,D=Symbol("mobx administration"),B=function(){function R($){$===void 0&&($="Atom@"+h()),this.name=$,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Et.NOT_TRACKING}return R.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function($){return $()})},R.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function($){return $()})},R.prototype.reportObserved=function(){return cp(this)},R.prototype.reportChanged=function(){So(),Ly(this),sa()},R.prototype.toString=function(){return this.name},R}(),V=N("Atom",B);function Y(R,$,J){$===void 0&&($=b),J===void 0&&(J=b);var me=new B(R);return $!==b&&Gy(me,$),J!==b&&gd(me,J),me}function K(R,$){return R===$}function X(R,$){return Il(R,$)}function W(R,$){return Il(R,$,1)}function ie(R,$){return Object.is(R,$)}var oe={identity:K,structural:X,default:ie,shallow:W};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var ee=function(R,$){return ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,me){J.__proto__=me}||function(J,me){for(var je in me)me.hasOwnProperty(je)&&(J[je]=me[je])},ee(R,$)};function ue(R,$){ee(R,$);function J(){this.constructor=R}R.prototype=$===null?Object.create($):(J.prototype=$.prototype,new J)}var Ne=function(){return Ne=Object.assign||function($){for(var J,me=1,je=arguments.length;me<je;me++){J=arguments[me];for(var ut in J)Object.prototype.hasOwnProperty.call(J,ut)&&($[ut]=J[ut])}return $},Ne.apply(this,arguments)};function $e(R){var $=typeof Symbol=="function"&&R[Symbol.iterator],J=0;return $?$.call(R):{next:function(){return R&&J>=R.length&&(R=void 0),{value:R&&R[J++],done:!R}}}}function Ie(R,$){var J=typeof Symbol=="function"&&R[Symbol.iterator];if(!J)return R;var me=J.call(R),je,ut=[],Dt;try{for(;($===void 0||$-- >0)&&!(je=me.next()).done;)ut.push(je.value)}catch(yn){Dt={error:yn}}finally{try{je&&!je.done&&(J=me.return)&&J.call(me)}finally{if(Dt)throw Dt.error}}return ut}function Le(){for(var R=[],$=0;$<arguments.length;$++)R=R.concat(Ie(arguments[$]));return R}var he=Symbol("mobx did run lazy initializers"),te=Symbol("mobx pending decorators"),ae={},Ce={};function Ze(R,$){var J=$?ae:Ce;return J[R]||(J[R]={configurable:!0,enumerable:$,get:function(){return se(this),this[R]},set:function(me){se(this),this[R]=me}})}function se(R){var $,J;if(R[he]!==!0){var me=R[te];if(me){T(R,he,!0);var je=Le(Object.getOwnPropertySymbols(me),Object.keys(me));try{for(var ut=$e(je),Dt=ut.next();!Dt.done;Dt=ut.next()){var yn=Dt.value,Zn=me[yn];Zn.propertyCreator(R,Zn.prop,Zn.descriptor,Zn.decoratorTarget,Zn.decoratorArguments)}}catch(Fr){$={error:Fr}}finally{try{Dt&&!Dt.done&&(J=ut.return)&&J.call(ut)}finally{if($)throw $.error}}}}}function de(R,$){return function(){var me,je=function(Dt,yn,Zn,Fr){if(Fr===!0)return $(Dt,yn,Zn,Dt,me),null;if(!Object.prototype.hasOwnProperty.call(Dt,te)){var Gr=Dt[te];T(Dt,te,Ne({},Gr))}return Dt[te][yn]={prop:yn,propertyCreator:$,descriptor:Zn,decoratorTarget:Dt,decoratorArguments:me},Ze(yn,R)};return ze(arguments)?(me=f,je.apply(null,arguments)):(me=Array.prototype.slice.call(arguments),je)}}function ze(R){return(R.length===2||R.length===3)&&(typeof R[1]=="string"||typeof R[1]=="symbol")||R.length===4&&R[3]===!0}function lt(R,$,J){return hs(R)?R:Array.isArray(R)?Se.array(R,{name:J}):_(R)?Se.object(R,void 0,{name:J}):L(R)?Se.map(R,{name:J}):j(R)?Se.set(R,{name:J}):R}function Re(R,$,J){return R==null||Ri(R)||ca(R)||Zo(R)||Ai(R)?R:Array.isArray(R)?Se.array(R,{name:J,deep:!1}):_(R)?Se.object(R,void 0,{name:J,deep:!1}):L(R)?Se.map(R,{name:J,deep:!1}):j(R)?Se.set(R,{name:J,deep:!1}):v(!1)}function qe(R){return R}function pe(R,$,J){return Il(R,$)?$:R}function Ue(R){y(R);var $=de(!0,function(me,je,ut,Dt,yn){var Zn=ut?ut.initializer?ut.initializer.call(me):ut.value:void 0;Td(me).addObservableProp(je,Zn,R)}),J=(typeof i<"u"&&i.env,$);return J.enhancer=R,J}var Ke={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(Ke);function Ve(R){return R==null?Ke:typeof R=="string"?{name:R,deep:!0,proxy:!0}:R}var ne=Ue(lt),fe=Ue(Re),Me=Ue(qe),it=Ue(pe);function Oe(R){return R.defaultDecorator?R.defaultDecorator.enhancer:R.deep===!1?qe:lt}function _e(R,$,J){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return ne.apply(null,arguments);if(hs(R))return R;var me=_(R)?Se.object(R,$,J):Array.isArray(R)?Se.array(R,$):L(R)?Se.map(R,$):j(R)?Se.set(R,$):R;if(me!==R)return me;v(!1)}var nt={box:function(R,$){arguments.length>2&&tt("box");var J=Ve($);return new Ha(R,Oe(J),J.name,!0,J.equals)},array:function(R,$){arguments.length>2&&tt("array");var J=Ve($);return To(R,Oe(J),J.name)},map:function(R,$){arguments.length>2&&tt("map");var J=Ve($);return new Au(R,Oe(J),J.name)},set:function(R,$){arguments.length>2&&tt("set");var J=Ve($);return new Od(R,Oe(J),J.name)},object:function(R,$,J){typeof arguments[1]=="string"&&tt("object");var me=Ve(J);if(me.proxy===!1)return bd({},R,$,me);var je=bp(me),ut=bd({},void 0,void 0,me),Dt=Wi(ut);return Ep(Dt,R,$,je),Dt},ref:Me,shallow:fe,deep:ne,struct:it},Se=_e;Object.keys(nt).forEach(function(R){return Se[R]=nt[R]});function tt(R){v("Expected one or two arguments to observable."+R+". Did you accidentally try to use observable."+R+" as decorator?")}var we=de(!1,function(R,$,J,me,je){var ut=J.get,Dt=J.set,yn=je[0]||{};Td(R).addComputedProp(R,$,Ne({get:ut,set:Dt,context:R},yn))}),ht=we({equals:oe.structural}),yt=function($,J,me){if(typeof J=="string"||$!==null&&typeof $=="object"&&arguments.length===1)return we.apply(null,arguments);var je=typeof J=="object"?J:{};return je.get=$,je.set=typeof J=="function"?J:je.set,je.name=je.name||$.name||"",new us(je)};yt.struct=ht;var Et;(function(R){R[R.NOT_TRACKING=-1]="NOT_TRACKING",R[R.UP_TO_DATE=0]="UP_TO_DATE",R[R.POSSIBLY_STALE=1]="POSSIBLY_STALE",R[R.STALE=2]="STALE"})(Et||(Et={}));var Wt;(function(R){R[R.NONE=0]="NONE",R[R.LOG=1]="LOG",R[R.BREAK=2]="BREAK"})(Wt||(Wt={}));var ur=function(){function R($){this.cause=$}return R}();function tn(R){return R instanceof ur}function Dn(R){switch(R.dependenciesState){case Et.UP_TO_DATE:return!1;case Et.NOT_TRACKING:case Et.STALE:return!0;case Et.POSSIBLY_STALE:{for(var $=An(!0),J=vt(),me=R.observing,je=me.length,ut=0;ut<je;ut++){var Dt=me[ut];if(cs(Dt)){if(Xn.disableErrorBoundaries)Dt.get();else try{Dt.get()}catch{return Jt(J),Yn($),!0}if(R.dependenciesState===Et.STALE)return Jt(J),Yn($),!0}}return Jr(R),Jt(J),Yn($),!1}}}function vn(){return Xn.trackingDerivation!==null}function Ln(R){var $=R.observers.size>0;Xn.computationDepth>0&&$&&v(!1),!Xn.allowStateChanges&&($||Xn.enforceActions==="strict")&&v(!1)}function Ot(R,$,J){var me=An(!0);Jr(R),R.newObserving=new Array(R.observing.length+100),R.unboundDepsCount=0,R.runId=++Xn.runId;var je=Xn.trackingDerivation;Xn.trackingDerivation=R;var ut;if(Xn.disableErrorBoundaries===!0)ut=$.call(J);else try{ut=$.call(J)}catch(Dt){ut=new ur(Dt)}return Xn.trackingDerivation=je,be(R),Yn(me),ut}function be(R){for(var $=R.observing,J=R.observing=R.newObserving,me=Et.UP_TO_DATE,je=0,ut=R.unboundDepsCount,Dt=0;Dt<ut;Dt++){var yn=J[Dt];yn.diffValue===0&&(yn.diffValue=1,je!==Dt&&(J[je]=yn),je++),yn.dependenciesState>me&&(me=yn.dependenciesState)}for(J.length=je,R.newObserving=null,ut=$.length;ut--;){var yn=$[ut];yn.diffValue===0&&_a(yn,R),yn.diffValue=0}for(;je--;){var yn=J[je];yn.diffValue===1&&(yn.diffValue=0,pd(yn,R))}me!==Et.UP_TO_DATE&&(R.dependenciesState=me,R.onBecomeStale())}function We(R){var $=R.observing;R.observing=[];for(var J=$.length;J--;)_a($[J],R);R.dependenciesState=Et.NOT_TRACKING}function rt(R){var $=vt();try{return R()}finally{Jt($)}}function vt(){var R=Xn.trackingDerivation;return Xn.trackingDerivation=null,R}function Jt(R){Xn.trackingDerivation=R}function An(R){var $=Xn.allowStateReads;return Xn.allowStateReads=R,$}function Yn(R){Xn.allowStateReads=R}function Jr(R){if(R.dependenciesState!==Et.UP_TO_DATE){R.dependenciesState=Et.UP_TO_DATE;for(var $=R.observing,J=$.length;J--;)$[J].lowestObserverState=Et.UP_TO_DATE}}var ui=0,ci=1,Fs=Object.getOwnPropertyDescriptor(function(){},"name");Fs&&Fs.configurable;function Oa(R,$,J){var me=function(){return Dc(R,$,J||this,arguments)};return me.isMobxAction=!0,me}function Dc(R,$,J,me){var je=Mi();try{return $.apply(J,me)}catch(ut){throw je.error=ut,ut}finally{Su(je)}}function Mi(R,$,J){var me=wo(),je=0,ut=vt();So();var Dt=ss(!0),yn=An(!0),Zn={prevDerivation:ut,prevAllowStateChanges:Dt,prevAllowStateReads:yn,notifySpy:me,startTime:je,actionId:ci++,parentActionId:ui};return ui=Zn.actionId,Zn}function Su(R){ui!==R.actionId&&v("invalid action stack. did you forget to finish an action?"),ui=R.parentActionId,R.error!==void 0&&(Xn.suppressReactionErrors=!0),zs(R.prevAllowStateChanges),Yn(R.prevAllowStateReads),sa(),Jt(R.prevDerivation),R.notifySpy,Xn.suppressReactionErrors=!1}function Yr(R,$){var J=ss(R),me;try{me=$()}finally{zs(J)}return me}function ss(R){var $=Xn.allowStateChanges;return Xn.allowStateChanges=R,$}function zs(R){Xn.allowStateChanges=R}var Ha=function(R){ue($,R);function $(J,me,je,ut,Dt){je===void 0&&(je="ObservableValue@"+h()),ut===void 0&&(ut=!0),Dt===void 0&&(Dt=oe.default);var yn=R.call(this,je)||this;return yn.enhancer=me,yn.name=je,yn.equals=Dt,yn.hasUnreportedChange=!1,yn.value=me(J,void 0,je),ut&&wo(),yn}return $.prototype.dehanceValue=function(J){return this.dehancer!==void 0?this.dehancer(J):J},$.prototype.set=function(J){var me=this.value;if(J=this.prepareNewValue(J),J!==Xn.UNCHANGED){var je=wo();this.setNewValue(J)}},$.prototype.prepareNewValue=function(J){if(Ln(this),Ki(this)){var me=Pa(this,{object:this,type:"update",newValue:J});if(!me)return Xn.UNCHANGED;J=me.newValue}return J=this.enhancer(J,this.value,this.name),this.equals(this.value,J)?Xn.UNCHANGED:J},$.prototype.setNewValue=function(J){var me=this.value;this.value=J,this.reportChanged(),ua(this)&&Ci(this,{type:"update",object:this,newValue:J,oldValue:me})},$.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},$.prototype.intercept=function(J){return Tu(this,J)},$.prototype.observe=function(J,me){return me&&J({object:this,type:"update",newValue:this.value,oldValue:void 0}),Nl(this,J)},$.prototype.toJSON=function(){return this.get()},$.prototype.toString=function(){return this.name+"["+this.value+"]"},$.prototype.valueOf=function(){return z(this.get())},$.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},$}(B),ls=N("ObservableValue",Ha),us=function(){function R($){this.dependenciesState=Et.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Et.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+h(),this.value=new ur(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Wt.NONE,y($.get,"missing option for computed: get"),this.derivation=$.get,this.name=$.name||"ComputedValue@"+h(),$.set&&(this.setter=Oa(this.name+"-setter",$.set)),this.equals=$.equals||($.compareStructural||$.struct?oe.structural:oe.default),this.scope=$.context,this.requiresReaction=!!$.requiresReaction,this.keepAlive=!!$.keepAlive}return R.prototype.onBecomeStale=function(){By(this)},R.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function($){return $()})},R.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function($){return $()})},R.prototype.get=function(){this.isComputing&&v("Cycle detected in computation "+this.name+": "+this.derivation),Xn.inBatch===0&&this.observers.size===0&&!this.keepAlive?Dn(this)&&(this.warnAboutUntrackedRead(),So(),this.value=this.computeValue(!1),sa()):(cp(this),Dn(this)&&this.trackAndCompute()&&$y(this));var $=this.value;if(tn($))throw $.cause;return $},R.prototype.peek=function(){var $=this.computeValue(!1);if(tn($))throw $.cause;return $},R.prototype.set=function($){if(this.setter){y(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,$)}finally{this.isRunningSetter=!1}}else y(!1,!1)},R.prototype.trackAndCompute=function(){var $=this.value,J=this.dependenciesState===Et.NOT_TRACKING,me=this.computeValue(!0),je=J||tn($)||tn(me)||!this.equals($,me);return je&&(this.value=me),je},R.prototype.computeValue=function($){this.isComputing=!0,Xn.computationDepth++;var J;if($)J=Ot(this,this.derivation,this.scope);else if(Xn.disableErrorBoundaries===!0)J=this.derivation.call(this.scope);else try{J=this.derivation.call(this.scope)}catch(me){J=new ur(me)}return Xn.computationDepth--,this.isComputing=!1,J},R.prototype.suspend=function(){this.keepAlive||(We(this),this.value=void 0)},R.prototype.observe=function($,J){var me=this,je=!0,ut=void 0;return Ta(function(){var Dt=me.get();if(!je||J){var yn=vt();$({type:"update",object:me,newValue:Dt,oldValue:ut}),Jt(yn)}je=!1,ut=Dt})},R.prototype.warnAboutUntrackedRead=function(){},R.prototype.toJSON=function(){return this.get()},R.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},R.prototype.valueOf=function(){return z(this.get())},R.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},R}(),cs=N("ComputedValue",us),_l=function(){function R(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}return R}(),hd={};function Tl(){return typeof window<"u"?window:typeof a<"u"?a:typeof self<"u"?self:hd}var Cl=!0,kc=!1,Xn=function(){var R=Tl();return R.__mobxInstanceCount>0&&!R.__mobxGlobals&&(Cl=!1),R.__mobxGlobals&&R.__mobxGlobals.version!==new _l().version&&(Cl=!1),Cl?R.__mobxGlobals?(R.__mobxInstanceCount+=1,R.__mobxGlobals.UNCHANGED||(R.__mobxGlobals.UNCHANGED={}),R.__mobxGlobals):(R.__mobxInstanceCount=1,R.__mobxGlobals=new _l):(setTimeout(function(){kc||v("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new _l)}();function Lc(){(Xn.pendingReactions.length||Xn.inBatch||Xn.isRunningReactions)&&v("isolateGlobalState should be called before MobX is running any reactions"),kc=!0,Cl&&(--Tl().__mobxInstanceCount===0&&(Tl().__mobxGlobals=void 0),Xn=new _l)}function pd(R,$){R.observers.add($),R.lowestObserverState>$.dependenciesState&&(R.lowestObserverState=$.dependenciesState)}function _a(R,$){R.observers.delete($),R.observers.size===0&&up(R)}function up(R){R.isPendingUnobservation===!1&&(R.isPendingUnobservation=!0,Xn.pendingUnobservations.push(R))}function So(){Xn.inBatch++}function sa(){if(--Xn.inBatch===0){wu();for(var R=Xn.pendingUnobservations,$=0;$<R.length;$++){var J=R[$];J.isPendingUnobservation=!1,J.observers.size===0&&(J.isBeingObserved&&(J.isBeingObserved=!1,J.onBecomeUnobserved()),J instanceof us&&J.suspend())}Xn.pendingUnobservations=[]}}function cp(R){var $=Xn.trackingDerivation;return $!==null?($.runId!==R.lastAccessedBy&&(R.lastAccessedBy=$.runId,$.newObserving[$.unboundDepsCount++]=R,R.isBeingObserved||(R.isBeingObserved=!0,R.onBecomeObserved())),!0):(R.observers.size===0&&Xn.inBatch>0&&up(R),!1)}function Ly(R){R.lowestObserverState!==Et.STALE&&(R.lowestObserverState=Et.STALE,R.observers.forEach(function($){$.dependenciesState===Et.UP_TO_DATE&&($.isTracing!==Wt.NONE&&$c($,R),$.onBecomeStale()),$.dependenciesState=Et.STALE}))}function $y(R){R.lowestObserverState!==Et.STALE&&(R.lowestObserverState=Et.STALE,R.observers.forEach(function($){$.dependenciesState===Et.POSSIBLY_STALE?$.dependenciesState=Et.STALE:$.dependenciesState===Et.UP_TO_DATE&&(R.lowestObserverState=Et.UP_TO_DATE)}))}function By(R){R.lowestObserverState===Et.UP_TO_DATE&&(R.lowestObserverState=Et.POSSIBLY_STALE,R.observers.forEach(function($){$.dependenciesState===Et.UP_TO_DATE&&($.dependenciesState=Et.POSSIBLY_STALE,$.isTracing!==Wt.NONE&&$c($,R),$.onBecomeStale())}))}function $c(R,$){if(console.log("[mobx.trace] '"+R.name+"' is invalidated due to a change in: '"+$.name+"'"),R.isTracing===Wt.BREAK){var J=[];fp(Sp(R),J,1),new Function(`debugger;
/*
Tracing '`+R.name+`'

You are entering this break point because derivation '`+R.name+"' is being traced and '"+$.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(R instanceof us?R.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+J.join(`
`)+`
*/
    `)()}}function fp(R,$,J){if($.length>=1e3){$.push("(and many more)");return}$.push(""+new Array(J).join("	")+R.name),R.dependencies&&R.dependencies.forEach(function(me){return fp(me,$,J+1)})}var Us=function(){function R($,J,me,je){$===void 0&&($="Reaction@"+h()),je===void 0&&(je=!1),this.name=$,this.onInvalidate=J,this.errorHandler=me,this.requiresObservable=je,this.observing=[],this.newObserving=[],this.dependenciesState=Et.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+h(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Wt.NONE}return R.prototype.onBecomeStale=function(){this.schedule()},R.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Xn.pendingReactions.push(this),wu())},R.prototype.isScheduled=function(){return this._isScheduled},R.prototype.runReaction=function(){if(!this.isDisposed){if(So(),this._isScheduled=!1,Dn(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&wo()}catch($){this.reportExceptionInDerivation($)}}sa()}},R.prototype.track=function($){if(!this.isDisposed){So(),this._isRunning=!0;var J=Ot(this,$,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&We(this),tn(J)&&this.reportExceptionInDerivation(J.cause),sa()}},R.prototype.reportExceptionInDerivation=function($){var J=this;if(this.errorHandler){this.errorHandler($,this);return}if(Xn.disableErrorBoundaries)throw $;var me="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Xn.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(me,$),Xn.globalReactionErrorHandlers.forEach(function(je){return je($,J)})},R.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(So(),We(this),sa()))},R.prototype.getDisposer=function(){var $=this.dispose.bind(this);return $[D]=this,$},R.prototype.toString=function(){return"Reaction["+this.name+"]"},R.prototype.trace=function($){$===void 0&&($=!1),xl(this,$)},R}(),vd=100,yd=function(R){return R()};function wu(){Xn.inBatch>0||Xn.isRunningReactions||yd(dp)}function dp(){Xn.isRunningReactions=!0;for(var R=Xn.pendingReactions,$=0;R.length>0;){++$===vd&&(console.error("Reaction doesn't converge to a stable state after "+vd+" iterations."+(" Probably there is a cycle in the reactive function: "+R[0])),R.splice(0));for(var J=R.splice(0),me=0,je=J.length;me<je;me++)J[me].runReaction()}Xn.isRunningReactions=!1}var Bc=N("Reaction",Us);function jy(R){var $=yd;yd=function(J){return R(function(){return $(J)})}}function wo(){return!1}function hp(R){}function Fy(R){}function pp(R){}function vp(R){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function zy(){v(!1)}function yp(R){return function($,J,me){if(me){if(me.value)return{value:Oa(R,me.value),enumerable:!1,configurable:!0,writable:!0};var je=me.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Oa(R,je.call(this))}}}return Uy(R).apply(this,arguments)}}function Uy(R){return function($,J,me){Object.defineProperty($,J,{configurable:!0,enumerable:!1,get:function(){},set:function(je){T(this,J,Wo(R,je))}})}}function la(R,$,J,me){return me===!0?(md(R,$,J.value),null):J?{configurable:!0,enumerable:!1,get:function(){return md(this,$,J.value||J.initializer.call(this)),this[$]},set:zy}:{enumerable:!1,configurable:!0,set:function(je){md(this,$,je)},get:function(){}}}var Wo=function($,J,me,je){if(arguments.length===1&&typeof $=="function")return Oa($.name||"<unnamed action>",$);if(arguments.length===2&&typeof J=="function")return Oa($,J);if(arguments.length===1&&typeof $=="string")return yp($);if(je===!0)T($,J,Oa($.name||J,me.value,this));else return yp(J).apply(null,arguments)};Wo.bound=la;function jc(R,$){var J=typeof R=="string"?R:R.name||"<unnamed action>",me=typeof R=="function"?R:$;return Dc(J,me,this,void 0)}function Vy(R){return typeof R=="function"&&R.isMobxAction===!0}function md(R,$,J){T(R,$,Oa($,J.bind(R)))}function Ta(R,$){$===void 0&&($=d);var J=$&&$.name||R.name||"Autorun@"+h(),me=!$.scheduler&&!$.delay,je;if(me)je=new Us(J,function(){this.track(yn)},$.onError,$.requiresObservable);else{var ut=Al($),Dt=!1;je=new Us(J,function(){Dt||(Dt=!0,ut(function(){Dt=!1,je.isDisposed||je.track(yn)}))},$.onError,$.requiresObservable)}function yn(){R(je)}return je.schedule(),je.getDisposer()}var mp=function(R){return R()};function Al(R){return R.scheduler?R.scheduler:R.delay?function($){return setTimeout($,R.delay)}:mp}function Hy(R,$,J){J===void 0&&(J=d);var me=J.name||"Reaction@"+h(),je=Wo(me,J.onError?Vs(J.onError,$):$),ut=!J.scheduler&&!J.delay,Dt=Al(J),yn=!0,Zn=!1,Fr,Gr=J.compareStructural?oe.structural:J.equals||oe.default,co=new Us(me,function(){yn||ut?ho():Zn||(Zn=!0,Dt(ho))},J.onError,J.requiresObservable);function ho(){if(Zn=!1,!co.isDisposed){var Lo=!1;co.track(function(){var fi=R(co);Lo=yn||!Gr(Fr,fi),Fr=fi}),yn&&J.fireImmediately&&je(Fr,co),!yn&&Lo===!0&&je(Fr,co),yn&&(yn=!1)}}return co.schedule(),co.getDisposer()}function Vs(R,$){return function(){try{return $.apply(this,arguments)}catch(J){R.call(this,J)}}}function Gy(R,$,J){return gp("onBecomeObserved",R,$,J)}function gd(R,$,J){return gp("onBecomeUnobserved",R,$,J)}function gp(R,$,J,me){var je=typeof me=="function"?bi($,J):bi($),ut=typeof me=="function"?me:J,Dt=R+"Listeners";je[Dt]?je[Dt].add(ut):je[Dt]=new Set([ut]);var yn=je[R];return typeof yn!="function"?v(!1):function(){var Zn=je[Dt];Zn&&(Zn.delete(ut),Zn.size===0&&delete je[Dt])}}function Wy(R){var $=R.enforceActions,J=R.computedRequiresReaction,me=R.computedConfigurable,je=R.disableErrorBoundaries,ut=R.reactionScheduler,Dt=R.reactionRequiresObservable,yn=R.observableRequiresReaction;if(R.isolateGlobalState===!0&&Lc(),$!==void 0){var Zn=void 0;switch($){case!0:case"observed":Zn=!0;break;case!1:case"never":Zn=!1;break;case"strict":case"always":Zn="strict";break;default:v("Invalid value for 'enforceActions': '"+$+"', expected 'never', 'always' or 'observed'")}Xn.enforceActions=Zn,Xn.allowStateChanges=!(Zn===!0||Zn==="strict")}J!==void 0&&(Xn.computedRequiresReaction=!!J),Dt!==void 0&&(Xn.reactionRequiresObservable=!!Dt),yn!==void 0&&(Xn.observableRequiresReaction=!!yn,Xn.allowStateReads=!Xn.observableRequiresReaction),me!==void 0&&(Xn.computedConfigurable=!!me),je!==void 0&&(je===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Xn.disableErrorBoundaries=!!je),ut&&jy(ut)}function bd(R,$,J,me){me=Ve(me);var je=bp(me);return se(R),Td(R,me.name,je.enhancer),$&&Ep(R,$,J,je),R}function bp(R){return R.defaultDecorator||(R.deep===!1?Me:ne)}function Ep(R,$,J,me){var je,ut,Dt,yn;So();try{var yn=M($);try{for(var Zn=$e(yn),Fr=Zn.next();!Fr.done;Fr=Zn.next()){var Dt=Fr.value,Gr=Object.getOwnPropertyDescriptor($,Dt),co=J&&Dt in J?J[Dt]:Gr.get?we:me,ho=co(R,Dt,Gr,!0);ho&&Object.defineProperty(R,Dt,ho)}}catch(fi){je={error:fi}}finally{try{Fr&&!Fr.done&&(ut=Zn.return)&&ut.call(Zn)}finally{if(je)throw je.error}}}finally{sa()}}function Sp(R,$){return fs(bi(R,$))}function fs(R){var $={name:R.name};return R.observing&&R.observing.length>0&&($.dependencies=S(R.observing).map(fs)),$}var Ky=0;function wp(){this.message="FLOW_CANCELLED"}wp.prototype=Object.create(Error.prototype);function Fc(R){arguments.length!==1&&v("Flow expects 1 argument and cannot be used as decorator");var $=R.name||"<unnamed flow>";return function(){var J=this,me=arguments,je=++Ky,ut=Wo($+" - runid: "+je+" - init",R).apply(J,me),Dt,yn=void 0,Zn=new Promise(function(Fr,Gr){var co=0;Dt=Gr;function ho(vo){yn=void 0;var Xi;try{Xi=Wo($+" - runid: "+je+" - yield "+co++,ut.next).call(ut,vo)}catch(Ws){return Gr(Ws)}fi(Xi)}function Lo(vo){yn=void 0;var Xi;try{Xi=Wo($+" - runid: "+je+" - yield "+co++,ut.throw).call(ut,vo)}catch(Ws){return Gr(Ws)}fi(Xi)}function fi(vo){if(vo&&typeof vo.then=="function"){vo.then(fi,Gr);return}return vo.done?Fr(vo.value):(yn=Promise.resolve(vo.value),yn.then(ho,Lo))}ho(void 0)});return Zn.cancel=Wo($+" - runid: "+je+" - cancel",function(){try{yn&&zc(yn);var Fr=ut.return(void 0),Gr=Promise.resolve(Fr.value);Gr.then(b,b),zc(Gr),Dt(new wp)}catch(co){Dt(co)}}),Zn}}function zc(R){typeof R.cancel=="function"&&R.cancel()}function Ed(R,$){if(R==null)return!1;if($!==void 0){if(Ri(R)===!1||!R[D].values.has($))return!1;var J=bi(R,$);return cs(J)}return cs(R)}function Op(R){return arguments.length>1?v(!1):Ed(R)}function Xy(R,$){return typeof $!="string"?v(!1):Ed(R,$)}function ds(R,$){return R==null?!1:$!==void 0?Ri(R)?R[D].values.has($):!1:Ri(R)||!!R[D]||V(R)||Bc(R)||cs(R)}function hs(R){return arguments.length!==1&&v(!1),ds(R)}function Ni(R){return Ri(R)?R[D].getKeys():Zo(R)||Ai(R)?Array.from(R.keys()):ca(R)?R.map(function($,J){return J}):v(!1)}function Uc(R){return Ri(R)?Ni(R).map(function($){return R[$]}):Zo(R)?Ni(R).map(function($){return R.get($)}):Ai(R)?Array.from(R.values()):ca(R)?R.slice():v(!1)}function _p(R){return Ri(R)?Ni(R).map(function($){return[$,R[$]]}):Zo(R)?Ni(R).map(function($){return[$,R.get($)]}):Ai(R)?Array.from(R.entries()):ca(R)?R.map(function($,J){return[J,$]}):v(!1)}function Sd(R,$,J){if(arguments.length===2&&!Ai(R)){So();var me=$;try{for(var je in me)Sd(R,je,me[je])}finally{sa()}return}if(Ri(R)){var ut=R[D],Dt=ut.values.get($);Dt?ut.write($,J):ut.addObservableProp($,J,ut.defaultEnhancer)}else if(Zo(R))R.set($,J);else if(Ai(R))R.add($);else if(ca(R))typeof $!="number"&&($=parseInt($,10)),y($>=0,"Not a valid index: '"+$+"'"),So(),$>=R.length&&(R.length=$+1),R[$]=J,sa();else return v(!1)}function Yy(R,$,J,me){return typeof J=="function"?Zy(R,$,J,me):Vc(R,$,J)}function Vc(R,$,J){return Gs(R).observe($,J)}function Zy(R,$,J,me){return Gs(R,$).observe(J,me)}var Jy={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Pl(R,$,J,me){return me.detectCycles&&R.set($,J),J}function ps(R,$,J){if(!$.recurseEverything&&!hs(R)||typeof R!="object")return R;if(R===null)return null;if(R instanceof Date)return R;if(ls(R))return ps(R.get(),$,J);hs(R)&&Ni(R);var me=$.detectCycles===!0;if(me&&R!==null&&J.has(R))return J.get(R);if(ca(R)||Array.isArray(R)){var je=Pl(J,R,[],$),ut=R.map(function(Lo){return ps(Lo,$,J)});je.length=ut.length;for(var Dt=0,yn=ut.length;Dt<yn;Dt++)je[Dt]=ut[Dt];return je}if(Ai(R)||Object.getPrototypeOf(R)===Set.prototype)if($.exportMapsAsObjects===!1){var Zn=Pl(J,R,new Set,$);return R.forEach(function(Lo){Zn.add(ps(Lo,$,J))}),Zn}else{var Fr=Pl(J,R,[],$);return R.forEach(function(Lo){Fr.push(ps(Lo,$,J))}),Fr}if(Zo(R)||Object.getPrototypeOf(R)===Map.prototype)if($.exportMapsAsObjects===!1){var Gr=Pl(J,R,new Map,$);return R.forEach(function(Lo,fi){Gr.set(fi,ps(Lo,$,J))}),Gr}else{var co=Pl(J,R,{},$);return R.forEach(function(Lo,fi){co[fi]=ps(Lo,$,J)}),co}var ho=Pl(J,R,{},$);return k(R).forEach(function(Lo){ho[Lo]=ps(R[Lo],$,J)}),ho}function Qy(R,$){typeof $=="boolean"&&($={detectCycles:$}),$||($=Jy),$.detectCycles=$.detectCycles===void 0?$.recurseEverything===!0:$.detectCycles===!0;var J;return $.detectCycles&&(J=new Map),ps(R,$,J)}function xl(){for(var R=[],$=0;$<arguments.length;$++)R[$]=arguments[$];var J=!1;typeof R[R.length-1]=="boolean"&&(J=R.pop());var me=qy(R);if(!me)return v(!1);me.isTracing===Wt.NONE&&console.log("[mobx.trace] '"+me.name+"' tracing enabled"),me.isTracing=J?Wt.BREAK:Wt.LOG}function qy(R){switch(R.length){case 0:return Xn.trackingDerivation;case 1:return bi(R[0]);case 2:return bi(R[0],R[1])}}function Ca(R,$){$===void 0&&($=void 0),So();try{return R.apply($)}finally{sa()}}function Aa(R,$,J){return arguments.length===1||$&&typeof $=="object"?Ml(R,$):Ou(R,$,J||{})}function Ou(R,$,J){var me;typeof J.timeout=="number"&&(me=setTimeout(function(){if(!ut[D].isDisposed){ut();var Dt=new Error("WHEN_TIMEOUT");if(J.onError)J.onError(Dt);else throw Dt}},J.timeout)),J.name=J.name||"When@"+h();var je=Oa(J.name+"-effect",$),ut=Ta(function(Dt){R()&&(Dt.dispose(),me&&clearTimeout(me),je())},J);return ut}function Ml(R,$){var J,me=new Promise(function(je,ut){var Dt=Ou(R,je,Ne(Ne({},$),{onError:ut}));J=function(){Dt(),ut("WHEN_CANCELLED")}});return me.cancel=J,me}function _u(R){return R[D]}function Ga(R){return typeof R=="string"||typeof R=="number"||typeof R=="symbol"}var Hs={has:function(R,$){if($===D||$==="constructor"||$===he)return!0;var J=_u(R);return Ga($)?J.has($):$ in R},get:function(R,$){if($===D||$==="constructor"||$===he)return R[$];var J=_u(R),me=J.values.get($);if(me instanceof B){var je=me.get();return je===void 0&&J.has($),je}return Ga($)&&J.has($),R[$]},set:function(R,$,J){return Ga($)?(Sd(R,$,J),!0):!1},deleteProperty:function(R,$){if(!Ga($))return!1;var J=_u(R);return J.remove($),!0},ownKeys:function(R){var $=_u(R);return $.keysAtom.reportObserved(),Reflect.ownKeys(R)},preventExtensions:function(R){return v("Dynamic observable objects cannot be frozen"),!1}};function Wi(R){var $=new Proxy(R,Hs);return R[D].proxy=$,$}function Ki(R){return R.interceptors!==void 0&&R.interceptors.length>0}function Tu(R,$){var J=R.interceptors||(R.interceptors=[]);return J.push($),m(function(){var me=J.indexOf($);me!==-1&&J.splice(me,1)})}function Pa(R,$){var J=vt();try{for(var me=Le(R.interceptors||[]),je=0,ut=me.length;je<ut&&($=me[je]($),y(!$||$.type,"Intercept handlers should return nothing or a change object"),!!$);je++);return $}finally{Jt(J)}}function ua(R){return R.changeListeners!==void 0&&R.changeListeners.length>0}function Nl(R,$){var J=R.changeListeners||(R.changeListeners=[]);return J.push($),m(function(){var me=J.indexOf($);me!==-1&&J.splice(me,1)})}function Ci(R,$){var J=vt(),me=R.changeListeners;if(!!me){me=me.slice();for(var je=0,ut=me.length;je<ut;je++)me[je]($);Jt(J)}}var em=1e4,Tp={get:function(R,$){return $===D?R[D]:$==="length"?R[D].getArrayLength():typeof $=="number"?Wa.get.call(R,$):typeof $=="string"&&!isNaN($)?Wa.get.call(R,parseInt($)):Wa.hasOwnProperty($)?Wa[$]:R[$]},set:function(R,$,J){return $==="length"&&R[D].setArrayLength(J),typeof $=="number"&&Wa.set.call(R,$,J),typeof $=="symbol"||isNaN($)?R[$]=J:Wa.set.call(R,parseInt($),J),!0},preventExtensions:function(R){return v("Observable arrays cannot be frozen"),!1}};function To(R,$,J,me){J===void 0&&(J="ObservableArray@"+h()),me===void 0&&(me=!1);var je=new wd(J,$,me);P(je.values,D,je);var ut=new Proxy(je.values,Tp);if(je.proxy=ut,R&&R.length){var Dt=ss(!0);je.spliceWithArray(0,0,R),zs(Dt)}return ut}var wd=function(){function R($,J,me){this.owned=me,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new B($||"ObservableArray@"+h()),this.enhancer=function(je,ut){return J(je,ut,$+"[..]")}}return R.prototype.dehanceValue=function($){return this.dehancer!==void 0?this.dehancer($):$},R.prototype.dehanceValues=function($){return this.dehancer!==void 0&&$.length>0?$.map(this.dehancer):$},R.prototype.intercept=function($){return Tu(this,$)},R.prototype.observe=function($,J){return J===void 0&&(J=!1),J&&$({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Nl(this,$)},R.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},R.prototype.setArrayLength=function($){if(typeof $!="number"||$<0)throw new Error("[mobx.array] Out of range: "+$);var J=this.values.length;if($!==J)if($>J){for(var me=new Array($-J),je=0;je<$-J;je++)me[je]=void 0;this.spliceWithArray(J,0,me)}else this.spliceWithArray($,J-$)},R.prototype.updateArrayLength=function($,J){if($!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=J},R.prototype.spliceWithArray=function($,J,me){var je=this;Ln(this.atom);var ut=this.values.length;if($===void 0?$=0:$>ut?$=ut:$<0&&($=Math.max(0,ut+$)),arguments.length===1?J=ut-$:J==null?J=0:J=Math.max(0,Math.min(J,ut-$)),me===void 0&&(me=f),Ki(this)){var Dt=Pa(this,{object:this.proxy,type:"splice",index:$,removedCount:J,added:me});if(!Dt)return f;J=Dt.removedCount,me=Dt.added}me=me.length===0?me:me.map(function(Zn){return je.enhancer(Zn,void 0)});var yn=this.spliceItemsIntoValues($,J,me);return(J!==0||me.length!==0)&&this.notifyArraySplice($,me,yn),this.dehanceValues(yn)},R.prototype.spliceItemsIntoValues=function($,J,me){var je;if(me.length<em)return(je=this.values).splice.apply(je,Le([$,J],me));var ut=this.values.slice($,$+J);return this.values=this.values.slice(0,$).concat(me,this.values.slice($+J)),ut},R.prototype.notifyArrayChildUpdate=function($,J,me){var je=!this.owned&&wo(),ut=ua(this),Dt=ut||je?{object:this.proxy,type:"update",index:$,newValue:J,oldValue:me}:null;this.atom.reportChanged(),ut&&Ci(this,Dt)},R.prototype.notifyArraySplice=function($,J,me){var je=!this.owned&&wo(),ut=ua(this),Dt=ut||je?{object:this.proxy,type:"splice",index:$,removed:me,added:J,removedCount:me.length,addedCount:J.length}:null;this.atom.reportChanged(),ut&&Ci(this,Dt)},R}(),Wa={intercept:function(R){return this[D].intercept(R)},observe:function(R,$){$===void 0&&($=!1);var J=this[D];return J.observe(R,$)},clear:function(){return this.splice(0)},replace:function(R){var $=this[D];return $.spliceWithArray(0,$.values.length,R)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(R,$){for(var J=[],me=2;me<arguments.length;me++)J[me-2]=arguments[me];var je=this[D];switch(arguments.length){case 0:return[];case 1:return je.spliceWithArray(R);case 2:return je.spliceWithArray(R,$)}return je.spliceWithArray(R,$,J)},spliceWithArray:function(R,$,J){var me=this[D];return me.spliceWithArray(R,$,J)},push:function(){for(var R=[],$=0;$<arguments.length;$++)R[$]=arguments[$];var J=this[D];return J.spliceWithArray(J.values.length,0,R),J.values.length},pop:function(){return this.splice(Math.max(this[D].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var R=[],$=0;$<arguments.length;$++)R[$]=arguments[$];var J=this[D];return J.spliceWithArray(0,0,R),J.values.length},reverse:function(){var R=this.slice();return R.reverse.apply(R,arguments)},sort:function(R){var $=this.slice();return $.sort.apply($,arguments)},remove:function(R){var $=this[D],J=$.dehanceValues($.values).indexOf(R);return J>-1?(this.splice(J,1),!0):!1},get:function(R){var $=this[D];if($){if(R<$.values.length)return $.atom.reportObserved(),$.dehanceValue($.values[R]);console.warn("[mobx.array] Attempt to read an array index ("+R+") that is out of bounds ("+$.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(R,$){var J=this[D],me=J.values;if(R<me.length){Ln(J.atom);var je=me[R];if(Ki(J)){var ut=Pa(J,{type:"update",object:J.proxy,index:R,newValue:$});if(!ut)return;$=ut.newValue}$=J.enhancer($,je);var Dt=$!==je;Dt&&(me[R]=$,J.notifyArrayChildUpdate(R,$,je))}else if(R===me.length)J.spliceWithArray(R,0,[$]);else throw new Error("[mobx.array] Index out of bounds, "+R+" is larger than "+me.length)}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(R){typeof Array.prototype[R]=="function"&&(Wa[R]=function(){var $=this[D];$.atom.reportObserved();var J=$.dehanceValues($.values);return J[R].apply(J,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(R){typeof Array.prototype[R]=="function"&&(Wa[R]=function($,J){var me=this,je=this[D];je.atom.reportObserved();var ut=je.dehanceValues(je.values);return ut[R](function(Dt,yn){return $.call(J,Dt,yn,me)},J)})}),["reduce","reduceRight"].forEach(function(R){Wa[R]=function(){var $=this,J=this[D];J.atom.reportObserved();var me=arguments[0];return arguments[0]=function(je,ut,Dt){return ut=J.dehanceValue(ut),me(je,ut,Dt,$)},J.values[R].apply(J.values,arguments)}});var xa=N("ObservableArrayAdministration",wd);function ca(R){return O(R)&&xa(R[D])}var Cu,vs={},Au=function(){function R($,J,me){if(J===void 0&&(J=lt),me===void 0&&(me="ObservableMap@"+h()),this.enhancer=J,this.name=me,this[Cu]=vs,this._keysAtom=Y(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge($)}return R.prototype._has=function($){return this._data.has($)},R.prototype.has=function($){var J=this;if(!Xn.trackingDerivation)return this._has($);var me=this._hasMap.get($);if(!me){var je=me=new Ha(this._has($),qe,this.name+"."+F($)+"?",!1);this._hasMap.set($,je),gd(je,function(){return J._hasMap.delete($)})}return me.get()},R.prototype.set=function($,J){var me=this._has($);if(Ki(this)){var je=Pa(this,{type:me?"update":"add",object:this,newValue:J,name:$});if(!je)return this;J=je.newValue}return me?this._updateValue($,J):this._addValue($,J),this},R.prototype.delete=function($){var J=this;if(Ln(this._keysAtom),Ki(this)){var me=Pa(this,{type:"delete",object:this,name:$});if(!me)return!1}if(this._has($)){var je=wo(),ut=ua(this),me=ut||je?{type:"delete",object:this,oldValue:this._data.get($).value,name:$}:null;return Ca(function(){J._keysAtom.reportChanged(),J._updateHasMapEntry($,!1);var yn=J._data.get($);yn.setNewValue(void 0),J._data.delete($)}),ut&&Ci(this,me),!0}return!1},R.prototype._updateHasMapEntry=function($,J){var me=this._hasMap.get($);me&&me.setNewValue(J)},R.prototype._updateValue=function($,J){var me=this._data.get($);if(J=me.prepareNewValue(J),J!==Xn.UNCHANGED){var je=wo(),ut=ua(this),Dt=ut||je?{type:"update",object:this,oldValue:me.value,name:$,newValue:J}:null;me.setNewValue(J),ut&&Ci(this,Dt)}},R.prototype._addValue=function($,J){var me=this;Ln(this._keysAtom),Ca(function(){var yn=new Ha(J,me.enhancer,me.name+"."+F($),!1);me._data.set($,yn),J=yn.value,me._updateHasMapEntry($,!0),me._keysAtom.reportChanged()});var je=wo(),ut=ua(this),Dt=ut||je?{type:"add",object:this,name:$,newValue:J}:null;ut&&Ci(this,Dt)},R.prototype.get=function($){return this.has($)?this.dehanceValue(this._data.get($).get()):this.dehanceValue(void 0)},R.prototype.dehanceValue=function($){return this.dehancer!==void 0?this.dehancer($):$},R.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},R.prototype.values=function(){var $=this,J=this.keys();return Pu({next:function(){var me=J.next(),je=me.done,ut=me.value;return{done:je,value:je?void 0:$.get(ut)}}})},R.prototype.entries=function(){var $=this,J=this.keys();return Pu({next:function(){var me=J.next(),je=me.done,ut=me.value;return{done:je,value:je?void 0:[ut,$.get(ut)]}}})},R.prototype[Cu=D,Symbol.iterator]=function(){return this.entries()},R.prototype.forEach=function($,J){var me,je;try{for(var ut=$e(this),Dt=ut.next();!Dt.done;Dt=ut.next()){var yn=Ie(Dt.value,2),Zn=yn[0],Fr=yn[1];$.call(J,Fr,Zn,this)}}catch(Gr){me={error:Gr}}finally{try{Dt&&!Dt.done&&(je=ut.return)&&je.call(ut)}finally{if(me)throw me.error}}},R.prototype.merge=function($){var J=this;return Zo($)&&($=$.toJS()),Ca(function(){var me=ss(!0);try{_($)?k($).forEach(function(je){return J.set(je,$[je])}):Array.isArray($)?$.forEach(function(je){var ut=Ie(je,2),Dt=ut[0],yn=ut[1];return J.set(Dt,yn)}):L($)?($.constructor!==Map&&v("Cannot initialize from classes that inherit from Map: "+$.constructor.name),$.forEach(function(je,ut){return J.set(ut,je)})):$!=null&&v("Cannot initialize map from "+$)}finally{zs(me)}}),this},R.prototype.clear=function(){var $=this;Ca(function(){rt(function(){var J,me;try{for(var je=$e($.keys()),ut=je.next();!ut.done;ut=je.next()){var Dt=ut.value;$.delete(Dt)}}catch(yn){J={error:yn}}finally{try{ut&&!ut.done&&(me=je.return)&&me.call(je)}finally{if(J)throw J.error}}})})},R.prototype.replace=function($){var J=this;return Ca(function(){var me,je,ut,Dt,yn=A($),Zn=new Map,Fr=!1;try{for(var Gr=$e(J._data.keys()),co=Gr.next();!co.done;co=Gr.next()){var ho=co.value;if(!yn.has(ho)){var Lo=J.delete(ho);if(Lo)Fr=!0;else{var fi=J._data.get(ho);Zn.set(ho,fi)}}}}catch(Ks){me={error:Ks}}finally{try{co&&!co.done&&(je=Gr.return)&&je.call(Gr)}finally{if(me)throw me.error}}try{for(var vo=$e(yn.entries()),Xi=vo.next();!Xi.done;Xi=vo.next()){var Ws=Ie(Xi.value,2),ho=Ws[0],fi=Ws[1],Yc=J._data.has(ho);if(J.set(ho,fi),J._data.has(ho)){var xp=J._data.get(ho);Zn.set(ho,xp),Yc||(Fr=!0)}}}catch(Ks){ut={error:Ks}}finally{try{Xi&&!Xi.done&&(Dt=vo.return)&&Dt.call(vo)}finally{if(ut)throw ut.error}}if(!Fr)if(J._data.size!==Zn.size)J._keysAtom.reportChanged();else for(var xu=J._data.keys(),Mp=Zn.keys(),Md=xu.next(),kl=Mp.next();!Md.done;){if(Md.value!==kl.value){J._keysAtom.reportChanged();break}Md=xu.next(),kl=Mp.next()}J._data=Zn}),this},Object.defineProperty(R.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),R.prototype.toPOJO=function(){var $,J,me={};try{for(var je=$e(this),ut=je.next();!ut.done;ut=je.next()){var Dt=Ie(ut.value,2),yn=Dt[0],Zn=Dt[1];me[typeof yn=="symbol"?yn:F(yn)]=Zn}}catch(Fr){$={error:Fr}}finally{try{ut&&!ut.done&&(J=je.return)&&J.call(je)}finally{if($)throw $.error}}return me},R.prototype.toJS=function(){return new Map(this)},R.prototype.toJSON=function(){return this.toPOJO()},R.prototype.toString=function(){var $=this;return this.name+"[{ "+Array.from(this.keys()).map(function(J){return F(J)+": "+(""+$.get(J))}).join(", ")+" }]"},R.prototype.observe=function($,J){return Nl(this,$)},R.prototype.intercept=function($){return Tu(this,$)},R}(),Zo=N("ObservableMap",Au),Rl,Hc={},Od=function(){function R($,J,me){if(J===void 0&&(J=lt),me===void 0&&(me="ObservableSet@"+h()),this.name=me,this[Rl]=Hc,this._data=new Set,this._atom=Y(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(je,ut){return J(je,ut,me)},$&&this.replace($)}return R.prototype.dehanceValue=function($){return this.dehancer!==void 0?this.dehancer($):$},R.prototype.clear=function(){var $=this;Ca(function(){rt(function(){var J,me;try{for(var je=$e($._data.values()),ut=je.next();!ut.done;ut=je.next()){var Dt=ut.value;$.delete(Dt)}}catch(yn){J={error:yn}}finally{try{ut&&!ut.done&&(me=je.return)&&me.call(je)}finally{if(J)throw J.error}}})})},R.prototype.forEach=function($,J){var me,je;try{for(var ut=$e(this),Dt=ut.next();!Dt.done;Dt=ut.next()){var yn=Dt.value;$.call(J,yn,yn,this)}}catch(Zn){me={error:Zn}}finally{try{Dt&&!Dt.done&&(je=ut.return)&&je.call(ut)}finally{if(me)throw me.error}}},Object.defineProperty(R.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),R.prototype.add=function($){var J=this;if(Ln(this._atom),Ki(this)){var me=Pa(this,{type:"add",object:this,newValue:$});if(!me)return this}if(!this.has($)){Ca(function(){J._data.add(J.enhancer($,void 0)),J._atom.reportChanged()});var je=wo(),ut=ua(this),me=ut||je?{type:"add",object:this,newValue:$}:null;ut&&Ci(this,me)}return this},R.prototype.delete=function($){var J=this;if(Ki(this)){var me=Pa(this,{type:"delete",object:this,oldValue:$});if(!me)return!1}if(this.has($)){var je=wo(),ut=ua(this),me=ut||je?{type:"delete",object:this,oldValue:$}:null;return Ca(function(){J._atom.reportChanged(),J._data.delete($)}),ut&&Ci(this,me),!0}return!1},R.prototype.has=function($){return this._atom.reportObserved(),this._data.has(this.dehanceValue($))},R.prototype.entries=function(){var $=0,J=Array.from(this.keys()),me=Array.from(this.values());return Pu({next:function(){var je=$;return $+=1,je<me.length?{value:[J[je],me[je]],done:!1}:{done:!0}}})},R.prototype.keys=function(){return this.values()},R.prototype.values=function(){this._atom.reportObserved();var $=this,J=0,me=Array.from(this._data.values());return Pu({next:function(){return J<me.length?{value:$.dehanceValue(me[J++]),done:!1}:{done:!0}}})},R.prototype.replace=function($){var J=this;return Ai($)&&($=$.toJS()),Ca(function(){var me=ss(!0);try{Array.isArray($)?(J.clear(),$.forEach(function(je){return J.add(je)})):j($)?(J.clear(),$.forEach(function(je){return J.add(je)})):$!=null&&v("Cannot initialize set from "+$)}finally{zs(me)}}),this},R.prototype.observe=function($,J){return Nl(this,$)},R.prototype.intercept=function($){return Tu(this,$)},R.prototype.toJS=function(){return new Set(this)},R.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},R.prototype[Rl=D,Symbol.iterator]=function(){return this.values()},R}(),Ai=N("ObservableSet",Od),_d=function(){function R($,J,me,je){J===void 0&&(J=new Map),this.target=$,this.values=J,this.name=me,this.defaultEnhancer=je,this.keysAtom=new B(me+".keys")}return R.prototype.read=function($){return this.values.get($).get()},R.prototype.write=function($,J){var me=this.target,je=this.values.get($);if(je instanceof us){je.set(J);return}if(Ki(this)){var ut=Pa(this,{type:"update",object:this.proxy||me,name:$,newValue:J});if(!ut)return;J=ut.newValue}if(J=je.prepareNewValue(J),J!==Xn.UNCHANGED){var Dt=ua(this),yn=wo(),ut=Dt||yn?{type:"update",object:this.proxy||me,oldValue:je.value,name:$,newValue:J}:null;je.setNewValue(J),Dt&&Ci(this,ut)}},R.prototype.has=function($){var J=this.pendingKeys||(this.pendingKeys=new Map),me=J.get($);if(me)return me.get();var je=!!this.values.get($);return me=new Ha(je,qe,this.name+"."+F($)+"?",!1),J.set($,me),me.get()},R.prototype.addObservableProp=function($,J,me){me===void 0&&(me=this.defaultEnhancer);var je=this.target;if(Ki(this)){var ut=Pa(this,{object:this.proxy||je,name:$,type:"add",newValue:J});if(!ut)return;J=ut.newValue}var Dt=new Ha(J,me,this.name+"."+F($),!1);this.values.set($,Dt),J=Dt.value,Object.defineProperty(je,$,tm($)),this.notifyPropertyAddition($,J)},R.prototype.addComputedProp=function($,J,me){var je=this.target;me.name=me.name||this.name+"."+F(J),this.values.set(J,new us(me)),($===je||x($,J))&&Object.defineProperty($,J,Wc(J))},R.prototype.remove=function($){if(!!this.values.has($)){var J=this.target;if(Ki(this)){var me=Pa(this,{object:this.proxy||J,name:$,type:"remove"});if(!me)return}try{So();var je=ua(this),ut=wo(),Dt=this.values.get($),yn=Dt&&Dt.get();if(Dt&&Dt.set(void 0),this.keysAtom.reportChanged(),this.values.delete($),this.pendingKeys){var Zn=this.pendingKeys.get($);Zn&&Zn.set(!1)}delete this.target[$];var me=je||ut?{type:"remove",object:this.proxy||J,oldValue:yn,name:$}:null;je&&Ci(this,me)}finally{sa()}}},R.prototype.illegalAccess=function($,J){console.warn("Property '"+J+"' of '"+$+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},R.prototype.observe=function($,J){return Nl(this,$)},R.prototype.intercept=function($){return Tu(this,$)},R.prototype.notifyPropertyAddition=function($,J){var me=ua(this),je=wo(),ut=me||je?{type:"add",object:this.proxy||this.target,name:$,newValue:J}:null;if(me&&Ci(this,ut),this.pendingKeys){var Dt=this.pendingKeys.get($);Dt&&Dt.set(!0)}this.keysAtom.reportChanged()},R.prototype.getKeys=function(){var $,J;this.keysAtom.reportObserved();var me=[];try{for(var je=$e(this.values),ut=je.next();!ut.done;ut=je.next()){var Dt=Ie(ut.value,2),yn=Dt[0],Zn=Dt[1];Zn instanceof Ha&&me.push(yn)}}catch(Fr){$={error:Fr}}finally{try{ut&&!ut.done&&(J=je.return)&&J.call(je)}finally{if($)throw $.error}}return me},R}();function Td(R,$,J){if($===void 0&&($=""),J===void 0&&(J=lt),Object.prototype.hasOwnProperty.call(R,D))return R[D];_(R)||($=(R.constructor.name||"ObservableObject")+"@"+h()),$||($="ObservableObject@"+h());var me=new _d(R,new Map,F($),J);return T(R,D,me),me}var Cp=Object.create(null),Ap=Object.create(null);function tm(R){return Cp[R]||(Cp[R]={configurable:!0,enumerable:!0,get:function(){return this[D].read(R)},set:function($){this[D].write(R,$)}})}function Gc(R){var $=R[D];return $||(se(R),R[D])}function Wc(R){return Ap[R]||(Ap[R]={configurable:Xn.computedConfigurable,enumerable:!1,get:function(){return Gc(this).read(R)},set:function($){Gc(this).write(R,$)}})}var Cd=N("ObservableObjectAdministration",_d);function Ri(R){return O(R)?(se(R),Cd(R[D])):!1}function bi(R,$){if(typeof R=="object"&&R!==null){if(ca(R))return $!==void 0&&v(!1),R[D].atom;if(Ai(R))return R[D];if(Zo(R)){var J=R;if($===void 0)return J._keysAtom;var me=J._data.get($)||J._hasMap.get($);return me||v(!1),me}if(se(R),$&&!R[D]&&R[$],Ri(R)){if(!$)return v(!1);var me=R[D].values.get($);return me||v(!1),me}if(V(R)||cs(R)||Bc(R))return R}else if(typeof R=="function"&&Bc(R[D]))return R[D];return v(!1)}function Gs(R,$){if(R||v("Expecting some object"),$!==void 0)return Gs(bi(R,$));if(V(R)||cs(R)||Bc(R)||Zo(R)||Ai(R))return R;if(se(R),R[D])return R[D];v(!1)}function Ad(R,$){var J;return $!==void 0?J=bi(R,$):Ri(R)||Zo(R)||Ai(R)?J=Gs(R):J=bi(R),J.name}var Kc=Object.prototype.toString;function Il(R,$,J){return J===void 0&&(J=-1),Dl(R,$,J)}function Dl(R,$,J,me,je){if(R===$)return R!==0||1/R===1/$;if(R==null||$==null)return!1;if(R!==R)return $!==$;var ut=typeof R;if(ut!=="function"&&ut!=="object"&&typeof $!="object")return!1;var Dt=Kc.call(R);if(Dt!==Kc.call($))return!1;switch(Dt){case"[object RegExp]":case"[object String]":return""+R==""+$;case"[object Number]":return+R!=+R?+$!=+$:+R==0?1/+R===1/$:+R==+$;case"[object Date]":case"[object Boolean]":return+R==+$;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(R)===Symbol.valueOf.call($);case"[object Map]":case"[object Set]":J>=0&&J++;break}R=Pd(R),$=Pd($);var yn=Dt==="[object Array]";if(!yn){if(typeof R!="object"||typeof $!="object")return!1;var Zn=R.constructor,Fr=$.constructor;if(Zn!==Fr&&!(typeof Zn=="function"&&Zn instanceof Zn&&typeof Fr=="function"&&Fr instanceof Fr)&&"constructor"in R&&"constructor"in $)return!1}if(J===0)return!1;J<0&&(J=-1),me=me||[],je=je||[];for(var Gr=me.length;Gr--;)if(me[Gr]===R)return je[Gr]===$;if(me.push(R),je.push($),yn){if(Gr=R.length,Gr!==$.length)return!1;for(;Gr--;)if(!Dl(R[Gr],$[Gr],J-1,me,je))return!1}else{var co=Object.keys(R),ho=void 0;if(Gr=co.length,Object.keys($).length!==Gr)return!1;for(;Gr--;)if(ho=co[Gr],!(Pp($,ho)&&Dl(R[ho],$[ho],J-1,me,je)))return!1}return me.pop(),je.pop(),!0}function Pd(R){return ca(R)?R.slice():L(R)||Zo(R)||j(R)||Ai(R)?Array.from(R.entries()):R}function Pp(R,$){return Object.prototype.hasOwnProperty.call(R,$)}function Pu(R){return R[Symbol.iterator]=Xc,R}function Xc(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");try{}catch{var xd=Tl();typeof i>"u"&&(xd.process={}),xd.process.env={}}(function(){function R(){}if(R.name!=="testCodeMinification"&&!1)var $})(),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:vp,extras:{getDebugName:Ad},$mobx:D})}).call(this,o(155),o(82))},function(n,r,o){o.d(r,"a",function(){return x}),o.d(r,"b",function(){return P}),o.d(r,"c",function(){return Le}),o.d(r,"d",function(){return he}),o.d(r,"e",function(){return _}),o.d(r,"f",function(){return T}),o.d(r,"g",function(){return _}),o.d(r,"h",function(){return Ie}),o.d(r,"i",function(){return a}),o.d(r,"j",function(){return $e}),o.d(r,"k",function(){return M});var i,a,s,f,d,h,v,y={},m=[],b=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function S(te,ae){for(var Ce in ae)te[Ce]=ae[Ce];return te}function O(te){var ae=te.parentNode;ae&&ae.removeChild(te)}function _(te,ae,Ce){var Ze,se,de,ze={};for(de in ae)de=="key"?Ze=ae[de]:de=="ref"?se=ae[de]:ze[de]=ae[de];if(arguments.length>2&&(ze.children=arguments.length>3?i.call(arguments,2):Ce),typeof te=="function"&&te.defaultProps!=null)for(de in te.defaultProps)ze[de]===void 0&&(ze[de]=te.defaultProps[de]);return A(te,ze,Ze,se,null)}function A(te,ae,Ce,Ze,se){var de={type:te,props:ae,key:Ce,ref:Ze,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:se==null?++s:se};return se==null&&a.vnode!=null&&a.vnode(de),de}function T(){return{current:null}}function P(te){return te.children}function x(te,ae){this.props=te,this.context=ae}function N(te,ae){if(ae==null)return te.__?N(te.__,te.__.__k.indexOf(te)+1):null;for(var Ce;ae<te.__k.length;ae++)if((Ce=te.__k[ae])!=null&&Ce.__e!=null)return Ce.__e;return typeof te.type=="function"?N(te):null}function L(te){var ae,Ce;if((te=te.__)!=null&&te.__c!=null){for(te.__e=te.__c.base=null,ae=0;ae<te.__k.length;ae++)if((Ce=te.__k[ae])!=null&&Ce.__e!=null){te.__e=te.__c.base=Ce.__e;break}return L(te)}}function j(te){(!te.__d&&(te.__d=!0)&&f.push(te)&&!k.__r++||h!==a.debounceRendering)&&((h=a.debounceRendering)||d)(k)}function k(){for(var te;k.__r=f.length;)te=f.sort(function(ae,Ce){return ae.__v.__b-Ce.__v.__b}),f=[],te.some(function(ae){var Ce,Ze,se,de,ze,lt;ae.__d&&(ze=(de=(Ce=ae).__v).__e,(lt=Ce.__P)&&(Ze=[],(se=S({},de)).__v=de.__v+1,W(lt,de,se,Ce.__n,lt.ownerSVGElement!==void 0,de.__h!=null?[ze]:null,Ze,ze==null?N(de):ze,de.__h),ie(Ze,de),de.__e!=ze&&L(de)))})}function F(te,ae,Ce,Ze,se,de,ze,lt,Re,qe){var pe,Ue,Ke,Ve,ne,fe,Me,it=Ze&&Ze.__k||m,Oe=it.length;for(Ce.__k=[],pe=0;pe<ae.length;pe++)if((Ve=Ce.__k[pe]=(Ve=ae[pe])==null||typeof Ve=="boolean"?null:typeof Ve=="string"||typeof Ve=="number"||typeof Ve=="bigint"?A(null,Ve,null,null,Ve):Array.isArray(Ve)?A(P,{children:Ve},null,null,null):Ve.__b>0?A(Ve.type,Ve.props,Ve.key,null,Ve.__v):Ve)!=null){if(Ve.__=Ce,Ve.__b=Ce.__b+1,(Ke=it[pe])===null||Ke&&Ve.key==Ke.key&&Ve.type===Ke.type)it[pe]=void 0;else for(Ue=0;Ue<Oe;Ue++){if((Ke=it[Ue])&&Ve.key==Ke.key&&Ve.type===Ke.type){it[Ue]=void 0;break}Ke=null}W(te,Ve,Ke=Ke||y,se,de,ze,lt,Re,qe),ne=Ve.__e,(Ue=Ve.ref)&&Ke.ref!=Ue&&(Me||(Me=[]),Ke.ref&&Me.push(Ke.ref,null,Ve),Me.push(Ue,Ve.__c||ne,Ve)),ne!=null?(fe==null&&(fe=ne),typeof Ve.type=="function"&&Ve.__k===Ke.__k?Ve.__d=Re=z(Ve,Re,te):Re=D(te,Ve,Ke,it,ne,Re),typeof Ce.type=="function"&&(Ce.__d=Re)):Re&&Ke.__e==Re&&Re.parentNode!=te&&(Re=N(Ke))}for(Ce.__e=fe,pe=Oe;pe--;)it[pe]!=null&&(typeof Ce.type=="function"&&it[pe].__e!=null&&it[pe].__e==Ce.__d&&(Ce.__d=N(Ze,pe+1)),ue(it[pe],it[pe]));if(Me)for(pe=0;pe<Me.length;pe++)ee(Me[pe],Me[++pe],Me[++pe])}function z(te,ae,Ce){for(var Ze,se=te.__k,de=0;se&&de<se.length;de++)(Ze=se[de])&&(Ze.__=te,ae=typeof Ze.type=="function"?z(Ze,ae,Ce):D(Ce,Ze,Ze,se,Ze.__e,ae));return ae}function M(te,ae){return ae=ae||[],te==null||typeof te=="boolean"||(Array.isArray(te)?te.some(function(Ce){M(Ce,ae)}):ae.push(te)),ae}function D(te,ae,Ce,Ze,se,de){var ze,lt,Re;if(ae.__d!==void 0)ze=ae.__d,ae.__d=void 0;else if(Ce==null||se!=de||se.parentNode==null)e:if(de==null||de.parentNode!==te)te.appendChild(se),ze=null;else{for(lt=de,Re=0;(lt=lt.nextSibling)&&Re<Ze.length;Re+=2)if(lt==se)break e;te.insertBefore(se,de),ze=de}return ze!==void 0?ze:se.nextSibling}function B(te,ae,Ce,Ze,se){var de;for(de in Ce)de==="children"||de==="key"||de in ae||Y(te,de,null,Ce[de],Ze);for(de in ae)se&&typeof ae[de]!="function"||de==="children"||de==="key"||de==="value"||de==="checked"||Ce[de]===ae[de]||Y(te,de,ae[de],Ce[de],Ze)}function V(te,ae,Ce){ae[0]==="-"?te.setProperty(ae,Ce):te[ae]=Ce==null?"":typeof Ce!="number"||b.test(ae)?Ce:Ce+"px"}function Y(te,ae,Ce,Ze,se){var de;e:if(ae==="style")if(typeof Ce=="string")te.style.cssText=Ce;else{if(typeof Ze=="string"&&(te.style.cssText=Ze=""),Ze)for(ae in Ze)Ce&&ae in Ce||V(te.style,ae,"");if(Ce)for(ae in Ce)Ze&&Ce[ae]===Ze[ae]||V(te.style,ae,Ce[ae])}else if(ae[0]==="o"&&ae[1]==="n")de=ae!==(ae=ae.replace(/Capture$/,"")),ae=ae.toLowerCase()in te?ae.toLowerCase().slice(2):ae.slice(2),te.l||(te.l={}),te.l[ae+de]=Ce,Ce?Ze||te.addEventListener(ae,de?X:K,de):te.removeEventListener(ae,de?X:K,de);else if(ae!=="dangerouslySetInnerHTML"){if(se)ae=ae.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(ae!=="href"&&ae!=="list"&&ae!=="form"&&ae!=="tabIndex"&&ae!=="download"&&ae in te)try{te[ae]=Ce==null?"":Ce;break e}catch{}typeof Ce=="function"||(Ce!=null&&(Ce!==!1||ae[0]==="a"&&ae[1]==="r")?te.setAttribute(ae,Ce):te.removeAttribute(ae))}}function K(te){this.l[te.type+!1](a.event?a.event(te):te)}function X(te){this.l[te.type+!0](a.event?a.event(te):te)}function W(te,ae,Ce,Ze,se,de,ze,lt,Re){var qe,pe,Ue,Ke,Ve,ne,fe,Me,it,Oe,_e,nt=ae.type;if(ae.constructor!==void 0)return null;Ce.__h!=null&&(Re=Ce.__h,lt=ae.__e=Ce.__e,ae.__h=null,de=[lt]),(qe=a.__b)&&qe(ae);try{e:if(typeof nt=="function"){if(Me=ae.props,it=(qe=nt.contextType)&&Ze[qe.__c],Oe=qe?it?it.props.value:qe.__:Ze,Ce.__c?fe=(pe=ae.__c=Ce.__c).__=pe.__E:("prototype"in nt&&nt.prototype.render?ae.__c=pe=new nt(Me,Oe):(ae.__c=pe=new x(Me,Oe),pe.constructor=nt,pe.render=Ne),it&&it.sub(pe),pe.props=Me,pe.state||(pe.state={}),pe.context=Oe,pe.__n=Ze,Ue=pe.__d=!0,pe.__h=[]),pe.__s==null&&(pe.__s=pe.state),nt.getDerivedStateFromProps!=null&&(pe.__s==pe.state&&(pe.__s=S({},pe.__s)),S(pe.__s,nt.getDerivedStateFromProps(Me,pe.__s))),Ke=pe.props,Ve=pe.state,Ue)nt.getDerivedStateFromProps==null&&pe.componentWillMount!=null&&pe.componentWillMount(),pe.componentDidMount!=null&&pe.__h.push(pe.componentDidMount);else{if(nt.getDerivedStateFromProps==null&&Me!==Ke&&pe.componentWillReceiveProps!=null&&pe.componentWillReceiveProps(Me,Oe),!pe.__e&&pe.shouldComponentUpdate!=null&&pe.shouldComponentUpdate(Me,pe.__s,Oe)===!1||ae.__v===Ce.__v){pe.props=Me,pe.state=pe.__s,ae.__v!==Ce.__v&&(pe.__d=!1),pe.__v=ae,ae.__e=Ce.__e,ae.__k=Ce.__k,ae.__k.forEach(function(Se){Se&&(Se.__=ae)}),pe.__h.length&&ze.push(pe);break e}pe.componentWillUpdate!=null&&pe.componentWillUpdate(Me,pe.__s,Oe),pe.componentDidUpdate!=null&&pe.__h.push(function(){pe.componentDidUpdate(Ke,Ve,ne)})}pe.context=Oe,pe.props=Me,pe.state=pe.__s,(qe=a.__r)&&qe(ae),pe.__d=!1,pe.__v=ae,pe.__P=te,qe=pe.render(pe.props,pe.state,pe.context),pe.state=pe.__s,pe.getChildContext!=null&&(Ze=S(S({},Ze),pe.getChildContext())),Ue||pe.getSnapshotBeforeUpdate==null||(ne=pe.getSnapshotBeforeUpdate(Ke,Ve)),_e=qe!=null&&qe.type===P&&qe.key==null?qe.props.children:qe,F(te,Array.isArray(_e)?_e:[_e],ae,Ce,Ze,se,de,ze,lt,Re),pe.base=ae.__e,ae.__h=null,pe.__h.length&&ze.push(pe),fe&&(pe.__E=pe.__=null),pe.__e=!1}else de==null&&ae.__v===Ce.__v?(ae.__k=Ce.__k,ae.__e=Ce.__e):ae.__e=oe(Ce.__e,ae,Ce,Ze,se,de,ze,Re);(qe=a.diffed)&&qe(ae)}catch(Se){ae.__v=null,(Re||de!=null)&&(ae.__e=lt,ae.__h=!!Re,de[de.indexOf(lt)]=null),a.__e(Se,ae,Ce)}}function ie(te,ae){a.__c&&a.__c(ae,te),te.some(function(Ce){try{te=Ce.__h,Ce.__h=[],te.some(function(Ze){Ze.call(Ce)})}catch(Ze){a.__e(Ze,Ce.__v)}})}function oe(te,ae,Ce,Ze,se,de,ze,lt){var Re,qe,pe,Ue=Ce.props,Ke=ae.props,Ve=ae.type,ne=0;if(Ve==="svg"&&(se=!0),de!=null){for(;ne<de.length;ne++)if((Re=de[ne])&&"setAttribute"in Re==!!Ve&&(Ve?Re.localName===Ve:Re.nodeType===3)){te=Re,de[ne]=null;break}}if(te==null){if(Ve===null)return document.createTextNode(Ke);te=se?document.createElementNS("http://www.w3.org/2000/svg",Ve):document.createElement(Ve,Ke.is&&Ke),de=null,lt=!1}if(Ve===null)Ue===Ke||lt&&te.data===Ke||(te.data=Ke);else{if(de=de&&i.call(te.childNodes),qe=(Ue=Ce.props||y).dangerouslySetInnerHTML,pe=Ke.dangerouslySetInnerHTML,!lt){if(de!=null)for(Ue={},ne=0;ne<te.attributes.length;ne++)Ue[te.attributes[ne].name]=te.attributes[ne].value;(pe||qe)&&(pe&&(qe&&pe.__html==qe.__html||pe.__html===te.innerHTML)||(te.innerHTML=pe&&pe.__html||""))}if(B(te,Ke,Ue,se,lt),pe)ae.__k=[];else if(ne=ae.props.children,F(te,Array.isArray(ne)?ne:[ne],ae,Ce,Ze,se&&Ve!=="foreignObject",de,ze,de?de[0]:Ce.__k&&N(Ce,0),lt),de!=null)for(ne=de.length;ne--;)de[ne]!=null&&O(de[ne]);lt||("value"in Ke&&(ne=Ke.value)!==void 0&&(ne!==Ue.value||ne!==te.value||Ve==="progress"&&!ne)&&Y(te,"value",ne,Ue.value,!1),"checked"in Ke&&(ne=Ke.checked)!==void 0&&ne!==te.checked&&Y(te,"checked",ne,Ue.checked,!1))}return te}function ee(te,ae,Ce){try{typeof te=="function"?te(ae):te.current=ae}catch(Ze){a.__e(Ze,Ce)}}function ue(te,ae,Ce){var Ze,se;if(a.unmount&&a.unmount(te),(Ze=te.ref)&&(Ze.current&&Ze.current!==te.__e||ee(Ze,null,ae)),(Ze=te.__c)!=null){if(Ze.componentWillUnmount)try{Ze.componentWillUnmount()}catch(de){a.__e(de,ae)}Ze.base=Ze.__P=null}if(Ze=te.__k)for(se=0;se<Ze.length;se++)Ze[se]&&ue(Ze[se],ae,typeof te.type!="function");Ce||te.__e==null||O(te.__e),te.__e=te.__d=void 0}function Ne(te,ae,Ce){return this.constructor(te,Ce)}function $e(te,ae,Ce){var Ze,se,de;a.__&&a.__(te,ae),se=(Ze=typeof Ce=="function")?null:Ce&&Ce.__k||ae.__k,de=[],W(ae,te=(!Ze&&Ce||ae).__k=_(P,null,[te]),se||y,y,ae.ownerSVGElement!==void 0,!Ze&&Ce?[Ce]:se?null:ae.firstChild?i.call(ae.childNodes):null,de,!Ze&&Ce?Ce:se?se.__e:ae.firstChild,Ze),ie(de,te)}function Ie(te,ae){$e(te,ae,Ie)}function Le(te,ae,Ce){var Ze,se,de,ze=S({},te.props);for(de in ae)de=="key"?Ze=ae[de]:de=="ref"?se=ae[de]:ze[de]=ae[de];return arguments.length>2&&(ze.children=arguments.length>3?i.call(arguments,2):Ce),A(te.type,ze,Ze||te.key,se||te.ref,null)}function he(te,ae){var Ce={__c:ae="__cC"+v++,__:te,Consumer:function(Ze,se){return Ze.children(se)},Provider:function(Ze){var se,de;return this.getChildContext||(se=[],(de={})[ae]=this,this.getChildContext=function(){return de},this.shouldComponentUpdate=function(ze){this.props.value!==ze.value&&se.some(j)},this.sub=function(ze){se.push(ze);var lt=ze.componentWillUnmount;ze.componentWillUnmount=function(){se.splice(se.indexOf(ze),1),lt&&lt.call(ze)}}),Ze.children}};return Ce.Provider.__=Ce.Consumer.contextType=Ce}i=m.slice,a={__e:function(te,ae){for(var Ce,Ze,se;ae=ae.__;)if((Ce=ae.__c)&&!Ce.__)try{if((Ze=Ce.constructor)&&Ze.getDerivedStateFromError!=null&&(Ce.setState(Ze.getDerivedStateFromError(te)),se=Ce.__d),Ce.componentDidCatch!=null&&(Ce.componentDidCatch(te),se=Ce.__d),se)return Ce.__E=Ce}catch(de){te=de}throw te}},s=0,x.prototype.setState=function(te,ae){var Ce;Ce=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=S({},this.state),typeof te=="function"&&(te=te(S({},Ce),this.props)),te&&S(Ce,te),te!=null&&this.__v&&(ae&&this.__h.push(ae),j(this))},x.prototype.forceUpdate=function(te){this.__v&&(this.__e=!0,te&&this.__h.push(te),j(this))},x.prototype.render=P,f=[],d=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,k.__r=0,v=0},function(n,r,o){var i=o(116),a=o(44),s=o(178);i||a(Object.prototype,"toString",s,{unsafe:!0})},function(n,r,o){var i=o(39),a=o(83),s=o(70),f=o(56),d=o(111),h="Array Iterator",v=f.set,y=f.getterFor(h);n.exports=d(Array,"Array",function(m,b){v(this,{type:h,target:i(m),index:0,kind:b})},function(){var m=y(this),b=m.target,S=m.kind,O=m.index++;return!b||O>=b.length?(m.target=void 0,{value:void 0,done:!0}):S=="keys"?{value:O,done:!1}:S=="values"?{value:b[O],done:!1}:{value:[O,b[O]],done:!1}},"values"),s.Arguments=s.Array,a("keys"),a("values"),a("entries")},function(n,r,o){var i=o(7),a=o(147),s=o(148),f=o(3),d=o(57),h=o(27),v=h("iterator"),y=h("toStringTag"),m=f.values,b=function(O,_){if(O){if(O[v]!==m)try{d(O,v,m)}catch{O[v]=m}if(O[y]||d(O,y,_),a[_]){for(var A in f)if(O[A]!==f[A])try{d(O,A,f[A])}catch{O[A]=f[A]}}}};for(var S in a)b(i[S]&&i[S].prototype,S);b(s,"DOMTokenList")},function(n,r,o){var i=o(16),a=o(7),s=o(46),f=o(76),d=o(35),h=o(15),v=o(64),y=o(36),m=o(109),b=o(18),S=o(34),O=o(99),_=o(28),A=o(33),T=o(58),P=o(88),x=o(32),N=o(38),L=o(39),j=o(87),k=o(40),F=o(71),z=o(54),M=o(66),D=o(72),B=o(139),V=o(112),Y=o(51),K=o(37),X=o(93),W=o(101),ie=o(44),oe=o(84),ee=o(91),ue=o(69),Ne=o(85),$e=o(27),Ie=o(149),Le=o(150),he=o(73),te=o(56),ae=o(74).forEach,Ce=ee("hidden"),Ze="Symbol",se="prototype",de=$e("toPrimitive"),ze=te.set,lt=te.getterFor(Ze),Re=Object[se],qe=a.Symbol,pe=qe&&qe[se],Ue=a.TypeError,Ke=a.QObject,Ve=s("JSON","stringify"),ne=Y.f,fe=K.f,Me=B.f,it=X.f,Oe=h([].push),_e=oe("symbols"),nt=oe("op-symbols"),Se=oe("string-to-symbol-registry"),tt=oe("symbol-to-string-registry"),we=oe("wks"),ht=!Ke||!Ke[se]||!Ke[se].findChild,yt=y&&b(function(){return z(fe({},"a",{get:function(){return fe(this,"a",{value:7}).a}})).a!=7})?function(rt,vt,Jt){var An=ne(Re,vt);An&&delete Re[vt],fe(rt,vt,Jt),An&&rt!==Re&&fe(Re,vt,An)}:fe,Et=function(rt,vt){var Jt=_e[rt]=z(pe);return ze(Jt,{type:Ze,tag:rt,description:vt}),y||(Jt.description=vt),Jt},Wt=function(vt,Jt,An){vt===Re&&Wt(nt,Jt,An),x(vt);var Yn=j(Jt);return x(An),S(_e,Yn)?(An.enumerable?(S(vt,Ce)&&vt[Ce][Yn]&&(vt[Ce][Yn]=!1),An=z(An,{enumerable:F(0,!1)})):(S(vt,Ce)||fe(vt,Ce,F(1,{})),vt[Ce][Yn]=!0),yt(vt,Yn,An)):fe(vt,Yn,An)},ur=function(vt,Jt){x(vt);var An=L(Jt),Yn=M(An).concat(Ot(An));return ae(Yn,function(Jr){(!y||d(Dn,An,Jr))&&Wt(vt,Jr,An[Jr])}),vt},tn=function(vt,Jt){return Jt===void 0?z(vt):ur(z(vt),Jt)},Dn=function(vt){var Jt=j(vt),An=d(it,this,Jt);return this===Re&&S(_e,Jt)&&!S(nt,Jt)?!1:An||!S(this,Jt)||!S(_e,Jt)||S(this,Ce)&&this[Ce][Jt]?An:!0},vn=function(vt,Jt){var An=L(vt),Yn=j(Jt);if(!(An===Re&&S(_e,Yn)&&!S(nt,Yn))){var Jr=ne(An,Yn);return Jr&&S(_e,Yn)&&!(S(An,Ce)&&An[Ce][Yn])&&(Jr.enumerable=!0),Jr}},Ln=function(vt){var Jt=Me(L(vt)),An=[];return ae(Jt,function(Yn){!S(_e,Yn)&&!S(ue,Yn)&&Oe(An,Yn)}),An},Ot=function(vt){var Jt=vt===Re,An=Me(Jt?nt:L(vt)),Yn=[];return ae(An,function(Jr){S(_e,Jr)&&(!Jt||S(Re,Jr))&&Oe(Yn,_e[Jr])}),Yn};if(m||(qe=function(){if(T(pe,this))throw Ue("Symbol is not a constructor");var vt=!arguments.length||arguments[0]===void 0?void 0:k(arguments[0]),Jt=Ne(vt),An=function(Yn){this===Re&&d(An,nt,Yn),S(this,Ce)&&S(this[Ce],Jt)&&(this[Ce][Jt]=!1),yt(this,Jt,F(1,Yn))};return y&&ht&&yt(Re,Jt,{configurable:!0,set:An}),Et(Jt,vt)},pe=qe[se],ie(pe,"toString",function(){return lt(this).tag}),ie(qe,"withoutSetter",function(rt){return Et(Ne(rt),rt)}),X.f=Dn,K.f=Wt,Y.f=vn,D.f=B.f=Ln,V.f=Ot,Ie.f=function(rt){return Et($e(rt),rt)},y&&(fe(pe,"description",{configurable:!0,get:function(){return lt(this).description}}),v||ie(Re,"propertyIsEnumerable",Dn,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!m,sham:!m},{Symbol:qe}),ae(M(we),function(rt){Le(rt)}),i({target:Ze,stat:!0,forced:!m},{for:function(rt){var vt=k(rt);if(S(Se,vt))return Se[vt];var Jt=qe(vt);return Se[vt]=Jt,tt[Jt]=vt,Jt},keyFor:function(vt){if(!P(vt))throw Ue(vt+" is not a symbol");if(S(tt,vt))return tt[vt]},useSetter:function(){ht=!0},useSimple:function(){ht=!1}}),i({target:"Object",stat:!0,forced:!m,sham:!y},{create:tn,defineProperty:Wt,defineProperties:ur,getOwnPropertyDescriptor:vn}),i({target:"Object",stat:!0,forced:!m},{getOwnPropertyNames:Ln,getOwnPropertySymbols:Ot}),i({target:"Object",stat:!0,forced:b(function(){V.f(1)})},{getOwnPropertySymbols:function(vt){return V.f(N(vt))}}),Ve){var be=!m||b(function(){var rt=qe();return Ve([rt])!="[null]"||Ve({a:rt})!="{}"||Ve(Object(rt))!="{}"});i({target:"JSON",stat:!0,forced:be},{stringify:function(vt,Jt,An){var Yn=W(arguments),Jr=Jt;if(!(!A(Jt)&&vt===void 0||P(vt)))return O(Jt)||(Jt=function(ui,ci){if(_(Jr)&&(ci=d(Jr,this,ui,ci)),!P(ci))return ci}),Yn[1]=Jt,f(Ve,null,Yn)}})}if(!pe[de]){var We=pe.valueOf;ie(pe,de,function(rt){return d(We,this)})}he(qe,Ze),ue[Ce]=!0},function(n,r,o){var i=o(146).charAt,a=o(40),s=o(56),f=o(111),d="String Iterator",h=s.set,v=s.getterFor(d);f(String,"String",function(y){h(this,{type:d,string:a(y),index:0})},function(){var m=v(this),b=m.string,S=m.index,O;return S>=b.length?{value:void 0,done:!0}:(O=i(b,S),m.index+=O.length,{value:O,done:!1})})},function(n,r,o){(function(i){var a=function(s){return s&&s.Math==Math&&s};n.exports=a(typeof globalThis=="object"&&globalThis)||a(typeof window=="object"&&window)||a(typeof self=="object"&&self)||a(typeof i=="object"&&i)||function(){return this}()||Function("return this")()}).call(this,o(82))},function(n,r,o){var i=o(16),a=o(36),s=o(7),f=o(15),d=o(34),h=o(28),v=o(58),y=o(40),m=o(37).f,b=o(134),S=s.Symbol,O=S&&S.prototype;if(a&&h(S)&&(!("description"in O)||S().description!==void 0)){var _={},A=function(){var F=arguments.length<1||arguments[0]===void 0?void 0:y(arguments[0]),z=v(O,this)?new S(F):F===void 0?S():S(F);return F===""&&(_[z]=!0),z};b(A,S),A.prototype=O,O.constructor=A;var T=String(S("test"))=="Symbol(test)",P=f(O.toString),x=f(O.valueOf),N=/^Symbol\((.*)\)[^)]+$/,L=f("".replace),j=f("".slice);m(O,"description",{configurable:!0,get:function(){var F=x(this),z=P(F);if(d(_,F))return"";var M=T?j(z,7,-1):L(z,N,"$1");return M===""?void 0:M}}),i({global:!0,forced:!0},{Symbol:A})}},function(n,r,o){var i=o(150);i("iterator")},function(n,r,o){o.d(r,"a",function(){return i.a}),o.d(r,"c",function(){return i.e}),o.d(r,"h",function(){return j}),o.d(r,"i",function(){return T}),o.d(r,"j",function(){return _}),o.d(r,"b",function(){return ie}),o.d(r,"e",function(){return Ne}),o.d(r,"f",function(){return oe}),o.d(r,"g",function(){return Dn});var i=o(1),a,s,f,d=0,h=[],v=i.i.__b,y=i.i.__r,m=i.i.diffed,b=i.i.__c,S=i.i.unmount;function O(be,We){i.i.__h&&i.i.__h(s,be,d||We),d=0;var rt=s.__H||(s.__H={__:[],__h:[]});return be>=rt.__.length&&rt.__.push({}),rt.__[be]}function _(be){return d=1,A(K,be)}function A(be,We,rt){var vt=O(a++,2);return vt.t=be,vt.__c||(vt.__=[rt?rt(We):K(void 0,We),function(Jt){var An=vt.t(vt.__[0],Jt);vt.__[0]!==An&&(vt.__=[An,vt.__[1]],vt.__c.setState({}))}],vt.__c=s),vt.__}function T(be,We){var rt=O(a++,3);!i.i.__s&&Y(rt.__H,We)&&(rt.__=be,rt.__H=We,s.__H.__h.push(rt))}function P(be,We){var rt=O(a++,4);!i.i.__s&&Y(rt.__H,We)&&(rt.__=be,rt.__H=We,s.__h.push(rt))}function x(be){return d=5,L(function(){return{current:be}},[])}function N(be,We,rt){d=6,P(function(){typeof be=="function"?be(We()):be&&(be.current=We())},rt==null?rt:rt.concat(be))}function L(be,We){var rt=O(a++,7);return Y(rt.__H,We)&&(rt.__=be(),rt.__H=We,rt.__h=be),rt.__}function j(be,We){return d=8,L(function(){return be},We)}function k(be){var We=s.context[be.__c],rt=O(a++,9);return rt.c=be,We?(rt.__==null&&(rt.__=!0,We.sub(s)),We.props.value):be.__}function F(be,We){i.i.useDebugValue&&i.i.useDebugValue(We?We(be):be)}function z(){var be;for(h.sort(function(We,rt){return We.__v.__b-rt.__v.__b});be=h.pop();)if(be.__P)try{be.__H.__h.forEach(B),be.__H.__h.forEach(V),be.__H.__h=[]}catch(We){be.__H.__h=[],i.i.__e(We,be.__v)}}i.i.__b=function(be){s=null,v&&v(be)},i.i.__r=function(be){y&&y(be),a=0;var We=(s=be.__c).__H;We&&(We.__h.forEach(B),We.__h.forEach(V),We.__h=[])},i.i.diffed=function(be){m&&m(be);var We=be.__c;We&&We.__H&&We.__H.__h.length&&(h.push(We)!==1&&f===i.i.requestAnimationFrame||((f=i.i.requestAnimationFrame)||D)(z)),s=null},i.i.__c=function(be,We){We.some(function(rt){try{rt.__h.forEach(B),rt.__h=rt.__h.filter(function(vt){return!vt.__||V(vt)})}catch(vt){We.some(function(Jt){Jt.__h&&(Jt.__h=[])}),We=[],i.i.__e(vt,rt.__v)}}),b&&b(be,We)},i.i.unmount=function(be){S&&S(be);var We,rt=be.__c;rt&&rt.__H&&(rt.__H.__.forEach(function(vt){try{B(vt)}catch(Jt){We=Jt}}),We&&i.i.__e(We,rt.__v))};var M=typeof requestAnimationFrame=="function";function D(be){var We,rt=function(){clearTimeout(vt),M&&cancelAnimationFrame(We),setTimeout(be)},vt=setTimeout(rt,100);M&&(We=requestAnimationFrame(rt))}function B(be){var We=s,rt=be.__c;typeof rt=="function"&&(be.__c=void 0,rt()),s=We}function V(be){var We=s;be.__c=be.__(),s=We}function Y(be,We){return!be||be.length!==We.length||We.some(function(rt,vt){return rt!==be[vt]})}function K(be,We){return typeof We=="function"?We(be):We}function X(be,We){for(var rt in We)be[rt]=We[rt];return be}function W(be,We){for(var rt in be)if(rt!=="__source"&&!(rt in We))return!0;for(var vt in We)if(vt!=="__source"&&be[vt]!==We[vt])return!0;return!1}function ie(be){this.props=be}function oe(be,We){function rt(Jt){var An=this.props.ref,Yn=An==Jt.ref;return!Yn&&An&&(An.call?An(null):An.current=null),We?!We(this.props,Jt)||!Yn:W(this.props,Jt)}function vt(Jt){return this.shouldComponentUpdate=rt,Object(i.e)(be,Jt)}return vt.displayName="Memo("+(be.displayName||be.name)+")",vt.prototype.isReactComponent=!0,vt.__f=!0,vt}(ie.prototype=new i.a).isPureReactComponent=!0,ie.prototype.shouldComponentUpdate=function(be,We){return W(this.props,be)||W(this.state,We)};var ee=i.i.__b;i.i.__b=function(be){be.type&&be.type.__f&&be.ref&&(be.props.ref=be.ref,be.ref=null),ee&&ee(be)};var ue=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Ne(be){function We(rt,vt){var Jt=X({},rt);return delete Jt.ref,be(Jt,!(vt=rt.ref||vt)||typeof vt=="object"&&!("current"in vt)?null:vt)}return We.$$typeof=ue,We.render=We,We.prototype.isReactComponent=We.__f=!0,We.displayName="ForwardRef("+(be.displayName||be.name)+")",We}var $e=function(be,We){return be==null?null:Object(i.k)(Object(i.k)(be).map(We))},Ie={map:$e,forEach:$e,count:function(be){return be?Object(i.k)(be).length:0},only:function(be){var We=Object(i.k)(be);if(We.length!==1)throw"Children.only";return We[0]},toArray:i.k},Le=i.i.__e;i.i.__e=function(be,We,rt){if(be.then){for(var vt,Jt=We;Jt=Jt.__;)if((vt=Jt.__c)&&vt.__c)return We.__e==null&&(We.__e=rt.__e,We.__k=rt.__k),vt.__c(be,We)}Le(be,We,rt)};var he=i.i.unmount;function te(be,We,rt){return be&&(be.__c&&be.__c.__H&&(be.__c.__H.__.forEach(function(vt){typeof vt.__c=="function"&&vt.__c()}),be.__c.__H=null),(be=X({},be)).__c!=null&&(be.__c.__P===rt&&(be.__c.__P=We),be.__c=null),be.__k=be.__k&&be.__k.map(function(vt){return te(vt,We,rt)})),be}function ae(be,We,rt){return be&&(be.__v=null,be.__k=be.__k&&be.__k.map(function(vt){return ae(vt,We,rt)}),be.__c&&be.__c.__P===We&&(be.__e&&rt.insertBefore(be.__e,be.__d),be.__c.__e=!0,be.__c.__P=rt)),be}function Ce(){this.__u=0,this.t=null,this.__b=null}function Ze(be){var We=be.__.__c;return We&&We.__e&&We.__e(be)}function se(be){var We,rt,vt;function Jt(An){if(We||(We=be()).then(function(Yn){rt=Yn.default||Yn},function(Yn){vt=Yn}),vt)throw vt;if(!rt)throw We;return Object(i.e)(rt,An)}return Jt.displayName="Lazy",Jt.__f=!0,Jt}function de(){this.u=null,this.o=null}i.i.unmount=function(be){var We=be.__c;We&&We.__R&&We.__R(),We&&be.__h===!0&&(be.type=null),he&&he(be)},(Ce.prototype=new i.a).__c=function(be,We){var rt=We.__c,vt=this;vt.t==null&&(vt.t=[]),vt.t.push(rt);var Jt=Ze(vt.__v),An=!1,Yn=function(){An||(An=!0,rt.__R=null,Jt?Jt(Jr):Jr())};rt.__R=Yn;var Jr=function(){if(!--vt.__u){if(vt.state.__e){var ci=vt.state.__e;vt.__v.__k[0]=ae(ci,ci.__c.__P,ci.__c.__O)}var Fs;for(vt.setState({__e:vt.__b=null});Fs=vt.t.pop();)Fs.forceUpdate()}},ui=We.__h===!0;vt.__u++||ui||vt.setState({__e:vt.__b=vt.__v.__k[0]}),be.then(Yn,Yn)},Ce.prototype.componentWillUnmount=function(){this.t=[]},Ce.prototype.render=function(be,We){if(this.__b){if(this.__v.__k){var rt=document.createElement("div"),vt=this.__v.__k[0].__c;this.__v.__k[0]=te(this.__b,rt,vt.__O=vt.__P)}this.__b=null}var Jt=We.__e&&Object(i.e)(i.b,null,be.fallback);return Jt&&(Jt.__h=null),[Object(i.e)(i.b,null,We.__e?null:be.children),Jt]};var ze=function(be,We,rt){if(++rt[1]===rt[0]&&be.o.delete(We),be.props.revealOrder&&(be.props.revealOrder[0]!=="t"||!be.o.size))for(rt=be.u;rt;){for(;rt.length>3;)rt.pop()();if(rt[1]<rt[0])break;be.u=rt=rt[2]}};function lt(be){return this.getChildContext=function(){return be.context},be.children}function Re(be){var We=this,rt=be.i;We.componentWillUnmount=function(){Object(i.j)(null,We.l),We.l=null,We.i=null},We.i&&We.i!==rt&&We.componentWillUnmount(),be.__v?(We.l||(We.i=rt,We.l={nodeType:1,parentNode:rt,childNodes:[],appendChild:function(vt){this.childNodes.push(vt),We.i.appendChild(vt)},insertBefore:function(vt,Jt){this.childNodes.push(vt),We.i.appendChild(vt)},removeChild:function(vt){this.childNodes.splice(this.childNodes.indexOf(vt)>>>1,1),We.i.removeChild(vt)}}),Object(i.j)(Object(i.e)(lt,{context:We.context},be.__v),We.l)):We.l&&We.componentWillUnmount()}function qe(be,We){return Object(i.e)(Re,{__v:be,i:We})}(de.prototype=new i.a).__e=function(be){var We=this,rt=Ze(We.__v),vt=We.o.get(be);return vt[0]++,function(Jt){var An=function(){We.props.revealOrder?(vt.push(Jt),ze(We,be,vt)):Jt()};rt?rt(An):An()}},de.prototype.render=function(be){this.u=null,this.o=new Map;var We=Object(i.k)(be.children);be.revealOrder&&be.revealOrder[0]==="b"&&We.reverse();for(var rt=We.length;rt--;)this.o.set(We[rt],this.u=[1,0,this.u]);return be.children},de.prototype.componentDidUpdate=de.prototype.componentDidMount=function(){var be=this;this.o.forEach(function(We,rt){ze(be,rt,We)})};var pe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Ue=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Ke=typeof document<"u",Ve=function(be){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(be)};function ne(be,We,rt){return We.__k==null&&(We.textContent=""),Object(i.j)(be,We),typeof rt=="function"&&rt(),be?be.__c:null}function fe(be,We,rt){return Object(i.h)(be,We),typeof rt=="function"&&rt(),be?be.__c:null}i.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(be){Object.defineProperty(i.a.prototype,be,{configurable:!0,get:function(){return this["UNSAFE_"+be]},set:function(We){Object.defineProperty(this,be,{configurable:!0,writable:!0,value:We})}})});var Me=i.i.event;function it(){}function Oe(){return this.cancelBubble}function _e(){return this.defaultPrevented}i.i.event=function(be){return Me&&(be=Me(be)),be.persist=it,be.isPropagationStopped=Oe,be.isDefaultPrevented=_e,be.nativeEvent=be};var nt,Se={configurable:!0,get:function(){return this.class}},tt=i.i.vnode;i.i.vnode=function(be){var We=be.type,rt=be.props,vt=rt;if(typeof We=="string"){var Jt=We.indexOf("-")===-1;for(var An in vt={},rt){var Yn=rt[An];Ke&&An==="children"&&We==="noscript"||An==="value"&&"defaultValue"in rt&&Yn==null||(An==="defaultValue"&&"value"in rt&&rt.value==null?An="value":An==="download"&&Yn===!0?Yn="":/ondoubleclick/i.test(An)?An="ondblclick":/^onchange(textarea|input)/i.test(An+We)&&!Ve(rt.type)?An="oninput":/^onfocus$/i.test(An)?An="onfocusin":/^onblur$/i.test(An)?An="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(An)?An=An.toLowerCase():Jt&&Ue.test(An)?An=An.replace(/[A-Z0-9]/,"-$&").toLowerCase():Yn===null&&(Yn=void 0),vt[An]=Yn)}We=="select"&&vt.multiple&&Array.isArray(vt.value)&&(vt.value=Object(i.k)(rt.children).forEach(function(Jr){Jr.props.selected=vt.value.indexOf(Jr.props.value)!=-1})),We=="select"&&vt.defaultValue!=null&&(vt.value=Object(i.k)(rt.children).forEach(function(Jr){Jr.props.selected=vt.multiple?vt.defaultValue.indexOf(Jr.props.value)!=-1:vt.defaultValue==Jr.props.value})),be.props=vt,rt.class!=rt.className&&(Se.enumerable="className"in rt,rt.className!=null&&(vt.class=rt.className),Object.defineProperty(vt,"className",Se))}be.$$typeof=pe,tt&&tt(be)};var we=i.i.__r;i.i.__r=function(be){we&&we(be),nt=be.__c};var ht={ReactCurrentDispatcher:{current:{readContext:function(be){return nt.__n[be.__c].props.value}}}};function yt(be){return i.e.bind(null,be)}function Et(be){return!!be&&be.$$typeof===pe}function Wt(be){return Et(be)?i.c.apply(null,arguments):be}function ur(be){return!!be.__k&&(Object(i.j)(null,be),!0)}function tn(be){return be&&(be.base||be.nodeType===1&&be)||null}var Dn=function(be,We){return be(We)},vn=function(be,We){return be(We)},Ln=i.b,Ot={useState:_,useReducer:A,useEffect:T,useLayoutEffect:P,useRef:x,useImperativeHandle:N,useMemo:L,useCallback:j,useContext:k,useDebugValue:F,version:"17.0.2",Children:Ie,render:ne,hydrate:fe,unmountComponentAtNode:ur,createPortal:qe,createElement:i.e,createContext:i.d,createFactory:yt,cloneElement:Wt,createRef:i.f,Fragment:i.b,isValidElement:Et,findDOMNode:tn,Component:i.a,PureComponent:ie,memo:oe,forwardRef:Ne,flushSync:vn,unstable_batchedUpdates:Dn,StrictMode:Ln,Suspense:Ce,SuspenseList:de,lazy:se,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ht};r.d=Ot},function(n,r,o){var i=o(7),a=o(147),s=o(148),f=o(179),d=o(57),h=function(y){if(y&&y.forEach!==f)try{d(y,"forEach",f)}catch{y.forEach=f}};for(var v in a)a[v]&&h(i[v]&&i[v].prototype);h(s)},function(n,r,o){var i=o(16),a=o(97);i({target:"Object",stat:!0},{setPrototypeOf:a})},function(n,r,o){var i=o(16),a=o(18),s=o(38),f=o(96),d=o(137),h=a(function(){f(1)});i({target:"Object",stat:!0,forced:h,sham:!d},{getPrototypeOf:function(y){return f(s(y))}})},function(n,r,o){var i=o(16),a=o(46),s=o(76),f=o(199),d=o(157),h=o(32),v=o(33),y=o(54),m=o(18),b=a("Reflect","construct"),S=Object.prototype,O=[].push,_=m(function(){function P(){}return!(b(function(){},[],P)instanceof P)}),A=!m(function(){b(function(){})}),T=_||A;i({target:"Reflect",stat:!0,forced:T,sham:T},{construct:function(x,N){d(x),h(N);var L=arguments.length<3?x:d(arguments[2]);if(A&&!_)return b(x,N,L);if(x==L){switch(N.length){case 0:return new x;case 1:return new x(N[0]);case 2:return new x(N[0],N[1]);case 3:return new x(N[0],N[1],N[2]);case 4:return new x(N[0],N[1],N[2],N[3])}var j=[null];return s(O,j,N),new(s(f,x,j))}var k=L.prototype,F=y(v(k)?k:S),z=s(x,F,N);return v(z)?z:F}})},function(n,r){var o=Function.prototype,i=o.bind,a=o.call,s=i&&i.bind(a);n.exports=i?function(f){return f&&s(a,f)}:function(f){return f&&function(){return a.apply(f,arguments)}}},function(n,r,o){var i=o(7),a=o(51).f,s=o(57),f=o(44),d=o(108),h=o(134),v=o(95);n.exports=function(y,m){var b=y.target,S=y.global,O=y.stat,_,A,T,P,x,N;if(S?A=i:O?A=i[b]||d(b,{}):A=(i[b]||{}).prototype,A)for(T in m){if(x=m[T],y.noTargetGet?(N=a(A,T),P=N&&N.value):P=A[T],_=v(S?T:b+(O?".":"#")+T,y.forced),!_&&P!==void 0){if(typeof x==typeof P)continue;h(x,P)}(y.sham||P&&P.sham)&&s(x,"sham",!0),f(A,T,x,y)}}},function(n,r,o){var i=o(16),a=o(7),s=o(99),f=o(100),d=o(33),h=o(67),v=o(43),y=o(39),m=o(61),b=o(27),S=o(75),O=o(101),_=S("slice"),A=b("species"),T=a.Array,P=Math.max;i({target:"Array",proto:!0,forced:!_},{slice:function(N,L){var j=y(this),k=v(j),F=h(N,k),z=h(L===void 0?k:L,k),M,D,B;if(s(j)&&(M=j.constructor,f(M)&&(M===T||s(M.prototype))?M=void 0:d(M)&&(M=M[A],M===null&&(M=void 0)),M===T||M===void 0))return O(j,F,z);for(D=new(M===void 0?T:M)(P(z-F,0)),B=0;F<z;F++,B++)F in j&&m(D,B,j[F]);return D.length=B,D}})},function(n,r){n.exports=function(o){try{return!!o()}catch{return!0}}},function(n,r,o){var i=o(16),a=o(102);i({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},function(n,r,o){var i=o(16),a=o(38),s=o(66),f=o(18),d=f(function(){s(1)});i({target:"Object",stat:!0,forced:d},{keys:function(v){return s(a(v))}})},function(n,r,o){var i=o(16),a=o(18),s=o(39),f=o(51).f,d=o(36),h=a(function(){f(1)}),v=!d||h;i({target:"Object",stat:!0,forced:v,sham:!d},{getOwnPropertyDescriptor:function(m,b){return f(s(m),b)}})},function(n,r,o){var i=o(16),a=o(74).filter,s=o(75),f=s("filter");i({target:"Array",proto:!0,forced:!f},{filter:function(h){return a(this,h,arguments.length>1?arguments[1]:void 0)}})},function(n,r,o){var i=o(16),a=o(36),s=o(135),f=o(39),d=o(51),h=o(61);i({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(y){for(var m=f(y),b=d.f,S=s(m),O={},_=0,A,T;S.length>_;)T=b(m,A=S[_++]),T!==void 0&&h(O,A,T);return O}})},function(n,r,o){var i=o(36),a=o(94).EXISTS,s=o(15),f=o(37).f,d=Function.prototype,h=s(d.toString),v=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,y=s(v.exec),m="name";i&&!a&&f(d,m,{configurable:!0,get:function(){try{return y(v,h(this))[1]}catch{return""}}})},function(n,r,o){var i=o(16),a=o(182),s=o(118),f=!s(function(d){Array.from(d)});i({target:"Array",stat:!0,forced:f},{from:a})},,function(n,r,o){var i=o(7),a=o(84),s=o(34),f=o(85),d=o(109),h=o(128),v=a("wks"),y=i.Symbol,m=y&&y.for,b=h?y:y&&y.withoutSetter||f;n.exports=function(S){if(!s(v,S)||!(d||typeof v[S]=="string")){var O="Symbol."+S;d&&s(y,S)?v[S]=y[S]:h&&m?v[S]=m(O):v[S]=b(O)}return v[S]}},function(n,r){n.exports=function(o){return typeof o=="function"}},function(n,r,o){var i=o(16),a=o(7),s=o(18),f=o(99),d=o(33),h=o(38),v=o(43),y=o(61),m=o(119),b=o(75),S=o(27),O=o(65),_=S("isConcatSpreadable"),A=9007199254740991,T="Maximum allowed index exceeded",P=a.TypeError,x=O>=51||!s(function(){var k=[];return k[_]=!1,k.concat()[0]!==k}),N=b("concat"),L=function(k){if(!d(k))return!1;var F=k[_];return F!==void 0?!!F:f(k)},j=!x||!N;i({target:"Array",proto:!0,forced:j},{concat:function(F){var z=h(this),M=m(z,0),D=0,B,V,Y,K,X;for(B=-1,Y=arguments.length;B<Y;B++)if(X=B===-1?z:arguments[B],L(X)){if(K=v(X),D+K>A)throw P(T);for(V=0;V<K;V++,D++)V in X&&y(M,D,X[V])}else{if(D>=A)throw P(T);y(M,D++,X)}return M.length=D,M}})},function(n,r,o){var i=o(16),a=o(198);i({target:"Object",stat:!0,forced:Object.assign!==a},{assign:a})},function(n,r,o){var i=o(105),a=typeof self=="object"&&self&&self.Object===Object&&self,s=i.a||a||Function("return this")();r.a=s},function(n,r,o){var i=o(7),a=o(33),s=i.String,f=i.TypeError;n.exports=function(d){if(a(d))return d;throw f(s(d)+" is not an object")}},function(n,r,o){var i=o(28);n.exports=function(a){return typeof a=="object"?a!==null:i(a)}},function(n,r,o){var i=o(15),a=o(38),s=i({}.hasOwnProperty);n.exports=Object.hasOwn||function(d,h){return s(a(d),h)}},function(n,r){var o=Function.prototype.call;n.exports=o.bind?o.bind(o):function(){return o.apply(o,arguments)}},function(n,r,o){var i=o(18);n.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(n,r,o){var i=o(7),a=o(36),s=o(129),f=o(32),d=o(87),h=i.TypeError,v=Object.defineProperty;r.f=a?v:function(m,b,S){if(f(m),b=d(b),f(S),s)try{return v(m,b,S)}catch{}if("get"in S||"set"in S)throw h("Accessors not supported");return"value"in S&&(m[b]=S.value),m}},function(n,r,o){var i=o(7),a=o(45),s=i.Object;n.exports=function(f){return s(a(f))}},function(n,r,o){var i=o(81),a=o(45);n.exports=function(s){return i(a(s))}},function(n,r,o){var i=o(7),a=o(98),s=i.String;n.exports=function(f){if(a(f)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return s(f)}},function(n,r,o){var i=o(16),a=o(74).map,s=o(75),f=s("map");i({target:"Array",proto:!0,forced:!f},{map:function(h){return a(this,h,arguments.length>1?arguments[1]:void 0)}})},function(n,r,o){(function(i){o.d(r,"d",function(){return f}),o.d(r,"c",function(){return d}),o.d(r,"b",function(){return h}),o.d(r,"a",function(){return y});var a=o(10),s=function(m,b){var S=typeof Symbol=="function"&&m[Symbol.iterator];if(!S)return m;var O=S.call(m),_,A=[],T;try{for(;(b===void 0||b-- >0)&&!(_=O.next()).done;)A.push(_.value)}catch(P){T={error:P}}finally{try{_&&!_.done&&(S=O.return)&&S.call(O)}finally{if(T)throw T.error}}return A};function f(){var m=s(Object(a.j)(0),2),b=m[1],S=Object(a.h)(function(){b(function(O){return O+1})},[]);return S}function d(m){if(!m||typeof m!="object")return!1;var b=Object.getPrototypeOf(m);return!b||b===Object.prototype}function h(m){return typeof Symbol=="function"?Symbol.for(m):"__$mobx-react "+m+"__"}var v={};function y(){return typeof window<"u"?window:typeof i<"u"?i:typeof self<"u"?self:v}}).call(this,o(82))},function(n,r,o){var i=o(90);n.exports=function(a){return i(a.length)}},function(n,r,o){var i=o(7),a=o(28),s=o(34),f=o(57),d=o(108),h=o(92),v=o(56),y=o(94).CONFIGURABLE,m=v.get,b=v.enforce,S=String(String).split("String");(n.exports=function(O,_,A,T){var P=T?!!T.unsafe:!1,x=T?!!T.enumerable:!1,N=T?!!T.noTargetGet:!1,L=T&&T.name!==void 0?T.name:_,j;if(a(A)&&(String(L).slice(0,7)==="Symbol("&&(L="["+String(L).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!s(A,"name")||y&&A.name!==L)&&f(A,"name",L),j=b(A),j.source||(j.source=S.join(typeof L=="string"?L:""))),O===i){x?O[_]=A:d(_,A);return}else P?!N&&O[_]&&(x=!0):delete O[_];x?O[_]=A:f(O,_,A)})(Function.prototype,"toString",function(){return a(this)&&m(this).source||h(this)})},function(n,r,o){var i=o(7),a=i.TypeError;n.exports=function(s){if(s==null)throw a("Can't call method on "+s);return s}},function(n,r,o){var i=o(7),a=o(28),s=function(f){return a(f)?f:void 0};n.exports=function(f,d){return arguments.length<2?s(i[f]):i[f]&&i[f][d]}},function(n,r,o){var i=o(16),a=o(35),s=o(33),f=o(32),d=o(200),h=o(51),v=o(96);function y(m,b){var S=arguments.length<3?m:arguments[2],O,_;if(f(m)===S)return m[b];if(O=h.f(m,b),O)return d(O)?O.value:O.get===void 0?void 0:a(O.get,S);if(s(_=v(m)))return y(_,b,S)}i({target:"Reflect",stat:!0},{get:y})},function(n,r,o){(function(i){var a=o(31),s=o(165),f=t&&!t.nodeType&&t,d=f&&typeof i=="object"&&i&&!i.nodeType&&i,h=d&&d.exports===f,v=h?a.a.Buffer:void 0,y=v?v.isBuffer:void 0,m=y||s.a;r.a=m}).call(this,o(121)(n))},function(n,r,o){(function(i){var a=o(105),s=t&&!t.nodeType&&t,f=s&&typeof i=="object"&&i&&!i.nodeType&&i,d=f&&f.exports===s,h=d&&a.a.process,v=function(){try{var y=f&&f.require&&f.require("util").types;return y||h&&h.binding&&h.binding("util")}catch{}}();r.a=v}).call(this,o(121)(n))},function(n,r,o){var i=o(15),a=i({}.toString),s=i("".slice);n.exports=function(f){return s(a(f),8,-1)}},function(n,r,o){var i=o(36),a=o(35),s=o(93),f=o(71),d=o(39),h=o(87),v=o(34),y=o(129),m=Object.getOwnPropertyDescriptor;r.f=i?m:function(S,O){if(S=d(S),O=h(O),y)try{return m(S,O)}catch{}if(v(S,O))return f(!a(s.f,S,O),S[O])}},function(n,r,o){var i=o(16),a=o(213).entries;i({target:"Object",stat:!0},{entries:function(f){return a(f)}})},function(n,r,o){var i=o(46);n.exports=i("navigator","userAgent")||""},function(n,r,o){var i=o(32),a=o(168),s=o(110),f=o(69),d=o(133),h=o(86),v=o(91),y=">",m="<",b="prototype",S="script",O=v("IE_PROTO"),_=function(){},A=function(L){return m+S+y+L+m+"/"+S+y},T=function(L){L.write(A("")),L.close();var j=L.parentWindow.Object;return L=null,j},P=function(){var L=h("iframe"),j="java"+S+":",k;return L.style.display="none",d.appendChild(L),L.src=String(j),k=L.contentWindow.document,k.open(),k.write(A("document.F=Object")),k.close(),k.F},x,N=function(){try{x=new ActiveXObject("htmlfile")}catch{}N=typeof document<"u"?document.domain&&x?T(x):P():T(x);for(var L=s.length;L--;)delete N[b][s[L]];return N()};f[O]=!0,n.exports=Object.create||function(j,k){var F;return j!==null?(_[b]=i(j),F=new _,_[b]=null,F[O]=j):F=N(),k===void 0?F:a(F,k)}},function(n,r,o){var i=o(7),a=o(28),s=o(89),f=i.TypeError;n.exports=function(d){if(a(d))return d;throw f(s(d)+" is not a function")}},function(n,r,o){var i=o(170),a=o(7),s=o(15),f=o(33),d=o(57),h=o(34),v=o(107),y=o(91),m=o(69),b="Object already initialized",S=a.TypeError,O=a.WeakMap,_,A,T,P=function(z){return T(z)?A(z):_(z,{})},x=function(z){return function(M){var D;if(!f(M)||(D=A(M)).type!==z)throw S("Incompatible receiver, "+z+" required");return D}};if(i||v.state){var N=v.state||(v.state=new O),L=s(N.get),j=s(N.has),k=s(N.set);_=function(z,M){if(j(N,z))throw new S(b);return M.facade=z,k(N,z,M),M},A=function(z){return L(N,z)||{}},T=function(z){return j(N,z)}}else{var F=y("state");m[F]=!0,_=function(z,M){if(h(z,F))throw new S(b);return M.facade=z,d(z,F,M),M},A=function(z){return h(z,F)?z[F]:{}},T=function(z){return h(z,F)}}n.exports={set:_,get:A,has:T,enforce:P,getterFor:x}},function(n,r,o){var i=o(36),a=o(37),s=o(71);n.exports=i?function(f,d,h){return a.f(f,d,s(1,h))}:function(f,d,h){return f[d]=h,f}},function(n,r,o){var i=o(15);n.exports=i({}.isPrototypeOf)},function(n,r,o){var i=o(55);n.exports=function(a,s){var f=a[s];return f==null?void 0:i(f)}},function(n,r,o){var i=o(173),a=o(177);i("Map",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},a)},function(n,r,o){var i=o(87),a=o(37),s=o(71);n.exports=function(f,d,h){var v=i(d);v in f?a.f(f,v,s(0,h)):f[v]=h}},function(n,r,o){var i=o(15),a=o(55),s=i(i.bind);n.exports=function(f,d){return a(f),d===void 0?f:s?s(f,d):function(){return f.apply(d,arguments)}}},function(n,r,o){var i=o(16),a=o(214),s=o(83);i({target:"Array",proto:!0},{fill:a}),s("fill")},function(n,r){n.exports=!1},function(n,r,o){var i=o(7),a=o(53),s=i.process,f=i.Deno,d=s&&s.versions||f&&f.version,h=d&&d.v8,v,y;h&&(v=h.split("."),y=v[0]>0&&v[0]<4?1:+(v[0]+v[1])),!y&&a&&(v=a.match(/Edge\/(\d+)/),(!v||v[1]>=74)&&(v=a.match(/Chrome\/(\d+)/),v&&(y=+v[1]))),n.exports=y},function(n,r,o){var i=o(131),a=o(110);n.exports=Object.keys||function(f){return i(f,a)}},function(n,r,o){var i=o(68),a=Math.max,s=Math.min;n.exports=function(f,d){var h=i(f);return h<0?a(h+d,0):s(h,d)}},function(n,r){var o=Math.ceil,i=Math.floor;n.exports=function(a){var s=+a;return s!==s||s===0?0:(s>0?i:o)(s)}},function(n,r){n.exports={}},function(n,r){n.exports={}},function(n,r){n.exports=function(o,i){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:i}}},function(n,r,o){var i=o(131),a=o(110),s=a.concat("length","prototype");r.f=Object.getOwnPropertyNames||function(d){return i(d,s)}},function(n,r,o){var i=o(37).f,a=o(34),s=o(27),f=s("toStringTag");n.exports=function(d,h,v){d&&!a(d=v?d:d.prototype,f)&&i(d,f,{configurable:!0,value:h})}},function(n,r,o){var i=o(62),a=o(15),s=o(81),f=o(38),d=o(43),h=o(119),v=a([].push),y=function(m){var b=m==1,S=m==2,O=m==3,_=m==4,A=m==6,T=m==7,P=m==5||A;return function(x,N,L,j){for(var k=f(x),F=s(k),z=i(N,L),M=d(F),D=0,B=j||h,V=b?B(x,M):S||T?B(x,0):void 0,Y,K;M>D;D++)if((P||D in F)&&(Y=F[D],K=z(Y,D,k),m))if(b)V[D]=K;else if(K)switch(m){case 3:return!0;case 5:return Y;case 6:return D;case 2:v(V,Y)}else switch(m){case 4:return!1;case 7:v(V,Y)}return A?-1:O||_?_:V}};n.exports={forEach:y(0),map:y(1),filter:y(2),some:y(3),every:y(4),find:y(5),findIndex:y(6),filterReject:y(7)}},function(n,r,o){var i=o(18),a=o(27),s=o(65),f=a("species");n.exports=function(d){return s>=51||!i(function(){var h=[],v=h.constructor={};return v[f]=function(){return{foo:1}},h[d](Boolean).foo!==1})}},function(n,r){var o=Function.prototype,i=o.apply,a=o.bind,s=o.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(a?s.bind(i):function(){return s.apply(i,arguments)})},function(n,r,o){var i=o(16),a=o(15),s=o(81),f=o(39),d=o(120),h=a([].join),v=s!=Object,y=d("join",",");i({target:"Array",proto:!0,forced:v||!y},{join:function(b){return h(f(this),b===void 0?",":b)}})},function(n,r,o){var i=o(76),a=o(35),s=o(15),f=o(122),d=o(154),h=o(32),v=o(45),y=o(156),m=o(123),b=o(90),S=o(40),O=o(59),_=o(113),A=o(124),T=o(102),P=o(151),x=o(18),N=P.UNSUPPORTED_Y,L=4294967295,j=Math.min,k=[].push,F=s(/./.exec),z=s(k),M=s("".slice),D=!x(function(){var B=/(?:)/,V=B.exec;B.exec=function(){return V.apply(this,arguments)};var Y="ab".split(B);return Y.length!==2||Y[0]!=="a"||Y[1]!=="b"});f("split",function(B,V,Y){var K;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?K=function(X,W){var ie=S(v(this)),oe=W===void 0?L:W>>>0;if(oe===0)return[];if(X===void 0)return[ie];if(!d(X))return a(V,ie,X,oe);for(var ee=[],ue=(X.ignoreCase?"i":"")+(X.multiline?"m":"")+(X.unicode?"u":"")+(X.sticky?"y":""),Ne=0,$e=new RegExp(X.source,ue+"g"),Ie,Le,he;(Ie=a(T,$e,ie))&&(Le=$e.lastIndex,!(Le>Ne&&(z(ee,M(ie,Ne,Ie.index)),Ie.length>1&&Ie.index<ie.length&&i(k,ee,_(Ie,1)),he=Ie[0].length,Ne=Le,ee.length>=oe)));)$e.lastIndex===Ie.index&&$e.lastIndex++;return Ne===ie.length?(he||!F($e,""))&&z(ee,""):z(ee,M(ie,Ne)),ee.length>oe?_(ee,0,oe):ee}:"0".split(void 0,0).length?K=function(X,W){return X===void 0&&W===0?[]:a(V,this,X,W)}:K=V,[function(W,ie){var oe=v(this),ee=W==null?void 0:O(W,B);return ee?a(ee,W,oe,ie):a(K,S(oe),W,ie)},function(X,W){var ie=h(this),oe=S(X),ee=Y(K,ie,oe,W,K!==V);if(ee.done)return ee.value;var ue=y(ie,RegExp),Ne=ie.unicode,$e=(ie.ignoreCase?"i":"")+(ie.multiline?"m":"")+(ie.unicode?"u":"")+(N?"g":"y"),Ie=new ue(N?"^(?:"+ie.source+")":ie,$e),Le=W===void 0?L:W>>>0;if(Le===0)return[];if(oe.length===0)return A(Ie,oe)===null?[oe]:[];for(var he=0,te=0,ae=[];te<oe.length;){Ie.lastIndex=N?0:te;var Ce=A(Ie,N?M(oe,te):oe),Ze;if(Ce===null||(Ze=j(b(Ie.lastIndex+(N?te:0)),oe.length))===he)te=m(oe,te,Ne);else{if(z(ae,M(oe,he,te)),ae.length===Le)return ae;for(var se=1;se<=Ce.length-1;se++)if(z(ae,Ce[se]),ae.length===Le)return ae;te=he=Ze}}return z(ae,M(oe,he)),ae}]},!D,N)},function(n,r,o){var i=o(36),a=o(7),s=o(15),f=o(95),d=o(44),h=o(34),v=o(143),y=o(58),m=o(88),b=o(130),S=o(18),O=o(72).f,_=o(51).f,A=o(37).f,T=o(196),P=o(159).trim,x="Number",N=a[x],L=N.prototype,j=a.TypeError,k=s("".slice),F=s("".charCodeAt),z=function(K){var X=b(K,"number");return typeof X=="bigint"?X:M(X)},M=function(K){var X=b(K,"number"),W,ie,oe,ee,ue,Ne,$e,Ie;if(m(X))throw j("Cannot convert a Symbol value to a number");if(typeof X=="string"&&X.length>2){if(X=P(X),W=F(X,0),W===43||W===45){if(ie=F(X,2),ie===88||ie===120)return NaN}else if(W===48){switch(F(X,1)){case 66:case 98:oe=2,ee=49;break;case 79:case 111:oe=8,ee=55;break;default:return+X}for(ue=k(X,2),Ne=ue.length,$e=0;$e<Ne;$e++)if(Ie=F(ue,$e),Ie<48||Ie>ee)return NaN;return parseInt(ue,oe)}}return+X};if(f(x,!N(" 0o1")||!N("0b1")||N("+0x1"))){for(var D=function(X){var W=arguments.length<1?0:N(z(X)),ie=this;return y(L,ie)&&S(function(){T(ie)})?v(Object(W),ie,D):W},B=i?O(N):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),V=0,Y;B.length>V;V++)h(N,Y=B[V])&&!h(D,Y)&&A(D,Y,_(N,Y));D.prototype=L,L.constructor=D,d(a,x,D)}},function(n,r,o){var i=o(16);i({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(n,r,o){var i=o(7),a=o(15),s=o(18),f=o(50),d=i.Object,h=a("".split);n.exports=s(function(){return!d("z").propertyIsEnumerable(0)})?function(v){return f(v)=="String"?h(v,""):d(v)}:d},function(n,r){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}n.exports=o},function(n,r,o){var i=o(27),a=o(54),s=o(37),f=i("unscopables"),d=Array.prototype;d[f]==null&&s.f(d,f,{configurable:!0,value:a(null)}),n.exports=function(h){d[f][h]=!0}},function(n,r,o){var i=o(64),a=o(107);(n.exports=function(s,f){return a[s]||(a[s]=f!==void 0?f:{})})("versions",[]).push({version:"3.19.3",mode:i?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(n,r,o){var i=o(15),a=0,s=Math.random(),f=i(1 .toString);n.exports=function(d){return"Symbol("+(d===void 0?"":d)+")_"+f(++a+s,36)}},function(n,r,o){var i=o(7),a=o(33),s=i.document,f=a(s)&&a(s.createElement);n.exports=function(d){return f?s.createElement(d):{}}},function(n,r,o){var i=o(130),a=o(88);n.exports=function(s){var f=i(s,"string");return a(f)?f:f+""}},function(n,r,o){var i=o(7),a=o(46),s=o(28),f=o(58),d=o(128),h=i.Object;n.exports=d?function(v){return typeof v=="symbol"}:function(v){var y=a("Symbol");return s(y)&&f(y.prototype,h(v))}},function(n,r,o){var i=o(7),a=i.String;n.exports=function(s){try{return a(s)}catch{return"Object"}}},function(n,r,o){var i=o(68),a=Math.min;n.exports=function(s){return s>0?a(i(s),9007199254740991):0}},function(n,r,o){var i=o(84),a=o(85),s=i("keys");n.exports=function(f){return s[f]||(s[f]=a(f))}},function(n,r,o){var i=o(15),a=o(28),s=o(107),f=i(Function.toString);a(s.inspectSource)||(s.inspectSource=function(d){return f(d)}),n.exports=s.inspectSource},function(n,r,o){var i={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,s=a&&!i.call({1:2},1);r.f=s?function(d){var h=a(this,d);return!!h&&h.enumerable}:i},function(n,r,o){var i=o(36),a=o(34),s=Function.prototype,f=i&&Object.getOwnPropertyDescriptor,d=a(s,"name"),h=d&&function(){}.name==="something",v=d&&(!i||i&&f(s,"name").configurable);n.exports={EXISTS:d,PROPER:h,CONFIGURABLE:v}},function(n,r,o){var i=o(18),a=o(28),s=/#|\.prototype\./,f=function(m,b){var S=h[d(m)];return S==y?!0:S==v?!1:a(b)?i(b):!!b},d=f.normalize=function(m){return String(m).replace(s,".").toLowerCase()},h=f.data={},v=f.NATIVE="N",y=f.POLYFILL="P";n.exports=f},function(n,r,o){var i=o(7),a=o(34),s=o(28),f=o(38),d=o(91),h=o(137),v=d("IE_PROTO"),y=i.Object,m=y.prototype;n.exports=h?y.getPrototypeOf:function(b){var S=f(b);if(a(S,v))return S[v];var O=S.constructor;return s(O)&&S instanceof O?O.prototype:S instanceof y?m:null}},function(n,r,o){var i=o(15),a=o(32),s=o(172);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var f=!1,d={},h;try{h=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),h(d,[]),f=d instanceof Array}catch{}return function(y,m){return a(y),s(m),f?h(y,m):y.__proto__=m,y}}():void 0)},function(n,r,o){var i=o(7),a=o(116),s=o(28),f=o(50),d=o(27),h=d("toStringTag"),v=i.Object,y=f(function(){return arguments}())=="Arguments",m=function(b,S){try{return b[S]}catch{}};n.exports=a?f:function(b){var S,O,_;return b===void 0?"Undefined":b===null?"Null":typeof(O=m(S=v(b),h))=="string"?O:y?f(S):(_=f(S))=="Object"&&s(S.callee)?"Arguments":_}},function(n,r,o){var i=o(50);n.exports=Array.isArray||function(s){return i(s)=="Array"}},function(n,r,o){var i=o(15),a=o(18),s=o(28),f=o(98),d=o(46),h=o(92),v=function(){},y=[],m=d("Reflect","construct"),b=/^\s*(?:class|function)\b/,S=i(b.exec),O=!b.exec(v),_=function(T){if(!s(T))return!1;try{return m(v,y,T),!0}catch{return!1}},A=function(T){if(!s(T))return!1;switch(f(T)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return O||!!S(b,h(T))};n.exports=!m||a(function(){var T;return _(_.call)||!_(Object)||!_(function(){T=!0})||T})?A:_},function(n,r,o){var i=o(15);n.exports=i([].slice)},function(n,r,o){var i=o(35),a=o(15),s=o(40),f=o(184),d=o(151),h=o(84),v=o(54),y=o(56).get,m=o(185),b=o(186),S=h("native-string-replace",String.prototype.replace),O=RegExp.prototype.exec,_=O,A=a("".charAt),T=a("".indexOf),P=a("".replace),x=a("".slice),N=function(){var F=/a/,z=/b*/g;return i(O,F,"a"),i(O,z,"a"),F.lastIndex!==0||z.lastIndex!==0}(),L=d.BROKEN_CARET,j=/()??/.exec("")[1]!==void 0,k=N||j||L||m||b;k&&(_=function(z){var M=this,D=y(M),B=s(z),V=D.raw,Y,K,X,W,ie,oe,ee;if(V)return V.lastIndex=M.lastIndex,Y=i(_,V,B),M.lastIndex=V.lastIndex,Y;var ue=D.groups,Ne=L&&M.sticky,$e=i(f,M),Ie=M.source,Le=0,he=B;if(Ne&&($e=P($e,"y",""),T($e,"g")===-1&&($e+="g"),he=x(B,M.lastIndex),M.lastIndex>0&&(!M.multiline||M.multiline&&A(B,M.lastIndex-1)!==`
`)&&(Ie="(?: "+Ie+")",he=" "+he,Le++),K=new RegExp("^(?:"+Ie+")",$e)),j&&(K=new RegExp("^"+Ie+"$(?!\\s)",$e)),N&&(X=M.lastIndex),W=i(O,Ne?K:M,he),Ne?W?(W.input=x(W.input,Le),W[0]=x(W[0],Le),W.index=M.lastIndex,M.lastIndex+=W[0].length):M.lastIndex=0:N&&W&&(M.lastIndex=M.global?W.index+W[0].length:X),j&&W&&W.length>1&&i(S,W[0],K,function(){for(ie=1;ie<arguments.length-2;ie++)arguments[ie]===void 0&&(W[ie]=void 0)}),W&&ue)for(W.groups=oe=v(null),ie=0;ie<ue.length;ie++)ee=ue[ie],oe[ee[0]]=W[ee[1]];return W}),n.exports=_},function(n,r,o){var i=o(16),a=o(7),s=o(67),f=o(68),d=o(43),h=o(38),v=o(119),y=o(61),m=o(75),b=m("splice"),S=a.TypeError,O=Math.max,_=Math.min,A=9007199254740991,T="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!b},{splice:function(x,N){var L=h(this),j=d(L),k=s(x,j),F=arguments.length,z,M,D,B,V,Y;if(F===0?z=M=0:F===1?(z=0,M=j-k):(z=F-2,M=_(O(f(N),0),j-k)),j+z-M>A)throw S(T);for(D=v(L,M),B=0;B<M;B++)V=k+B,V in L&&y(D,B,L[V]);if(D.length=M,z<M){for(B=k;B<j-M;B++)V=B+M,Y=B+z,V in L?L[Y]=L[V]:delete L[Y];for(B=j;B>j-M+z;B--)delete L[B-1]}else if(z>M)for(B=j-M;B>k;B--)V=B+M-1,Y=B+z-1,V in L?L[Y]=L[V]:delete L[Y];for(B=0;B<z;B++)L[B+k]=arguments[B+2];return L.length=j-M+z,D}})},function(n,r,o){var i=o(16),a=o(201),s=o(202);i({target:"String",proto:!0,forced:s("anchor")},{anchor:function(d){return a(this,"a","name",d)}})},function(n,r,o){(function(i){var a=typeof i=="object"&&i&&i.Object===Object&&i;r.a=a}).call(this,o(82))},function(n,r,o){(function(i){var a=o(31),s=t&&!t.nodeType&&t,f=s&&typeof i=="object"&&i&&!i.nodeType&&i,d=f&&f.exports===s,h=d?a.a.Buffer:void 0,v=h?h.allocUnsafe:void 0;function y(m,b){if(b)return m.slice();var S=m.length,O=v?v(S):new m.constructor(S);return m.copy(O),O}r.a=y}).call(this,o(121)(n))},function(n,r,o){var i=o(7),a=o(108),s="__core-js_shared__",f=i[s]||a(s,{});n.exports=f},function(n,r,o){var i=o(7),a=Object.defineProperty;n.exports=function(s,f){try{a(i,s,{value:f,configurable:!0,writable:!0})}catch{i[s]=f}return f}},function(n,r,o){var i=o(65),a=o(18);n.exports=!!Object.getOwnPropertySymbols&&!a(function(){var s=Symbol();return!String(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&i&&i<41})},function(n,r){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(n,r,o){var i=o(16),a=o(35),s=o(64),f=o(94),d=o(28),h=o(171),v=o(96),y=o(97),m=o(73),b=o(57),S=o(44),O=o(27),_=o(70),A=o(136),T=f.PROPER,P=f.CONFIGURABLE,x=A.IteratorPrototype,N=A.BUGGY_SAFARI_ITERATORS,L=O("iterator"),j="keys",k="values",F="entries",z=function(){return this};n.exports=function(M,D,B,V,Y,K,X){h(B,D,V);var W=function(te){if(te===Y&&Ne)return Ne;if(!N&&te in ee)return ee[te];switch(te){case j:return function(){return new B(this,te)};case k:return function(){return new B(this,te)};case F:return function(){return new B(this,te)}}return function(){return new B(this)}},ie=D+" Iterator",oe=!1,ee=M.prototype,ue=ee[L]||ee["@@iterator"]||Y&&ee[Y],Ne=!N&&ue||W(Y),$e=D=="Array"&&ee.entries||ue,Ie,Le,he;if($e&&(Ie=v($e.call(new M)),Ie!==Object.prototype&&Ie.next&&(!s&&v(Ie)!==x&&(y?y(Ie,x):d(Ie[L])||S(Ie,L,z)),m(Ie,ie,!0,!0),s&&(_[ie]=z))),T&&Y==k&&ue&&ue.name!==k&&(!s&&P?b(ee,"name",k):(oe=!0,Ne=function(){return a(ue,this)})),Y)if(Le={values:W(k),keys:K?Ne:W(j),entries:W(F)},X)for(he in Le)(N||oe||!(he in ee))&&S(ee,he,Le[he]);else i({target:D,proto:!0,forced:N||oe},Le);return(!s||X)&&ee[L]!==Ne&&S(ee,L,Ne,{name:Y}),_[D]=Ne,Le}},function(n,r){r.f=Object.getOwnPropertySymbols},function(n,r,o){var i=o(7),a=o(67),s=o(43),f=o(61),d=i.Array,h=Math.max;n.exports=function(v,y,m){for(var b=s(v),S=a(y,b),O=a(m===void 0?b:m,b),_=d(h(O-S,0)),A=0;S<O;S++,A++)f(_,A,v[S]);return _.length=A,_}},function(n,r,o){var i=o(7),a=o(62),s=o(35),f=o(32),d=o(89),h=o(140),v=o(43),y=o(58),m=o(141),b=o(115),S=o(142),O=i.TypeError,_=function(T,P){this.stopped=T,this.result=P},A=_.prototype;n.exports=function(T,P,x){var N=x&&x.that,L=!!(x&&x.AS_ENTRIES),j=!!(x&&x.IS_ITERATOR),k=!!(x&&x.INTERRUPTED),F=a(P,N),z,M,D,B,V,Y,K,X=function(ie){return z&&S(z,"normal",ie),new _(!0,ie)},W=function(ie){return L?(f(ie),k?F(ie[0],ie[1],X):F(ie[0],ie[1])):k?F(ie,X):F(ie)};if(j)z=T;else{if(M=b(T),!M)throw O(d(T)+" is not iterable");if(h(M)){for(D=0,B=v(T);B>D;D++)if(V=W(T[D]),V&&y(A,V))return V;return new _(!1)}z=m(T,M)}for(Y=z.next;!(K=s(Y,z)).done;){try{V=W(K.value)}catch(ie){S(z,"throw",ie)}if(typeof V=="object"&&V&&y(A,V))return V}return new _(!1)}},function(n,r,o){var i=o(98),a=o(59),s=o(70),f=o(27),d=f("iterator");n.exports=function(h){if(h!=null)return a(h,d)||a(h,"@@iterator")||s[i(h)]}},function(n,r,o){var i=o(27),a=i("toStringTag"),s={};s[a]="z",n.exports=String(s)==="[object z]"},function(n,r,o){var i=o(7),a=o(58),s=i.TypeError;n.exports=function(f,d){if(a(d,f))return f;throw s("Incorrect invocation")}},function(n,r,o){var i=o(27),a=i("iterator"),s=!1;try{var f=0,d={next:function(){return{done:!!f++}},return:function(){s=!0}};d[a]=function(){return this},Array.from(d,function(){throw 2})}catch{}n.exports=function(h,v){if(!v&&!s)return!1;var y=!1;try{var m={};m[a]=function(){return{next:function(){return{done:y=!0}}}},h(m)}catch{}return y}},function(n,r,o){var i=o(180);n.exports=function(a,s){return new(i(a))(s===0?0:s)}},function(n,r,o){var i=o(18);n.exports=function(a,s){var f=[][a];return!!f&&i(function(){f.call(null,s||function(){throw 1},1)})}},function(n,r){n.exports=function(o){if(!o.webpackPolyfill){var i=Object.create(o);i.children||(i.children=[]),Object.defineProperty(i,"loaded",{enumerable:!0,get:function(){return i.l}}),Object.defineProperty(i,"id",{enumerable:!0,get:function(){return i.i}}),Object.defineProperty(i,"exports",{enumerable:!0}),i.webpackPolyfill=1}return i}},function(n,r,o){o(19);var i=o(15),a=o(44),s=o(102),f=o(18),d=o(27),h=o(57),v=d("species"),y=RegExp.prototype;n.exports=function(m,b,S,O){var _=d(m),A=!f(function(){var N={};return N[_]=function(){return 7},""[m](N)!=7}),T=A&&!f(function(){var N=!1,L=/a/;return m==="split"&&(L={},L.constructor={},L.constructor[v]=function(){return L},L.flags="",L[_]=/./[_]),L.exec=function(){return N=!0,null},L[_](""),!N});if(!A||!T||S){var P=i(/./[_]),x=b(_,""[m],function(N,L,j,k,F){var z=i(N),M=L.exec;return M===s||M===y.exec?A&&!F?{done:!0,value:P(L,j,k)}:{done:!0,value:z(j,L,k)}:{done:!1}});a(String.prototype,m,x[0]),a(y,_,x[1])}O&&h(y[_],"sham",!0)}},function(n,r,o){var i=o(146).charAt;n.exports=function(a,s,f){return s+(f?i(a,s).length:1)}},function(n,r,o){var i=o(7),a=o(35),s=o(32),f=o(28),d=o(50),h=o(102),v=i.TypeError;n.exports=function(y,m){var b=y.exec;if(f(b)){var S=a(b,y,m);return S!==null&&s(S),S}if(d(y)==="RegExp")return a(h,y,m);throw v("RegExp#exec called on incompatible receiver")}},function(n,r,o){var i=o(76),a=o(35),s=o(15),f=o(122),d=o(18),h=o(32),v=o(28),y=o(68),m=o(90),b=o(40),S=o(45),O=o(123),_=o(59),A=o(197),T=o(124),P=o(27),x=P("replace"),N=Math.max,L=Math.min,j=s([].concat),k=s([].push),F=s("".indexOf),z=s("".slice),M=function(Y){return Y===void 0?Y:String(Y)},D=function(){return"a".replace(/./,"$0")==="$0"}(),B=function(){return/./[x]?/./[x]("a","$0")==="":!1}(),V=!d(function(){var Y=/./;return Y.exec=function(){var K=[];return K.groups={a:"7"},K},"".replace(Y,"$<a>")!=="7"});f("replace",function(Y,K,X){var W=B?"$":"$0";return[function(oe,ee){var ue=S(this),Ne=oe==null?void 0:_(oe,x);return Ne?a(Ne,oe,ue,ee):a(K,b(ue),oe,ee)},function(ie,oe){var ee=h(this),ue=b(ie);if(typeof oe=="string"&&F(oe,W)===-1&&F(oe,"$<")===-1){var Ne=X(K,ee,ue,oe);if(Ne.done)return Ne.value}var $e=v(oe);$e||(oe=b(oe));var Ie=ee.global;if(Ie){var Le=ee.unicode;ee.lastIndex=0}for(var he=[];;){var te=T(ee,ue);if(te===null||(k(he,te),!Ie))break;var ae=b(te[0]);ae===""&&(ee.lastIndex=O(ue,m(ee.lastIndex),Le))}for(var Ce="",Ze=0,se=0;se<he.length;se++){te=he[se];for(var de=b(te[0]),ze=N(L(y(te.index),ue.length),0),lt=[],Re=1;Re<te.length;Re++)k(lt,M(te[Re]));var qe=te.groups;if($e){var pe=j([de],lt,ze,ue);qe!==void 0&&k(pe,qe);var Ue=b(i(oe,void 0,pe))}else Ue=A(de,ue,ze,lt,qe,oe);ze>=Ze&&(Ce+=z(ue,Ze,ze)+Ue,Ze=ze+de.length)}return Ce+z(ue,Ze)}]},!V||!D||B)},function(n,r,o){var i=o(50),a=o(7);n.exports=i(a.process)=="process"},function(n,r,o){var i=o(16);i({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(n,r,o){var i=o(109);n.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(n,r,o){var i=o(36),a=o(18),s=o(86);n.exports=!i&&!a(function(){return Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a!=7})},function(n,r,o){var i=o(7),a=o(35),s=o(33),f=o(88),d=o(59),h=o(169),v=o(27),y=i.TypeError,m=v("toPrimitive");n.exports=function(b,S){if(!s(b)||f(b))return b;var O=d(b,m),_;if(O){if(S===void 0&&(S="default"),_=a(O,b,S),!s(_)||f(_))return _;throw y("Can't convert object to primitive value")}return S===void 0&&(S="number"),h(b,S)}},function(n,r,o){var i=o(15),a=o(34),s=o(39),f=o(132).indexOf,d=o(69),h=i([].push);n.exports=function(v,y){var m=s(v),b=0,S=[],O;for(O in m)!a(d,O)&&a(m,O)&&h(S,O);for(;y.length>b;)a(m,O=y[b++])&&(~f(S,O)||h(S,O));return S}},function(n,r,o){var i=o(39),a=o(67),s=o(43),f=function(d){return function(h,v,y){var m=i(h),b=s(m),S=a(y,b),O;if(d&&v!=v){for(;b>S;)if(O=m[S++],O!=O)return!0}else for(;b>S;S++)if((d||S in m)&&m[S]===v)return d||S||0;return!d&&-1}};n.exports={includes:f(!0),indexOf:f(!1)}},function(n,r,o){var i=o(46);n.exports=i("document","documentElement")},function(n,r,o){var i=o(34),a=o(135),s=o(51),f=o(37);n.exports=function(d,h){for(var v=a(h),y=f.f,m=s.f,b=0;b<v.length;b++){var S=v[b];i(d,S)||y(d,S,m(h,S))}}},function(n,r,o){var i=o(46),a=o(15),s=o(72),f=o(112),d=o(32),h=a([].concat);n.exports=i("Reflect","ownKeys")||function(y){var m=s.f(d(y)),b=f.f;return b?h(m,b(y)):m}},function(n,r,o){var i=o(18),a=o(28),s=o(54),f=o(96),d=o(44),h=o(27),v=o(64),y=h("iterator"),m=!1,b,S,O;[].keys&&(O=[].keys(),"next"in O?(S=f(f(O)),S!==Object.prototype&&(b=S)):m=!0);var _=b==null||i(function(){var A={};return b[y].call(A)!==A});_?b={}:v&&(b=s(b)),a(b[y])||d(b,y,function(){return this}),n.exports={IteratorPrototype:b,BUGGY_SAFARI_ITERATORS:m}},function(n,r,o){var i=o(18);n.exports=!i(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype})},function(n,r,o){var i=o(16),a=o(15),s=o(69),f=o(33),d=o(34),h=o(37).f,v=o(72),y=o(139),m=o(174),b=o(85),S=o(176),O=!1,_=b("meta"),A=0,T=function(k){h(k,_,{value:{objectID:"O"+A++,weakData:{}}})},P=function(k,F){if(!f(k))return typeof k=="symbol"?k:(typeof k=="string"?"S":"P")+k;if(!d(k,_)){if(!m(k))return"F";if(!F)return"E";T(k)}return k[_].objectID},x=function(k,F){if(!d(k,_)){if(!m(k))return!0;if(!F)return!1;T(k)}return k[_].weakData},N=function(k){return S&&O&&m(k)&&!d(k,_)&&T(k),k},L=function(){j.enable=function(){},O=!0;var k=v.f,F=a([].splice),z={};z[_]=1,k(z).length&&(v.f=function(M){for(var D=k(M),B=0,V=D.length;B<V;B++)if(D[B]===_){F(D,B,1);break}return D},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:y.f}))},j=n.exports={enable:L,fastKey:P,getWeakData:x,onFreeze:N};s[_]=!0},function(n,r,o){var i=o(50),a=o(39),s=o(72).f,f=o(113),d=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],h=function(v){try{return s(v)}catch{return f(d)}};n.exports.f=function(y){return d&&i(y)=="Window"?h(y):s(a(y))}},function(n,r,o){var i=o(27),a=o(70),s=i("iterator"),f=Array.prototype;n.exports=function(d){return d!==void 0&&(a.Array===d||f[s]===d)}},function(n,r,o){var i=o(7),a=o(35),s=o(55),f=o(32),d=o(89),h=o(115),v=i.TypeError;n.exports=function(y,m){var b=arguments.length<2?h(y):m;if(s(b))return f(a(b,y));throw v(d(y)+" is not iterable")}},function(n,r,o){var i=o(35),a=o(32),s=o(59);n.exports=function(f,d,h){var v,y;a(f);try{if(v=s(f,"return"),!v){if(d==="throw")throw h;return h}v=i(v,f)}catch(m){y=!0,v=m}if(d==="throw")throw h;if(y)throw v;return a(v),h}},function(n,r,o){var i=o(28),a=o(33),s=o(97);n.exports=function(f,d,h){var v,y;return s&&i(v=d.constructor)&&v!==h&&a(y=v.prototype)&&y!==h.prototype&&s(f,y),f}},function(n,r,o){var i=o(44);n.exports=function(a,s,f){for(var d in s)i(a,d,s[d],f);return a}},function(n,r,o){var i=o(46),a=o(37),s=o(27),f=o(36),d=s("species");n.exports=function(h){var v=i(h),y=a.f;f&&v&&!v[d]&&y(v,d,{configurable:!0,get:function(){return this}})}},function(n,r,o){var i=o(15),a=o(68),s=o(40),f=o(45),d=i("".charAt),h=i("".charCodeAt),v=i("".slice),y=function(m){return function(b,S){var O=s(f(b)),_=a(S),A=O.length,T,P;return _<0||_>=A?m?"":void 0:(T=h(O,_),T<55296||T>56319||_+1===A||(P=h(O,_+1))<56320||P>57343?m?d(O,_):T:m?v(O,_,_+2):(T-55296<<10)+(P-56320)+65536)}};n.exports={codeAt:y(!1),charAt:y(!0)}},function(n,r){n.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(n,r,o){var i=o(86),a=i("span").classList,s=a&&a.constructor&&a.constructor.prototype;n.exports=s===Object.prototype?void 0:s},function(n,r,o){var i=o(27);r.f=i},function(n,r,o){var i=o(181),a=o(34),s=o(149),f=o(37).f;n.exports=function(d){var h=i.Symbol||(i.Symbol={});a(h,d)||f(h,d,{value:s.f(d)})}},function(n,r,o){var i=o(18),a=o(7),s=a.RegExp,f=i(function(){var v=s("a","y");return v.lastIndex=2,v.exec("abcd")!=null}),d=f||i(function(){return!s("a","y").sticky}),h=f||i(function(){var v=s("^r","gy");return v.lastIndex=2,v.exec("str")!=null});n.exports={BROKEN_CARET:h,MISSED_STICKY:d,UNSUPPORTED_Y:f}},function(n,r,o){var i=o(16),a=o(132).includes,s=o(83);i({target:"Array",proto:!0},{includes:function(d){return a(this,d,arguments.length>1?arguments[1]:void 0)}}),s("includes")},function(n,r,o){var i=o(16),a=o(15),s=o(193),f=o(45),d=o(40),h=o(194),v=a("".indexOf);i({target:"String",proto:!0,forced:!h("includes")},{includes:function(m){return!!~v(d(f(this)),d(s(m)),arguments.length>1?arguments[1]:void 0)}})},function(n,r,o){var i=o(33),a=o(50),s=o(27),f=s("match");n.exports=function(d){var h;return i(d)&&((h=d[f])!==void 0?!!h:a(d)=="RegExp")}},function(n,r){var o=n.exports={},i,a;function s(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?i=setTimeout:i=s}catch{i=s}try{typeof clearTimeout=="function"?a=clearTimeout:a=f}catch{a=f}})();function d(T){if(i===setTimeout)return setTimeout(T,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(T,0);try{return i(T,0)}catch{try{return i.call(null,T,0)}catch{return i.call(this,T,0)}}}function h(T){if(a===clearTimeout)return clearTimeout(T);if((a===f||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(T);try{return a(T)}catch{try{return a.call(null,T)}catch{return a.call(this,T)}}}var v=[],y=!1,m,b=-1;function S(){!y||!m||(y=!1,m.length?v=m.concat(v):b=-1,v.length&&O())}function O(){if(!y){var T=d(S);y=!0;for(var P=v.length;P;){for(m=v,v=[];++b<P;)m&&m[b].run();b=-1,P=v.length}m=null,y=!1,h(T)}}o.nextTick=function(T){var P=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)P[x-1]=arguments[x];v.push(new _(T,P)),v.length===1&&!y&&d(O)};function _(T,P){this.fun=T,this.array=P}_.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={};function A(){}o.on=A,o.addListener=A,o.once=A,o.off=A,o.removeListener=A,o.removeAllListeners=A,o.emit=A,o.prependListener=A,o.prependOnceListener=A,o.listeners=function(T){return[]},o.binding=function(T){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(T){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(n,r,o){var i=o(32),a=o(157),s=o(27),f=s("species");n.exports=function(d,h){var v=i(d).constructor,y;return v===void 0||(y=i(v)[f])==null?h:a(y)}},function(n,r,o){var i=o(7),a=o(100),s=o(89),f=i.TypeError;n.exports=function(d){if(a(d))return d;throw f(s(d)+" is not a constructor")}},function(n,r,o){var i=o(16),a=o(159).trim,s=o(195);i({target:"String",proto:!0,forced:s("trim")},{trim:function(){return a(this)}})},function(n,r,o){var i=o(15),a=o(45),s=o(40),f=o(160),d=i("".replace),h="["+f+"]",v=RegExp("^"+h+h+"*"),y=RegExp(h+h+"*$"),m=function(b){return function(S){var O=s(a(S));return b&1&&(O=d(O,v,"")),b&2&&(O=d(O,y,"")),O}};n.exports={start:m(1),end:m(2),trim:m(3)}},function(n,r){n.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(n,r,o){var i=o(35),a=o(122),s=o(32),f=o(90),d=o(40),h=o(45),v=o(59),y=o(123),m=o(124);a("match",function(b,S,O){return[function(A){var T=h(this),P=A==null?void 0:v(A,b);return P?i(P,A,T):new RegExp(A)[b](d(T))},function(_){var A=s(this),T=d(_),P=O(S,A,T);if(P.done)return P.value;if(!A.global)return m(A,T);var x=A.unicode;A.lastIndex=0;for(var N=[],L=0,j;(j=m(A,T))!==null;){var k=d(j[0]);N[L]=k,k===""&&(A.lastIndex=y(T,f(A.lastIndex),x)),L++}return L===0?null:N}]})},function(n,r,o){var i=o(7),a=o(76),s=o(62),f=o(28),d=o(34),h=o(18),v=o(133),y=o(101),m=o(86),b=o(163),S=o(126),O=i.setImmediate,_=i.clearImmediate,A=i.process,T=i.Dispatch,P=i.Function,x=i.MessageChannel,N=i.String,L=0,j={},k="onreadystatechange",F,z,M,D;try{F=i.location}catch{}var B=function(X){if(d(j,X)){var W=j[X];delete j[X],W()}},V=function(X){return function(){B(X)}},Y=function(X){B(X.data)},K=function(X){i.postMessage(N(X),F.protocol+"//"+F.host)};(!O||!_)&&(O=function(W){var ie=y(arguments,1);return j[++L]=function(){a(f(W)?W:P(W),void 0,ie)},z(L),L},_=function(W){delete j[W]},S?z=function(X){A.nextTick(V(X))}:T&&T.now?z=function(X){T.now(V(X))}:x&&!b?(M=new x,D=M.port2,M.port1.onmessage=Y,z=s(D.postMessage,D)):i.addEventListener&&f(i.postMessage)&&!i.importScripts&&F&&F.protocol!=="file:"&&!h(K)?(z=K,i.addEventListener("message",Y,!1)):k in m("script")?z=function(X){v.appendChild(m("script"))[k]=function(){v.removeChild(this),B(X)}}:z=function(X){setTimeout(V(X),0)}),n.exports={set:O,clear:_}},function(n,r,o){var i=o(53);n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},function(n,r,o){var i=o(55),a=function(s){var f,d;this.promise=new s(function(h,v){if(f!==void 0||d!==void 0)throw TypeError("Bad Promise constructor");f=h,d=v}),this.resolve=i(f),this.reject=i(d)};n.exports.f=function(s){return new a(s)}},function(n,r,o){function i(){return!1}r.a=i},function(n,r,o){(function(i){o.d(r,"a",function(){return L});var a=o(0);function s(k){throw new Error("[mobx-utils] "+k)}function f(k,F){F===void 0&&(F="Illegal state"),k||s(F)}var d=function(k){return k&&k!==Object.prototype&&Object.getOwnPropertyNames(k).concat(d(Object.getPrototypeOf(k))||[])},h=function(k){var F=d(k),z=F.filter(function(M,D){return F.indexOf(M)===D});return z},v=function(k){return h(k).filter(function(F){return F!=="constructor"&&!~F.indexOf("__")})},y="pending",m="fulfilled",b="rejected";function S(k){switch(this.state){case y:return k.pending&&k.pending(this.value);case b:return k.rejected&&k.rejected(this.value);case m:return k.fulfilled?k.fulfilled(this.value):this.value}}function O(k,F){if(f(arguments.length<=2,"fromPromise expects up to two arguments"),f(typeof k=="function"||typeof k=="object"&&k&&typeof k.then=="function","Please pass a promise or function to fromPromise"),k.isPromiseBasedObservable===!0)return k;typeof k=="function"&&(k=new Promise(k));var z=k;k.then(Object(a.k)("observableFromPromise-resolve",function(D){z.value=D,z.state=m}),Object(a.k)("observableFromPromise-reject",function(D){z.value=D,z.state=b})),z.isPromiseBasedObservable=!0,z.case=S;var M=F&&F.state===m?F.value:void 0;return Object(a.q)(z,{value:M,state:y},{},{deep:!1}),z}(function(k){k.reject=Object(a.k)("fromPromise.reject",function(z){var M=k(Promise.reject(z));return M.state=b,M.value=z,M});function F(z){z===void 0&&(z=void 0);var M=k(Promise.resolve(z));return M.state=m,M.value=z,M}k.resolve=Object(a.k)("fromPromise.resolve",F)})(O||(O={}));var _=function(k,F,z,M){var D=arguments.length,B=D<3?F:M===null?M=Object.getOwnPropertyDescriptor(F,z):M,V;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(k,F,z,M);else for(var Y=k.length-1;Y>=0;Y--)(V=k[Y])&&(B=(D<3?V(B):D>3?V(F,z,B):V(F,z))||B);return D>3&&B&&Object.defineProperty(F,z,B),B};(function(){function k(F,z){var M=this;Object(a.G)(function(){M.current=z,M.subscription=F.subscribe(M)})}return k.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},k.prototype.next=function(F){this.current=F},k.prototype.complete=function(){this.dispose()},k.prototype.error=function(F){this.current=F,this.dispose()},_([a.C.ref],k.prototype,"current",void 0),_([a.k.bound],k.prototype,"next",null),_([a.k.bound],k.prototype,"complete",null),_([a.k.bound],k.prototype,"error",null),k})();var A=function(){return A=Object.assign||function(k){for(var F,z=1,M=arguments.length;z<M;z++){F=arguments[z];for(var D in F)Object.prototype.hasOwnProperty.call(F,D)&&(k[D]=F[D])}return k},A.apply(this,arguments)},T=function(k,F,z,M){var D=arguments.length,B=D<3?F:M===null?M=Object.getOwnPropertyDescriptor(F,z):M,V;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(k,F,z,M);else for(var Y=k.length-1;Y>=0;Y--)(V=k[Y])&&(B=(D<3?V(B):D>3?V(F,z,B):V(F,z))||B);return D>3&&B&&Object.defineProperty(F,z,B),B},P=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function k(F){var z=this;this.model=F,this.localValues=a.C.map({}),this.localComputedValues=a.C.map({}),this.isPropertyDirty=function(M){return z.localValues.has(M)},f(Object(a.A)(F),"createViewModel expects an observable object"),v(F).forEach(function(M){if(!(M===a.a||M==="__mobxDidRunLazyInitializers")){if(f(P.indexOf(M)===-1,"The propertyname "+M+" is reserved and cannot be used with viewModels"),Object(a.w)(F,M)){var D=Object(a.h)(F,M).derivation;z.localComputedValues.set(M,Object(a.m)(D.bind(z)))}var B=Object.getOwnPropertyDescriptor(F,M),V=B?{enumerable:B.enumerable}:{};Object.defineProperty(z,M,A(A({},V),{configurable:!0,get:function(){return Object(a.w)(F,M)?z.localComputedValues.get(M).get():z.isPropertyDirty(M)?z.localValues.get(M):z.model[M]},set:Object(a.k)(function(Y){Y!==z.model[M]?z.localValues.set(M,Y):z.localValues.delete(M)})}))}})}return Object.defineProperty(k.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),k.prototype.submit=function(){var F=this;Object(a.B)(this.localValues).forEach(function(z){var M=F.localValues.get(z),D=F.model[z];Object(a.y)(D)?D.replace(M):Object(a.z)(D)?(D.clear(),D.merge(M)):Object(a.v)(M)||(F.model[z]=M)}),this.localValues.clear()},k.prototype.reset=function(){this.localValues.clear()},k.prototype.resetProperty=function(F){this.localValues.delete(F)},T([a.m],k.prototype,"isDirty",null),T([a.m],k.prototype,"changedValues",null),T([a.k.bound],k.prototype,"submit",null),T([a.k.bound],k.prototype,"reset",null),T([a.k.bound],k.prototype,"resetProperty",null),k})();function x(k){if(!k)return"ROOT";for(var F=[];k.parent;)F.push(k.path),k=k.parent;return F.reverse().join("/")}function N(k){return Object(a.A)(k)||Object(a.y)(k)||Object(a.z)(k)}function L(k,F){var z=new WeakMap;function M(Y){var K=z.get(Y.object);D(Y,K),F(Y,x(K),k)}function D(Y,K){switch(Y.type){case"add":B(Y.newValue,K,Y.name);break;case"update":V(Y.oldValue),B(Y.newValue,K,Y.name||""+Y.index);break;case"remove":case"delete":V(Y.oldValue);break;case"splice":Y.removed.map(V),Y.added.forEach(function(ie,oe){return B(ie,K,""+(Y.index+oe))});for(var X=Y.index+Y.addedCount;X<Y.object.length;X++)if(N(Y.object[X])){var W=z.get(Y.object[X]);W&&(W.path=""+X)}break}}function B(Y,K,X){if(N(Y)){var W=z.get(Y);if(W){if(W.parent!==K||W.path!==X)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+x(K)+"/"+X+"',")+(" but it already exists at '"+x(W.parent)+"/"+W.path+"'"))}else{var ie={parent:K,path:X,dispose:Object(a.D)(Y,M)};z.set(Y,ie),Object(a.p)(Y).forEach(function(oe){var ee=oe[0],ue=oe[1];return B(ue,ie,ee)})}}}function V(Y){if(N(Y)){var K=z.get(Y);if(!K)return;z.delete(Y),K.dispose(),Object(a.L)(Y).forEach(V)}}return B(k,void 0,""),function(){V(k)}}var j=function(){var k=function(F,z){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,D){M.__proto__=D}||function(M,D){for(var B in D)D.hasOwnProperty(B)&&(M[B]=D[B])},k(F,z)};return function(F,z){k(F,z);function M(){this.constructor=F}F.prototype=z===null?Object.create(z):(M.prototype=z.prototype,new M)}}();(function(k){j(F,k);function F(z,M,D){var B=D===void 0?{}:D,V=B.name,Y=V===void 0?"ogm"+(Math.random()*1e3|0):V,K=B.keyToName,X=K===void 0?function(oe){return""+oe}:K,W=k.call(this)||this;W._keyToName=X,W._groupBy=M,W._ogmInfoKey=Symbol("ogmInfo"+Y),W._base=z;for(var ie=0;ie<z.length;ie++)W._addItem(z[ie]);return W._disposeBaseObserver=Object(a.D)(W._base,function(oe){if(oe.type==="splice")Object(a.J)(function(){for(var ee=0,ue=oe.removed;ee<ue.length;ee++){var Ne=ue[ee];W._removeItem(Ne)}for(var $e=0,Ie=oe.added;$e<Ie.length;$e++){var Le=Ie[$e];W._addItem(Le)}});else if(oe.type==="update")Object(a.J)(function(){W._removeItem(oe.oldValue),W._addItem(oe.newValue)});else throw new Error("illegal state")}),W}return F.prototype.clear=function(){throw new Error("not supported")},F.prototype.delete=function(z){throw new Error("not supported")},F.prototype.set=function(z,M){throw new Error("not supported")},F.prototype.dispose=function(){this._disposeBaseObserver();for(var z=0;z<this._base.length;z++){var M=this._base[z],D=M[this._ogmInfoKey];D.reaction(),delete M[this._ogmInfoKey]}},F.prototype._getGroupArr=function(z){var M=k.prototype.get.call(this,z);return M===void 0&&(M=Object(a.C)([],{name:"GroupArray["+this._keyToName(z)+"]",deep:!1}),k.prototype.set.call(this,z,M)),M},F.prototype._removeFromGroupArr=function(z,M){var D=k.prototype.get.call(this,z);D.length===1?k.prototype.delete.call(this,z):(M===D.length-1||(D[M]=D[D.length-1],D[M][this._ogmInfoKey].groupArrIndex=M),D.length--)},F.prototype._addItem=function(z){var M=this,D=this._groupBy(z),B=this._getGroupArr(D),V={groupByValue:D,groupArrIndex:B.length,reaction:Object(a.F)(function(){return M._groupBy(z)},function(Y,K){var X=z[M._ogmInfoKey];M._removeFromGroupArr(X.groupByValue,X.groupArrIndex);var W=M._getGroupArr(Y),ie=W.length;W.push(z),X.groupByValue=Y,X.groupArrIndex=ie})};Object.defineProperty(z,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:V}),B.push(z)},F.prototype._removeItem=function(z){var M=z[this._ogmInfoKey];this._removeFromGroupArr(M.groupByValue,M.groupArrIndex),M.reaction(),delete z[this._ogmInfoKey]},F})(a.b),Promise.resolve(),typeof queueMicrotask<"u"||typeof i<"u"&&i.nextTick}).call(this,o(155))},function(n,r,o){var i;(function(a,s,f){if(!a)return;for(var d={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},h={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},v={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},y={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},m,b=1;b<20;++b)d[111+b]="f"+b;for(b=0;b<=9;++b)d[b+96]=b.toString();function S(M,D,B){if(M.addEventListener){M.addEventListener(D,B,!1);return}M.attachEvent("on"+D,B)}function O(M){if(M.type=="keypress"){var D=String.fromCharCode(M.which);return M.shiftKey||(D=D.toLowerCase()),D}return d[M.which]?d[M.which]:h[M.which]?h[M.which]:String.fromCharCode(M.which).toLowerCase()}function _(M,D){return M.sort().join(",")===D.sort().join(",")}function A(M){var D=[];return M.shiftKey&&D.push("shift"),M.altKey&&D.push("alt"),M.ctrlKey&&D.push("ctrl"),M.metaKey&&D.push("meta"),D}function T(M){if(M.preventDefault){M.preventDefault();return}M.returnValue=!1}function P(M){if(M.stopPropagation){M.stopPropagation();return}M.cancelBubble=!0}function x(M){return M=="shift"||M=="ctrl"||M=="alt"||M=="meta"}function N(){if(!m){m={};for(var M in d)M>95&&M<112||d.hasOwnProperty(M)&&(m[d[M]]=M)}return m}function L(M,D,B){return B||(B=N()[M]?"keydown":"keypress"),B=="keypress"&&D.length&&(B="keydown"),B}function j(M){return M==="+"?["+"]:(M=M.replace(/\+{2}/g,"+plus"),M.split("+"))}function k(M,D){var B,V,Y,K=[];for(B=j(M),Y=0;Y<B.length;++Y)V=B[Y],y[V]&&(V=y[V]),D&&D!="keypress"&&v[V]&&(V=v[V],K.push("shift")),x(V)&&K.push(V);return D=L(V,K,D),{key:V,modifiers:K,action:D}}function F(M,D){return M===null||M===s?!1:M===D?!0:F(M.parentNode,D)}function z(M){var D=this;if(M=M||s,!(D instanceof z))return new z(M);D.target=M,D._callbacks={},D._directMap={};var B={},V,Y=!1,K=!1,X=!1;function W(Ie){Ie=Ie||{};var Le=!1,he;for(he in B){if(Ie[he]){Le=!0;continue}B[he]=0}Le||(X=!1)}function ie(Ie,Le,he,te,ae,Ce){var Ze,se,de=[],ze=he.type;if(!D._callbacks[Ie])return[];for(ze=="keyup"&&x(Ie)&&(Le=[Ie]),Ze=0;Ze<D._callbacks[Ie].length;++Ze)if(se=D._callbacks[Ie][Ze],!(!te&&se.seq&&B[se.seq]!=se.level)&&ze==se.action&&(ze=="keypress"&&!he.metaKey&&!he.ctrlKey||_(Le,se.modifiers))){var lt=!te&&se.combo==ae,Re=te&&se.seq==te&&se.level==Ce;(lt||Re)&&D._callbacks[Ie].splice(Ze,1),de.push(se)}return de}function oe(Ie,Le,he,te){D.stopCallback(Le,Le.target||Le.srcElement,he,te)||Ie(Le,he)===!1&&(T(Le),P(Le))}D._handleKey=function(Ie,Le,he){var te=ie(Ie,Le,he),ae,Ce={},Ze=0,se=!1;for(ae=0;ae<te.length;++ae)te[ae].seq&&(Ze=Math.max(Ze,te[ae].level));for(ae=0;ae<te.length;++ae){if(te[ae].seq){if(te[ae].level!=Ze)continue;se=!0,Ce[te[ae].seq]=1,oe(te[ae].callback,he,te[ae].combo,te[ae].seq);continue}se||oe(te[ae].callback,he,te[ae].combo)}var de=he.type=="keypress"&&K;he.type==X&&!x(Ie)&&!de&&W(Ce),K=se&&he.type=="keydown"};function ee(Ie){typeof Ie.which!="number"&&(Ie.which=Ie.keyCode);var Le=O(Ie);if(!!Le){if(Ie.type=="keyup"&&Y===Le){Y=!1;return}D.handleKey(Le,A(Ie),Ie)}}function ue(){clearTimeout(V),V=setTimeout(W,1e3)}function Ne(Ie,Le,he,te){B[Ie]=0;function ae(ze){return function(){X=ze,++B[Ie],ue()}}function Ce(ze){oe(he,ze,Ie),te!=="keyup"&&(Y=O(ze)),setTimeout(W,10)}for(var Ze=0;Ze<Le.length;++Ze){var se=Ze+1===Le.length,de=se?Ce:ae(te||k(Le[Ze+1]).action);$e(Le[Ze],de,te,Ie,Ze)}}function $e(Ie,Le,he,te,ae){D._directMap[Ie+":"+he]=Le,Ie=Ie.replace(/\s+/g," ");var Ce=Ie.split(" "),Ze;if(Ce.length>1){Ne(Ie,Ce,Le,he);return}Ze=k(Ie,he),D._callbacks[Ze.key]=D._callbacks[Ze.key]||[],ie(Ze.key,Ze.modifiers,{type:Ze.action},te,Ie,ae),D._callbacks[Ze.key][te?"unshift":"push"]({callback:Le,modifiers:Ze.modifiers,action:Ze.action,seq:te,level:ae,combo:Ie})}D._bindMultiple=function(Ie,Le,he){for(var te=0;te<Ie.length;++te)$e(Ie[te],Le,he)},S(M,"keypress",ee),S(M,"keydown",ee),S(M,"keyup",ee)}z.prototype.bind=function(M,D,B){var V=this;return M=M instanceof Array?M:[M],V._bindMultiple.call(V,M,D,B),V},z.prototype.unbind=function(M,D){var B=this;return B.bind.call(B,M,function(){},D)},z.prototype.trigger=function(M,D){var B=this;return B._directMap[M+":"+D]&&B._directMap[M+":"+D]({},M),B},z.prototype.reset=function(){var M=this;return M._callbacks={},M._directMap={},M},z.prototype.stopCallback=function(M,D){var B=this;if((" "+D.className+" ").indexOf(" mousetrap ")>-1||F(D,B.target))return!1;if("composedPath"in M&&typeof M.composedPath=="function"){var V=M.composedPath()[0];V!==M.target&&(D=V)}return D.tagName=="INPUT"||D.tagName=="SELECT"||D.tagName=="TEXTAREA"||D.isContentEditable},z.prototype.handleKey=function(){var M=this;return M._handleKey.apply(M,arguments)},z.addKeycodes=function(M){for(var D in M)M.hasOwnProperty(D)&&(d[D]=M[D]);m=null},z.init=function(){var M=z(s);for(var D in M)D.charAt(0)!=="_"&&(z[D]=function(B){return function(){return M[B].apply(M,arguments)}}(D))},z.init(),a.Mousetrap=z,n.exports&&(n.exports=z),i=function(){return z}.call(r,o,r,n),i!==f&&(n.exports=i)})(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(n,r,o){var i=o(36),a=o(37),s=o(32),f=o(39),d=o(66);n.exports=i?Object.defineProperties:function(v,y){s(v);for(var m=f(y),b=d(y),S=b.length,O=0,_;S>O;)a.f(v,_=b[O++],m[_]);return v}},function(n,r,o){var i=o(7),a=o(35),s=o(28),f=o(33),d=i.TypeError;n.exports=function(h,v){var y,m;if(v==="string"&&s(y=h.toString)&&!f(m=a(y,h))||s(y=h.valueOf)&&!f(m=a(y,h))||v!=="string"&&s(y=h.toString)&&!f(m=a(y,h)))return m;throw d("Can't convert object to primitive value")}},function(n,r,o){var i=o(7),a=o(28),s=o(92),f=i.WeakMap;n.exports=a(f)&&/native code/.test(s(f))},function(n,r,o){var i=o(136).IteratorPrototype,a=o(54),s=o(71),f=o(73),d=o(70),h=function(){return this};n.exports=function(v,y,m,b){var S=y+" Iterator";return v.prototype=a(i,{next:s(+!b,m)}),f(v,S,!1,!0),d[S]=h,v}},function(n,r,o){var i=o(7),a=o(28),s=i.String,f=i.TypeError;n.exports=function(d){if(typeof d=="object"||a(d))return d;throw f("Can't set "+s(d)+" as a prototype")}},function(n,r,o){var i=o(16),a=o(7),s=o(15),f=o(95),d=o(44),h=o(138),v=o(114),y=o(117),m=o(28),b=o(33),S=o(18),O=o(118),_=o(73),A=o(143);n.exports=function(T,P,x){var N=T.indexOf("Map")!==-1,L=T.indexOf("Weak")!==-1,j=N?"set":"add",k=a[T],F=k&&k.prototype,z=k,M={},D=function(ie){var oe=s(F[ie]);d(F,ie,ie=="add"?function(ue){return oe(this,ue===0?0:ue),this}:ie=="delete"?function(ee){return L&&!b(ee)?!1:oe(this,ee===0?0:ee)}:ie=="get"?function(ue){return L&&!b(ue)?void 0:oe(this,ue===0?0:ue)}:ie=="has"?function(ue){return L&&!b(ue)?!1:oe(this,ue===0?0:ue)}:function(ue,Ne){return oe(this,ue===0?0:ue,Ne),this})},B=f(T,!m(k)||!(L||F.forEach&&!S(function(){new k().entries().next()})));if(B)z=x.getConstructor(P,T,N,j),h.enable();else if(f(T,!0)){var V=new z,Y=V[j](L?{}:-0,1)!=V,K=S(function(){V.has(1)}),X=O(function(ie){new k(ie)}),W=!L&&S(function(){for(var ie=new k,oe=5;oe--;)ie[j](oe,oe);return!ie.has(-0)});X||(z=P(function(ie,oe){y(ie,F);var ee=A(new k,ie,z);return oe!=null&&v(oe,ee[j],{that:ee,AS_ENTRIES:N}),ee}),z.prototype=F,F.constructor=z),(K||W)&&(D("delete"),D("has"),N&&D("get")),(W||Y)&&D(j),L&&F.clear&&delete F.clear}return M[T]=z,i({global:!0,forced:z!=k},M),_(z,T),L||x.setStrong(z,T,N),z}},function(n,r,o){var i=o(18),a=o(33),s=o(50),f=o(175),d=Object.isExtensible,h=i(function(){});n.exports=h||f?function(y){return!a(y)||f&&s(y)=="ArrayBuffer"?!1:d?d(y):!0}:d},function(n,r,o){var i=o(18);n.exports=i(function(){if(typeof ArrayBuffer=="function"){var a=new ArrayBuffer(8);Object.isExtensible(a)&&Object.defineProperty(a,"a",{value:8})}})},function(n,r,o){var i=o(18);n.exports=!i(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(n,r,o){var i=o(37).f,a=o(54),s=o(144),f=o(62),d=o(117),h=o(114),v=o(111),y=o(145),m=o(36),b=o(138).fastKey,S=o(56),O=S.set,_=S.getterFor;n.exports={getConstructor:function(A,T,P,x){var N=A(function(z,M){d(z,L),O(z,{type:T,index:a(null),first:void 0,last:void 0,size:0}),m||(z.size=0),M!=null&&h(M,z[x],{that:z,AS_ENTRIES:P})}),L=N.prototype,j=_(T),k=function(z,M,D){var B=j(z),V=F(z,M),Y,K;return V?V.value=D:(B.last=V={index:K=b(M,!0),key:M,value:D,previous:Y=B.last,next:void 0,removed:!1},B.first||(B.first=V),Y&&(Y.next=V),m?B.size++:z.size++,K!=="F"&&(B.index[K]=V)),z},F=function(z,M){var D=j(z),B=b(M),V;if(B!=="F")return D.index[B];for(V=D.first;V;V=V.next)if(V.key==M)return V};return s(L,{clear:function(){for(var M=this,D=j(M),B=D.index,V=D.first;V;)V.removed=!0,V.previous&&(V.previous=V.previous.next=void 0),delete B[V.index],V=V.next;D.first=D.last=void 0,m?D.size=0:M.size=0},delete:function(z){var M=this,D=j(M),B=F(M,z);if(B){var V=B.next,Y=B.previous;delete D.index[B.index],B.removed=!0,Y&&(Y.next=V),V&&(V.previous=Y),D.first==B&&(D.first=V),D.last==B&&(D.last=Y),m?D.size--:M.size--}return!!B},forEach:function(M){for(var D=j(this),B=f(M,arguments.length>1?arguments[1]:void 0),V;V=V?V.next:D.first;)for(B(V.value,V.key,this);V&&V.removed;)V=V.previous},has:function(M){return!!F(this,M)}}),s(L,P?{get:function(M){var D=F(this,M);return D&&D.value},set:function(M,D){return k(this,M===0?0:M,D)}}:{add:function(M){return k(this,M=M===0?0:M,M)}}),m&&i(L,"size",{get:function(){return j(this).size}}),N},setStrong:function(A,T,P){var x=T+" Iterator",N=_(T),L=_(x);v(A,T,function(j,k){O(this,{type:x,target:j,state:N(j),kind:k,last:void 0})},function(){for(var j=L(this),k=j.kind,F=j.last;F&&F.removed;)F=F.previous;return!j.target||!(j.last=F=F?F.next:j.state.first)?(j.target=void 0,{value:void 0,done:!0}):k=="keys"?{value:F.key,done:!1}:k=="values"?{value:F.value,done:!1}:{value:[F.key,F.value],done:!1}},P?"entries":"values",!P,!0),y(T)}}},function(n,r,o){var i=o(116),a=o(98);n.exports=i?{}.toString:function(){return"[object "+a(this)+"]"}},function(n,r,o){var i=o(74).forEach,a=o(120),s=a("forEach");n.exports=s?[].forEach:function(d){return i(this,d,arguments.length>1?arguments[1]:void 0)}},function(n,r,o){var i=o(7),a=o(99),s=o(100),f=o(33),d=o(27),h=d("species"),v=i.Array;n.exports=function(y){var m;return a(y)&&(m=y.constructor,s(m)&&(m===v||a(m.prototype))?m=void 0:f(m)&&(m=m[h],m===null&&(m=void 0))),m===void 0?v:m}},function(n,r,o){var i=o(7);n.exports=i},function(n,r,o){var i=o(7),a=o(62),s=o(35),f=o(38),d=o(183),h=o(140),v=o(100),y=o(43),m=o(61),b=o(141),S=o(115),O=i.Array;n.exports=function(A){var T=f(A),P=v(this),x=arguments.length,N=x>1?arguments[1]:void 0,L=N!==void 0;L&&(N=a(N,x>2?arguments[2]:void 0));var j=S(T),k=0,F,z,M,D,B,V;if(j&&!(this==O&&h(j)))for(D=b(T,j),B=D.next,z=P?new this:[];!(M=s(B,D)).done;k++)V=L?d(D,N,[M.value,k],!0):M.value,m(z,k,V);else for(F=y(T),z=P?new this(F):O(F);F>k;k++)V=L?N(T[k],k):T[k],m(z,k,V);return z.length=k,z}},function(n,r,o){var i=o(32),a=o(142);n.exports=function(s,f,d,h){try{return h?f(i(d)[0],d[1]):f(d)}catch(v){a(s,"throw",v)}}},function(n,r,o){var i=o(32);n.exports=function(){var a=i(this),s="";return a.global&&(s+="g"),a.ignoreCase&&(s+="i"),a.multiline&&(s+="m"),a.dotAll&&(s+="s"),a.unicode&&(s+="u"),a.sticky&&(s+="y"),s}},function(n,r,o){var i=o(18),a=o(7),s=a.RegExp;n.exports=i(function(){var f=s(".","s");return!(f.dotAll&&f.exec(`
`)&&f.flags==="s")})},function(n,r,o){var i=o(18),a=o(7),s=a.RegExp;n.exports=i(function(){var f=s("(?<a>b)","g");return f.exec("b").groups.a!=="b"||"b".replace(f,"$<a>c")!=="bc"})},function(n,r,o){var i=o(16),a=o(15),s=o(55),f=o(38),d=o(43),h=o(40),v=o(18),y=o(188),m=o(120),b=o(189),S=o(190),O=o(65),_=o(191),A=[],T=a(A.sort),P=a(A.push),x=v(function(){A.sort(void 0)}),N=v(function(){A.sort(null)}),L=m("sort"),j=!v(function(){if(O)return O<70;if(!(b&&b>3)){if(S)return!0;if(_)return _<603;var z="",M,D,B,V;for(M=65;M<76;M++){switch(D=String.fromCharCode(M),M){case 66:case 69:case 70:case 72:B=3;break;case 68:case 71:B=4;break;default:B=2}for(V=0;V<47;V++)A.push({k:D+V,v:B})}for(A.sort(function(Y,K){return K.v-Y.v}),V=0;V<A.length;V++)D=A[V].k.charAt(0),z.charAt(z.length-1)!==D&&(z+=D);return z!=="DGBEFHACIJK"}}),k=x||!N||!L||!j,F=function(z){return function(M,D){return D===void 0?-1:M===void 0?1:z!==void 0?+z(M,D)||0:h(M)>h(D)?1:-1}};i({target:"Array",proto:!0,forced:k},{sort:function(M){M!==void 0&&s(M);var D=f(this);if(j)return M===void 0?T(D):T(D,M);var B=[],V=d(D),Y,K;for(K=0;K<V;K++)K in D&&P(B,D[K]);for(y(B,F(M)),Y=B.length,K=0;K<Y;)D[K]=B[K++];for(;K<V;)delete D[K++];return D}})},function(n,r,o){var i=o(113),a=Math.floor,s=function(h,v){var y=h.length,m=a(y/2);return y<8?f(h,v):d(h,s(i(h,0,m),v),s(i(h,m),v),v)},f=function(h,v){for(var y=h.length,m=1,b,S;m<y;){for(S=m,b=h[m];S&&v(h[S-1],b)>0;)h[S]=h[--S];S!==m++&&(h[S]=b)}return h},d=function(h,v,y,m){for(var b=v.length,S=y.length,O=0,_=0;O<b||_<S;)h[O+_]=O<b&&_<S?m(v[O],y[_])<=0?v[O++]:y[_++]:O<b?v[O++]:y[_++];return h};n.exports=s},function(n,r,o){var i=o(53),a=i.match(/firefox\/(\d+)/i);n.exports=!!a&&+a[1]},function(n,r,o){var i=o(53);n.exports=/MSIE|Trident/.test(i)},function(n,r,o){var i=o(53),a=i.match(/AppleWebKit\/(\d+)\./);n.exports=!!a&&+a[1]},function(n,r,o){var i=o(16),a=o(74).find,s=o(83),f="find",d=!0;f in[]&&Array(1)[f](function(){d=!1}),i({target:"Array",proto:!0,forced:d},{find:function(v){return a(this,v,arguments.length>1?arguments[1]:void 0)}}),s(f)},function(n,r,o){var i=o(7),a=o(154),s=i.TypeError;n.exports=function(f){if(a(f))throw s("The method doesn't accept regular expressions");return f}},function(n,r,o){var i=o(27),a=i("match");n.exports=function(s){var f=/./;try{"/./"[s](f)}catch{try{return f[a]=!1,"/./"[s](f)}catch{}}return!1}},function(n,r,o){var i=o(94).PROPER,a=o(18),s=o(160),f="\u200B\x85\u180E";n.exports=function(d){return a(function(){return!!s[d]()||f[d]()!==f||i&&s[d].name!==d})}},function(n,r,o){var i=o(15);n.exports=i(1 .valueOf)},function(n,r,o){var i=o(15),a=o(38),s=Math.floor,f=i("".charAt),d=i("".replace),h=i("".slice),v=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,y=/\$([$&'`]|\d{1,2})/g;n.exports=function(m,b,S,O,_,A){var T=S+m.length,P=O.length,x=y;return _!==void 0&&(_=a(_),x=v),d(A,x,function(N,L){var j;switch(f(L,0)){case"$":return"$";case"&":return m;case"`":return h(b,0,S);case"'":return h(b,T);case"<":j=_[h(L,1,-1)];break;default:var k=+L;if(k===0)return N;if(k>P){var F=s(k/10);return F===0?N:F<=P?O[F-1]===void 0?f(L,1):O[F-1]+f(L,1):N}j=O[k-1]}return j===void 0?"":j})}},function(n,r,o){var i=o(36),a=o(15),s=o(35),f=o(18),d=o(66),h=o(112),v=o(93),y=o(38),m=o(81),b=Object.assign,S=Object.defineProperty,O=a([].concat);n.exports=!b||f(function(){if(i&&b({b:1},b(S({},"a",{enumerable:!0,get:function(){S(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var _={},A={},T=Symbol(),P="abcdefghijklmnopqrst";return _[T]=7,P.split("").forEach(function(x){A[x]=x}),b({},_)[T]!=7||d(b({},A)).join("")!=P})?function(A,T){for(var P=y(A),x=arguments.length,N=1,L=h.f,j=v.f;x>N;)for(var k=m(arguments[N++]),F=L?O(d(k),L(k)):d(k),z=F.length,M=0,D;z>M;)D=F[M++],(!i||s(j,k,D))&&(P[D]=k[D]);return P}:b},function(n,r,o){var i=o(7),a=o(15),s=o(55),f=o(33),d=o(34),h=o(101),v=i.Function,y=a([].concat),m=a([].join),b={},S=function(O,_,A){if(!d(b,_)){for(var T=[],P=0;P<_;P++)T[P]="a["+P+"]";b[_]=v("C,a","return new C("+m(T,",")+")")}return b[_](O,A)};n.exports=v.bind||function(_){var A=s(this),T=A.prototype,P=h(arguments,1),x=function(){var L=y(P,h(arguments));return this instanceof x?S(A,L.length,L):A.apply(_,L)};return f(T)&&(x.prototype=T),x}},function(n,r,o){var i=o(34);n.exports=function(a){return a!==void 0&&(i(a,"value")||i(a,"writable"))}},function(n,r,o){var i=o(15),a=o(45),s=o(40),f=/"/g,d=i("".replace);n.exports=function(h,v,y,m){var b=s(a(h)),S="<"+v;return y!==""&&(S+=" "+y+'="'+d(s(m),f,"&quot;")+'"'),S+">"+b+"</"+v+">"}},function(n,r,o){var i=o(18);n.exports=function(a){return i(function(){var s=""[a]('"');return s!==s.toLowerCase()||s.split('"').length>3})}},function(n,r,o){var i=o(16),a=Math.hypot,s=Math.abs,f=Math.sqrt,d=!!a&&a(1/0,NaN)!==1/0;i({target:"Math",stat:!0,forced:d},{hypot:function(v,y){for(var m=0,b=0,S=arguments.length,O=0,_,A;b<S;)_=s(arguments[b++]),O<_?(A=O/_,m=m*A*A+1,O=_):_>0?(A=_/O,m+=A*A):m+=_;return O===1/0?1/0:O*f(m)}})},function(n,r,o){var i=o(16),a=o(64),s=o(7),f=o(46),d=o(35),h=o(205),v=o(44),y=o(144),m=o(97),b=o(73),S=o(145),O=o(55),_=o(28),A=o(33),T=o(117),P=o(92),x=o(114),N=o(118),L=o(156),j=o(162).set,k=o(206),F=o(209),z=o(210),M=o(164),D=o(211),B=o(56),V=o(95),Y=o(27),K=o(212),X=o(126),W=o(65),ie=Y("species"),oe="Promise",ee=B.getterFor(oe),ue=B.set,Ne=B.getterFor(oe),$e=h&&h.prototype,Ie=h,Le=$e,he=s.TypeError,te=s.document,ae=s.process,Ce=M.f,Ze=Ce,se=!!(te&&te.createEvent&&s.dispatchEvent),de=_(s.PromiseRejectionEvent),ze="unhandledrejection",lt="rejectionhandled",Re=0,qe=1,pe=2,Ue=1,Ke=2,Ve=!1,ne,fe,Me,it,Oe=V(oe,function(){var tn=P(Ie),Dn=tn!==String(Ie);if(!Dn&&W===66||a&&!Le.finally)return!0;if(W>=51&&/native code/.test(tn))return!1;var vn=new Ie(function(be){be(1)}),Ln=function(be){be(function(){},function(){})},Ot=vn.constructor={};return Ot[ie]=Ln,Ve=vn.then(function(){})instanceof Ln,Ve?!Dn&&K&&!de:!0}),_e=Oe||!N(function(tn){Ie.all(tn).catch(function(){})}),nt=function(tn){var Dn;return A(tn)&&_(Dn=tn.then)?Dn:!1},Se=function(tn,Dn){if(!tn.notified){tn.notified=!0;var vn=tn.reactions;k(function(){for(var Ln=tn.value,Ot=tn.state==qe,be=0;vn.length>be;){var We=vn[be++],rt=Ot?We.ok:We.fail,vt=We.resolve,Jt=We.reject,An=We.domain,Yn,Jr,ui;try{rt?(Ot||(tn.rejection===Ke&&yt(tn),tn.rejection=Ue),rt===!0?Yn=Ln:(An&&An.enter(),Yn=rt(Ln),An&&(An.exit(),ui=!0)),Yn===We.promise?Jt(he("Promise-chain cycle")):(Jr=nt(Yn))?d(Jr,Yn,vt,Jt):vt(Yn)):Jt(Ln)}catch(ci){An&&!ui&&An.exit(),Jt(ci)}}tn.reactions=[],tn.notified=!1,Dn&&!tn.rejection&&we(tn)})}},tt=function(tn,Dn,vn){var Ln,Ot;se?(Ln=te.createEvent("Event"),Ln.promise=Dn,Ln.reason=vn,Ln.initEvent(tn,!1,!0),s.dispatchEvent(Ln)):Ln={promise:Dn,reason:vn},!de&&(Ot=s["on"+tn])?Ot(Ln):tn===ze&&z("Unhandled promise rejection",vn)},we=function(tn){d(j,s,function(){var Dn=tn.facade,vn=tn.value,Ln=ht(tn),Ot;if(Ln&&(Ot=D(function(){X?ae.emit("unhandledRejection",vn,Dn):tt(ze,Dn,vn)}),tn.rejection=X||ht(tn)?Ke:Ue,Ot.error))throw Ot.value})},ht=function(tn){return tn.rejection!==Ue&&!tn.parent},yt=function(tn){d(j,s,function(){var Dn=tn.facade;X?ae.emit("rejectionHandled",Dn):tt(lt,Dn,tn.value)})},Et=function(tn,Dn,vn){return function(Ln){tn(Dn,Ln,vn)}},Wt=function(tn,Dn,vn){tn.done||(tn.done=!0,vn&&(tn=vn),tn.value=Dn,tn.state=pe,Se(tn,!0))},ur=function(tn,Dn,vn){if(!tn.done){tn.done=!0,vn&&(tn=vn);try{if(tn.facade===Dn)throw he("Promise can't be resolved itself");var Ln=nt(Dn);Ln?k(function(){var Ot={done:!1};try{d(Ln,Dn,Et(ur,Ot,tn),Et(Wt,Ot,tn))}catch(be){Wt(Ot,be,tn)}}):(tn.value=Dn,tn.state=qe,Se(tn,!1))}catch(Ot){Wt({done:!1},Ot,tn)}}};if(Oe&&(Ie=function(Dn){T(this,Le),O(Dn),d(ne,this);var vn=ee(this);try{Dn(Et(ur,vn),Et(Wt,vn))}catch(Ln){Wt(vn,Ln)}},Le=Ie.prototype,ne=function(Dn){ue(this,{type:oe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Re,value:void 0})},ne.prototype=y(Le,{then:function(Dn,vn){var Ln=Ne(this),Ot=Ln.reactions,be=Ce(L(this,Ie));return be.ok=_(Dn)?Dn:!0,be.fail=_(vn)&&vn,be.domain=X?ae.domain:void 0,Ln.parent=!0,Ot[Ot.length]=be,Ln.state!=Re&&Se(Ln,!1),be.promise},catch:function(tn){return this.then(void 0,tn)}}),fe=function(){var tn=new ne,Dn=ee(tn);this.promise=tn,this.resolve=Et(ur,Dn),this.reject=Et(Wt,Dn)},M.f=Ce=function(tn){return tn===Ie||tn===Me?new fe(tn):Ze(tn)},!a&&_(h)&&$e!==Object.prototype)){it=$e.then,Ve||(v($e,"then",function(Dn,vn){var Ln=this;return new Ie(function(Ot,be){d(it,Ln,Ot,be)}).then(Dn,vn)},{unsafe:!0}),v($e,"catch",Le.catch,{unsafe:!0}));try{delete $e.constructor}catch{}m&&m($e,Le)}i({global:!0,wrap:!0,forced:Oe},{Promise:Ie}),b(Ie,oe,!1,!0),S(oe),Me=f(oe),i({target:oe,stat:!0,forced:Oe},{reject:function(Dn){var vn=Ce(this);return d(vn.reject,void 0,Dn),vn.promise}}),i({target:oe,stat:!0,forced:a||Oe},{resolve:function(Dn){return F(a&&this===Me?Ie:this,Dn)}}),i({target:oe,stat:!0,forced:_e},{all:function(Dn){var vn=this,Ln=Ce(vn),Ot=Ln.resolve,be=Ln.reject,We=D(function(){var rt=O(vn.resolve),vt=[],Jt=0,An=1;x(Dn,function(Yn){var Jr=Jt++,ui=!1;An++,d(rt,vn,Yn).then(function(ci){ui||(ui=!0,vt[Jr]=ci,--An||Ot(vt))},be)}),--An||Ot(vt)});return We.error&&be(We.value),Ln.promise},race:function(Dn){var vn=this,Ln=Ce(vn),Ot=Ln.reject,be=D(function(){var We=O(vn.resolve);x(Dn,function(rt){d(We,vn,rt).then(Ln.resolve,Ot)})});return be.error&&Ot(be.value),Ln.promise}})},function(n,r,o){var i=o(7);n.exports=i.Promise},function(n,r,o){var i=o(7),a=o(62),s=o(51).f,f=o(162).set,d=o(163),h=o(207),v=o(208),y=o(126),m=i.MutationObserver||i.WebKitMutationObserver,b=i.document,S=i.process,O=i.Promise,_=s(i,"queueMicrotask"),A=_&&_.value,T,P,x,N,L,j,k,F;A||(T=function(){var z,M;for(y&&(z=S.domain)&&z.exit();P;){M=P.fn,P=P.next;try{M()}catch(D){throw P?N():x=void 0,D}}x=void 0,z&&z.enter()},!d&&!y&&!v&&m&&b?(L=!0,j=b.createTextNode(""),new m(T).observe(j,{characterData:!0}),N=function(){j.data=L=!L}):!h&&O&&O.resolve?(k=O.resolve(void 0),k.constructor=O,F=a(k.then,k),N=function(){F(T)}):y?N=function(){S.nextTick(T)}:(f=a(f,i),N=function(){f(T)})),n.exports=A||function(z){var M={fn:z,next:void 0};x&&(x.next=M),P||(P=M,N()),x=M}},function(n,r,o){var i=o(53),a=o(7);n.exports=/ipad|iphone|ipod/i.test(i)&&a.Pebble!==void 0},function(n,r,o){var i=o(53);n.exports=/web0s(?!.*chrome)/i.test(i)},function(n,r,o){var i=o(32),a=o(33),s=o(164);n.exports=function(f,d){if(i(f),a(d)&&d.constructor===f)return d;var h=s.f(f),v=h.resolve;return v(d),h.promise}},function(n,r,o){var i=o(7);n.exports=function(a,s){var f=i.console;f&&f.error&&(arguments.length==1?f.error(a):f.error(a,s))}},function(n,r){n.exports=function(o){try{return{error:!1,value:o()}}catch(i){return{error:!0,value:i}}}},function(n,r){n.exports=typeof window=="object"},function(n,r,o){var i=o(36),a=o(15),s=o(66),f=o(39),d=o(93).f,h=a(d),v=a([].push),y=function(m){return function(b){for(var S=f(b),O=s(S),_=O.length,A=0,T=[],P;_>A;)P=O[A++],(!i||h(S,P))&&v(T,m?[P,S[P]]:S[P]);return T}};n.exports={entries:y(!0),values:y(!1)}},function(n,r,o){var i=o(38),a=o(67),s=o(43);n.exports=function(d){for(var h=i(this),v=s(h),y=arguments.length,m=a(y>1?arguments[1]:void 0,v),b=y>2?arguments[2]:void 0,S=b===void 0?v:a(b,v);S>m;)h[m++]=d;return h}},function(n,r,o){o.r(r),o.d(r,"observer",function(){return il}),o.d(r,"LogicFlow",function(){return q2}),o.d(r,"h",function(){return Oe.g}),o.d(r,"LogicFlowUtil",function(){return i}),o.d(r,"BaseNode",function(){return Ku}),o.d(r,"RectNode",function(){return h2}),o.d(r,"CircleNode",function(){return y2}),o.d(r,"PolygonNode",function(){return b2}),o.d(r,"DiamondNode",function(){return w2}),o.d(r,"EllipseNode",function(){return T2}),o.d(r,"TextNode",function(){return A2}),o.d(r,"HtmlNode",function(){return M2}),o.d(r,"BaseEdge",function(){return Qm}),o.d(r,"LineEdge",function(){return j2}),o.d(r,"PolylineEdge",function(){return z2}),o.d(r,"BezierEdge",function(){return V2}),o.d(r,"Arrow",function(){return hie}),o.d(r,"BaseEdgeModel",function(){return dC}),o.d(r,"BezierEdgeModel",function(){return zC}),o.d(r,"LineEdgeModel",function(){return vC}),o.d(r,"PolylineEdgeModel",function(){return gC}),o.d(r,"BaseNodeModel",function(){return Gu}),o.d(r,"CircleNodeModel",function(){return HC}),o.d(r,"DiamondNodeModel",function(){return KC}),o.d(r,"EllipseNodeModel",function(){return YC}),o.d(r,"PolygonNodeModel",function(){return QC}),o.d(r,"RectNodeModel",function(){return t2}),o.d(r,"TextNodeModel",function(){return r2}),o.d(r,"HtmlNodeModel",function(){return i2}),o.d(r,"EditConfigModel",function(){return Zt}),o.d(r,"GraphModel",function(){return oD}),o.d(r,"SnaplineModel",function(){return iL}),o.d(r,"Keyboard",function(){return p3}),o.d(r,"get",function(){return jD}),o.d(r,"defaults",function(){return FD});var i={};o.r(i),o.d(i,"createUuid",function(){return Wd}),o.d(i,"refreshGraphId",function(){return EJ}),o.d(i,"createDrag",function(){return _C}),o.d(i,"StepDrag",function(){return Kd});var a=o(0),s=o(10);if(!s.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!a.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var f=o(42),d=Object(f.b)("observerBatching");function h(l){l()}function v(l){l||(l=h),Object(a.n)({reactionScheduler:l}),Object(f.a)()[d]=!0}function y(l){return Object(a.t)(l)}function m(l){var c={cleanAt:Date.now()+b,reaction:l};return c}var b=1e4,S=1e4,O=new Set,_;function A(){_===void 0&&(_=setTimeout(x,S))}function T(l){O.add(l),A()}function P(l){O.delete(l)}function x(){_=void 0;var l=Date.now();O.forEach(function(c){var u=c.current;u&&l>=u.cleanAt&&(u.reaction.dispose(),c.current=null,O.delete(c))}),O.size>0&&A()}var N=!1,L=[];function j(l){return function(){N?L.push(l):l()}}function k(l){N=!0,L=[];try{var c=l();N=!1;var u=L.length>0?L:void 0;return s.d.useLayoutEffect(function(){u&&u.forEach(function(p){return p()})},[u]),c}finally{N=!1}}var F={};function z(l){return"observer"+l}function M(l,c,u){c===void 0&&(c="observed"),u===void 0&&(u=F);var p=u.useForceUpdate||f.d,g=p(),w=j(g),C=s.d.useRef(null);if(!C.current){var I=new a.c(z(c),function(){U.mounted?w():(I.dispose(),C.current=null)}),U=m(I);C.current=U,T(C)}var q=C.current.reaction;return s.d.useDebugValue(q,y),s.d.useEffect(function(){return P(C),C.current?C.current.mounted=!0:(C.current={reaction:new a.c(z(c),function(){w()}),cleanAt:1/0},w()),function(){C.current.reaction.dispose(),C.current=null}},[]),k(function(){var ce,ge;if(q.track(function(){try{ce=l()}catch(ke){ge=ke}}),ge)throw ge;return ce})}var D=function(){return D=Object.assign||function(l){for(var c,u=1,p=arguments.length;u<p;u++){c=arguments[u];for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&(l[g]=c[g])}return l},D.apply(this,arguments)};function B(l,c){var u=D({forwardRef:!1},c),p=l.displayName||l.name,g=function(C,I){return M(function(){return l(C,I)},p)};g.displayName=p;var w;return u.forwardRef?w=Object(s.f)(Object(s.e)(g)):w=Object(s.f)(g),Y(l,w),w.displayName=p,w}var V={$$typeof:!0,render:!0,compare:!0,type:!0};function Y(l,c){Object.keys(l).forEach(function(u){V[u]||Object.defineProperty(c,u,Object.getOwnPropertyDescriptor(l,u))})}function K(l){var c=l.children,u=l.render,p=c||u;return typeof p!="function"?null:M(p)}K.propTypes={children:X,render:X},K.displayName="Observer";function X(l,c,u,p,g){var w=c==="children"?"render":"children",C=typeof l[c]=="function",I=typeof l[w]=="function";return C&&I?new Error("MobX Observer: Do not use children and render in the same time in`"+u):C||I?null:new Error("Invalid prop `"+g+"` of type `"+typeof l[c]+"` supplied to `"+u+"`, expected `function`.")}v(s.g);var W=0;function ie(l){if(typeof Symbol=="function")return Symbol(l);var c="__$mobx-react "+l+" ("+W+")";return W++,c}var oe={};function ee(l){return oe[l]||(oe[l]=ie(l)),oe[l]}function ue(l,c){if(Ne(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var u=Object.keys(l),p=Object.keys(c);if(u.length!==p.length)return!1;for(var g=0;g<u.length;g++)if(!Object.hasOwnProperty.call(c,u[g])||!Ne(l[u[g]],c[u[g]]))return!1;return!0}function Ne(l,c){return l===c?l!==0||1/l===1/c:l!==l&&c!==c}function $e(l,c,u){Object.hasOwnProperty.call(l,c)?l[c]=u:Object.defineProperty(l,c,{enumerable:!1,configurable:!0,writable:!0,value:u})}var Ie=ee("patchMixins"),Le=ee("patchedDefinition");function he(l,c){var u=l[Ie]=l[Ie]||{},p=u[c]=u[c]||{};return p.locks=p.locks||0,p.methods=p.methods||[],p}function te(l,c){for(var u=this,p=arguments.length,g=new Array(p>2?p-2:0),w=2;w<p;w++)g[w-2]=arguments[w];c.locks++;try{var C;return l!=null&&(C=l.apply(this,g)),C}finally{c.locks--,c.locks===0&&c.methods.forEach(function(I){I.apply(u,g)})}}function ae(l,c){var u=function(){for(var g=arguments.length,w=new Array(g),C=0;C<g;C++)w[C]=arguments[C];te.call.apply(te,[this,l,c].concat(w))};return u}function Ce(l,c,u){var p=he(l,c);p.methods.indexOf(u)<0&&p.methods.push(u);var g=Object.getOwnPropertyDescriptor(l,c);if(!(g&&g[Le])){var w=l[c],C=Ze(l,c,g?g.enumerable:void 0,p,w);Object.defineProperty(l,c,C)}}function Ze(l,c,u,p,g){var w,C=ae(g,p);return w={},w[Le]=!0,w.get=function(){return C},w.set=function(U){if(this===l)C=ae(U,p);else{var q=Ze(this,c,u,p,U);Object.defineProperty(this,c,q)}},w.configurable=!0,w.enumerable=u,w}var se=a.a||"$mobx",de=ee("isMobXReactObserver"),ze=ee("isUnmounted"),lt=ee("skipRender"),Re=ee("isForcingUpdate");function qe(l){var c=l.prototype;if(l[de]){var u=pe(c);console.warn("The provided component class ("+u+`) 
                has already been declared as an observer component.`)}else l[de]=!0;if(c.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(l.__proto__!==s.b){if(!c.shouldComponentUpdate)c.shouldComponentUpdate=Ke;else if(c.shouldComponentUpdate!==Ke)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}Ve(c,"props"),Ve(c,"state");var p=c.render;return c.render=function(){return Ue.call(this,p)},Ce(c,"componentWillUnmount",function(){var g;if((g=this.render[se])===null||g===void 0||g.dispose(),this[ze]=!0,!this.render[se]){var w=pe(this);console.warn("The reactive render of an observer class component ("+w+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),l}function pe(l){return l.displayName||l.name||l.constructor&&(l.constructor.displayName||l.constructor.name)||"<component>"}function Ue(l){var c=this;$e(this,lt,!1),$e(this,Re,!1);var u=pe(this),p=l.bind(this),g=!1,w=new a.c(u+".render()",function(){if(!g&&(g=!0,c[ze]!==!0)){var I=!0;try{$e(c,Re,!0),c[lt]||s.a.prototype.forceUpdate.call(c),I=!1}finally{$e(c,Re,!1),I&&w.dispose()}}});w.reactComponent=this,C[se]=w,this.render=C;function C(){g=!1;var I=void 0,U=void 0;if(w.track(function(){try{U=Object(a.d)(!1,p)}catch(q){I=q}}),I)throw I;return U}return C.call(this)}function Ke(l,c){return this.state!==c?!0:!ue(this.props,l)}function Ve(l,c){var u=ee("reactProp_"+c+"_valueHolder"),p=ee("reactProp_"+c+"_atomHolder");function g(){return this[p]||$e(this,p,Object(a.o)("reactive "+c)),this[p]}Object.defineProperty(l,c,{configurable:!0,enumerable:!0,get:function(){var C=!1;return a.f&&a.e&&(C=Object(a.f)(!0)),g.call(this).reportObserved(),a.f&&a.e&&Object(a.e)(C),this[u]},set:function(C){!this[Re]&&!ue(this[u],C)?($e(this,u,C),$e(this,lt,!0),g.call(this).reportChanged(),$e(this,lt,!1)):$e(this,u,C)}})}var ne=typeof Symbol=="function"&&Symbol.for,fe=ne?Symbol.for("react.forward_ref"):typeof s.e=="function"&&Object(s.e)(function(l){return null}).$$typeof,Me=ne?Symbol.for("react.memo"):typeof s.f=="function"&&Object(s.f)(function(l){return null}).$$typeof;function it(l){if(l.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),Me&&l.$$typeof===Me)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(fe&&l.$$typeof===fe){var c=l.render;if(typeof c!="function")throw new Error("render property of ForwardRef was not a function");return Object(s.e)(function(){var p=arguments;return Object(s.c)(K,null,function(){return c.apply(void 0,p)})})}return typeof l=="function"&&(!l.prototype||!l.prototype.render)&&!l.isReactClass&&!Object.prototype.isPrototypeOf.call(s.a,l)?B(l):qe(l)}if(!s.a)throw new Error("mobx-react requires React to be available");if(!a.C)throw new Error("mobx-react requires mobx to be available");var Oe=o(1);o(3),o(60),o(2),o(6),o(4),o(11),o(41),o(24),o(20),o(5),o(22),o(21),o(23),o(8),o(9),o(17),o(25),o(19),o(29),o(187),o(192),o(103),o(152),o(153);function _e(l,c){for(var u=-1,p=l==null?0:l.length,g=Array(p);++u<p;)g[u]=c(l[u],u,l);return g}var nt=_e;function Se(){this.__data__=[],this.size=0}var tt=Se;function we(l,c){return l===c||l!==l&&c!==c}var ht=we;function yt(l,c){for(var u=l.length;u--;)if(ht(l[u][0],c))return u;return-1}var Et=yt,Wt=Array.prototype,ur=Wt.splice;function tn(l){var c=this.__data__,u=Et(c,l);if(u<0)return!1;var p=c.length-1;return u==p?c.pop():ur.call(c,u,1),--this.size,!0}var Dn=tn;function vn(l){var c=this.__data__,u=Et(c,l);return u<0?void 0:c[u][1]}var Ln=vn;function Ot(l){return Et(this.__data__,l)>-1}var be=Ot;function We(l,c){var u=this.__data__,p=Et(u,l);return p<0?(++this.size,u.push([l,c])):u[p][1]=c,this}var rt=We;function vt(l){var c=-1,u=l==null?0:l.length;for(this.clear();++c<u;){var p=l[c];this.set(p[0],p[1])}}vt.prototype.clear=tt,vt.prototype.delete=Dn,vt.prototype.get=Ln,vt.prototype.has=be,vt.prototype.set=rt;var Jt=vt;function An(){this.__data__=new Jt,this.size=0}var Yn=An;function Jr(l){var c=this.__data__,u=c.delete(l);return this.size=c.size,u}var ui=Jr;function ci(l){return this.__data__.get(l)}var Fs=ci;function Oa(l){return this.__data__.has(l)}var Dc=Oa,Mi=o(31),Su=Mi.a.Symbol,Yr=Su,ss=Object.prototype,zs=ss.hasOwnProperty,Ha=ss.toString,ls=Yr?Yr.toStringTag:void 0;function us(l){var c=zs.call(l,ls),u=l[ls];try{l[ls]=void 0;var p=!0}catch{}var g=Ha.call(l);return p&&(c?l[ls]=u:delete l[ls]),g}var cs=us,_l=Object.prototype,hd=_l.toString;function Tl(l){return hd.call(l)}var Cl=Tl,kc="[object Null]",Xn="[object Undefined]",Lc=Yr?Yr.toStringTag:void 0;function pd(l){return l==null?l===void 0?Xn:kc:Lc&&Lc in Object(l)?cs(l):Cl(l)}var _a=pd;function up(l){var c=typeof l;return l!=null&&(c=="object"||c=="function")}var So=up,sa="[object AsyncFunction]",cp="[object Function]",Ly="[object GeneratorFunction]",$y="[object Proxy]";function By(l){if(!So(l))return!1;var c=_a(l);return c==cp||c==Ly||c==sa||c==$y}var $c=By,fp=Mi.a["__core-js_shared__"],Us=fp,vd=function(){var l=/[^.]+$/.exec(Us&&Us.keys&&Us.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}();function yd(l){return!!vd&&vd in l}var wu=yd,dp=Function.prototype,Bc=dp.toString;function jy(l){if(l!=null){try{return Bc.call(l)}catch{}try{return l+""}catch{}}return""}var wo=jy,hp=/[\\^$.*+?()[\]{}|]/g,Fy=/^\[object .+?Constructor\]$/,pp=Function.prototype,vp=Object.prototype,zy=pp.toString,yp=vp.hasOwnProperty,Uy=RegExp("^"+zy.call(yp).replace(hp,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function la(l){if(!So(l)||wu(l))return!1;var c=$c(l)?Uy:Fy;return c.test(wo(l))}var Wo=la;function jc(l,c){return l==null?void 0:l[c]}var Vy=jc;function md(l,c){var u=Vy(l,c);return Wo(u)?u:void 0}var Ta=md,mp=Ta(Mi.a,"Map"),Al=mp,Hy=Ta(Object,"create"),Vs=Hy;function Gy(){this.__data__=Vs?Vs(null):{},this.size=0}var gd=Gy;function gp(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c}var Wy=gp,bd="__lodash_hash_undefined__",bp=Object.prototype,Ep=bp.hasOwnProperty;function Sp(l){var c=this.__data__;if(Vs){var u=c[l];return u===bd?void 0:u}return Ep.call(c,l)?c[l]:void 0}var fs=Sp,Ky=Object.prototype,wp=Ky.hasOwnProperty;function Fc(l){var c=this.__data__;return Vs?c[l]!==void 0:wp.call(c,l)}var zc=Fc,Ed="__lodash_hash_undefined__";function Op(l,c){var u=this.__data__;return this.size+=this.has(l)?0:1,u[l]=Vs&&c===void 0?Ed:c,this}var Xy=Op;function ds(l){var c=-1,u=l==null?0:l.length;for(this.clear();++c<u;){var p=l[c];this.set(p[0],p[1])}}ds.prototype.clear=gd,ds.prototype.delete=Wy,ds.prototype.get=fs,ds.prototype.has=zc,ds.prototype.set=Xy;var hs=ds;function Ni(){this.size=0,this.__data__={hash:new hs,map:new(Al||Jt),string:new hs}}var Uc=Ni;function _p(l){var c=typeof l;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?l!=="__proto__":l===null}var Sd=_p;function Yy(l,c){var u=l.__data__;return Sd(c)?u[typeof c=="string"?"string":"hash"]:u.map}var Vc=Yy;function Zy(l){var c=Vc(this,l).delete(l);return this.size-=c?1:0,c}var Jy=Zy;function Pl(l){return Vc(this,l).get(l)}var ps=Pl;function Qy(l){return Vc(this,l).has(l)}var xl=Qy;function qy(l,c){var u=Vc(this,l),p=u.size;return u.set(l,c),this.size+=u.size==p?0:1,this}var Ca=qy;function Aa(l){var c=-1,u=l==null?0:l.length;for(this.clear();++c<u;){var p=l[c];this.set(p[0],p[1])}}Aa.prototype.clear=Uc,Aa.prototype.delete=Jy,Aa.prototype.get=ps,Aa.prototype.has=xl,Aa.prototype.set=Ca;var Ou=Aa,Ml=200;function _u(l,c){var u=this.__data__;if(u instanceof Jt){var p=u.__data__;if(!Al||p.length<Ml-1)return p.push([l,c]),this.size=++u.size,this;u=this.__data__=new Ou(p)}return u.set(l,c),this.size=u.size,this}var Ga=_u;function Hs(l){var c=this.__data__=new Jt(l);this.size=c.size}Hs.prototype.clear=Yn,Hs.prototype.delete=ui,Hs.prototype.get=Fs,Hs.prototype.has=Dc,Hs.prototype.set=Ga;var Wi=Hs,Ki="__lodash_hash_undefined__";function Tu(l){return this.__data__.set(l,Ki),this}var Pa=Tu;function ua(l){return this.__data__.has(l)}var Nl=ua;function Ci(l){var c=-1,u=l==null?0:l.length;for(this.__data__=new Ou;++c<u;)this.add(l[c])}Ci.prototype.add=Ci.prototype.push=Pa,Ci.prototype.has=Nl;var em=Ci;function Tp(l,c){for(var u=-1,p=l==null?0:l.length;++u<p;)if(c(l[u],u,l))return!0;return!1}var To=Tp;function wd(l,c){return l.has(c)}var Wa=wd,xa=1,ca=2;function Cu(l,c,u,p,g,w){var C=u&xa,I=l.length,U=c.length;if(I!=U&&!(C&&U>I))return!1;var q=w.get(l),ce=w.get(c);if(q&&ce)return q==c&&ce==l;var ge=-1,ke=!0,Ge=u&ca?new em:void 0;for(w.set(l,c),w.set(c,l);++ge<I;){var gt=l[ge],Mt=c[ge];if(p)var Nt=C?p(Mt,gt,ge,c,l,w):p(gt,Mt,ge,l,c,w);if(Nt!==void 0){if(Nt)continue;ke=!1;break}if(Ge){if(!To(c,function(It,Tn){if(!Wa(Ge,Tn)&&(gt===It||g(gt,It,u,p,w)))return Ge.push(Tn)})){ke=!1;break}}else if(!(gt===Mt||g(gt,Mt,u,p,w))){ke=!1;break}}return w.delete(l),w.delete(c),ke}var vs=Cu,Au=Mi.a.Uint8Array,Zo=Au;function Rl(l){var c=-1,u=Array(l.size);return l.forEach(function(p,g){u[++c]=[g,p]}),u}var Hc=Rl;function Od(l){var c=-1,u=Array(l.size);return l.forEach(function(p){u[++c]=p}),u}var Ai=Od,_d=1,Td=2,Cp="[object Boolean]",Ap="[object Date]",tm="[object Error]",Gc="[object Map]",Wc="[object Number]",Cd="[object RegExp]",Ri="[object Set]",bi="[object String]",Gs="[object Symbol]",Ad="[object ArrayBuffer]",Kc="[object DataView]",Il=Yr?Yr.prototype:void 0,Dl=Il?Il.valueOf:void 0;function Pd(l,c,u,p,g,w,C){switch(u){case Kc:if(l.byteLength!=c.byteLength||l.byteOffset!=c.byteOffset)return!1;l=l.buffer,c=c.buffer;case Ad:return!(l.byteLength!=c.byteLength||!w(new Zo(l),new Zo(c)));case Cp:case Ap:case Wc:return ht(+l,+c);case tm:return l.name==c.name&&l.message==c.message;case Cd:case bi:return l==c+"";case Gc:var I=Hc;case Ri:var U=p&_d;if(I||(I=Ai),l.size!=c.size&&!U)return!1;var q=C.get(l);if(q)return q==c;p|=Td,C.set(l,c);var ce=vs(I(l),I(c),p,g,w,C);return C.delete(l),ce;case Gs:if(Dl)return Dl.call(l)==Dl.call(c)}return!1}var Pp=Pd;function Pu(l,c){for(var u=-1,p=c.length,g=l.length;++u<p;)l[g+u]=c[u];return l}var Xc=Pu,xd=Array.isArray,R=xd;function $(l,c,u){var p=c(l);return R(l)?p:Xc(p,u(l))}var J=$;function me(l,c){for(var u=-1,p=l==null?0:l.length,g=0,w=[];++u<p;){var C=l[u];c(C,u,l)&&(w[g++]=C)}return w}var je=me;function ut(){return[]}var Dt=ut,yn=Object.prototype,Zn=yn.propertyIsEnumerable,Fr=Object.getOwnPropertySymbols,Gr=Fr?function(l){return l==null?[]:(l=Object(l),je(Fr(l),function(c){return Zn.call(l,c)}))}:Dt,co=Gr;function ho(l,c){for(var u=-1,p=Array(l);++u<l;)p[u]=c(u);return p}var Lo=ho;function fi(l){return l!=null&&typeof l=="object"}var vo=fi,Xi="[object Arguments]";function Ws(l){return vo(l)&&_a(l)==Xi}var Yc=Ws,xp=Object.prototype,xu=xp.hasOwnProperty,Mp=xp.propertyIsEnumerable,Md=Yc(function(){return arguments}())?Yc:function(l){return vo(l)&&xu.call(l,"callee")&&!Mp.call(l,"callee")},kl=Md,Ks=o(48),tT=9007199254740991,nT=/^(?:0|[1-9]\d*)$/;function rT(l,c){var u=typeof l;return c=c==null?tT:c,!!c&&(u=="number"||u!="symbol"&&nT.test(l))&&l>-1&&l%1==0&&l<c}var Nd=rT,Rd=9007199254740991;function oT(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=Rd}var Zc=oT,Ma="[object Arguments]",Jc="[object Array]",s0="[object Boolean]",l0="[object Date]",u0="[object Error]",c0="[object Function]",f0="[object Map]",d0="[object Number]",iT="[object Object]",Qc="[object RegExp]",di="[object Set]",h0="[object String]",p0="[object WeakMap]",Mu="[object ArrayBuffer]",v0="[object DataView]",y0="[object Float32Array]",aT="[object Float64Array]",sT="[object Int8Array]",lT="[object Int16Array]",uT="[object Int32Array]",nm="[object Uint8Array]",m0="[object Uint8ClampedArray]",cT="[object Uint16Array]",g0="[object Uint32Array]",Oo={};Oo[y0]=Oo[aT]=Oo[sT]=Oo[lT]=Oo[uT]=Oo[nm]=Oo[m0]=Oo[cT]=Oo[g0]=!0,Oo[Ma]=Oo[Jc]=Oo[Mu]=Oo[s0]=Oo[v0]=Oo[l0]=Oo[u0]=Oo[c0]=Oo[f0]=Oo[d0]=Oo[iT]=Oo[Qc]=Oo[di]=Oo[h0]=Oo[p0]=!1;function fT(l){return vo(l)&&Zc(l.length)&&!!Oo[_a(l)]}var Np=fT;function dT(l){return function(c){return l(c)}}var ys=dT,Xs=o(49),rm=Xs.a&&Xs.a.isTypedArray,b0=rm?ys(rm):Np,Rp=b0,E0=Object.prototype,S0=E0.hasOwnProperty;function w0(l,c){var u=R(l),p=!u&&kl(l),g=!u&&!p&&Object(Ks.a)(l),w=!u&&!p&&!g&&Rp(l),C=u||p||g||w,I=C?Lo(l.length,String):[],U=I.length;for(var q in l)(c||S0.call(l,q))&&!(C&&(q=="length"||g&&(q=="offset"||q=="parent")||w&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||Nd(q,U)))&&I.push(q);return I}var om=w0,O0=Object.prototype;function _0(l){var c=l&&l.constructor,u=typeof c=="function"&&c.prototype||O0;return l===u}var Yi=_0;function T0(l,c){return function(u){return l(c(u))}}var C0=T0,Ys=C0(Object.keys,Object),im=Ys,Nu=Object.prototype,Ip=Nu.hasOwnProperty;function A0(l){if(!Yi(l))return im(l);var c=[];for(var u in Object(l))Ip.call(l,u)&&u!="constructor"&&c.push(u);return c}var P0=A0;function x0(l){return l!=null&&Zc(l.length)&&!$c(l)}var Ll=x0;function M0(l){return Ll(l)?om(l):P0(l)}var qc=M0;function hT(l){return J(l,qc,co)}var am=hT,pT=1,vT=Object.prototype,yT=vT.hasOwnProperty;function mT(l,c,u,p,g,w){var C=u&pT,I=am(l),U=I.length,q=am(c),ce=q.length;if(U!=ce&&!C)return!1;for(var ge=U;ge--;){var ke=I[ge];if(!(C?ke in c:yT.call(c,ke)))return!1}var Ge=w.get(l),gt=w.get(c);if(Ge&&gt)return Ge==c&&gt==l;var Mt=!0;w.set(l,c),w.set(c,l);for(var Nt=C;++ge<U;){ke=I[ge];var It=l[ke],Tn=c[ke];if(p)var cn=C?p(Tn,It,ke,c,l,w):p(It,Tn,ke,l,c,w);if(!(cn===void 0?It===Tn||g(It,Tn,u,p,w):cn)){Mt=!1;break}Nt||(Nt=ke=="constructor")}if(Mt&&!Nt){var pn=l.constructor,er=c.constructor;pn!=er&&"constructor"in l&&"constructor"in c&&!(typeof pn=="function"&&pn instanceof pn&&typeof er=="function"&&er instanceof er)&&(Mt=!1)}return w.delete(l),w.delete(c),Mt}var N0=mT,R0=Ta(Mi.a,"DataView"),sm=R0,gT=Ta(Mi.a,"Promise"),Id=gT,Dp=Ta(Mi.a,"Set"),lm=Dp,bT=Ta(Mi.a,"WeakMap"),um=bT,I0="[object Map]",ET="[object Object]",cm="[object Promise]",D0="[object Set]",k0="[object WeakMap]",L0="[object DataView]",ST=wo(sm),wT=wo(Al),ef=wo(Id),OT=wo(lm),_T=wo(um),$l=_a;(sm&&$l(new sm(new ArrayBuffer(1)))!=L0||Al&&$l(new Al)!=I0||Id&&$l(Id.resolve())!=cm||lm&&$l(new lm)!=D0||um&&$l(new um)!=k0)&&($l=function(l){var c=_a(l),u=c==ET?l.constructor:void 0,p=u?wo(u):"";if(p)switch(p){case ST:return L0;case wT:return I0;case ef:return cm;case OT:return D0;case _T:return k0}return c});var Ru=$l,TT=1,fm="[object Arguments]",$0="[object Array]",kp="[object Object]",CT=Object.prototype,B0=CT.hasOwnProperty;function AT(l,c,u,p,g,w){var C=R(l),I=R(c),U=C?$0:Ru(l),q=I?$0:Ru(c);U=U==fm?kp:U,q=q==fm?kp:q;var ce=U==kp,ge=q==kp,ke=U==q;if(ke&&Object(Ks.a)(l)){if(!Object(Ks.a)(c))return!1;C=!0,ce=!1}if(ke&&!ce)return w||(w=new Wi),C||Rp(l)?vs(l,c,u,p,g,w):Pp(l,c,U,u,p,g,w);if(!(u&TT)){var Ge=ce&&B0.call(l,"__wrapped__"),gt=ge&&B0.call(c,"__wrapped__");if(Ge||gt){var Mt=Ge?l.value():l,Nt=gt?c.value():c;return w||(w=new Wi),g(Mt,Nt,u,p,w)}}return ke?(w||(w=new Wi),N0(l,c,u,p,g,w)):!1}var Dd=AT;function j0(l,c,u,p,g){return l===c?!0:l==null||c==null||!vo(l)&&!vo(c)?l!==l&&c!==c:Dd(l,c,u,p,j0,g)}var tf=j0,PT=1,nf=2;function rf(l,c,u,p){var g=u.length,w=g,C=!p;if(l==null)return!w;for(l=Object(l);g--;){var I=u[g];if(C&&I[2]?I[1]!==l[I[0]]:!(I[0]in l))return!1}for(;++g<w;){I=u[g];var U=I[0],q=l[U],ce=I[1];if(C&&I[2]){if(q===void 0&&!(U in l))return!1}else{var ge=new Wi;if(p)var ke=p(q,ce,U,l,c,ge);if(!(ke===void 0?tf(ce,q,PT|nf,p,ge):ke))return!1}}return!0}var xT=rf;function of(l){return l===l&&!So(l)}var dm=of;function af(l){for(var c=qc(l),u=c.length;u--;){var p=c[u],g=l[p];c[u]=[p,g,dm(g)]}return c}var hm=af;function pm(l,c){return function(u){return u==null?!1:u[l]===c&&(c!==void 0||l in Object(u))}}var Lp=pm;function vm(l){var c=hm(l);return c.length==1&&c[0][2]?Lp(c[0][0],c[0][1]):function(u){return u===l||xT(u,l,c)}}var ym=vm,$p="[object Symbol]";function F0(l){return typeof l=="symbol"||vo(l)&&_a(l)==$p}var kd=F0,z0=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,U0=/^\w*$/;function V0(l,c){if(R(l))return!1;var u=typeof l;return u=="number"||u=="symbol"||u=="boolean"||l==null||kd(l)?!0:U0.test(l)||!z0.test(l)||c!=null&&l in Object(c)}var Ld=V0,mm="Expected a function";function Bp(l,c){if(typeof l!="function"||c!=null&&typeof c!="function")throw new TypeError(mm);var u=function(){var p=arguments,g=c?c.apply(this,p):p[0],w=u.cache;if(w.has(g))return w.get(g);var C=l.apply(this,p);return u.cache=w.set(g,C)||w,C};return u.cache=new(Bp.Cache||Ou),u}Bp.Cache=Ou;var H0=Bp,G0=500;function W0(l){var c=H0(l,function(p){return u.size===G0&&u.clear(),p}),u=c.cache;return c}var gm=W0,K0=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,X0=/\\(\\)?/g,bm=gm(function(l){var c=[];return l.charCodeAt(0)===46&&c.push(""),l.replace(K0,function(u,p,g,w){c.push(g?w.replace(X0,"$1"):p||u)}),c}),Em=bm,Y0=1/0,jp=Yr?Yr.prototype:void 0,Sm=jp?jp.toString:void 0;function wm(l){if(typeof l=="string")return l;if(R(l))return nt(l,wm)+"";if(kd(l))return Sm?Sm.call(l):"";var c=l+"";return c=="0"&&1/l==-Y0?"-0":c}var Om=wm;function Z0(l){return l==null?"":Om(l)}var J0=Z0;function _m(l,c){return R(l)?l:Ld(l,c)?[l]:Em(J0(l))}var sf=_m,$d=1/0;function Q0(l){if(typeof l=="string"||kd(l))return l;var c=l+"";return c=="0"&&1/l==-$d?"-0":c}var Bl=Q0;function Zs(l,c){c=sf(c,l);for(var u=0,p=c.length;l!=null&&u<p;)l=l[Bl(c[u++])];return u&&u==p?l:void 0}var Iu=Zs;function Du(l,c,u){var p=l==null?void 0:Iu(l,c);return p===void 0?u:p}var lf=Du;function Bd(l,c){return l!=null&&c in Object(l)}var ku=Bd;function Lu(l,c,u){c=sf(c,l);for(var p=-1,g=c.length,w=!1;++p<g;){var C=Bl(c[p]);if(!(w=l!=null&&u(l,C)))break;l=l[C]}return w||++p!=g?w:(g=l==null?0:l.length,!!g&&Zc(g)&&Nd(C,g)&&(R(l)||kl(l)))}var $u=Lu;function Fp(l,c){return l!=null&&$u(l,c,ku)}var jd=Fp,Fd=1,Tm=2;function Cm(l,c){return Ld(l)&&dm(c)?Lp(Bl(l),c):function(u){var p=lf(u,l);return p===void 0&&p===c?jd(u,l):tf(c,p,Fd|Tm)}}var uf=Cm;function cf(l){return l}var Am=cf;function MT(l){return function(c){return c==null?void 0:c[l]}}var q0=MT;function eE(l){return function(c){return Iu(c,l)}}var tE=eE;function NT(l){return Ld(l)?q0(Bl(l)):tE(l)}var ff=NT;function RT(l){return typeof l=="function"?l:l==null?Am:typeof l=="object"?R(l)?uf(l[0],l[1]):ym(l):ff(l)}var IT=RT;function DT(l){return function(c,u,p){for(var g=-1,w=Object(c),C=p(c),I=C.length;I--;){var U=C[l?I:++g];if(u(w[U],U,w)===!1)break}return c}}var nE=DT,kT=nE(),rE=kT;function LT(l,c){return l&&rE(l,c,qc)}var $T=LT;function BT(l,c){return function(u,p){if(u==null)return u;if(!Ll(u))return l(u,p);for(var g=u.length,w=c?g:-1,C=Object(u);(c?w--:++w<g)&&p(C[w],w,C)!==!1;);return u}}var jT=BT,FT=jT($T),zT=FT;function UT(l,c){var u=-1,p=Ll(l)?Array(l.length):[];return zT(l,function(g,w,C){p[++u]=c(g,w,C)}),p}var VT=UT;function Pm(l,c){var u=R(l)?nt:VT;return u(l,IT(c))}var Bu=Pm,zp=function(){try{var l=Ta(Object,"defineProperty");return l({},"",{}),l}catch{}}(),ju=zp;function xm(l,c,u){c=="__proto__"&&ju?ju(l,c,{configurable:!0,enumerable:!0,value:u,writable:!0}):l[c]=u}var df=xm,Up=Object.prototype,Vp=Up.hasOwnProperty;function Mm(l,c,u){var p=l[c];(!(Vp.call(l,c)&&ht(p,u))||u===void 0&&!(c in l))&&df(l,c,u)}var Fu=Mm;function Hp(l,c,u,p){var g=!u;u||(u={});for(var w=-1,C=c.length;++w<C;){var I=c[w],U=p?p(u[I],l[I],I,u,l):void 0;U===void 0&&(U=l[I]),g?df(u,I,U):Fu(u,I,U)}return u}var Js=Hp;function zd(l,c,u){switch(u.length){case 0:return l.call(c);case 1:return l.call(c,u[0]);case 2:return l.call(c,u[0],u[1]);case 3:return l.call(c,u[0],u[1],u[2])}return l.apply(c,u)}var Ud=zd,hf=Math.max;function Vd(l,c,u){return c=hf(c===void 0?l.length-1:c,0),function(){for(var p=arguments,g=-1,w=hf(p.length-c,0),C=Array(w);++g<w;)C[g]=p[c+g];g=-1;for(var I=Array(c+1);++g<c;)I[g]=p[g];return I[c]=u(C),Ud(l,this,I)}}var pf=Vd;function oE(l){return function(){return l}}var Hd=oE,zu=ju?function(l,c){return ju(l,"toString",{configurable:!0,enumerable:!1,value:Hd(c),writable:!0})}:Am,iE=zu,Nm=800,HT=16,GT=Date.now;function WT(l){var c=0,u=0;return function(){var p=GT(),g=HT-(p-u);if(u=p,g>0){if(++c>=Nm)return arguments[0]}else c=0;return l.apply(void 0,arguments)}}var jl=WT,aE=jl(iE),Rm=aE;function sE(l,c){return Rm(pf(l,c,Am),l+"")}var KT=sE;function lE(l,c,u){if(!So(u))return!1;var p=typeof c;return(p=="number"?Ll(u)&&Nd(c,u.length):p=="string"&&c in u)?ht(u[c],l):!1}var XT=lE;function ms(l){return KT(function(c,u){var p=-1,g=u.length,w=g>1?u[g-1]:void 0,C=g>2?u[2]:void 0;for(w=l.length>3&&typeof w=="function"?(g--,w):void 0,C&&XT(u[0],u[1],C)&&(w=g<3?void 0:w,g=1),c=Object(c);++p<g;){var I=u[p];I&&l(c,I,p,w)}return c})}var Im=ms,vf=Object.prototype,Fl=vf.hasOwnProperty,uE=Im(function(l,c){if(Yi(c)||Ll(c)){Js(c,qc(c),l);return}for(var u in c)Fl.call(c,u)&&Fu(l,u,c[u])}),Ei=uE;function Gp(l,c,u,p){if(!So(l))return l;c=sf(c,l);for(var g=-1,w=c.length,C=w-1,I=l;I!=null&&++g<w;){var U=Bl(c[g]),q=u;if(U==="__proto__"||U==="constructor"||U==="prototype")return l;if(g!=C){var ce=I[U];q=p?p(ce,U,I):void 0,q===void 0&&(q=So(ce)?ce:Nd(c[g+1])?[]:{})}Fu(I,U,q),I=I[U]}return l}var cE=Gp;function Ii(l,c,u){for(var p=-1,g=c.length,w={};++p<g;){var C=c[p],I=Iu(l,C);u(I,C)&&cE(w,sf(C,l),I)}return w}var zl=Ii;function Ko(l,c){return zl(l,c,function(u,p){return jd(l,p)})}var Zi=Ko,Dm=Yr?Yr.isConcatSpreadable:void 0;function YT(l){return R(l)||kl(l)||!!(Dm&&l&&l[Dm])}var ZT=YT;function fE(l,c,u,p,g){var w=-1,C=l.length;for(u||(u=ZT),g||(g=[]);++w<C;){var I=l[w];c>0&&u(I)?c>1?fE(I,c-1,u,p,g):Xc(g,I):p||(g[g.length]=I)}return g}var JT=fE;function dE(l){var c=l==null?0:l.length;return c?JT(l,1):[]}var QT=dE;function qT(l){return Rm(pf(l,void 0,QT),l+"")}var eC=qT,tC=eC(function(l,c){return l==null?{}:Zi(l,c)}),Gd=tC,$o,km,Lm,hE,pE,$m,vE,Q,Ee,Fe,Pt,Ut,Ct,Rt,nn,on,fn,an;function en(l,c,u,p){!u||Object.defineProperty(l,c,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(p):void 0})}function On(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function rn(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function mn(l,c,u){return c&&rn(l.prototype,c),u&&rn(l,u),l}function ft(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}function Tt(l,c,u,p,g){var w={};return Object.keys(p).forEach(function(C){w[C]=p[C]}),w.enumerable=!!w.enumerable,w.configurable=!!w.configurable,("value"in w||w.initializer)&&(w.writable=!0),w=u.slice().reverse().reduce(function(C,I){return I(l,c,C)||C},w),g&&w.initializer!==void 0&&(w.value=w.initializer?w.initializer.call(g):void 0,w.initializer=void 0),w.initializer===void 0&&(Object.defineProperty(l,c,w),w=null),w}var dn={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Nn=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],Zt=($o=function(){function l(c){On(this,l),en(this,"isSilentMode",km,this),en(this,"stopZoomGraph",Lm,this),en(this,"stopScrollGraph",hE,this),en(this,"stopMoveGraph",pE,this),en(this,"adjustEdge",$m,this),en(this,"adjustEdgeMiddle",vE,this),en(this,"adjustEdgeStartAndEnd",Q,this),en(this,"adjustNodePosition",Ee,this),en(this,"hideAnchors",Fe,this),en(this,"hoverOutline",Pt,this),en(this,"nodeSelectedOutline",Ut,this),en(this,"edgeSelectedOutline",Ct,this),en(this,"nodeTextEdit",Rt,this),en(this,"edgeTextEdit",nn,this),en(this,"nodeTextDraggable",on,this),en(this,"edgeTextDraggable",fn,this),en(this,"autoExpand",an,this),ft(this,"multipleSelectKey",""),ft(this,"defaultConfig",{}),Ei(this,this.getConfigDetail(c))}return mn(l,[{key:"updateEditConfig",value:function(u){var p=this.getConfigDetail(u);Ei(this,p)}},{key:"getConfigDetail",value:function(u){var p=u.isSilentMode,g=u.textEdit,w={};if(p===!1&&Ei(w,this.defaultConfig),p===!0){var C=Gd(dn,Nn);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},Ei(w,C)}g===!1&&Ei(w,{nodeTextEdit:!1,edgeTextEdit:!1});var I=Gd(u,Nn);return Ei(w,I)}},{key:"getConfig",value:function(){return Gd(this,Nn)}}]),l}(),km=Tt($o.prototype,"isSilentMode",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Lm=Tt($o.prototype,"stopZoomGraph",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hE=Tt($o.prototype,"stopScrollGraph",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pE=Tt($o.prototype,"stopMoveGraph",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$m=Tt($o.prototype,"adjustEdge",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),vE=Tt($o.prototype,"adjustEdgeMiddle",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=Tt($o.prototype,"adjustEdgeStartAndEnd",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ee=Tt($o.prototype,"adjustNodePosition",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Fe=Tt($o.prototype,"hideAnchors",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pt=Tt($o.prototype,"hoverOutline",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ut=Tt($o.prototype,"nodeSelectedOutline",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ct=Tt($o.prototype,"edgeSelectedOutline",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Rt=Tt($o.prototype,"nodeTextEdit",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),nn=Tt($o.prototype,"edgeTextEdit",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),on=Tt($o.prototype,"nodeTextDraggable",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fn=Tt($o.prototype,"edgeTextDraggable",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),an=Tt($o.prototype,"autoExpand",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Tt($o.prototype,"updateEditConfig",[a.k],Object.getOwnPropertyDescriptor($o.prototype,"updateEditConfig"),$o.prototype),$o);o(77);var sn;(function(l){l[l.DEFAULT=1]="DEFAULT",l[l.TEXT_EDIT=2]="TEXT_EDIT",l[l.SHOW_MENU=3]="SHOW_MENU",l[l.ALLOW_CONNECT=4]="ALLOW_CONNECT",l[l.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"})(sn||(sn={}));var Qt;(function(l){l.KEY="logic-flow",l.NODE_NAME="lf-node",l.EDGE_NAME="lf-edge"})(Qt||(Qt={}));var Vt;(function(l){l.NODE="node",l.CIRCLE_NODE="circle-node",l.POLYGON_NODE="polygon-node",l.RECT_NODE="rect-node",l.TEXT_NODE="text-node",l.ELLIPSE_NODE="ellipse-node",l.DIAMOND_NODE="diamond-node",l.HTML_NODE="html-node",l.EDGE="edge",l.LINE_EDGE="line-edge",l.POLYLINE_EDGE="polyline-edge",l.BEZIER_EDGE="bezier-edge",l.GRAPH="graph"})(Vt||(Vt={}));var $t;(function(l){l.NODE="node",l.EDGE="edge",l.GRAPH="graph"})($t||($t={}));var Lt;(function(l){l.ELEMENT_CLICK="element:click",l.NODE_CLICK="node:click",l.NODE_DBCLICK="node:dbclick",l.NODE_DELETE="node:delete",l.NODE_ADD="node:add",l.NODE_DND_ADD="node:dnd-add",l.NODE_DND_DRAG="node:dnd-drag",l.NODE_MOUSEDOWN="node:mousedown",l.NODE_DRAGSTART="node:dragstart",l.NODE_DRAG="node:drag",l.NODE_DROP="node:drop",l.NODE_MOUSEUP="node:mouseup",l.NODE_MOUSEMOVE="node:mousemove",l.NODE_MOUSEENTER="node:mouseenter",l.NODE_MOUSELEAVE="node:mouseleave",l.NODE_CONTEXTMENU="node:contextmenu",l.EDGE_DELETE="edge:delete",l.EDGE_ADD="edge:add",l.EDGE_CLICK="edge:click",l.EDGE_DBCLICK="edge:dbclick",l.EDGE_MOUSEENTER="edge:mouseenter",l.EDGE_MOUSELEAVE="edge:mouseleave",l.EDGE_CONTEXTMENU="edge:contextmenu",l.EDGE_ADJUST="edge:adjust",l.EDGE_EXCHANGE_NODE="edge:exchange-node",l.ANCHOR_DRAGSTART="anchor:dragstart",l.ANCHOR_DRAG="anchor:drag",l.ANCHOR_DROP="anchor:drop",l.ANCHOR_DRAGEND="anchor:dragend",l.BLANK_MOUSEDOWN="blank:mousedown",l.BLANK_DRAGSTART="blank:dragstart",l.BLANK_DRAG="blank:drag",l.BLANK_DROP="blank:drop",l.BLANK_MOUSEMOVE="blank:mousemove",l.BLANK_MOUSEUP="blank:mouseup",l.BLANK_CLICK="blank:click",l.BLANK_CONTEXTMENU="blank:contextmenu",l.SELECTION_MOUSEDOWN="selection:mousedown",l.SELECTION_DRAGSTART="selection:dragstart",l.SELECTION_DRAG="selection:drag",l.SELECTION_DROP="selection:drop",l.SELECTION_MOUSEMOVE="selection:mousemove",l.SELECTION_MOUSEUP="selection:mouseup",l.SELECTION_CONTEXTMENU="selection:contextmenu",l.CONNECTION_NOT_ALLOWED="connection:not-allowed",l.HISTORY_CHANGE="history:change",l.TEXT_UPDATE="text:update",l.GRAPH_TRANSFORM="graph:transform",l.GRAPH_RENDERED="graph:rendered"})(Lt||(Lt={}));var Rn;(function(l){l.HORIZONTAL="horizontal",l.VERTICAL="vertical"})(Rn||(Rn={}));var dr=9999,hn;(function(l){l[l.DEFAULT=0]="DEFAULT",l[l.INCREASE=1]="INCREASE"})(hn||(hn={}));var Yt,Xt,or,wr,Bn,Mr,pr,Ar;function zr(l,c){return yo(l)||Jo(l,c)||ni(l,c)||Xo()}function Xo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ni(l,c){if(!!l){if(typeof l=="string")return Ir(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Ir(l,c)}}function Ir(l,c){(c==null||c>l.length)&&(c=l.length);for(var u=0,p=new Array(c);u<c;u++)p[u]=l[u];return p}function Jo(l,c){var u=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(u!=null){var p=[],g=!0,w=!1,C,I;try{for(u=u.call(l);!(g=(C=u.next()).done)&&(p.push(C.value),!(c&&p.length===c));g=!0);}catch(U){w=!0,I=U}finally{try{!g&&u.return!=null&&u.return()}finally{if(w)throw I}}return p}}function yo(l){if(Array.isArray(l))return l}function mo(l,c,u,p){!u||Object.defineProperty(l,c,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(p):void 0})}function Qo(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function Yo(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function ai(l,c,u){return c&&Yo(l.prototype,c),u&&Yo(l,u),l}function ri(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}function oo(l,c,u,p,g){var w={};return Object.keys(p).forEach(function(C){w[C]=p[C]}),w.enumerable=!!w.enumerable,w.configurable=!!w.configurable,("value"in w||w.initializer)&&(w.writable=!0),w=u.slice().reverse().reduce(function(C,I){return I(l,c,C)||C},w),g&&w.initializer!==void 0&&(w.value=w.initializer?w.initializer.call(g):void 0,w.initializer=void 0),w.initializer===void 0&&(Object.defineProperty(l,c,w),w=null),w}var Tr=(Yt=function(){function l(c){Qo(this,l),ri(this,"MINI_SCALE_SIZE",.2),ri(this,"MAX_SCALE_SIZE",16),mo(this,"SCALE_X",Xt,this),mo(this,"SKEW_Y",or,this),mo(this,"SKEW_X",wr,this),mo(this,"SCALE_Y",Bn,this),mo(this,"TRANSLATE_X",Mr,this),mo(this,"TRANSLATE_Y",pr,this),mo(this,"ZOOM_SIZE",Ar,this),ri(this,"eventCenter",void 0),this.eventCenter=c}return ai(l,[{key:"setZoomMiniSize",value:function(u){this.MINI_SCALE_SIZE=u}},{key:"setZoomMaxSize",value:function(u){this.MAX_SCALE_SIZE=u}},{key:"HtmlPointToCanvasPoint",value:function(u){var p=zr(u,2),g=p[0],w=p[1];return[(g-this.TRANSLATE_X)/this.SCALE_X,(w-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(u){var p=zr(u,2),g=p[0],w=p[1];return[g*this.SCALE_X+this.TRANSLATE_X,w*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(u,p,g){var w=zr(u,2),C=w[0],I=w[1];return[C+p/this.SCALE_X,I+g/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(u,p){return[u/this.SCALE_X,p/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var u=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(u,")")}}},{key:"zoom",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,p=arguments.length>1?arguments[1]:void 0,g=this.SCALE_X,w=this.SCALE_Y;return u===!0?(g+=this.ZOOM_SIZE,w+=this.ZOOM_SIZE):u===!1?(g-=this.ZOOM_SIZE,w-=this.ZOOM_SIZE):typeof u=="number"&&(g=u,w=u),g<this.MINI_SCALE_SIZE||g>this.MAX_SCALE_SIZE?"".concat(this.SCALE_X*100,"%"):(p&&(this.TRANSLATE_X-=(g-this.SCALE_X)*p[0],this.TRANSLATE_Y-=(w-this.SCALE_Y)*p[1]),this.SCALE_X=g,this.SCALE_Y=w,this.emitGraphTransform("zoom"),"".concat(this.SCALE_X*100,"%"))}},{key:"emitGraphTransform",value:function(u){this.eventCenter.emit(Lt.GRAPH_TRANSFORM,{type:u,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(u,p){this.TRANSLATE_X+=u,this.TRANSLATE_Y+=p,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(u,p,g,w){var C=this.CanvasPointToHtmlPoint([u,p]),I=zr(C,2),U=I[0],q=I[1],ce=g/2-U,ge=w/2-q;this.TRANSLATE_X+=ce,this.TRANSLATE_Y+=ge,this.emitGraphTransform("focusOn")}}]),l}(),Xt=oo(Yt.prototype,"SCALE_X",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),or=oo(Yt.prototype,"SKEW_Y",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),wr=oo(Yt.prototype,"SKEW_X",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Bn=oo(Yt.prototype,"SCALE_Y",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Mr=oo(Yt.prototype,"TRANSLATE_X",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pr=oo(Yt.prototype,"TRANSLATE_Y",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ar=oo(Yt.prototype,"ZOOM_SIZE",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),oo(Yt.prototype,"zoom",[a.k],Object.getOwnPropertyDescriptor(Yt.prototype,"zoom"),Yt.prototype),oo(Yt.prototype,"resetZoom",[a.k],Object.getOwnPropertyDescriptor(Yt.prototype,"resetZoom"),Yt.prototype),oo(Yt.prototype,"translate",[a.k],Object.getOwnPropertyDescriptor(Yt.prototype,"translate"),Yt.prototype),oo(Yt.prototype,"focusOn",[a.k],Object.getOwnPropertyDescriptor(Yt.prototype,"focusOn"),Yt.prototype),Yt);function hi(l,c){for(var u=-1,p=l==null?0:l.length;++u<p&&c(l[u],u,l)!==!1;);return l}var Qr=hi;function nr(l,c){return l&&Js(c,qc(c),l)}var Dr=nr;function Ur(l){var c=[];if(l!=null)for(var u in Object(l))c.push(u);return c}var Bo=Ur,gs=Object.prototype,Uu=gs.hasOwnProperty;function De(l){if(!So(l))return Bo(l);var c=Yi(l),u=[];for(var p in l)p=="constructor"&&(c||!Uu.call(l,p))||u.push(p);return u}var xt=De;function _t(l){return Ll(l)?om(l,!0):xt(l)}var In=_t;function Nr(l,c){return l&&Js(c,In(c),l)}var Pe=Nr,ye=o(106);function Xe(l,c){var u=-1,p=l.length;for(c||(c=Array(p));++u<p;)c[u]=l[u];return c}var ct=Xe;function pt(l,c){return Js(l,co(l),c)}var Qe=pt,Je=C0(Object.getPrototypeOf,Object),at=Je,xe=Object.getOwnPropertySymbols,He=xe?function(l){for(var c=[];l;)Xc(c,co(l)),l=at(l);return c}:Dt,Ae=He;function st(l,c){return Js(l,Ae(l),c)}var mt=st;function Ft(l){return J(l,In,Ae)}var Ht=Ft,kt=Object.prototype,un=kt.hasOwnProperty;function Vn(l){var c=l.length,u=new l.constructor(c);return c&&typeof l[0]=="string"&&un.call(l,"index")&&(u.index=l.index,u.input=l.input),u}var Cr=Vn;function jn(l){var c=new l.constructor(l.byteLength);return new Zo(c).set(new Zo(l)),c}var qn=jn;function gr(l,c){var u=c?qn(l.buffer):l.buffer;return new l.constructor(u,l.byteOffset,l.byteLength)}var Wr=gr,xo=/\w*$/;function Di(l){var c=new l.constructor(l.source,xo.exec(l));return c.lastIndex=l.lastIndex,c}var Bm=Di,fa=Yr?Yr.prototype:void 0,jm=fa?fa.valueOf:void 0;function Ka(l){return jm?Object(jm.call(l)):{}}var yE=Ka;function PY(l,c){var u=c?qn(l.buffer):l.buffer;return new l.constructor(u,l.byteOffset,l.length)}var TR=PY,xY="[object Boolean]",MY="[object Date]",NY="[object Map]",RY="[object Number]",IY="[object RegExp]",DY="[object Set]",kY="[object String]",LY="[object Symbol]",$Y="[object ArrayBuffer]",BY="[object DataView]",jY="[object Float32Array]",FY="[object Float64Array]",zY="[object Int8Array]",UY="[object Int16Array]",VY="[object Int32Array]",HY="[object Uint8Array]",GY="[object Uint8ClampedArray]",WY="[object Uint16Array]",KY="[object Uint32Array]";function XY(l,c,u){var p=l.constructor;switch(c){case $Y:return qn(l);case xY:case MY:return new p(+l);case BY:return Wr(l,u);case jY:case FY:case zY:case UY:case VY:case HY:case GY:case WY:case KY:return TR(l,u);case NY:return new p;case RY:case kY:return new p(l);case IY:return Bm(l);case DY:return new p;case LY:return yE(l)}}var YY=XY,CR=Object.create,ZY=function(){function l(){}return function(c){if(!So(c))return{};if(CR)return CR(c);l.prototype=c;var u=new l;return l.prototype=void 0,u}}(),JY=ZY;function QY(l){return typeof l.constructor=="function"&&!Yi(l)?JY(at(l)):{}}var AR=QY,qY="[object Map]";function eZ(l){return vo(l)&&Ru(l)==qY}var tZ=eZ,PR=Xs.a&&Xs.a.isMap,nZ=PR?ys(PR):tZ,rZ=nZ,oZ="[object Set]";function iZ(l){return vo(l)&&Ru(l)==oZ}var aZ=iZ,xR=Xs.a&&Xs.a.isSet,sZ=xR?ys(xR):aZ,lZ=sZ,uZ=1,cZ=2,fZ=4,MR="[object Arguments]",dZ="[object Array]",hZ="[object Boolean]",pZ="[object Date]",vZ="[object Error]",NR="[object Function]",yZ="[object GeneratorFunction]",mZ="[object Map]",gZ="[object Number]",RR="[object Object]",bZ="[object RegExp]",EZ="[object Set]",SZ="[object String]",wZ="[object Symbol]",OZ="[object WeakMap]",_Z="[object ArrayBuffer]",TZ="[object DataView]",CZ="[object Float32Array]",AZ="[object Float64Array]",PZ="[object Int8Array]",xZ="[object Int16Array]",MZ="[object Int32Array]",NZ="[object Uint8Array]",RZ="[object Uint8ClampedArray]",IZ="[object Uint16Array]",DZ="[object Uint32Array]",Mo={};Mo[MR]=Mo[dZ]=Mo[_Z]=Mo[TZ]=Mo[hZ]=Mo[pZ]=Mo[CZ]=Mo[AZ]=Mo[PZ]=Mo[xZ]=Mo[MZ]=Mo[mZ]=Mo[gZ]=Mo[RR]=Mo[bZ]=Mo[EZ]=Mo[SZ]=Mo[wZ]=Mo[NZ]=Mo[RZ]=Mo[IZ]=Mo[DZ]=!0,Mo[vZ]=Mo[NR]=Mo[OZ]=!1;function mE(l,c,u,p,g,w){var C,I=c&uZ,U=c&cZ,q=c&fZ;if(u&&(C=g?u(l,p,g,w):u(l)),C!==void 0)return C;if(!So(l))return l;var ce=R(l);if(ce){if(C=Cr(l),!I)return ct(l,C)}else{var ge=Ru(l),ke=ge==NR||ge==yZ;if(Object(Ks.a)(l))return Object(ye.a)(l,I);if(ge==RR||ge==MR||ke&&!g){if(C=U||ke?{}:AR(l),!I)return U?mt(l,Pe(C,l)):Qe(l,Dr(C,l))}else{if(!Mo[ge])return g?l:{};C=YY(l,ge,I)}}w||(w=new Wi);var Ge=w.get(l);if(Ge)return Ge;w.set(l,C),lZ(l)?l.forEach(function(Nt){C.add(mE(Nt,c,u,Nt,l,w))}):rZ(l)&&l.forEach(function(Nt,It){C.set(It,mE(Nt,c,u,It,l,w))});var gt=q?U?Ht:am:U?In:qc,Mt=ce?void 0:gt(l);return Qr(Mt||l,function(Nt,It){Mt&&(It=Nt,Nt=l[It]),Fu(C,It,mE(Nt,c,u,It,l,w))}),C}var kZ=mE,LZ=1,$Z=4;function BZ(l){return kZ(l,LZ|$Z)}var qo=BZ;function jZ(l,c,u){(u!==void 0&&!ht(l[c],u)||u===void 0&&!(c in l))&&df(l,c,u)}var nC=jZ;function FZ(l){return vo(l)&&Ll(l)}var zZ=FZ,UZ="[object Object]",VZ=Function.prototype,HZ=Object.prototype,IR=VZ.toString,GZ=HZ.hasOwnProperty,WZ=IR.call(Object);function KZ(l){if(!vo(l)||_a(l)!=UZ)return!1;var c=at(l);if(c===null)return!0;var u=GZ.call(c,"constructor")&&c.constructor;return typeof u=="function"&&u instanceof u&&IR.call(u)==WZ}var XZ=KZ;function YZ(l,c){if(!(c==="constructor"&&typeof l[c]=="function")&&c!="__proto__")return l[c]}var rC=YZ;function ZZ(l){return Js(l,In(l))}var JZ=ZZ;function QZ(l,c,u,p,g,w,C){var I=rC(l,u),U=rC(c,u),q=C.get(U);if(q){nC(l,u,q);return}var ce=w?w(I,U,u+"",l,c,C):void 0,ge=ce===void 0;if(ge){var ke=R(U),Ge=!ke&&Object(Ks.a)(U),gt=!ke&&!Ge&&Rp(U);ce=U,ke||Ge||gt?R(I)?ce=I:zZ(I)?ce=ct(I):Ge?(ge=!1,ce=Object(ye.a)(U,!0)):gt?(ge=!1,ce=TR(U,!0)):ce=[]:XZ(U)||kl(U)?(ce=I,kl(I)?ce=JZ(I):(!So(I)||$c(I))&&(ce=AR(U))):ge=!1}ge&&(C.set(U,ce),g(ce,U,p,w,C),C.delete(U)),nC(l,u,ce)}var qZ=QZ;function DR(l,c,u,p,g){l!==c&&rE(c,function(w,C){if(g||(g=new Wi),So(w))qZ(l,c,C,u,DR,p,g);else{var I=p?p(rC(l,C),w,C+"",l,c,g):void 0;I===void 0&&(I=w),nC(l,C,I)}},In)}var eJ=DR,tJ=Im(function(l,c,u){eJ(l,c,u)}),kR=tJ,nJ={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},LR=function(c){var u=qo(nJ);return c&&(u=kR(u,c)),u};o(78),o(158);function rJ(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function $R(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function oJ(l,c,u){return c&&$R(l.prototype,c),u&&$R(l,u),l}function iJ(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}var aJ="*",sJ=function(){function l(){rJ(this,l),iJ(this,"_events",{})}return oJ(l,[{key:"on",value:function(u,p,g){var w=this;return u==null||u.split(",").forEach(function(C){C=C.trim(),w._events[C]||(w._events[C]=[]),w._events[C].push({callback:p,once:!!g})}),this}},{key:"once",value:function(u,p){var g=this;u==null||u.split(",").forEach(function(w){return w=w.trim(),g.on(w,p,!0)})}},{key:"emit",value:function(u,p){var g=this;u==null||u.split(",").forEach(function(w){var C=g._events[w]||[],I=g._events[aJ]||[],U=function(ce){for(var ge=ce.length,ke=0;ke<ge;ke++)if(!!ce[ke]){var Ge=ce[ke],gt=Ge.callback,Mt=Ge.once;Mt&&(ce.splice(ke,1),ce.length===0&&delete g._events[w],ge--,ke--),gt.apply(g,[p])}};U(C),U(I)})}},{key:"off",value:function(u,p){var g=this;return u||(this._events={}),u.split(",").forEach(function(w){if(!p)delete g._events[w];else{for(var C=g._events[w]||[],I=C.length,U=0;U<I;U++)C[U].callback===p&&(C.splice(U,1),I--,U--);C.length===0&&delete g._events[w]}}),this}},{key:"getEvents",value:function(){return this._events}}]),l}();function yf(l,c){return c*Math.round(l/c)||l}function BR(l,c){return l%c}function oC(l,c){return fJ(l)||cJ(l,c)||uJ(l,c)||lJ()}function lJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uJ(l,c){if(!!l){if(typeof l=="string")return jR(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return jR(l,c)}}function jR(l,c){(c==null||c>l.length)&&(c=l.length);for(var u=0,p=new Array(c);u<c;u++)p[u]=l[u];return p}function cJ(l,c){var u=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(u!=null){var p=[],g=!0,w=!1,C,I;try{for(u=u.call(l);!(g=(C=u.next()).done)&&(p.push(C.value),!(c&&p.length===c));g=!0);}catch(U){w=!0,I=U}finally{try{!g&&u.return!=null&&u.return()}finally{if(w)throw I}}return p}}function fJ(l){if(Array.isArray(l))return l}var iC=function(c,u,p){var g=oC(c,2),w=g[0],C=g[1],I=oC(u,2),U=I[0],q=I[1],ce=oC(p,2),ge=ce[0],ke=ce[1];return w>U&&w<ge&&C>q&&C<ke},FR=function(c,u){var p=u.multipleSelectKey,g=!1;switch(p){case"meta":g=c.metaKey;break;case"alt":g=c.altKey;break;case"shift":g=c.shiftKey;break;default:g=!1;break}return g};o(79),o(161),o(125),o(80),o(30),o(12),o(13),o(14),o(47);var gE,dJ=new Uint8Array(16);function hJ(){if(!gE&&(gE=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!gE))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gE(dJ)}var pJ=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function vJ(l){return typeof l=="string"&&pJ.test(l)}for(var yJ=vJ,ki=[],aC=0;aC<256;++aC)ki.push((aC+256).toString(16).substr(1));function mJ(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=(ki[l[c+0]]+ki[l[c+1]]+ki[l[c+2]]+ki[l[c+3]]+"-"+ki[l[c+4]]+ki[l[c+5]]+"-"+ki[l[c+6]]+ki[l[c+7]]+"-"+ki[l[c+8]]+ki[l[c+9]]+"-"+ki[l[c+10]]+ki[l[c+11]]+ki[l[c+12]]+ki[l[c+13]]+ki[l[c+14]]+ki[l[c+15]]).toLowerCase();if(!yJ(u))throw TypeError("Stringified UUID is invalid");return u}var gJ=mJ;function bJ(l,c,u){l=l||{};var p=l.random||(l.rng||hJ)();if(p[6]=p[6]&15|64,p[8]=p[8]&63|128,c){u=u||0;for(var g=0;g<16;++g)c[u+g]=p[g];return c}return gJ(p)}var sC=bJ,Wd=function(){var c=sC();return c},EJ=function(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",p=c.nodes.reduce(function(g,w){return g[w.id]=u+sC(),w.id=g[w.id],g},{});return c.edges.forEach(function(g){g.id=u+sC(),g.sourceNodeId=p[g.sourceNodeId],g.targetNodeId=p[g.targetNodeId]}),c};o(104),o(203);var SJ=function(c,u,p,g){var w=(u.y-c.y)*(g.x-p.x)-(c.x-u.x)*(p.y-g.y);if(w===0)return!1;var C=((u.x-c.x)*(g.x-p.x)*(p.y-c.y)+(u.y-c.y)*(g.x-p.x)*c.x-(g.y-p.y)*(u.x-c.x)*p.x)/w,I=-((u.y-c.y)*(g.y-p.y)*(p.x-c.x)+(u.x-c.x)*(g.y-p.y)*c.y-(g.x-p.x)*(u.y-c.y)*p.y)/w;return(C-c.x)*(C-u.x)<=0&&(I-c.y)*(I-u.y)<=0&&(C-p.x)*(C-g.x)<=0&&(I-p.y)*(I-g.y)<=0?{x:C,y:I}:!1},Fm=function(c,u,p){var g=c.x,w=c.y;return(g-u.x)*(g-p.x)<=0&&(w-u.y)*(w-p.y)<=0};function bE(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bE=function(u){return typeof u}:bE=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},bE(l)}function zR(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function UR(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?zR(Object(u),!0).forEach(function(p){wJ(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):zR(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function wJ(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}var lC=function(c){var u=c.anchors;return u},EE=function(c,u){for(var p=u.nodes,g,w=p.length-1;w>=0;w--){var C=p[w],I=TJ(c,C);if(I){var U=_J(c,C);if(U){var q={node:C,anchorIndex:U.index,anchor:U.anchor};(!g||OJ(C,g.node,u))&&(g=q)}}}return g},OJ=function(c,u,p){return c.zIndex>u.zIndex||p.nodesMap[c.id].index>p.nodesMap[u.id].index},_J=function(c,u){for(var p=lC(u),g,w=Number.MAX_SAFE_INTEGER,C=0;C<p.length;C++){var I=Ul(c.x,c.y,p[C].x,p[C].y);I<w&&(w=I,g={index:C,anchor:UR(UR({},p[C]),{},{x:p[C].x,y:p[C].y,id:p[C].id})})}return g},Ul=function(c,u,p,g){return Math.hypot(c-p,u-g)},mf=function(c,u){var p=!1,g=0,w=Xa(u);return c.x>=w.minX-g&&c.x<=w.maxX+g&&c.y>=w.minY-g&&c.y<=w.maxY+g&&(p=!0),p},TJ=function(c,u){var p=!1,g=5,w=Xa(u);return c.x>=w.minX-g&&c.x<=w.maxX+g&&c.y>=w.minY-g&&c.y<=w.maxY+g&&(p=!0),p},Xa=function(c){var u=c.x,p=c.y,g=c.width,w=c.height,C={minX:u-g/2,minY:p-w/2,maxX:u+g/2,maxY:p+w/2,x:u,y:p,width:g,height:w,centerX:u,centerY:p};return C},CJ=function(c){var u=c,p=u.x,g=u.y,w=u.width,C=u.height,I=u.radius,U=[{x:p-w/2+I,y:g-C/2+I,r:I},{x:p+w/2-I,y:g-C/2+I,r:I},{x:p-w/2+I,y:g+C/2-I,r:I},{x:p+w/2-I,y:g+C/2-I,r:I}];return U},VR=function(c,u,p){var g=CJ(p),w,C=Number.MAX_SAFE_INTEGER;g.forEach(function(U){var q=Ul(c.x,c.y,U.x,U.y);q<C&&(C=q,w=U)});var I=uC(c,u,w);return I},uC=function(c,u,p){var g,w=p,C=w.x,I=w.y,U=w.r;if(u===Rn.HORIZONTAL){var q=C-Math.sqrt(U*U-(c.y-I)*(c.y-I)),ce=C+Math.sqrt(U*U-(c.y-I)*(c.y-I)),ge=Math.abs(q-c.x)<Math.abs(ce-c.x)?q:ce;g={x:ge,y:c.y}}else if(u===Rn.VERTICAL){var ke=I-Math.sqrt(U*U-(c.x-C)*(c.x-C)),Ge=I+Math.sqrt(U*U-(c.x-C)*(c.x-C)),gt=Math.abs(ke-c.y)<Math.abs(Ge-c.y)?ke:Ge;g={x:c.x,y:gt}}return g},HR=function(c,u){var p=u,g=!1,w={minX:p.x-p.width/2+p.radius,maxX:p.x+p.width/2-p.radius,minY:p.y-p.height/2+p.radius,maxY:p.y+p.height/2-p.radius},C=p.x,I=p.y,U=p.width,q=p.height;return c.y===I+q/2||c.y===I-q/2?g=c.x>w.minX&&c.x<w.maxX:(c.x===C+U/2||c.x===C-U/2)&&(g=c.y>w.minY&&c.y<w.maxY),g},GR=function(c,u,p){var g,w=p,C=w.x,I=w.y,U=w.rx,q=w.ry;if(u===Rn.HORIZONTAL){var ce=C-Math.sqrt(U*U-(c.y-I)*(c.y-I)*U*U/(q*q)),ge=C+Math.sqrt(U*U-(c.y-I)*(c.y-I)*U*U/(q*q)),ke=Math.abs(ce-c.x)<Math.abs(ge-c.x)?ce:ge;g={x:ke,y:c.y}}else if(u===Rn.VERTICAL){var Ge=I-Math.sqrt(q*q-(c.x-C)*(c.x-C)*q*q/(U*U)),gt=I+Math.sqrt(q*q-(c.x-C)*(c.x-C)*q*q/(U*U)),Mt=Math.abs(Ge-c.y)<Math.abs(gt-c.y)?Ge:gt;g={x:c.x,y:Mt}}return g},SE=function(c,u,p){for(var g=p,w=g.pointsPosition,C=Number.MAX_SAFE_INTEGER,I,U=[],q=0;q<w.length;q++)U.push({start:w[q],end:w[(q+1)%w.length]});return U.forEach(function(ce){var ge=ce.start,ke=ce.end,Ge=ge,gt=ke;ge.x>ke.x&&(Ge=ke,gt=ge);var Mt={x:c.x,y:c.y};if(Ge.x===gt.x&&u===Rn.HORIZONTAL&&(Mt={x:Ge.x,y:c.y}),Ge.y===gt.y&&u===Rn.VERTICAL&&(Mt={x:c.x,y:Ge.y}),Ge.x!==gt.x&&Ge.y!==gt.y){var Nt=(gt.y-Ge.y)/(gt.x-Ge.x),It=(Ge.x*gt.y-gt.x*Ge.y)/(Ge.x-gt.x);u===Rn.HORIZONTAL?Mt={x:(c.y-It)/Nt,y:c.y}:u===Rn.VERTICAL&&(Mt={x:c.x,y:Nt*c.x+It})}var Tn=Fm(Mt,ge,ke);if(Tn){var cn=Ul(Mt.x,Mt.y,c.x,c.y);cn<C&&(C=cn,I=Mt)}}),I},AJ=function(c){var u=Gd(c,["id","type","x","y","text","properties","virtual"]);return u},WR=function(c,u,p,g){var w=c.x,C=c.y;return u.x>c.x?w=c.x+p/2:u.x<c.x&&(w=c.x-p/2),u.y>c.y?C=c.y+g/2:u.y<c.y&&(C=c.y-g/2),{x:w,y:C}},KR=function(c){var u=c.rows,p=c.style,g=c.rowsLength,w=c.className,C=document.createElement("div");C.style.fontSize=p.fontSize,C.style.width=p.width,C.className=w,C.style.lineHeight=p.lineHeight,C.style.padding=p.padding,p.fontFamily&&(C.style.fontFamily=p.fontFamily),g>1?u.forEach(function(U){var q=document.createElement("div");q.textContent=U,C.appendChild(q)}):C.textContent=u,document.body.appendChild(C);var I=C.clientHeight;return document.body.removeChild(C),I},cC=function(c){var u=c.rows,p=c.rowsLength,g=c.fontSize,w=0;return u&&u.forEach(function(C){var I=$I(C);w=I>w?I:w}),{width:Math.ceil(w/2)*g+g/4,height:p*(g+2)+g/4}},wE=function(c){return bE(c)!=="object"?{isAllPass:!!c,msg:c?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:c},XR={node:!1,edge:!1},PJ={node:!0,edge:!0},xJ={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},Ji=function(c){try{return JSON.parse(JSON.stringify(c))}catch{return c}},MJ=1e3,NJ=999,fC=function(){return++MJ},RJ=function(){return--NJ},ln,YR,ZR,JR,QR,qR,eI,tI,nI,rI,oI,iI,aI,sI,lI,uI,cI,fI,dI,hI;function pI(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function Qs(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?pI(Object(u),!0).forEach(function(p){Ya(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):pI(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function Si(l,c,u,p){!u||Object.defineProperty(l,c,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(p):void 0})}function IJ(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function vI(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function DJ(l,c,u){return c&&vI(l.prototype,c),u&&vI(l,u),l}function Ya(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}function Pr(l,c,u,p,g){var w={};return Object.keys(p).forEach(function(C){w[C]=p[C]}),w.enumerable=!!w.enumerable,w.configurable=!!w.configurable,("value"in w||w.initializer)&&(w.writable=!0),w=u.slice().reverse().reduce(function(C,I){return I(l,c,C)||C},w),g&&w.initializer!==void 0&&(w.value=w.initializer?w.initializer.call(g):void 0,w.initializer=void 0),w.initializer===void 0&&(Object.defineProperty(l,c,w),w=null),w}var dC=(ln=function(){function l(c,u){IJ(this,l),Ya(this,"id",Wd()),Si(this,"type",YR,this),Si(this,"sourceNodeId",ZR,this),Si(this,"targetNodeId",JR,this),Si(this,"startPoint",QR,this),Si(this,"endPoint",qR,this),Si(this,"text",eI,this),Si(this,"properties",tI,this),Si(this,"points",nI,this),Si(this,"pointsList",rI,this),Si(this,"isSelected",oI,this),Si(this,"isHovered",iI,this),Si(this,"isHitable",aI,this),Si(this,"draggable",sI,this),Si(this,"visible",lI,this),Ya(this,"virtual",!1),Si(this,"isAnimation",uI,this),Ya(this,"graphModel",void 0),Si(this,"zIndex",cI,this),Ya(this,"BaseType",$t.EDGE),Ya(this,"modelType",Vt.EDGE),Si(this,"state",fI,this),Ya(this,"additionStateData",void 0),Ya(this,"sourceAnchorId",""),Ya(this,"targetAnchorId",""),Ya(this,"menu",void 0),Ya(this,"customTextPosition",!1),Ya(this,"animationData",xJ),Si(this,"style",dI,this),Si(this,"arrowConfig",hI,this),this.graphModel=u,this.initEdgeData(c),this.setAttributes()}return DJ(l,[{key:"initEdgeData",value:function(u){if(u.properties||(u.properties={}),!u.id){var p=this.graphModel.idGenerator,g=p&&p(u.type);g&&(u.id=g);var w=this.createId();w&&(u.id=w)}Ei(this,OQ(u));var C=this.graphModel.overlapMode;C===hn.INCREASE&&(this.zIndex=u.zIndex||fC()),this.setAnchors(),this.initPoints(),this.formatText(u)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Qs(Qs({},this.graphModel.theme.baseEdge),this.style)}},{key:"getTextStyle",value:function(){var u=this.graphModel.theme.edgeText;return qo(u)}},{key:"getAnimation",value:function(){var u=this.animationData;return qo(u)}},{key:"getEdgeAnimationStyle",value:function(){var u=this.graphModel.theme.edgeAnimation;return qo(u)}},{key:"getOutlineStyle",value:function(){var u=this.graphModel,p=u.theme.outline;return qo(p)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var u,p;return(u=this.graphModel)===null||u===void 0||(p=u.nodesMap[this.sourceNodeId])===null||p===void 0?void 0:p.model}},{key:"targetNode",get:function(){var u,p;return(u=this.graphModel)===null||u===void 0||(p=u.nodesMap[this.targetNodeId])===null||p===void 0?void 0:p.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(u,p){var g,w,C=lC(u);return C.forEach(function(I){var U=FI(I,p);w?U<w&&(w=U,g=I):(w=U,g=I)}),g}},{key:"getEndAnchor",value:function(u){var p=this,g,w,C=lC(u);return C.forEach(function(I){var U=FI(I,p.startPoint);w?U<w&&(w=U,g=I):(w=U,g=I)}),g}},{key:"getProperties",value:function(){return Object(a.I)(this.properties)}},{key:"getData",value:function(){var u=this.text,p=u.x,g=u.y,w=u.value,C={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(a.I)(this.properties)};return w&&(C.text={x:p,y:g,value:w}),this.graphModel.overlapMode===hn.INCREASE&&(C.zIndex=this.zIndex),C}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(u,p){this.properties[u]=Ji(p),this.setAttributes()}},{key:"deleteProperty",value:function(u){delete this.properties[u],this.setAttributes()}},{key:"setProperties",value:function(u){this.properties=Qs(Qs({},this.properties),Ji(u)),this.setAttributes()}},{key:"changeEdgeId",value:function(u){var p=this.arrowConfig,g=p.markerEnd,w=p.markerStart;w&&w==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(u,")")),g&&g==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(u,")")),this.id=u}},{key:"setStyle",value:function(u,p){this.style=Qs(Qs({},this.style),{},Ya({},u,Ji(p)))}},{key:"setStyles",value:function(u){this.style=Qs(Qs({},this.style),Ji(u))}},{key:"updateStyles",value:function(u){this.style=Qs({},Ji(u))}},{key:"formatText",value:function(u){var p=this.textPosition,g=p.x,w=p.y;if(!u.text||typeof u.text=="string"){this.text={value:u.text||"",x:g,y:w,draggable:this.text.draggable,editable:this.text.editable};return}Object.prototype.toString.call(u.text)==="[object Object]"&&(this.text={x:u.text.x||g,y:u.text.y||w,value:u.text.value||"",draggable:this.text.draggable,editable:this.text.editable})}},{key:"resetTextPosition",value:function(){var u=this.textPosition,p=u.x,g=u.y;this.text.x=p,this.text.y=g}},{key:"moveText",value:function(u,p){if(this.text){var g=this.text,w=g.x,C=g.y,I=g.value,U=g.draggable,q=g.editable;this.text={value:I,draggable:U,x:w+u,y:C+p,editable:q}}}},{key:"setText",value:function(u){u&&Ei(this.text,u)}},{key:"updateText",value:function(u){this.text=Qs(Qs({},this.text),{},{value:u})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var u=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:u.x,y:u.y}),this.sourceAnchorId||(this.sourceAnchorId=u.id)}if(!this.targetAnchorId||!this.endPoint){var p=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:p.x,y:p.y}),this.targetAnchorId||(this.targetAnchorId=p.id)}}},{key:"setSelected",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=u}},{key:"setHovered",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=u}},{key:"setHitable",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=u}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(u,p){this.state=u,this.additionStateData=p}},{key:"updateStartPoint",value:function(u){this.startPoint=u}},{key:"moveStartPoint",value:function(u,p){this.startPoint.x+=u,this.startPoint.y+=p}},{key:"updateEndPoint",value:function(u){this.endPoint=u}},{key:"moveEndPoint",value:function(u,p){this.endPoint.x+=u,this.endPoint.y+=p}},{key:"setZIndex",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=u}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(u){Ei(this,u)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(u){var p=u.startPoint,g=u.endPoint;this.updateStartPoint({x:p.x,y:p.y}),this.updateEndPoint({x:g.x,y:g.y})}}]),l}(),YR=Pr(ln.prototype,"type",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ZR=Pr(ln.prototype,"sourceNodeId",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),JR=Pr(ln.prototype,"targetNodeId",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),QR=Pr(ln.prototype,"startPoint",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qR=Pr(ln.prototype,"endPoint",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),eI=Pr(ln.prototype,"text",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),tI=Pr(ln.prototype,"properties",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),nI=Pr(ln.prototype,"points",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),rI=Pr(ln.prototype,"pointsList",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oI=Pr(ln.prototype,"isSelected",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),iI=Pr(ln.prototype,"isHovered",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),aI=Pr(ln.prototype,"isHitable",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sI=Pr(ln.prototype,"draggable",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),lI=Pr(ln.prototype,"visible",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),uI=Pr(ln.prototype,"isAnimation",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cI=Pr(ln.prototype,"zIndex",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fI=Pr(ln.prototype,"state",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),dI=Pr(ln.prototype,"style",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),hI=Pr(ln.prototype,"arrowConfig",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),Pr(ln.prototype,"sourceNode",[a.m],Object.getOwnPropertyDescriptor(ln.prototype,"sourceNode"),ln.prototype),Pr(ln.prototype,"targetNode",[a.m],Object.getOwnPropertyDescriptor(ln.prototype,"targetNode"),ln.prototype),Pr(ln.prototype,"textPosition",[a.m],Object.getOwnPropertyDescriptor(ln.prototype,"textPosition"),ln.prototype),Pr(ln.prototype,"setProperty",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"setProperty"),ln.prototype),Pr(ln.prototype,"deleteProperty",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"deleteProperty"),ln.prototype),Pr(ln.prototype,"setProperties",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"setProperties"),ln.prototype),Pr(ln.prototype,"changeEdgeId",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"changeEdgeId"),ln.prototype),Pr(ln.prototype,"setStyle",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"setStyle"),ln.prototype),Pr(ln.prototype,"setStyles",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"setStyles"),ln.prototype),Pr(ln.prototype,"updateStyles",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateStyles"),ln.prototype),Pr(ln.prototype,"formatText",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"formatText"),ln.prototype),Pr(ln.prototype,"resetTextPosition",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"resetTextPosition"),ln.prototype),Pr(ln.prototype,"moveText",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"moveText"),ln.prototype),Pr(ln.prototype,"setText",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"setText"),ln.prototype),Pr(ln.prototype,"updateText",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateText"),ln.prototype),Pr(ln.prototype,"setAnchors",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"setAnchors"),ln.prototype),Pr(ln.prototype,"setSelected",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"setSelected"),ln.prototype),Pr(ln.prototype,"setHovered",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"setHovered"),ln.prototype),Pr(ln.prototype,"setHitable",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"setHitable"),ln.prototype),Pr(ln.prototype,"openEdgeAnimation",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"openEdgeAnimation"),ln.prototype),Pr(ln.prototype,"closeEdgeAnimation",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"closeEdgeAnimation"),ln.prototype),Pr(ln.prototype,"setElementState",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"setElementState"),ln.prototype),Pr(ln.prototype,"updateStartPoint",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateStartPoint"),ln.prototype),Pr(ln.prototype,"moveStartPoint",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"moveStartPoint"),ln.prototype),Pr(ln.prototype,"updateEndPoint",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateEndPoint"),ln.prototype),Pr(ln.prototype,"moveEndPoint",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"moveEndPoint"),ln.prototype),Pr(ln.prototype,"setZIndex",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"setZIndex"),ln.prototype),Pr(ln.prototype,"initPoints",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"initPoints"),ln.prototype),Pr(ln.prototype,"updateAttributes",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateAttributes"),ln.prototype),Pr(ln.prototype,"getAdjustStart",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"getAdjustStart"),ln.prototype),Pr(ln.prototype,"getAdjustEnd",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"getAdjustEnd"),ln.prototype),Pr(ln.prototype,"updateAfterAdjustStartAndEnd",[a.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateAfterAdjustStartAndEnd"),ln.prototype),ln),hC=dC;function OE(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?OE=function(u){return typeof u}:OE=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},OE(l)}function yI(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function mI(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?yI(Object(u),!0).forEach(function(p){EI(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):yI(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function kJ(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function gI(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function LJ(l,c,u){return c&&gI(l.prototype,c),u&&gI(l,u),l}function _E(){return typeof Reflect<"u"&&Reflect.get?_E=Reflect.get:_E=function(c,u,p){var g=$J(c,u);if(!!g){var w=Object.getOwnPropertyDescriptor(g,u);return w.get?w.get.call(arguments.length<3?c:p):w.value}},_E.apply(this,arguments)}function $J(l,c){for(;!Object.prototype.hasOwnProperty.call(l,c)&&(l=Wp(l),l!==null););return l}function BJ(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&pC(l,c)}function pC(l,c){return pC=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},pC(l,c)}function jJ(l){var c=zJ();return function(){var p=Wp(l),g;if(c){var w=Wp(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return FJ(this,g)}}function FJ(l,c){if(c&&(OE(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bI(l)}function bI(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function zJ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wp(l){return Wp=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},Wp(l)}function EI(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}var vC=function(l){BJ(u,l);var c=jJ(u);function u(){var p;kJ(this,u);for(var g=arguments.length,w=new Array(g),C=0;C<g;C++)w[C]=arguments[C];return p=c.call.apply(c,[this].concat(w)),EI(bI(p),"modelType",Vt.LINE_EDGE),p}return LJ(u,[{key:"getEdgeStyle",value:function(){var g=this.graphModel.theme.line,w=_E(Wp(u.prototype),"getEdgeStyle",this).call(this);return mI(mI({},w),qo(g))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}]),u}(hC);function TE(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?TE=function(u){return typeof u}:TE=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},TE(l)}var Br,SI;function UJ(l,c){return WJ(l)||GJ(l,c)||HJ(l,c)||VJ()}function VJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HJ(l,c){if(!!l){if(typeof l=="string")return wI(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return wI(l,c)}}function wI(l,c){(c==null||c>l.length)&&(c=l.length);for(var u=0,p=new Array(c);u<c;u++)p[u]=l[u];return p}function GJ(l,c){var u=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(u!=null){var p=[],g=!0,w=!1,C,I;try{for(u=u.call(l);!(g=(C=u.next()).done)&&(p.push(C.value),!(c&&p.length===c));g=!0);}catch(U){w=!0,I=U}finally{try{!g&&u.return!=null&&u.return()}finally{if(w)throw I}}return p}}function WJ(l){if(Array.isArray(l))return l}function OI(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function _I(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?OI(Object(u),!0).forEach(function(p){mC(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):OI(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function KJ(l,c,u,p){!u||Object.defineProperty(l,c,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(p):void 0})}function XJ(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function TI(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function YJ(l,c,u){return c&&TI(l.prototype,c),u&&TI(l,u),l}function Kp(){return typeof Reflect<"u"&&Reflect.get?Kp=Reflect.get:Kp=function(c,u,p){var g=ZJ(c,u);if(!!g){var w=Object.getOwnPropertyDescriptor(g,u);return w.get?w.get.call(arguments.length<3?c:p):w.value}},Kp.apply(this,arguments)}function ZJ(l,c){for(;!Object.prototype.hasOwnProperty.call(l,c)&&(l=gf(l),l!==null););return l}function JJ(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&yC(l,c)}function yC(l,c){return yC=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},yC(l,c)}function QJ(l){var c=eQ();return function(){var p=gf(l),g;if(c){var w=gf(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return qJ(this,g)}}function qJ(l,c){if(c&&(TE(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zm(l)}function zm(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function eQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gf(l){return gf=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},gf(l)}function mC(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}function da(l,c,u,p,g){var w={};return Object.keys(p).forEach(function(C){w[C]=p[C]}),w.enumerable=!!w.enumerable,w.configurable=!!w.configurable,("value"in w||w.initializer)&&(w.writable=!0),w=u.slice().reverse().reduce(function(C,I){return I(l,c,C)||C},w),g&&w.initializer!==void 0&&(w.value=w.initializer?w.initializer.call(g):void 0,w.initializer=void 0),w.initializer===void 0&&(Object.defineProperty(l,c,w),w=null),w}var gC=(Br=function(l){JJ(u,l);var c=QJ(u);function u(){var p;XJ(this,u);for(var g=arguments.length,w=new Array(g),C=0;C<g;C++)w[C]=arguments[C];return p=c.call.apply(c,[this].concat(w)),mC(zm(p),"modelType",Vt.POLYLINE_EDGE),mC(zm(p),"draginngPointList",void 0),KJ(zm(p),"dbClickPosition",SI,zm(p)),p}return YJ(u,[{key:"initEdgeData",value:function(g){this.offset=30,Kp(gf(u.prototype),"initEdgeData",this).call(this,g)}},{key:"getEdgeStyle",value:function(){var g=this.graphModel.theme.polyline,w=Kp(gf(u.prototype),"getEdgeStyle",this).call(this);return _I(_I({},w),qo(g))}},{key:"getTextPosition",value:function(){var g,w=(g=this.text)===null||g===void 0?void 0:g.value;if(this.dbClickPosition&&!w){var C=this.dbClickPosition,I=C.x,U=C.y;return{x:I,y:U}}var q=Xp(this.points),ce=bQ(q),ge=UJ(ce,2),ke=ge[0],Ge=ge[1];return{x:(ke.x+Ge.x)/2,y:(ke.y+Ge.y)/2}}},{key:"getAfterAnchor",value:function(g,w,C){var I,U;return C.forEach(function(q){var ce;g===Rn.HORIZONTAL?ce=Math.abs(w.y-q.y):g===Rn.VERTICAL&&(ce=Math.abs(w.x-q.x)),(!U||U>ce)&&(U=ce,I=q)}),I}},{key:"getCorssPoint",value:function(g,w,C){var I;return g===Rn.HORIZONTAL?I={x:C.x,y:w.y}:g===Rn.VERTICAL&&(I={x:w.x,y:C.y}),I}},{key:"removeCrossPoints",value:function(g,w,C){var I=C.map(function($n){return $n});if(g===1){var U=I[g],q=I[w],ce=I[g-1],ge=II(ce,U,this.sourceNode);if(ge){var ke=DI(U,q,this.sourceNode);if(ke){var Ge=kI(U,q,this.sourceNode);Ge&&(I[g]=Ge,I.splice(g-1,1),g--,w--)}}else{var gt=this.sourceNode.anchors;gt.forEach(function($n){if($n.x===ce.x&&$n.x===U.x||$n.y===ce.y&&$n.y===U.y){var Or=Ul($n.x,$n.y,U.x,U.y),tr=Ul(ce.x,ce.y,U.x,U.y);Or<tr&&(I[g-1]=$n)}})}}if(w===C.length-2){var Mt=I[g],Nt=I[w],It=I[w+1],Tn=II(Nt,It,this.targetNode);if(Tn){var cn=DI(Mt,Nt,this.targetNode);if(cn){var pn=kI(Mt,Nt,this.targetNode);pn&&(I[w]=pn,I.splice(w+1,1))}}else{var er=this.targetNode.anchors;er.forEach(function($n){if($n.x===It.x&&$n.x===Nt.x||$n.y===It.y&&$n.y===Nt.y){var Or=Ul($n.x,$n.y,Nt.x,Nt.y),tr=Ul(It.x,It.y,Nt.x,Nt.y);Or<tr&&(I[w+1]=$n)}})}}return I}},{key:"getDragingPoints",value:function(g,w,C,I,U){var q=U.map(function(ke){return ke}),ce=this.getAfterAnchor(g,C,I),ge=this.getCorssPoint(g,C,ce);return w==="start"?(q.unshift(ge),q.unshift(ce)):(q.push(ge),q.push(ce)),q}},{key:"updateCrossPoints",value:function(g){var w=g.map(function(pn){return pn}),C=g[0],I=g[1],U=g[w.length-2],q=g[w.length-1],ce=this.sourceNode,ge=this.targetNode,ke=ce.modelType,Ge=ge.modelType,gt=RE(C,I),Mt=w[0];switch(ke){case Vt.RECT_NODE:if(ce.radius!==0){var Nt=HR(C,ce);Nt||(Mt=VR(C,gt,ce))}break;case Vt.CIRCLE_NODE:Mt=uC(C,gt,ce);break;case Vt.ELLIPSE_NODE:Mt=GR(C,gt,ce);break;case Vt.DIAMOND_NODE:Mt=SE(C,gt,ce);break;case Vt.POLYGON_NODE:Mt=SE(C,gt,ce);break}w[0]=Mt;var It=RE(U,q),Tn=w[w.length-1];switch(Ge){case Vt.RECT_NODE:if(ge.radius!==0){var cn=HR(q,ge);cn||(Tn=VR(q,It,ge))}break;case Vt.CIRCLE_NODE:Tn=uC(q,It,ge);break;case Vt.ELLIPSE_NODE:Tn=GR(q,It,ge);break;case Vt.DIAMOND_NODE:Tn=SE(q,It,ge);break;case Vt.POLYGON_NODE:Tn=SE(q,It,ge);break}return w[w.length-1]=Tn,w}},{key:"getData",value:function(){var g=Kp(gf(u.prototype),"getData",this).call(this),w=this.pointsList.map(function(C){var I=C.x,U=C.y;return{x:I,y:U}});return Object.assign({},g,{pointsList:w})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(g){return"".concat(g.x,",").concat(g.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var g=RI({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=g,this.points=g.map(function(w){return"".concat(w.x,",").concat(w.y)}).join(" ")}},{key:"updateStartPoint",value:function(g){this.startPoint=g,this.updatePoints()}},{key:"moveStartPoint",value:function(g,w){this.startPoint.x+=g,this.startPoint.y+=w,this.updatePoints()}},{key:"updateEndPoint",value:function(g){this.endPoint=g,this.updatePoints()}},{key:"moveEndPoint",value:function(g,w){this.endPoint.x+=g,this.endPoint.y+=w,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(g){return g})}},{key:"dragAppendSimple",value:function(g,w){this.isDragging=!0;var C=g.start,I=g.end,U=g.startIndex,q=g.endIndex,ce=g.direction,ge=this.pointsList,ke=ge;return ce===Rn.HORIZONTAL?(ge[U]={x:C.x,y:C.y+w.y},ge[q]={x:I.x,y:I.y+w.y},ke=this.pointsList.map(function(Ge){return Ge})):ce===Rn.VERTICAL&&(ge[U]={x:C.x+w.x,y:C.y},ge[q]={x:I.x+w.x,y:I.y},ke=this.pointsList.map(function(Ge){return Ge})),this.updatePointsAfterDrage(ke),this.draginngPointList=ke,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},ge[U]),end:Object.assign({},ge[q]),startIndex:U,endIndex:q,direction:ce}}},{key:"dragAppend",value:function(g,w){this.isDragging=!0;var C=g.start,I=g.end,U=g.startIndex,q=g.endIndex,ce=g.direction,ge=this.pointsList;if(ce===Rn.HORIZONTAL){ge[U]={x:C.x,y:C.y+w.y},ge[q]={x:I.x,y:I.y+w.y};var ke=this.pointsList.map(function(io){return io});if(U!==0&&q!==this.pointsList.length-1&&(ke=this.removeCrossPoints(U,q,ke)),U===0){var Ge={x:C.x,y:C.y+w.y},gt=mf(Ge,this.sourceNode);if(!gt){var Mt=this.sourceNode.anchors;ke=this.getDragingPoints(ce,"start",Ge,Mt,ke)}}if(q===this.pointsList.length-1){var Nt={x:I.x,y:I.y+w.y},It=mf(Nt,this.targetNode);if(!It){var Tn=this.targetNode.anchors;ke=this.getDragingPoints(ce,"end",Nt,Tn,ke)}}ke=OC(ke),this.updatePointsAfterDrage(ke),this.draginngPointList=ke}else if(ce===Rn.VERTICAL){ge[U]={x:C.x+w.x,y:C.y},ge[q]={x:I.x+w.x,y:I.y};var cn=this.pointsList.map(function(io){return io});if(U!==0&&q!==this.pointsList.length-1&&(cn=this.removeCrossPoints(U,q,cn)),U===0){var pn={x:C.x+w.x,y:C.y},er=mf(pn,this.sourceNode);if(!er){var $n=this.sourceNode.anchors;cn=this.getDragingPoints(ce,"start",pn,$n,cn)}}if(q===this.pointsList.length-1){var Or={x:I.x+w.x,y:I.y},tr=mf(Or,this.targetNode);if(!tr){var eo=this.targetNode.anchors;cn=this.getDragingPoints(ce,"end",Or,eo,cn)}}cn=OC(cn),this.updatePointsAfterDrage(cn),this.draginngPointList=cn}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},ge[U]),end:Object.assign({},ge[q]),startIndex:U,endIndex:q,direction:ce}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var g=Xp(this.points);this.pointsList=g.map(function(I){return I}),this.draginngPointList=[];var w=g[0];this.startPoint=Object.assign({},w);var C=g[g.length-1];this.endPoint=Object.assign({},C)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(g){var w=this.updateCrossPoints(g);this.points=w.map(function(C){return"".concat(C.x,",").concat(C.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var g=this.pointsList;return g[g.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(g){var w=g.startPoint,C=g.endPoint,I=g.sourceNode,U=g.targetNode,q=RI({x:w.x,y:w.y},{x:C.x,y:C.y},I,U,this.offset||0);this.pointsList=q,this.initPoints()}}]),u}(hC),SI=da(Br.prototype,"dbClickPosition",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),da(Br.prototype,"initPoints",[a.k],Object.getOwnPropertyDescriptor(Br.prototype,"initPoints"),Br.prototype),da(Br.prototype,"updatePoints",[a.k],Object.getOwnPropertyDescriptor(Br.prototype,"updatePoints"),Br.prototype),da(Br.prototype,"updateStartPoint",[a.k],Object.getOwnPropertyDescriptor(Br.prototype,"updateStartPoint"),Br.prototype),da(Br.prototype,"moveStartPoint",[a.k],Object.getOwnPropertyDescriptor(Br.prototype,"moveStartPoint"),Br.prototype),da(Br.prototype,"updateEndPoint",[a.k],Object.getOwnPropertyDescriptor(Br.prototype,"updateEndPoint"),Br.prototype),da(Br.prototype,"moveEndPoint",[a.k],Object.getOwnPropertyDescriptor(Br.prototype,"moveEndPoint"),Br.prototype),da(Br.prototype,"dragAppendStart",[a.k],Object.getOwnPropertyDescriptor(Br.prototype,"dragAppendStart"),Br.prototype),da(Br.prototype,"dragAppendSimple",[a.k],Object.getOwnPropertyDescriptor(Br.prototype,"dragAppendSimple"),Br.prototype),da(Br.prototype,"dragAppend",[a.k],Object.getOwnPropertyDescriptor(Br.prototype,"dragAppend"),Br.prototype),da(Br.prototype,"dragAppendEnd",[a.k],Object.getOwnPropertyDescriptor(Br.prototype,"dragAppendEnd"),Br.prototype),da(Br.prototype,"updatePointsAfterDrage",[a.k],Object.getOwnPropertyDescriptor(Br.prototype,"updatePointsAfterDrage"),Br.prototype),da(Br.prototype,"getAdjustStart",[a.k],Object.getOwnPropertyDescriptor(Br.prototype,"getAdjustStart"),Br.prototype),da(Br.prototype,"getAdjustEnd",[a.k],Object.getOwnPropertyDescriptor(Br.prototype,"getAdjustEnd"),Br.prototype),da(Br.prototype,"updateAfterAdjustStartAndEnd",[a.k],Object.getOwnPropertyDescriptor(Br.prototype,"updateAfterAdjustStartAndEnd"),Br.prototype),Br),Um=function(c){var u=c.start,p=c.end,g=c.offset,w=c.verticalLength,C=c.type,I={leftX:0,leftY:0,rightX:0,rightY:0},U=Math.atan((p.y-u.y)/(p.x-u.x)),q=Math.atan(g/w),ce=Math.sqrt(w*w+g*g);return C==="start"?p.x>=u.x?(I.leftX=u.x+ce*Math.sin(U+q),I.leftY=u.y-ce*Math.cos(U+q),I.rightX=u.x-ce*Math.sin(U-q),I.rightY=u.y+ce*Math.cos(U-q)):(I.leftX=u.x-ce*Math.sin(U+q),I.leftY=u.y+ce*Math.cos(U+q),I.rightX=u.x+ce*Math.sin(U-q),I.rightY=u.y-ce*Math.cos(U-q)):C==="end"&&(p.x>=u.x?(I.leftX=p.x+ce*Math.sin(U-q),I.leftY=p.y-ce*Math.cos(U-q),I.rightX=p.x-ce*Math.sin(U+q),I.rightY=p.y+ce*Math.cos(U+q)):(I.leftX=p.x-ce*Math.sin(U-q),I.leftY=p.y+ce*Math.cos(U-q),I.rightX=p.x+ce*Math.sin(U+q),I.rightY=p.y-ce*Math.cos(U+q))),I};function CI(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function CE(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?CI(Object(u),!0).forEach(function(p){tQ(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):CI(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function tQ(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}function nQ(l){return iQ(l)||oQ(l)||AI(l)||rQ()}function rQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oQ(l){if(typeof Symbol<"u"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}function iQ(l){if(Array.isArray(l))return EC(l)}function AE(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?AE=function(u){return typeof u}:AE=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},AE(l)}function bC(l,c){return lQ(l)||sQ(l,c)||AI(l,c)||aQ()}function aQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AI(l,c){if(!!l){if(typeof l=="string")return EC(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return EC(l,c)}}function EC(l,c){(c==null||c>l.length)&&(c=l.length);for(var u=0,p=new Array(c);u<c;u++)p[u]=l[u];return p}function sQ(l,c){var u=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(u!=null){var p=[],g=!0,w=!1,C,I;try{for(u=u.call(l);!(g=(C=u.next()).done)&&(p.push(C.value),!(c&&p.length===c));g=!0);}catch(U){w=!0,I=U}finally{try{!g&&u.return!=null&&u.return()}finally{if(w)throw I}}return p}}function lQ(l){if(Array.isArray(l))return l}var uQ=function(c,u){return Math.abs(c.centerX-u.centerX)*2<c.width+u.width&&Math.abs(c.centerY-u.centerY)*2<c.height+u.height},SC=function(c){var u=[],p={};return c.forEach(function(g){var w="".concat(g.x,"-").concat(g.y);g.id=w,p[w]=g}),Object.keys(p).forEach(function(g){u.push(p[g])}),u},PE=function(c,u){return c.width===0&&c.height===0?c:{centerX:c.centerX,centerY:c.centerY,minX:c.minX-u,minY:c.minY-u,maxX:c.maxX+u,maxY:c.maxY+u,height:c.height+2*u,width:c.width+2*u}},cQ=function(c,u){var p=Math.abs(c.x-u.centerX),g=Math.abs(c.y-u.centerY);return p/u.width>g/u.height?Rn.HORIZONTAL:Rn.VERTICAL},xE=function(c,u){var p=cQ(u,c);return p===Rn.HORIZONTAL?{x:u.x>c.centerX?c.maxX:c.minX,y:u.y}:{x:u.x,y:u.y>c.centerY?c.maxY:c.minY}},PI=function(c,u){var p=Math.min(c.minX,u.minX),g=Math.min(c.minY,u.minY),w=Math.max(c.maxX,u.maxX),C=Math.max(c.maxY,u.maxY);return{centerX:(p+w)/2,centerY:(g+C)/2,minX:p,minY:g,maxX:w,maxY:C,height:C-g,width:w-p}},Vm=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],u=arguments.length>1?arguments[1]:void 0,p=[],g=[];c.forEach(function(ge){p.push(ge.x),g.push(ge.y)});var w=Math.min.apply(Math,p),C=Math.max.apply(Math,p),I=Math.min.apply(Math,g),U=Math.max.apply(Math,g),q=C-w,ce=U-I;return u&&(q+=u,ce+=u),{centerX:(w+C)/2,centerY:(I+U)/2,maxX:C,maxY:U,minX:w,minY:I,x:(w+C)/2,y:(I+U)/2,height:ce,width:q}},ME=function(c){var u=c.minX,p=c.minY,g=c.maxX,w=c.maxY;return[{x:u,y:p},{x:g,y:p},{x:g,y:w},{x:u,y:w}]},NE=function(c,u){var p=c.x,g=c.y;return p<u.minX||p>u.maxX||g<u.minY||g>u.maxY},fQ=function(c,u){return u<c.minX||u>c.maxX?[]:[{x:u,y:c.minY},{x:u,y:c.maxY}]},dQ=function(c,u){return u<c.minY||u>c.maxY?[]:[{x:c.minX,y:u},{x:c.maxX,y:u}]},hQ=function(c,u){return fQ(c,u.x).concat(dQ(c,u.y))},wC=function(c,u){return Math.abs(c.x-u.x)+Math.abs(c.y-u.y)},pQ=function(c,u){var p=-2,g=0;return u.forEach(function(w){w&&(c.x===w.x&&(g+=p),c.y===w.y&&(g+=p))}),g},xI=function(c,u,p,g,w){return wC(c,u)+wC(c,p)+pQ(c,[u,p,g,w])},vQ=function l(c,u,p,g,w){w||(w=0),c.unshift(u[g]),p[g]&&p[g]!==g&&w<=100&&l(c,u,p,p[g],w+1)},yQ=function(c,u){var p=c.indexOf(u);p>-1&&c.splice(p,1)},Hm=function(c,u,p,g){var w=u.x-c.x,C=u.y-c.y,I=g.x-p.x,U=g.y-p.y,q=(-C*(c.x-p.x)+w*(c.y-p.y))/(-I*C+w*U),ce=(I*(c.y-p.y)-U*(c.x-p.x))/(-I*C+w*U);return q>=0&&q<=1&&ce>=0&&ce<=1},MI=function(c,u,p){if(p.width===0&&p.height===0)return!1;var g=ME(p),w=bC(g,4),C=w[0],I=w[1],U=w[2],q=w[3];return Hm(c,u,C,I)||Hm(c,u,C,q)||Hm(c,u,I,U)||Hm(c,u,U,q)},mQ=function(c,u,p,g){var w=[];return c.forEach(function(C){C!==u&&(C.x===u.x||C.y===u.y)&&!MI(C,u,p)&&!MI(C,u,g)&&w.push(C)}),SC(w)},gQ=function(c,u,p,g,w,C,I){var U=[],q=[u],ce={},ge={},ke={};ge[u.id]=0,ke[u.id]=xI(u,p,u);var Ge={};c.forEach(function(Nt){Ge[Nt.id]=Nt});for(var gt=function(){var It=void 0,Tn=1/0;if(q.forEach(function(pn){ke[pn.id]<Tn&&(Tn=ke[pn.id],It=pn)}),It===p){var cn=[];return vQ(cn,Ge,ce,p.id),{v:cn}}yQ(q,It),U.push(It),mQ(c,It,g,w).forEach(function(pn){if(U.indexOf(pn)===-1){q.indexOf(pn)===-1&&q.push(pn);var er=ke[It.id]+wC(It,pn);ge[pn.id]&&er>=ge[pn.id]||(ce[pn.id]=It.id,ge[pn.id]=er,ke[pn.id]=ge[pn.id]+xI(pn,p,u,C,I))}})};q.length;){var Mt=gt();if(AE(Mt)==="object")return Mt.v}return[u,p]},NI=function(c){var u=Xa(c);return u},OC=function(c){for(var u=c,p=1;p<u.length-1;){var g=u[p-1],w=u[p],C=u[p+1];g.x===w.x&&w.x===C.x||g.y===w.y&&w.y===C.y?u.splice(p,1):p++}return u},RI=function(c,u,p,g,w){var C=NI(p),I=NI(g),U=PE(C,w),q=PE(I,w),ce=xE(U,c),ge=xE(q,u);if(uQ(U,q)){var ke=EQ(c,u,ce,ge);return[c,ce].concat(nQ(ke),[ge,u])}var Ge=Vm([ce,ge]),gt=PI(U,Ge),Mt=PI(q,Ge),Nt=[];Nt=Nt.concat(ME(gt)),Nt=Nt.concat(ME(Mt));var It={x:(c.x+u.x)/2,y:(c.y+u.y)/2};[Ge,gt,Mt].forEach(function(cn){Nt=Nt.concat(hQ(cn,It).filter(function(pn){return NE(pn,U)&&NE(pn,q)}))}),[{x:ce.x,y:ge.y},{x:ge.x,y:ce.y}].forEach(function(cn){NE(cn,U)&&NE(cn,q)&&Nt.push(cn)}),Nt.unshift(ce),Nt.push(ge),Nt=SC(Nt);var Tn=gQ(Nt,ce,ge,C,I,c,u);return Tn.unshift(c),Tn.push(u),Tn.length>2&&(Tn=OC(Tn)),SC(Tn)},bQ=function(c){var u;if(c.length===1)u=[c[0],c[0]];else if(c.length>=2){for(var p=c[0],g=c[1],w=Ul(p.x,p.y,g.x,g.y),C=1;C<c.length-1;C++){var I=c[C],U=c[C+1],q=Ul(I.x,I.y,U.x,U.y);q>w&&(w=q,p=I,g=U)}u=[p,g]}return u},II=function(c,u,p){var g=mf(c,p),w=mf(u,p);return g&&w},DI=function(c,u,p){var g=mf(c,p),w=mf(u,p),C=g&&w,I=g||w;return!C&&I},kI=function(c,u,p){for(var g,w,C=Xa(p),I=ME(C),U=0;U<I.length;U++){var q=Hm(c,u,I[U],I[(U+1)%I.length]);q&&(w=[I[U],I[(U+1)%I.length]])}return w&&(g=SJ(c,u,w[0],w[1])),g},RE=function(c,u){var p;return c.x===u.x?p=Rn.VERTICAL:c.y===u.y&&(p=Rn.HORIZONTAL),p},Xp=function(c){var u=c.split(" "),p=[];return u&&u.forEach(function(g){var w=g.split(","),C=bC(w,2),I=C[0],U=C[1];p.push({x:Number(I),y:Number(U)})}),p},EQ=function(c,u,p,g){var w=[],C=RE(c,p),I=RE(u,g);if(C===I)c.y===p.y?(w.push({x:p.x,y:(p.y+g.y)/2}),w.push({x:g.x,y:(p.y+g.y)/2})):(w.push({x:(p.x+g.x)/2,y:p.y}),w.push({x:(p.x+g.x)/2,y:g.y}));else{var U={x:p.x,y:g.y},q=Fm(U,c,p),ce=Fm(U,u,g);if(q||ce)U={x:g.x,y:p.y};else{var ge=LI(U,c,p),ke=LI(U,u,g);ge&&ke&&(U={x:g.x,y:p.y})}w.push(U)}return w},LI=function(c,u,p){return c.x===u.x&&c.x===p.x||c.y===u.y&&c.y===p.y},$I=function(c){if(!c)return 0;for(var u=0,p=0;p<c.length;p++){var g=c.charCodeAt(p);c.match(/[A-Z]/)?u+=1.5:g>=1&&g<=126||g>=65376&&g<=65439?u+=1:u+=2}return u},SQ=function(c){var u=c.start,p=c.end,g;if(u.x===p.x&&u.y===p.y)g="";else{var w={start:u,end:p,offset:10,verticalLength:5},C=Um(CE(CE({},w),{},{type:"start"})),I=Um(CE(CE({},w),{},{type:"end"}));g="M".concat(C.leftX," ").concat(C.leftY,` 
    L`).concat(C.rightX," ").concat(C.rightY,` 
    L`).concat(I.rightX," ").concat(I.rightY,`
    L`).concat(I.leftX," ").concat(I.leftY," z")}return{d:g,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},BI=function(c){var u=c.start,p=c.end,g=c.sourceNode,w=c.targetNode,C=c.offset,I=Xa(g),U=Xa(w),q=PE(I,C),ce=PE(U,C),ge=xE(q,u),ke=xE(ce,p);return{sNext:ge,ePre:ke}},IE=function(c){var u=c.replace(/M/g,"").replace(/C/g,",").split(","),p=DE(u[0]),g=DE(u[1]),w=DE(u[2]),C=DE(u[3]);return[p,g,w,C]},DE=function(c){var u=c.replace(/(^\s*)/g,"").split(" "),p=bC(u,2),g=p[0],w=p[1];return{x:+g,y:+w}},wQ=function(c){var u=IE(c);return[u[2],u[3]]},jI=function(c,u){for(var p=c.x,g=c.y,w=Xp(u),C=Number.MAX_SAFE_INTEGER,I,U=[],q=0;q<w.length;q++)U.push({start:w[q],end:w[(q+1)%w.length]});if(U.forEach(function(Ge){var gt=Ge.start,Mt=Ge.end;if(gt.x===Mt.x){var Nt={x:gt.x,y:g},It=Fm(Nt,gt,Mt);if(It){var Tn=Math.abs(gt.x-p);Tn<C&&(C=Tn,I=Nt)}}else if(gt.y===Mt.y){var cn={x:p,y:gt.y},pn=Fm(cn,gt,Mt);if(pn){var er=Math.abs(gt.y-g);er<C&&(C=er,I=cn)}}}),!I){var ce=U[0],ge=ce.start,ke=ce.end;I={x:ge.x+(ke.x-ge.x)/2,y:ge.y+(ke.y-ge.y)/2}}return I},OQ=function(c){return Gd(c,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},FI=function(c,u){return Math.sqrt(Math.pow(c.x-u.x,2)+Math.pow(c.y-u.y,2))};function _Q(l,c){return typeof c!="function"?function(u,p,g){return Object.assign({type:l.edgeType},g)}:function(u,p,g){var w=c(u,p,g);return w?typeof w=="string"?Object.assign({},g,{type:w}):Object.assign({type:w},g):{type:l.edgeType}}}o(204);function TQ(){}var Yp=TQ;function CQ(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function zI(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function AQ(l,c,u){return c&&zI(l.prototype,c),u&&zI(l,u),l}function pi(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}var Vl=window.document,UI=0;function _C(l){var c=l.onDragStart,u=c===void 0?Yp:c,p=l.onDraging,g=p===void 0?Yp:p,w=l.onDragEnd,C=w===void 0?Yp:w,I=l.step,U=I===void 0?1:I,q=l.isStopPropagation,ce=q===void 0?!0:q,ge=!1,ke=!1,Ge=0,gt=0,Mt=0,Nt=0;function It(pn){if(ce&&pn.stopPropagation(),!!ke&&(ge=!0,Mt+=pn.clientX-Ge,Nt+=pn.clientY-gt,Ge=pn.clientX,gt=pn.clientY,Math.abs(Mt)>U||Math.abs(Nt)>U)){var er=Mt%U,$n=Nt%U,Or=Mt-er,tr=Nt-$n;Mt=er,Nt=$n,g({deltaX:Or,deltaY:tr,event:pn})}}function Tn(pn){if(ce&&pn.stopPropagation(),ke=!1,Vl.removeEventListener("mousemove",It,!1),Vl.removeEventListener("mouseup",Tn,!1),!!ge)return ge=!1,C({event:pn})}function cn(pn){if(pn.button===UI)return ce&&pn.stopPropagation(),ke=!0,Ge=pn.clientX,gt=pn.clientY,Vl.addEventListener("mousemove",It,!1),Vl.addEventListener("mouseup",Tn,!1),u({event:pn})}return cn}var Kd=function(){function l(c){var u=this,p=c.onDragStart,g=p===void 0?Yp:p,w=c.onDraging,C=w===void 0?Yp:w,I=c.onDragEnd,U=I===void 0?Yp:I,q=c.eventType,ce=q===void 0?"":q,ge=c.eventCenter,ke=ge===void 0?null:ge,Ge=c.step,gt=Ge===void 0?1:Ge,Mt=c.isStopPropagation,Nt=Mt===void 0?!0:Mt,It=c.model,Tn=It===void 0?null:It;CQ(this,l),pi(this,"onDragStart",void 0),pi(this,"onDraging",void 0),pi(this,"onDragEnd",void 0),pi(this,"step",void 0),pi(this,"isStopPropagation",void 0),pi(this,"isDraging",!1),pi(this,"isStartDraging",!1),pi(this,"startX",0),pi(this,"startY",0),pi(this,"sumDeltaX",0),pi(this,"sumDeltaY",0),pi(this,"eventType",void 0),pi(this,"eventCenter",void 0),pi(this,"model",void 0),pi(this,"startTime",void 0),pi(this,"isGrag",void 0),pi(this,"handleMouseDown",function(cn){var pn,er;if(cn.button===UI){u.isStopPropagation&&cn.stopPropagation(),u.isStartDraging=!0,u.startX=cn.clientX,u.startY=cn.clientY,Vl.addEventListener("mousemove",u.handleMouseMove,!1),Vl.addEventListener("mouseup",u.handleMouseUp,!1);var $n=(pn=u.model)===null||pn===void 0?void 0:pn.getData();(er=u.eventCenter)===null||er===void 0||er.emit(Lt["".concat(u.eventType,"_MOUSEDOWN")],{e:cn,data:$n}),u.startTime=new Date().getTime()}}),pi(this,"handleMouseMove",function(cn){if(u.isStopPropagation&&cn.stopPropagation(),!!u.isStartDraging&&(u.sumDeltaX+=cn.clientX-u.startX,u.sumDeltaY+=cn.clientY-u.startY,u.startX=cn.clientX,u.startY=cn.clientY,u.step<=1||Math.abs(u.sumDeltaX)>u.step||Math.abs(u.sumDeltaY)>u.step)){var pn,er=u.sumDeltaX%u.step,$n=u.sumDeltaY%u.step,Or=u.sumDeltaX-er,tr=u.sumDeltaY-$n;u.sumDeltaX=er,u.sumDeltaY=$n;var eo=(pn=u.model)===null||pn===void 0?void 0:pn.getData();if(!u.isDraging){var io;(io=u.eventCenter)===null||io===void 0||io.emit(Lt["".concat(u.eventType,"_DRAGSTART")],{e:cn,data:eo}),u.onDragStart({event:cn})}u.isDraging=!0,Promise.resolve().then(function(){var va,Za;u.onDraging({deltaX:Or,deltaY:tr,event:cn}),(va=u.eventCenter)===null||va===void 0||va.emit(Lt["".concat(u.eventType,"_MOUSEMOVE")],{e:cn,data:eo}),(Za=u.eventCenter)===null||Za===void 0||Za.emit(Lt["".concat(u.eventType,"_DRAG")],{e:cn,data:eo})})}}),pi(this,"handleMouseUp",function(cn){u.isStartDraging=!1,u.isStopPropagation&&cn.stopPropagation(),Promise.resolve().then(function(){var pn,er,$n;Vl.removeEventListener("mousemove",u.handleMouseMove,!1),Vl.removeEventListener("mouseup",u.handleMouseUp,!1);var Or=(pn=u.model)===null||pn===void 0?void 0:pn.getData();(er=u.eventCenter)===null||er===void 0||er.emit(Lt["".concat(u.eventType,"_MOUSEUP")],{e:cn,data:Or}),u.isDraging&&(u.isDraging=!1,u.onDragEnd({event:cn}),($n=u.eventCenter)===null||$n===void 0||$n.emit(Lt["".concat(u.eventType,"_DROP")],{e:cn,data:Or}))})}),pi(this,"cancelDrag",function(){Vl.removeEventListener("mousemove",u.handleMouseMove,!1),Vl.removeEventListener("mouseup",u.handleMouseUp,!1),u.onDragEnd({event:null}),u.isDraging=!1}),this.onDragStart=g,this.onDraging=C,this.onDragEnd=U,this.step=gt,this.isStopPropagation=Nt,this.eventType=ce,this.eventCenter=ke,this.model=Tn}return AQ(l,[{key:"setStep",value:function(u){this.step=u}}]),l}(),PQ=function(c){return!c||typeof c=="boolean"?qo(c===!0?PJ:XR):kR(qo(XR),c)},jt,VI,HI,GI,WI,KI,XI,YI,ZI,JI,QI,qI,eD;function tD(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function kE(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?tD(Object(u),!0).forEach(function(p){Hl(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):tD(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function TC(l,c){return NQ(l)||MQ(l,c)||nD(l,c)||xQ()}function xQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MQ(l,c){var u=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(u!=null){var p=[],g=!0,w=!1,C,I;try{for(u=u.call(l);!(g=(C=u.next()).done)&&(p.push(C.value),!(c&&p.length===c));g=!0);}catch(U){w=!0,I=U}finally{try{!g&&u.return!=null&&u.return()}finally{if(w)throw I}}return p}}function NQ(l){if(Array.isArray(l))return l}function Zp(l){return DQ(l)||IQ(l)||nD(l)||RQ()}function RQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nD(l,c){if(!!l){if(typeof l=="string")return CC(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return CC(l,c)}}function IQ(l){if(typeof Symbol<"u"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}function DQ(l){if(Array.isArray(l))return CC(l)}function CC(l,c){(c==null||c>l.length)&&(c=l.length);for(var u=0,p=new Array(c);u<c;u++)p[u]=l[u];return p}function Gm(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gm=function(u){return typeof u}:Gm=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},Gm(l)}function bs(l,c,u,p){!u||Object.defineProperty(l,c,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(p):void 0})}function kQ(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function rD(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function LQ(l,c,u){return c&&rD(l.prototype,c),u&&rD(l,u),l}function Hl(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}function yr(l,c,u,p,g){var w={};return Object.keys(p).forEach(function(C){w[C]=p[C]}),w.enumerable=!!w.enumerable,w.configurable=!!w.configurable,("value"in w||w.initializer)&&(w.writable=!0),w=u.slice().reverse().reduce(function(C,I){return I(l,c,C)||C},w),g&&w.initializer!==void 0&&(w.value=w.initializer?w.initializer.call(g):void 0,w.initializer=void 0),w.initializer===void 0&&(Object.defineProperty(l,c,w),w=null),w}var LE=200,oD=(jt=function(){function l(c){kQ(this,l),Hl(this,"rootEl",void 0),bs(this,"width",VI,this),bs(this,"height",HI,this),Hl(this,"theme",void 0),Hl(this,"eventCenter",void 0),Hl(this,"modelMap",new Map),Hl(this,"topElement",void 0),Hl(this,"animation",void 0),Hl(this,"idGenerator",void 0),Hl(this,"edgeGenerator",void 0),Hl(this,"nodeMoveRules",[]),bs(this,"edgeType",GI,this),bs(this,"nodes",WI,this),bs(this,"edges",KI,this),bs(this,"overlapMode",XI,this),bs(this,"background",YI,this),bs(this,"transformModel",ZI,this),bs(this,"editConfigModel",JI,this),bs(this,"gridSize",QI,this),bs(this,"partial",qI,this),bs(this,"fakerNode",eD,this);var u=c.container,p=c.background,g=p===void 0?{}:p,w=c.grid,C=c.idGenerator,I=c.edgeGenerator,U=c.animation;this.background=g,Gm(w)==="object"&&(this.gridSize=w.size),this.rootEl=u,this.editConfigModel=new Zt(c),this.eventCenter=new sJ,this.transformModel=new Tr(this.eventCenter),this.theme=LR(c.style),this.edgeType=c.edgeType||"polyline",this.width=c.width,this.height=c.height,this.animation=PQ(U),this.partial=c.partial,this.overlapMode=c.overlapMode||0,this.idGenerator=C,this.edgeGenerator=_Q(this,I),this.width=c.width||this.rootEl.getBoundingClientRect().width,this.height=c.height||this.rootEl.getBoundingClientRect().height}return LQ(l,[{key:"nodesMap",get:function(){return this.nodes.reduce(function(u,p,g){return u[p.id]={index:g,model:p},u},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(u,p,g){return u[p.id]={index:g,model:p},u},{})}},{key:"modelsMap",get:function(){return[].concat(Zp(this.nodes),Zp(this.edges)).reduce(function(u,p){return u[p.id]=p,u},{})}},{key:"sortElements",get:function(){var u=[];this.nodes.forEach(function(ce){return u.push(ce)}),this.edges.forEach(function(ce){return u.push(ce)}),u=u.sort(function(ce,ge){return ce.zIndex-ge.zIndex});for(var p=[],g=-1,w=[-LE,-LE],C=[this.width+LE,this.height+LE],I=0;I<u.length;I++){var U=u[I];U.visible&&(!this.partial||U.isSelected||this.isElementInArea(U,w,C,!1,!1))&&(U.zIndex===dr&&(g=p.length),p.push(U))}if(g!==-1){var q=p[p.length-1];p[p.length-1]=p[g],p[g]=q}return p}},{key:"textEditElement",get:function(){var u=this.nodes.find(function(g){return g.state===sn.TEXT_EDIT}),p=this.edges.find(function(g){return g.state===sn.TEXT_EDIT});return u||p}},{key:"selectElements",get:function(){var u=new Map;return this.nodes.forEach(function(p){p.isSelected&&u.set(p.id,p)}),this.edges.forEach(function(p){p.isSelected&&u.set(p.id,p)}),u}},{key:"getAreaElement",value:function(u,p){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,I=[],U=[];this.nodes.forEach(function(ge){return U.push(ge)}),this.edges.forEach(function(ge){return U.push(ge)});for(var q=0;q<U.length;q++){var ce=U[q];(!C||ce.visible)&&this.isElementInArea(ce,u,p,g,w)&&I.push(ce)}return I}},{key:"getModel",value:function(u){return this.modelMap.get(u)}},{key:"getNodeModelById",value:function(u){var p;return this.fakerNode&&u===this.fakerNode.id?this.fakerNode:(p=this.nodesMap[u])===null||p===void 0?void 0:p.model}},{key:"getPointByClient",value:function(u){var p=u.x,g=u.y,w=this.rootEl.getBoundingClientRect(),C={x:p-w.left,y:g-w.top},I=this.transformModel.HtmlPointToCanvasPoint([C.x,C.y]),U=TC(I,2),q=U[0],ce=U[1];return{domOverlayPosition:C,canvasOverlayPosition:{x:q,y:ce}}}},{key:"isElementInArea",value:function(u,p,g){var w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(u.BaseType===$t.NODE){u=u;for(var I=Xa(u),U=I.minX,q=I.minY,ce=I.maxX,ge=I.maxY,ke=[{x:U,y:q},{x:ce,y:q},{x:ce,y:ge},{x:U,y:ge}],Ge=C,gt=0;gt<ke.length;gt++){var Mt=ke[gt],Nt=Mt.x,It=Mt.y,Tn=this.transformModel.CanvasPointToHtmlPoint([Nt,It]),cn=TC(Tn,2);if(Nt=cn[0],It=cn[1],iC([Nt,It],p,g)!==C){Ge=!C;break}}return Ge}if(u.BaseType===$t.EDGE){u=u;var pn=u,er=pn.startPoint,$n=pn.endPoint,Or=this.transformModel.CanvasPointToHtmlPoint([er.x,er.y]),tr=this.transformModel.CanvasPointToHtmlPoint([$n.x,$n.y]),eo=iC(Or,p,g),io=iC(tr,p,g);return w?eo&&io:eo||io}return!1}},{key:"graphDataToModel",value:function(u){var p=this;(!this.width||!this.height)&&this.resize(),this.nodes=Bu(u.nodes,function(g){var w=p.getModel(g.type);if(!w)throw new Error("\u627E\u4E0D\u5230".concat(g.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var C=g.x,I=g.y;return C&&I&&(g.x=yf(C,p.gridSize),g.y=yf(I,p.gridSize),Gm(g.text)==="object"&&(g.text.x-=BR(C,p.gridSize),g.text.y-=BR(I,p.gridSize))),new w(g,p)}),this.edges=Bu(u.edges,function(g){var w=p.getModel(g.type);if(!w)throw new Error("\u627E\u4E0D\u5230".concat(g.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new w(g,p)})}},{key:"modelToGraphData",value:function(){var u=[];this.edges.forEach(function(g){var w=g.getData();w&&!g.virtual&&u.push(w)});var p=[];return this.nodes.forEach(function(g){var w=g.getData();w&&!g.virtual&&p.push(w)}),{nodes:p,edges:u}}},{key:"modelToHistoryData",value:function(){for(var u=!1,p=[],g=0;g<this.nodes.length;g++){var w=this.nodes[g];if(w.isDragging){u=!0;break}else p.push(w.getHistoryData())}if(u)return!1;for(var C=!1,I=[],U=0;U<this.edges.length;U++){var q=this.edges[U];if(q.isDragging){C=!0;break}else I.push(q.getHistoryData())}return C?!1:{nodes:p,edges:I}}},{key:"getEdgeModelById",value:function(u){var p;return(p=this.edgesMap[u])===null||p===void 0?void 0:p.model}},{key:"getElement",value:function(u){return this.modelsMap[u]}},{key:"getNodeEdges",value:function(u){for(var p=[],g=0;g<this.edges.length;g++){var w=this.edges[g],C=this.edges[g].sourceNodeId===u,I=this.edges[g].targetNodeId===u;(C||I)&&p.push(w)}return p}},{key:"getSelectElements",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,p=this.selectElements,g={nodes:[],edges:[]};return p.forEach(function(w){if(w.BaseType===$t.NODE&&g.nodes.push(w.getData()),w.BaseType===$t.EDGE){var C=w.getData(),I=p.get(C.sourceNodeId)&&p.get(C.targetNodeId);(u||I)&&g.edges.push(C)}}),g}},{key:"updateAttributes",value:function(u,p){var g=this.getElement(u);g.updateAttributes(p)}},{key:"changeNodeId",value:function(u,p){return p||(p=Wd()),this.nodesMap[p]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(p,", \u4FEE\u6539\u5931\u8D25")),""):this.nodesMap[u]?(this.edges.forEach(function(g){g.sourceNodeId===u&&(g.sourceNodeId=p),g.targetNodeId===u&&(g.targetNodeId=p)}),this.nodesMap[u].model.id=p,p):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(p,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"changeEdgeId",value:function(u,p){return p||(p=Wd()),this.edgesMap[p]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FB9: ".concat(p,", \u4FEE\u6539\u5931\u8D25")),""):this.edgesMap[u]?(this.edges.forEach(function(g){g.id===u&&g.changeEdgeId(p)}),p):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FB9: ".concat(p,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"setFakerNode",value:function(u){this.fakerNode=u}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(u,p){return this.modelMap.set(u,p)}},{key:"toFront",value:function(u){var p,g,w=((p=this.nodesMap[u])===null||p===void 0?void 0:p.model)||((g=this.edgesMap[u])===null||g===void 0?void 0:g.model);if(w){if(this.overlapMode===hn.DEFAULT){var C;(C=this.topElement)===null||C===void 0||C.setZIndex(),w.setZIndex(dr),this.topElement=w}this.overlapMode===hn.INCREASE&&this.setElementZIndex(u,"top")}}},{key:"setElementZIndex",value:function(u,p){var g,w,C=((g=this.nodesMap[u])===null||g===void 0?void 0:g.model)||((w=this.edgesMap[u])===null||w===void 0?void 0:w.model);if(C){var I;typeof p=="number"&&(I=p),p==="top"&&(I=fC()),p==="bottom"&&(I=RJ()),C.setZIndex(I)}}},{key:"deleteNode",value:function(u){var p=this.nodesMap[u].model.getData();this.deleteEdgeBySource(u),this.deleteEdgeByTarget(u),this.nodes.splice(this.nodesMap[u].index,1),this.eventCenter.emit(Lt.NODE_DELETE,{data:p})}},{key:"addNode",value:function(u){var p=Ji(u);p.id&&this.nodesMap[u.id]&&delete p.id;var g=this.getModel(p.type);if(!g)throw new Error("\u627E\u4E0D\u5230".concat(p.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));p.x=yf(p.x,this.gridSize),p.y=yf(p.y,this.gridSize);var w=new g(p,this);this.nodes.push(w);var C=w.getData();return this.eventCenter.emit(Lt.NODE_ADD,{data:C}),w}},{key:"cloneNode",value:function(u){var p=this.getNodeModelById(u),g=p.getData();g.x+=30,g.y+=30,delete g.id,g.text&&(g.text.x+=30,g.text.y+=30);var w=this.addNode(g);return w.setSelected(!0),p.setSelected(!1),w.getData()}},{key:"moveNode",value:function(u,p,g){var w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,C=this.nodesMap[u];if(!C){console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(u,"\u7684\u8282\u70B9"));return}var I=C.model,U=I.getMoveDistance(p,g,w),q=TC(U,2);p=q[0],g=q[1],this.moveEdge(u,p,g)}},{key:"moveNode2Coordinate",value:function(u,p,g){var w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,C=this.nodesMap[u];if(!C){console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(u,"\u7684\u8282\u70B9"));return}var I=C.model,U=I.x,q=I.y,ce=p-U,ge=g-q;this.moveNode(u,ce,ge,w)}},{key:"editText",value:function(u){this.setElementStateById(u,sn.TEXT_EDIT)}},{key:"addEdge",value:function(u){var p=Ji(u),g=p.type;g||(g=this.edgeType),p.id&&this.edgesMap[p.id]&&delete p.id;var w=this.getModel(g);if(!w)throw new Error("\u627E\u4E0D\u5230".concat(g,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var C=new w(kE(kE({},p),{},{type:g}),this),I=C.getData();return this.edges.push(C),this.eventCenter.emit(Lt.EDGE_ADD,{data:I}),C}},{key:"moveEdge",value:function(u,p,g){for(var w=0;w<this.edges.length;w++){var C=this.edges[w],I=C.textPosition,U=I.x,q=I.y,ce=this.edges[w].sourceNodeId===u,ge=this.edges[w].targetNodeId===u;if(ce&&C.moveStartPoint(p,g),ge&&C.moveEndPoint(p,g),ce||ge){var ke;if(C.customTextPosition===!0)C.resetTextPosition();else if(C.modelType===Vt.POLYLINE_EDGE&&(ke=C.text)!==null&&ke!==void 0&&ke.value){var Ge=C.text,gt=jI(Ge,C.points);C.moveText(gt.x-Ge.x,gt.y-Ge.y)}else{var Mt=C.textPosition,Nt=Mt.x,It=Mt.y;C.moveText(Nt-U,It-q)}}}}},{key:"deleteEdgeBySourceAndTarget",value:function(u,p){for(var g=0;g<this.edges.length;g++)if(this.edges[g].sourceNodeId===u&&this.edges[g].targetNodeId===p){var w=this.edges[g].getData();this.edges.splice(g,1),g--,this.eventCenter.emit(Lt.EDGE_DELETE,{data:w})}}},{key:"deleteEdgeById",value:function(u){var p=this.edgesMap[u];if(!!p){var g=this.edgesMap[u].index,w=this.edgesMap[u].model.getData();this.edges.splice(g,1),this.eventCenter.emit(Lt.EDGE_DELETE,{data:w})}}},{key:"deleteEdgeBySource",value:function(u){for(var p=0;p<this.edges.length;p++)if(this.edges[p].sourceNodeId===u){var g=this.edges[p].getData();this.edges.splice(p,1),p--,this.eventCenter.emit(Lt.EDGE_DELETE,{data:g})}}},{key:"deleteEdgeByTarget",value:function(u){for(var p=0;p<this.edges.length;p++)if(this.edges[p].targetNodeId===u){var g=this.edges[p].getData();this.edges.splice(p,1),p--,this.eventCenter.emit(Lt.EDGE_DELETE,{data:g})}}},{key:"setElementStateById",value:function(u,p,g){this.nodes.forEach(function(w){w.id===u?w.setElementState(p,g):w.setElementState(sn.DEFAULT)}),this.edges.forEach(function(w){w.id===u?w.setElementState(p,g):w.setElementState(sn.DEFAULT)})}},{key:"updateText",value:function(u,p){this.nodes.forEach(function(g){g.id===u&&g.updateText(p)}),this.edges.forEach(function(g){g.id===u&&g.updateText(p)})}},{key:"selectNodeById",value:function(u){var p,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;g||this.clearSelectElements();var w=(p=this.nodesMap[u])===null||p===void 0?void 0:p.model;w==null||w.setSelected(!0)}},{key:"selectEdgeById",value:function(u){var p,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;g||this.clearSelectElements();var w=(p=this.edgesMap[u])===null||p===void 0?void 0:p.model;w==null||w.setSelected(!0)}},{key:"selectElementById",value:function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;p||this.clearSelectElements();var g=this.getElement(u);g==null||g.setSelected(!0)}},{key:"clearSelectElements",value:function(){if(this.selectElements.forEach(function(p){p==null||p.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===hn.DEFAULT){var u;(u=this.topElement)===null||u===void 0||u.setZIndex()}}},{key:"moveNodes",value:function(u,p,g){var w=this,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;u.forEach(function(I){return w.moveNode(I,p,g,C)})}},{key:"addNodeMoveRules",value:function(u){this.nodeMoveRules.includes(u)||this.nodeMoveRules.push(u)}},{key:"setDefaultEdgeType",value:function(u){this.edgeType=u}},{key:"changeNodeType",value:function(u,p){var g=this.getNodeModelById(u);if(!g){console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(u,"\u7684\u8282\u70B9"));return}var w=g.getData();w.type=p;var C=this.getModel(p);if(!C)throw new Error("\u627E\u4E0D\u5230".concat(p,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var I=new C(w,this);this.nodes.splice(this.nodesMap[u].index,1,I);var U=this.getNodeEdges(u);U.forEach(function(q){if(q.sourceNodeId===u){var ce=WR(I,q.startPoint,I.width,I.height);q.updateStartPoint(ce)}if(q.targetNodeId===u){var ge=WR(I,q.endPoint,I.width,I.height);q.updateEndPoint(ge)}})}},{key:"changeEdgeType",value:function(u,p){var g=this.getEdgeModelById(u);if(!g){console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(u,"\u7684\u8FB9"));return}if(g.type!==p){var w=g.getData();w.type=p;var C=this.getModel(p);if(!C)throw new Error("\u627E\u4E0D\u5230".concat(p,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete w.pointsList;var I=new C(w,this);this.edges.splice(this.edgesMap[u].index,1,I)}}},{key:"getNodeIncomingEdge",value:function(u){var p=[];return this.edges.forEach(function(g){g.targetNodeId===u&&p.push(g)}),p}},{key:"getNodeOutgoingEdge",value:function(u){var p=[];return this.edges.forEach(function(g){g.sourceNodeId===u&&p.push(g)}),p}},{key:"getNodeIncomingNode",value:function(u){var p=this,g=[];return this.edges.forEach(function(w){w.targetNodeId===u&&g.push(p.nodesMap[w.sourceNodeId].model)}),g}},{key:"getNodeOutgoingNode",value:function(u){var p=this,g=[];return this.edges.forEach(function(w){w.sourceNodeId===u&&g.push(p.nodesMap[w.targetNodeId].model)}),g}},{key:"setTheme",value:function(u){this.theme=LR(kE(kE({},this.theme),u))}},{key:"resize",value:function(u,p){this.width=u||this.rootEl.getBoundingClientRect().width,this.height=p||this.rootEl.getBoundingClientRect().height,(!this.width||!this.height)&&console.warn("\u6E32\u67D3\u753B\u5E03\u7684\u65F6\u5019\u65E0\u6CD5\u83B7\u53D6\u753B\u5E03\u5BBD\u9AD8\uFF0C\u8BF7\u786E\u8BA4\u5728container\u5DF2\u6302\u8F7D\u5230DOM\u3002@see https://github.com/didi/LogicFlow/issues/675")}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var u=this.nodes,p=[],g=[];u.forEach(function(Ge){var gt=Ge.x,Mt=Ge.y,Nt=Ge.width,It=Ge.height,Tn=Ge.getNodeStyle(),cn=Tn.strokeWidth,pn=cn===void 0?0:cn;p=p.concat([gt+Nt/2+pn,gt-Nt/2-pn]),g=g.concat([Mt+It/2+pn,Mt-It/2-pn])});var w=Math.min.apply(Math,Zp(p)),C=Math.max.apply(Math,Zp(p)),I=Math.min.apply(Math,Zp(g)),U=Math.max.apply(Math,Zp(g)),q=C-w||0,ce=U-I||0,ge=w+q/2,ke=I+ce/2;return{virtualRectWidth:q,virtualRectHeight:ce,virtualRectCenterPositionX:ge,virtualRectCenterPositionY:ke}}},{key:"translateCenter",value:function(){var u=this.nodes,p=this.width,g=this.height,w=this.rootEl,C=this.transformModel;if(!!u.length){var I=p||w.clientWidth,U=g||w.clientHeight,q=this.getVirtualRectSize(),ce=q.virtualRectCenterPositionX,ge=q.virtualRectCenterPositionY;C.focusOn(ce,ge,I,U)}}},{key:"fitView",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,g=this.nodes,w=this.width,C=this.height,I=this.rootEl,U=this.transformModel;if(!!g.length){var q=w||I.clientWidth,ce=C||I.clientHeight,ge=this.getVirtualRectSize(),ke=ge.virtualRectWidth,Ge=ge.virtualRectHeight,gt=ge.virtualRectCenterPositionX,Mt=ge.virtualRectCenterPositionY,Nt=(ke+p)/q,It=(Ge+u)/ce,Tn=0;Tn=1/Math.max(Nt,It);var cn=[q/2,ce/2];U.zoom(Tn,cn),U.focusOn(gt,Mt,q,ce)}}},{key:"openEdgeAnimation",value:function(u){var p=this.getEdgeModelById(u);p.openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(u){var p=this.getEdgeModelById(u);p.closeEdgeAnimation()}}]),l}(),VI=yr(jt.prototype,"width",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),HI=yr(jt.prototype,"height",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),GI=yr(jt.prototype,"edgeType",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),WI=yr(jt.prototype,"nodes",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),KI=yr(jt.prototype,"edges",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),XI=yr(jt.prototype,"overlapMode",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hn.DEFAULT}}),YI=yr(jt.prototype,"background",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ZI=yr(jt.prototype,"transformModel",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),JI=yr(jt.prototype,"editConfigModel",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),QI=yr(jt.prototype,"gridSize",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),qI=yr(jt.prototype,"partial",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),eD=yr(jt.prototype,"fakerNode",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yr(jt.prototype,"nodesMap",[a.m],Object.getOwnPropertyDescriptor(jt.prototype,"nodesMap"),jt.prototype),yr(jt.prototype,"edgesMap",[a.m],Object.getOwnPropertyDescriptor(jt.prototype,"edgesMap"),jt.prototype),yr(jt.prototype,"modelsMap",[a.m],Object.getOwnPropertyDescriptor(jt.prototype,"modelsMap"),jt.prototype),yr(jt.prototype,"sortElements",[a.m],Object.getOwnPropertyDescriptor(jt.prototype,"sortElements"),jt.prototype),yr(jt.prototype,"textEditElement",[a.m],Object.getOwnPropertyDescriptor(jt.prototype,"textEditElement"),jt.prototype),yr(jt.prototype,"selectElements",[a.m],Object.getOwnPropertyDescriptor(jt.prototype,"selectElements"),jt.prototype),yr(jt.prototype,"setFakerNode",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"setFakerNode"),jt.prototype),yr(jt.prototype,"removeFakerNode",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"removeFakerNode"),jt.prototype),yr(jt.prototype,"setModel",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"setModel"),jt.prototype),yr(jt.prototype,"toFront",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"toFront"),jt.prototype),yr(jt.prototype,"setElementZIndex",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"setElementZIndex"),jt.prototype),yr(jt.prototype,"deleteNode",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"deleteNode"),jt.prototype),yr(jt.prototype,"addNode",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"addNode"),jt.prototype),yr(jt.prototype,"cloneNode",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"cloneNode"),jt.prototype),yr(jt.prototype,"moveNode",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"moveNode"),jt.prototype),yr(jt.prototype,"moveNode2Coordinate",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"moveNode2Coordinate"),jt.prototype),yr(jt.prototype,"editText",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"editText"),jt.prototype),yr(jt.prototype,"addEdge",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"addEdge"),jt.prototype),yr(jt.prototype,"moveEdge",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"moveEdge"),jt.prototype),yr(jt.prototype,"deleteEdgeBySourceAndTarget",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"deleteEdgeBySourceAndTarget"),jt.prototype),yr(jt.prototype,"deleteEdgeById",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"deleteEdgeById"),jt.prototype),yr(jt.prototype,"deleteEdgeBySource",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"deleteEdgeBySource"),jt.prototype),yr(jt.prototype,"deleteEdgeByTarget",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"deleteEdgeByTarget"),jt.prototype),yr(jt.prototype,"setElementStateById",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"setElementStateById"),jt.prototype),yr(jt.prototype,"updateText",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"updateText"),jt.prototype),yr(jt.prototype,"selectNodeById",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"selectNodeById"),jt.prototype),yr(jt.prototype,"selectEdgeById",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"selectEdgeById"),jt.prototype),yr(jt.prototype,"selectElementById",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"selectElementById"),jt.prototype),yr(jt.prototype,"clearSelectElements",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"clearSelectElements"),jt.prototype),yr(jt.prototype,"moveNodes",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"moveNodes"),jt.prototype),yr(jt.prototype,"setDefaultEdgeType",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"setDefaultEdgeType"),jt.prototype),yr(jt.prototype,"changeNodeType",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"changeNodeType"),jt.prototype),yr(jt.prototype,"changeEdgeType",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"changeEdgeType"),jt.prototype),yr(jt.prototype,"getNodeIncomingEdge",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"getNodeIncomingEdge"),jt.prototype),yr(jt.prototype,"getNodeOutgoingEdge",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"getNodeOutgoingEdge"),jt.prototype),yr(jt.prototype,"getNodeIncomingNode",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"getNodeIncomingNode"),jt.prototype),yr(jt.prototype,"getNodeOutgoingNode",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"getNodeOutgoingNode"),jt.prototype),yr(jt.prototype,"setTheme",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"setTheme"),jt.prototype),yr(jt.prototype,"resize",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"resize"),jt.prototype),yr(jt.prototype,"clearData",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"clearData"),jt.prototype),yr(jt.prototype,"translateCenter",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"translateCenter"),jt.prototype),yr(jt.prototype,"fitView",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"fitView"),jt.prototype),yr(jt.prototype,"openEdgeAnimation",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"openEdgeAnimation"),jt.prototype),yr(jt.prototype,"closeEdgeAnimation",[a.k],Object.getOwnPropertyDescriptor(jt.prototype,"closeEdgeAnimation"),jt.prototype),jt),$Q=oD;function $E(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$E=function(u){return typeof u}:$E=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},$E(l)}var iD;function AC(){return AC=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p])}return l},AC.apply(this,arguments)}function BQ(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function aD(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function jQ(l,c,u){return c&&aD(l.prototype,c),u&&aD(l,u),l}function FQ(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&PC(l,c)}function PC(l,c){return PC=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},PC(l,c)}function zQ(l){var c=VQ();return function(){var p=BE(l),g;if(c){var w=BE(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return UQ(this,g)}}function UQ(l,c){if(c&&($E(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gl(l)}function Gl(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function VQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function BE(l){return BE=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},BE(l)}function Vu(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}var HQ=il(iD=function(l){FQ(u,l);var c=zQ(u);function u(p){var g;BQ(this,u),g=c.call(this),Vu(Gl(g),"stepDrag",void 0),Vu(Gl(g),"stepScrollX",0),Vu(Gl(g),"stepScrollY",0),Vu(Gl(g),"onDraging",function(U){var q=U.deltaX,ce=U.deltaY;g.setState({isDraging:!0});var ge=g.props.graphModel,ke=ge.transformModel,Ge=ge.editConfigModel;Ge.stopMoveGraph||ke.translate(q,ce)}),Vu(Gl(g),"onDragEnd",function(){g.setState({isDraging:!1})}),Vu(Gl(g),"zoomHandler",function(U){var q=g.props,ce=q.graphModel,ge=ce.editConfigModel,ke=ce.transformModel,Ge=ce.gridSize,gt=q.graphModel,Mt=U.deltaX,Nt=U.deltaY;if(!ge.stopScrollGraph&&U.ctrlKey!==!0){if(U.preventDefault(),g.stepScrollX+=Mt,g.stepScrollY+=Nt,Math.abs(g.stepScrollX)>=Ge){var It=g.stepScrollX%Ge,Tn=g.stepScrollX-It;ke.translate(-Tn*ke.SCALE_X,0),g.stepScrollX=It}if(Math.abs(g.stepScrollY)>=Ge){var cn=g.stepScrollY%Ge,pn=g.stepScrollY-cn;ke.translate(0,-pn*ke.SCALE_Y),g.stepScrollY=cn}return}if(!ge.stopZoomGraph){U.preventDefault();var er=gt.getPointByClient({x:U.clientX,y:U.clientY}),$n=er.canvasOverlayPosition,Or=$n.x,tr=$n.y;ke.zoom(U.deltaY<0,[Or,tr])}}),Vu(Gl(g),"clickHandler",function(U){var q=U.target;if(q.getAttribute("name")==="canvas-overlay"){var ce=g.props.graphModel,ge=ce.selectElements;ge.size>0&&ce.clearSelectElements(),ce.eventCenter.emit(Lt.BLANK_CLICK,{e:U})}}),Vu(Gl(g),"handleContextMenu",function(U){var q=U.target;if(q.getAttribute("name")==="canvas-overlay"){U.preventDefault();var ce=g.props.graphModel,ge=ce.getPointByClient({x:U.clientX,y:U.clientY});ce.eventCenter.emit(Lt.BLANK_CONTEXTMENU,{e:U,position:ge})}}),Vu(Gl(g),"mouseDownHandler",function(U){var q=g.props.graphModel,ce=q.eventCenter,ge=q.editConfigModel,ke=q.transformModel.SCALE_X,Ge=q.gridSize,gt=U.target,Mt=!ge.adjustEdge&&!ge.adjustNodePosition;(gt.getAttribute("name")==="canvas-overlay"||Mt)&&(ge.stopMoveGraph?ce.emit(Lt.BLANK_MOUSEDOWN,{e:U}):(g.stepDrag.setStep(Ge*ke),g.stepDrag.handleMouseDown(U)),g.clickHandler(U))});var w=p.graphModel,C=w.gridSize,I=w.eventCenter;return g.stepDrag=new Kd({onDraging:g.onDraging,onDragEnd:g.onDragEnd,step:C,eventType:"BLANK",isStopPropagation:!1,eventCenter:I,model:null}),g.state={isDraging:!1},g}return jQ(u,[{key:"render",value:function(){var g=this.props.graphModel.transformModel,w=g.getTransformStyle(),C=w.transform,I=this.props,U=I.children,q=I.dnd,ce=this.state.isDraging;return Object(Oe.g)("svg",AC({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:ce?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},q.eventMap()),Object(Oe.g)("g",{transform:C},U))}}]),u}(Oe.a))||iD,GQ=HQ;function jE(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jE=function(u){return typeof u}:jE=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},jE(l)}var sD;function WQ(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function lD(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function KQ(l,c,u){return c&&lD(l.prototype,c),u&&lD(l,u),l}function XQ(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&xC(l,c)}function xC(l,c){return xC=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},xC(l,c)}function YQ(l){var c=JQ();return function(){var p=FE(l),g;if(c){var w=FE(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return ZQ(this,g)}}function ZQ(l,c){if(c&&(jE(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uD(l)}function uD(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function JQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function FE(l){return FE=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},FE(l)}function QQ(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}var qQ=il(sD=function(l){XQ(u,l);var c=YQ(u);function u(){var p;WQ(this,u);for(var g=arguments.length,w=new Array(g),C=0;C<g;C++)w[C]=arguments[C];return p=c.call.apply(c,[this].concat(w)),QQ(uD(p),"setToolOverlayRef",function(I){var U=p.props.tool,q=U.getInstance();q.components.forEach(function(ce){return ce(q,I)}),q.components=[]}),p}return KQ(u,[{key:"getTools",value:function(){var g=this.props,w=g.tool,C=g.graphModel,I=w.getTools(),U=I.map(function(q){return Object(Oe.g)(q,{graphModel:C,logicFlow:w.instance})});return w.components=U,U}},{key:"render",value:function(){return Object(Oe.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}]),u}(Oe.a))||sD;function zE(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zE=function(u){return typeof u}:zE=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},zE(l)}function eq(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function cD(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function tq(l,c,u){return c&&cD(l.prototype,c),u&&cD(l,u),l}function nq(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&MC(l,c)}function MC(l,c){return MC=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},MC(l,c)}function rq(l){var c=aq();return function(){var p=UE(l),g;if(c){var w=UE(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return oq(this,g)}}function oq(l,c){if(c&&(zE(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iq(l)}function iq(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function aq(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function UE(l){return UE=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},UE(l)}var sq=function(l){nq(u,l);var c=rq(u);function u(){return eq(this,u),c.apply(this,arguments)}return tq(u,[{key:"render",value:function(){var g=this.props.background;return Object(Oe.g)("div",{className:"lf-background"},Object(Oe.g)("div",{style:g,className:"lf-background-area"}))}}]),u}(Oe.a);function VE(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?VE=function(u){return typeof u}:VE=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},VE(l)}var fD;function lq(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function dD(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function uq(l,c,u){return c&&dD(l.prototype,c),u&&dD(l,u),l}function cq(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&NC(l,c)}function NC(l,c){return NC=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},NC(l,c)}function fq(l){var c=hq();return function(){var p=HE(l),g;if(c){var w=HE(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return dq(this,g)}}function dq(l,c){if(c&&(VE(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hD(l)}function hD(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function hq(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function HE(l){return HE=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},HE(l)}function pq(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}var pD=il(fD=function(l){cq(u,l);var c=fq(u);function u(){var p;lq(this,u);for(var g=arguments.length,w=new Array(g),C=0;C<g;C++)w[C]=arguments[C];return p=c.call.apply(c,[this].concat(w)),pq(hD(p),"id",Wd()),p}return uq(u,[{key:"renderDot",value:function(){var g=this.props,w=g.config,C=w.color,I=w.thickness,U=I===void 0?2:I,q=g.size,ce=g.visible,ge=Math.min(Math.max(2,U),q/2),ke=1;return ce||(ke=0),Object(Oe.g)("rect",{width:ge,height:ge,rx:ge/2,ry:ge/2,fill:C,opacity:ke})}},{key:"renderMesh",value:function(){var g=this.props,w=g.config,C=w.color,I=w.thickness,U=I===void 0?1:I,q=g.size,ce=g.visible,ge=Math.min(Math.max(1,U),q/2),ke="M ".concat(q," 0 H0 M0 0 V0 ").concat(q),Ge=1;return ce||(Ge=0),Object(Oe.g)("path",{d:ke,stroke:C,strokeWidth:ge,opacity:Ge})}},{key:"render",value:function(){var g=this.props,w=g.type,C=g.size,I=g.graphModel.transformModel,U=I.SCALE_X,q=I.SKEW_Y,ce=I.SKEW_X,ge=I.SCALE_Y,ke=I.TRANSLATE_X,Ge=I.TRANSLATE_Y,gt=[U,q,ce,ge,ke,Ge].join(","),Mt="matrix(".concat(gt,")");return Object(Oe.g)("div",{className:"lf-grid"},Object(Oe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(Oe.g)("defs",null,Object(Oe.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:Mt,x:"0",y:"0",width:C,height:C},w==="dot"&&this.renderDot(),w==="mesh"&&this.renderMesh())),Object(Oe.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}]),u}(Oe.a))||fD;pD.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},o(52);function GE(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?GE=function(u){return typeof u}:GE=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},GE(l)}function vq(l,c){return bq(l)||gq(l,c)||mq(l,c)||yq()}function yq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mq(l,c){if(!!l){if(typeof l=="string")return vD(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return vD(l,c)}}function vD(l,c){(c==null||c>l.length)&&(c=l.length);for(var u=0,p=new Array(c);u<c;u++)p[u]=l[u];return p}function gq(l,c){var u=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(u!=null){var p=[],g=!0,w=!1,C,I;try{for(u=u.call(l);!(g=(C=u.next()).done)&&(p.push(C.value),!(c&&p.length===c));g=!0);}catch(U){w=!0,I=U}finally{try{!g&&u.return!=null&&u.return()}finally{if(w)throw I}}return p}}function bq(l){if(Array.isArray(l))return l}function Eq(l){var c={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(l).forEach(function(u){var p=vq(u,2),g=p[0],w=p[1];if(g==="style")c[g]=w;else{var C=GE(w);C!=="object"&&(c[g]=w)}}),Object(Oe.g)("line",c)}var Xd=Eq;function WE(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?WE=function(u){return typeof u}:WE=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},WE(l)}var yD;function mD(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function KE(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?mD(Object(u),!0).forEach(function(p){Sq(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):mD(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function Sq(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}function wq(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function gD(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function Oq(l,c,u){return c&&gD(l.prototype,c),u&&gD(l,u),l}function _q(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&RC(l,c)}function RC(l,c){return RC=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},RC(l,c)}function Tq(l){var c=Pq();return function(){var p=XE(l),g;if(c){var w=XE(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return Cq(this,g)}}function Cq(l,c){if(c&&(WE(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aq(l)}function Aq(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function Pq(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function XE(l){return XE=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},XE(l)}var xq=il(yD=function(l){_q(u,l);var c=Tq(u);function u(){return wq(this,u),c.apply(this,arguments)}return Oq(u,[{key:"render",value:function(){var g=this.props.snaplineModel,w=g.position,C=g.isShowHorizontal,I=g.isShowVertical,U=g.getStyle(),q=w.x,ce=q===void 0?0:q,ge=w.y,ke=ge===void 0?0:ge,Ge=KE(KE({x1:-1e5,y1:ke,x2:1e5,y2:ke},U),{},{stroke:C?U.stroke:"none"}),gt=KE(KE({x1:ce,y1:-1e5,x2:ce,y2:1e5},U),{},{stroke:I?U.stroke:"none"});return Object(Oe.g)("g",{className:"lf-snapline"},Object(Oe.g)(Xd,Ge),Object(Oe.g)(Xd,gt))}}]),u}(Oe.a))||yD;function YE(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?YE=function(u){return typeof u}:YE=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},YE(l)}function Mq(l,c){return Dq(l)||Iq(l,c)||Rq(l,c)||Nq()}function Nq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rq(l,c){if(!!l){if(typeof l=="string")return bD(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return bD(l,c)}}function bD(l,c){(c==null||c>l.length)&&(c=l.length);for(var u=0,p=new Array(c);u<c;u++)p[u]=l[u];return p}function Iq(l,c){var u=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(u!=null){var p=[],g=!0,w=!1,C,I;try{for(u=u.call(l);!(g=(C=u.next()).done)&&(p.push(C.value),!(c&&p.length===c));g=!0);}catch(U){w=!0,I=U}finally{try{!g&&u.return!=null&&u.return()}finally{if(w)throw I}}return p}}function Dq(l){if(Array.isArray(l))return l}function bf(l){var c=l.x,u=l.y,p=l.width,g=l.height,w=l.className,C=l.radius,I=c-p/2,U=u-g/2,q={};return Object.entries(l).forEach(function(ce){var ge=Mq(ce,2),ke=ge[0],Ge=ge[1],gt=YE(Ge);gt!=="object"&&(q[ke]=Ge)}),w?q.className="lf-basic-shape ".concat(w):q.className="lf-basic-shape",C&&(q.rx=C,q.ry=C),q.x=I,q.y=U,Object(Oe.g)("rect",q)}bf.defaultProps={className:"",radius:""};function ZE(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ZE=function(u){return typeof u}:ZE=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},ZE(l)}var ED;function Jp(){return Jp=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p])}return l},Jp.apply(this,arguments)}function SD(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function wD(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?SD(Object(u),!0).forEach(function(p){kq(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):SD(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function kq(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}function Lq(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function OD(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function $q(l,c,u){return c&&OD(l.prototype,c),u&&OD(l,u),l}function Bq(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&IC(l,c)}function IC(l,c){return IC=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},IC(l,c)}function jq(l){var c=Uq();return function(){var p=JE(l),g;if(c){var w=JE(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return Fq(this,g)}}function Fq(l,c){if(c&&(ZE(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zq(l)}function zq(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function Uq(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function JE(l){return JE=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},JE(l)}var Vq=il(ED=function(l){Bq(u,l);var c=jq(u);function u(){return Lq(this,u),c.apply(this,arguments)}return $q(u,[{key:"getNodesOutline",value:function(){var g=this.props.graphModel,w=g.nodes,C=g.editConfigModel,I=C.hoverOutline,U=C.nodeSelectedOutline,q=[];return w.forEach(function(ce){if(ce.isHovered||ce.isSelected){var ge=ce.isHovered,ke=ce.isSelected,Ge=ce.x,gt=ce.y,Mt=ce.width,Nt=ce.height;if(U&&ke||I&&ge){var It=ce.getOutlineStyle(),Tn={};if(Object.keys(It).forEach(function(pn){pn!=="hover"&&(Tn[pn]=It[pn])}),ge){var cn=It.hover;Tn=wD(wD({},Tn),cn)}q.push(Object(Oe.g)(bf,Jp({className:"lf-outline-node",x:Ge,y:gt,width:Mt+10,height:Nt+10},Tn)))}}}),q}},{key:"getEdgeOutline",value:function(){for(var g=this.props.graphModel,w=g.edges,C=g.editConfigModel,I=C.edgeSelectedOutline,U=C.hoverOutline,q=[],ce=0;ce<w.length;ce++){var ge=w[ce];(I&&ge.isSelected||U&&ge.isHovered)&&(ge.modelType===Vt.LINE_EDGE?q.push(this.getLineOutline(ge)):ge.modelType===Vt.POLYLINE_EDGE?q.push(this.getPolylineOutline(ge)):ge.modelType===Vt.BEZIER_EDGE&&q.push(this.getBezierOutline(ge)))}return q}},{key:"getLineOutline",value:function(g){var w=g.startPoint,C=g.endPoint,I=(w.x+C.x)/2,U=(w.y+C.y)/2,q=Math.abs(w.x-C.x)+10,ce=Math.abs(w.y-C.y)+10,ge=g.getOutlineStyle();return Object(Oe.g)(bf,Jp({className:"lf-outline-edge",x:I,y:U,width:q,height:ce},ge))}},{key:"getPolylineOutline",value:function(g){var w=g.points,C=Xp(w),I=Vm(C,8),U=I.x,q=I.y,ce=I.width,ge=I.height,ke=g.getOutlineStyle();return Object(Oe.g)(bf,Jp({className:"lf-outline",x:U,y:q,width:ce,height:ge},ke))}},{key:"getBezierOutline",value:function(g){var w=g.path,C=IE(w),I=Vm(C,8),U=I.x,q=I.y,ce=I.width,ge=I.height,ke=g.getOutlineStyle();return Object(Oe.g)(bf,Jp({className:"lf-outline",x:U,y:q,width:ce,height:ge},ke))}},{key:"render",value:function(){return Object(Oe.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}]),u}(Oe.a))||ED;function QE(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?QE=function(u){return typeof u}:QE=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},QE(l)}function Hq(l,c){return Xq(l)||Kq(l,c)||Wq(l,c)||Gq()}function Gq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wq(l,c){if(!!l){if(typeof l=="string")return _D(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return _D(l,c)}}function _D(l,c){(c==null||c>l.length)&&(c=l.length);for(var u=0,p=new Array(c);u<c;u++)p[u]=l[u];return p}function Kq(l,c){var u=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(u!=null){var p=[],g=!0,w=!1,C,I;try{for(u=u.call(l);!(g=(C=u.next()).done)&&(p.push(C.value),!(c&&p.length===c));g=!0);}catch(U){w=!0,I=U}finally{try{!g&&u.return!=null&&u.return()}finally{if(w)throw I}}return p}}function Xq(l){if(Array.isArray(l))return l}function Wm(l){var c=l.x,u=c===void 0?0:c,p=l.y,g=p===void 0?0:p,w=l.r,C=w===void 0?4:w,I=l.className,U={cx:u,cy:g,r:C,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(l).forEach(function(q){var ce=Hq(q,2),ge=ce[0],ke=ce[1],Ge=QE(ke);Ge!=="object"&&(U[ge]=ke)}),I?U.className="lf-basic-shape ".concat(I):U.className="lf-basic-shape",Object(Oe.g)("circle",U)}function qE(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qE=function(u){return typeof u}:qE=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},qE(l)}var TD;function Yq(l,c){return qq(l)||Qq(l,c)||Jq(l,c)||Zq()}function Zq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jq(l,c){if(!!l){if(typeof l=="string")return CD(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return CD(l,c)}}function CD(l,c){(c==null||c>l.length)&&(c=l.length);for(var u=0,p=new Array(c);u<c;u++)p[u]=l[u];return p}function Qq(l,c){var u=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(u!=null){var p=[],g=!0,w=!1,C,I;try{for(u=u.call(l);!(g=(C=u.next()).done)&&(p.push(C.value),!(c&&p.length===c));g=!0);}catch(U){w=!0,I=U}finally{try{!g&&u.return!=null&&u.return()}finally{if(w)throw I}}return p}}function qq(l){if(Array.isArray(l))return l}function Km(){return Km=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p])}return l},Km.apply(this,arguments)}function AD(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function PD(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function xD(l,c,u){return c&&PD(l.prototype,c),u&&PD(l,u),l}function MD(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&DC(l,c)}function DC(l,c){return DC=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},DC(l,c)}function ND(l){var c=tee();return function(){var p=t1(l),g;if(c){var w=t1(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return eee(this,g)}}function eee(l,c){if(c&&(qE(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e1(l)}function e1(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function tee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function t1(l){return t1=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},t1(l)}function kC(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}var RD=function(l){MD(u,l);var c=ND(u);function u(){var p;return AD(this,u),p=c.call(this),kC(e1(p),"dragHandler",void 0),kC(e1(p),"onDraging",function(g){var w=g.event,C=p.props,I=C.graphModel,U=C.bezierModel,q=C.type,ce=I.getPointByClient({x:w.clientX,y:w.clientY}),ge=ce.canvasOverlayPosition,ke=ge.x,Ge=ge.y;U.updateAdjustAnchor({x:ke,y:Ge},q)}),kC(e1(p),"onDragEnd",function(){var g=p.props.bezierModel;g.isDragging=!1}),p.dragHandler=new Kd({onDraging:p.onDraging,onDragEnd:p.onDragEnd}),p}return xD(u,[{key:"render",value:function(){var g=this,w=this.props.position,C=w.x,I=w.y,U=this.props.bezierModel,q=U.getEdgeStyle(),ce=q.adjustAnchor;return Object(Oe.g)(Wm,Km({className:"lf-bezier-adjust-anchor",x:C,y:I},ce,{onMouseDown:function(ke){g.dragHandler.handleMouseDown(ke)}}))}}]),u}(Oe.a),nee=il(TD=function(l){MD(u,l);var c=ND(u);function u(){return AD(this,u),c.apply(this,arguments)}return xD(u,[{key:"getBezierAdjust",value:function(g,w){var C=g.path,I=g.id,U=IE(C),q=Yq(U,4),ce=q[0],ge=q[1],ke=q[2],Ge=q[3],gt=g.getEdgeStyle(),Mt=gt.adjustLine,Nt=[];return Nt.push(Object(Oe.g)(Xd,Km({x1:ce.x,y1:ce.y,x2:ge.x,y2:ge.y},Mt))),Nt.push(Object(Oe.g)(RD,{position:ge,bezierModel:g,graphModel:w,key:"".concat(I,"_ePre"),type:"sNext"})),Nt.push(Object(Oe.g)(Xd,Km({x1:Ge.x,y1:Ge.y,x2:ke.x,y2:ke.y},Mt))),Nt.push(Object(Oe.g)(RD,{position:ke,bezierModel:g,graphModel:w,key:"".concat(I,"_sNext"),type:"ePre"})),Nt}},{key:"selectedBezierEdge",value:function(){for(var g=this.props.graphModel,w=g.edges,C=[],I=0;I<w.length;I++){var U=w[I];U.isSelected&&U.modelType===Vt.BEZIER_EDGE&&U.draggable&&C.push(this.getBezierAdjust(U,g))}return C}},{key:"render",value:function(){return Object(Oe.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),u}(Oe.a))||TD;function n1(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n1=function(u){return typeof u}:n1=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},n1(l)}var ID;function ree(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function DD(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function oee(l,c,u){return c&&DD(l.prototype,c),u&&DD(l,u),l}function iee(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&LC(l,c)}function LC(l,c){return LC=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},LC(l,c)}function aee(l){var c=uee();return function(){var p=r1(l),g;if(c){var w=r1(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return see(this,g)}}function see(l,c){if(c&&(n1(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lee(l)}function lee(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function uee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function r1(l){return r1=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},r1(l)}var cee=il(ID=function(l){iee(u,l);var c=aee(u);function u(){return ree(this,u),c.apply(this,arguments)}return oee(u,[{key:"render",value:function(){var g=this.props.graphModel.transformModel,w=g.getTransformStyle(),C=w.transform,I=this.props.children;return Object(Oe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(Oe.g)("g",{transform:C},I))}}]),u}(Oe.a))||ID;function o1(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o1=function(u){return typeof u}:o1=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},o1(l)}var kD;function $C(){return $C=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p])}return l},$C.apply(this,arguments)}function fee(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function LD(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function dee(l,c,u){return c&&LD(l.prototype,c),u&&LD(l,u),l}function hee(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&BC(l,c)}function BC(l,c){return BC=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},BC(l,c)}function pee(l){var c=mee();return function(){var p=i1(l),g;if(c){var w=i1(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return vee(this,g)}}function vee(l,c){if(c&&(o1(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yee(l)}function yee(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function mee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function i1(l){return i1=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},i1(l)}var gee=il(kD=function(l){hee(u,l);var c=pee(u);function u(){return fee(this,u),c.apply(this,arguments)}return dee(u,[{key:"getComponent",value:function(g,w){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",I=this.props.getView,U=I(g.type);return Object(Oe.g)(U,{key:g.id,model:g,graphModel:w,overlay:C})}},{key:"render",value:function(){var g=this,w=this.props,C=w.graphModel,I=w.tool,U=w.options,q=w.dnd,ce=w.snaplineModel,ge={};U.width&&(ge.width="".concat(C.width,"px")),U.height&&(ge.height="".concat(C.height,"px"));var ke=C.fakerNode,Ge=C.editConfigModel,gt=Ge.adjustEdge;return Object(Oe.g)("div",{className:"lf-graph",style:ge},Object(Oe.g)(GQ,{graphModel:C,dnd:q},Object(Oe.g)("g",{className:"lf-base"},Bu(C.sortElements,function(Mt){return g.getComponent(Mt,C)})),ke?this.getComponent(ke,C):""),Object(Oe.g)(cee,{graphModel:C},Object(Oe.g)(Vq,{graphModel:C}),gt?Object(Oe.g)(nee,{graphModel:C}):"",!U.isSilentMode&&U.snapline!==!1?Object(Oe.g)(xq,{snaplineModel:ce}):""),Object(Oe.g)(qQ,{graphModel:C,tool:I}),U.background&&Object(Oe.g)(sq,{background:U.background}),U.grid&&Object(Oe.g)(pD,$C({},U.grid,{graphModel:C})))}}]),u}(Oe.a))||kD,bee=gee;function $D(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function a1(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?$D(Object(u),!0).forEach(function(p){Hu(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):$D(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function Eee(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function BD(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function See(l,c,u){return c&&BD(l.prototype,c),u&&BD(l,u),l}function Hu(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}var wee=function(){function l(c){var u=this;Eee(this,l),Hu(this,"nodeConfig",void 0),Hu(this,"lf",void 0),Hu(this,"fakerNode",void 0),Hu(this,"stopDrag",function(){u.nodeConfig=null,window.document.removeEventListener("mouseup",u.stopDrag)}),Hu(this,"dragEnter",function(g){!u.nodeConfig||u.fakerNode||(u.fakerNode=u.lf.createFakerNode(a1(a1({},u.nodeConfig),u.clientToLocalPoint({x:g.clientX,y:g.clientY}))))}),Hu(this,"onDragOver",function(g){if(g.preventDefault(),u.fakerNode){var w=u.clientToLocalPoint({x:g.clientX,y:g.clientY}),C=w.x,I=w.y;u.fakerNode.moveTo(C,I);var U=u.fakerNode.getData();u.lf.setNodeSnapLine(U),u.lf.graphModel.eventCenter.emit(Lt.NODE_DND_DRAG,{data:U})}return!1}),Hu(this,"onDragLeave",function(){u.fakerNode&&(u.lf.removeNodeSnapLine(),u.lf.graphModel.removeFakerNode(),u.fakerNode=null)}),Hu(this,"onDrop",function(g){if(!(!u.lf.graphModel||!g||!u.nodeConfig)){var w=u.lf.addNode(a1(a1({},u.nodeConfig),u.clientToLocalPoint({x:g.clientX,y:g.clientY})));g.preventDefault(),g.stopPropagation(),u.nodeConfig=null,u.lf.removeNodeSnapLine(),u.lf.graphModel.removeFakerNode(),u.fakerNode=null;var C=w.getData();u.lf.graphModel.eventCenter.emit(Lt.NODE_DND_ADD,{data:C})}});var p=c.lf;this.lf=p}return See(l,[{key:"clientToLocalPoint",value:function(u){var p=u.x,g=u.y,w=lf(this.lf.options,["grid","size"]),C=this.lf.graphModel.getPointByClient({x:p,y:g}),I=C.canvasOverlayPosition,U=I.x,q=I.y;return{x:yf(U,w),y:yf(q,w)}}},{key:"startDrag",value:function(u){this.nodeConfig=u,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}]),l}();function jD(l){var c=l.container,u=l.grid,p=l.width,g=l.height;if(!c)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof p=="string"||typeof g=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return u&&(l.grid=Ei({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},u)),Ei({},FD,l)}var FD={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function s1(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s1=function(u){return typeof u}:s1=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s1(l)}var lo,zD;function jC(l,c){return Cee(l)||Tee(l,c)||_ee(l,c)||Oee()}function Oee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ee(l,c){if(!!l){if(typeof l=="string")return UD(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return UD(l,c)}}function UD(l,c){(c==null||c>l.length)&&(c=l.length);for(var u=0,p=new Array(c);u<c;u++)p[u]=l[u];return p}function Tee(l,c){var u=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(u!=null){var p=[],g=!0,w=!1,C,I;try{for(u=u.call(l);!(g=(C=u.next()).done)&&(p.push(C.value),!(c&&p.length===c));g=!0);}catch(U){w=!0,I=U}finally{try{!g&&u.return!=null&&u.return()}finally{if(w)throw I}}return p}}function Cee(l){if(Array.isArray(l))return l}function VD(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function l1(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?VD(Object(u),!0).forEach(function(p){GD(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):VD(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function Aee(l,c,u,p){!u||Object.defineProperty(l,c,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(p):void 0})}function Pee(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function HD(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function xee(l,c,u){return c&&HD(l.prototype,c),u&&HD(l,u),l}function Qp(){return typeof Reflect<"u"&&Reflect.get?Qp=Reflect.get:Qp=function(c,u,p){var g=Mee(c,u);if(!!g){var w=Object.getOwnPropertyDescriptor(g,u);return w.get?w.get.call(arguments.length<3?c:p):w.value}},Qp.apply(this,arguments)}function Mee(l,c){for(;!Object.prototype.hasOwnProperty.call(l,c)&&(l=Ef(l),l!==null););return l}function Nee(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&FC(l,c)}function FC(l,c){return FC=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},FC(l,c)}function Ree(l){var c=Dee();return function(){var p=Ef(l),g;if(c){var w=Ef(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return Iee(this,g)}}function Iee(l,c){if(c&&(s1(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u1(l)}function u1(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function Dee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ef(l){return Ef=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},Ef(l)}function GD(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}function qs(l,c,u,p,g){var w={};return Object.keys(p).forEach(function(C){w[C]=p[C]}),w.enumerable=!!w.enumerable,w.configurable=!!w.configurable,("value"in w||w.initializer)&&(w.writable=!0),w=u.slice().reverse().reduce(function(C,I){return I(l,c,C)||C},w),g&&w.initializer!==void 0&&(w.value=w.initializer?w.initializer.call(g):void 0,w.initializer=void 0),w.initializer===void 0&&(Object.defineProperty(l,c,w),w=null),w}var zC=(lo=function(l){Nee(u,l);var c=Ree(u);function u(){var p;Pee(this,u);for(var g=arguments.length,w=new Array(g),C=0;C<g;C++)w[C]=arguments[C];return p=c.call.apply(c,[this].concat(w)),GD(u1(p),"modelType",Vt.BEZIER_EDGE),Aee(u1(p),"path",zD,u1(p)),p}return xee(u,[{key:"initEdgeData",value:function(g){this.offset=100,Qp(Ef(u.prototype),"initEdgeData",this).call(this,g)}},{key:"getEdgeStyle",value:function(){var g=this.graphModel.theme.bezier,w=Qp(Ef(u.prototype),"getEdgeStyle",this).call(this);return l1(l1({},w),qo(g))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var g=0,w=0;return this.pointsList.forEach(function(C){var I=C.x,U=C.y;g+=I,w+=U}),{x:g/this.pointsList.length,y:w/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var g=Qp(Ef(u.prototype),"getData",this).call(this),w=this.pointsList.map(function(C){var I=C.x,U=C.y;return{x:I,y:U}});return l1(l1({},g),{},{pointsList:w})}},{key:"getControls",value:function(){var g=this.startPoint,w=this.endPoint,C=BI({start:g,end:w,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset});return C}},{key:"getPath",value:function(g){var w=jC(g,4),C=w[0],I=w[1],U=w[2],q=w[3];return"M ".concat(C.x," ").concat(C.y,`
    C `).concat(I.x," ").concat(I.y,`,
    `).concat(U.x," ").concat(U.y,`,
    `).concat(q.x," ").concat(q.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var g=this.getControls(),w=g.sNext,C=g.ePre;this.updatePath(w,C)}},{key:"updatePath",value:function(g,w){var C={x:this.startPoint.x,y:this.startPoint.y},I={x:this.endPoint.x,y:this.endPoint.y};if(!g||!w){var U=this.getControls();g=U.sNext,w=U.ePre}this.pointsList=[C,g,w,I],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(g){this.startPoint=g,this.updatePoints()}},{key:"updateEndPoint",value:function(g){this.endPoint=g,this.updatePoints()}},{key:"moveStartPoint",value:function(g,w){this.startPoint.x+=g,this.startPoint.y+=w;var C=jC(this.pointsList,3),I=C[1],U=C[2];I.x+=g,I.y+=w,this.updatePath(I,U)}},{key:"moveEndPoint",value:function(g,w){this.endPoint.x+=g,this.endPoint.y+=w;var C=jC(this.pointsList,3),I=C[1],U=C[2];U.x+=g,U.y+=w,this.updatePath(I,U)}},{key:"updateAdjustAnchor",value:function(g,w){w==="sNext"?this.pointsList[1]=g:w==="ePre"&&(this.pointsList[2]=g),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var g=this.pointsList;return g[g.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(g){var w=g.startPoint,C=g.endPoint,I=g.sourceNode,U=g.targetNode,q=BI({start:w,end:C,sourceNode:I,targetNode:U,offset:this.offset}),ce=q.sNext,ge=q.ePre;this.pointsList=[w,ce,ge,C],this.initPoints()}}]),u}(hC),zD=qs(lo.prototype,"path",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),qs(lo.prototype,"initPoints",[a.k],Object.getOwnPropertyDescriptor(lo.prototype,"initPoints"),lo.prototype),qs(lo.prototype,"updatePoints",[a.k],Object.getOwnPropertyDescriptor(lo.prototype,"updatePoints"),lo.prototype),qs(lo.prototype,"updateStartPoint",[a.k],Object.getOwnPropertyDescriptor(lo.prototype,"updateStartPoint"),lo.prototype),qs(lo.prototype,"updateEndPoint",[a.k],Object.getOwnPropertyDescriptor(lo.prototype,"updateEndPoint"),lo.prototype),qs(lo.prototype,"moveStartPoint",[a.k],Object.getOwnPropertyDescriptor(lo.prototype,"moveStartPoint"),lo.prototype),qs(lo.prototype,"moveEndPoint",[a.k],Object.getOwnPropertyDescriptor(lo.prototype,"moveEndPoint"),lo.prototype),qs(lo.prototype,"updateAdjustAnchor",[a.k],Object.getOwnPropertyDescriptor(lo.prototype,"updateAdjustAnchor"),lo.prototype),qs(lo.prototype,"getAdjustStart",[a.k],Object.getOwnPropertyDescriptor(lo.prototype,"getAdjustStart"),lo.prototype),qs(lo.prototype,"getAdjustEnd",[a.k],Object.getOwnPropertyDescriptor(lo.prototype,"getAdjustEnd"),lo.prototype),qs(lo.prototype,"updateAfterAdjustStartAndEnd",[a.k],Object.getOwnPropertyDescriptor(lo.prototype,"updateAfterAdjustStartAndEnd"),lo.prototype),lo);function kee(l){return l==null}var Lee=kee,kn,WD,KD,XD,YD,ZD,JD,QD,qD,ek,tk,nk,rk,ok,ik,ak,sk,lk,uk,ck;function c1(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c1=function(u){return typeof u}:c1=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},c1(l)}function $ee(l,c){var u=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!u){if(Array.isArray(l)||(u=Bee(l))||c&&l&&typeof l.length=="number"){u&&(l=u);var p=0,g=function(){};return{s:g,n:function(){return p>=l.length?{done:!0}:{done:!1,value:l[p++]}},e:function(q){throw q},f:g}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var w=!0,C=!1,I;return{s:function(){u=u.call(l)},n:function(){var q=u.next();return w=q.done,q},e:function(q){C=!0,I=q},f:function(){try{!w&&u.return!=null&&u.return()}finally{if(C)throw I}}}}function Bee(l,c){if(!!l){if(typeof l=="string")return fk(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return fk(l,c)}}function fk(l,c){(c==null||c>l.length)&&(c=l.length);for(var u=0,p=new Array(c);u<c;u++)p[u]=l[u];return p}function dk(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function ha(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?dk(Object(u),!0).forEach(function(p){Na(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):dk(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function wi(l,c,u,p){!u||Object.defineProperty(l,c,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(p):void 0})}function jee(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function hk(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function Fee(l,c,u){return c&&hk(l.prototype,c),u&&hk(l,u),l}function Na(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}function Kr(l,c,u,p,g){var w={};return Object.keys(p).forEach(function(C){w[C]=p[C]}),w.enumerable=!!w.enumerable,w.configurable=!!w.configurable,("value"in w||w.initializer)&&(w.writable=!0),w=u.slice().reverse().reduce(function(C,I){return I(l,c,C)||C},w),g&&w.initializer!==void 0&&(w.value=w.initializer?w.initializer.call(g):void 0,w.initializer=void 0),w.initializer===void 0&&(Object.defineProperty(l,c,w),w=null),w}var Gu=(kn=function(){function l(c,u){jee(this,l),Na(this,"id",Wd()),wi(this,"type",WD,this),wi(this,"x",KD,this),wi(this,"y",XD,this),wi(this,"text",YD,this),wi(this,"properties",ZD,this),wi(this,"_width",JD,this),wi(this,"_height",QD,this),wi(this,"anchorsOffset",qD,this),wi(this,"isSelected",ek,this),wi(this,"isHovered",tk,this),wi(this,"isShowAnchor",nk,this),wi(this,"isDragging",rk,this),wi(this,"isHitable",ok,this),wi(this,"draggable",ik,this),wi(this,"visible",ak,this),Na(this,"virtual",!1),Na(this,"graphModel",void 0),wi(this,"zIndex",sk,this),wi(this,"state",lk,this),wi(this,"autoToFront",uk,this),wi(this,"style",ck,this),Na(this,"BaseType",$t.NODE),Na(this,"modelType",Vt.NODE),Na(this,"additionStateData",void 0),Na(this,"targetRules",[]),Na(this,"sourceRules",[]),Na(this,"moveRules",[]),Na(this,"hasSetTargetRules",!1),Na(this,"hasSetSourceRules",!1),this.graphModel=u,this.initNodeData(c),this.setAttributes()}return Fee(l,[{key:"width",get:function(){return this._width},set:function(u){this._width=u}},{key:"height",get:function(){return this._height},set:function(u){this._height=u}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(u){if(u.properties||(u.properties={}),!u.id){var p=this.graphModel.idGenerator,g=p&&p(u.type);g&&(u.id=g);var w=this.createId();w&&(u.id=w)}this.formatText(u),Ei(this,AJ(u));var C=this.graphModel.overlapMode;C===hn.INCREASE&&(this.zIndex=u.zIndex||fC())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(u){u.text||(u.text={value:"",x:u.x,y:u.y,draggable:!1,editable:!0}),u.text&&typeof u.text=="string"?u.text={value:u.text,x:u.x,y:u.y,draggable:!1,editable:!0}:u.text&&u.text.editable===void 0&&(u.text.editable=!0)}},{key:"getData",value:function(){var u=this.text,p=u.x,g=u.y,w=u.value,C=this.properties;Object(a.x)(C)&&(C=Object(a.I)(C));var I={id:this.id,type:this.type,x:this.x,y:this.y,properties:C};return this.graphModel.overlapMode===hn.INCREASE&&(I.zIndex=this.zIndex),w&&(I.text={x:p,y:g,value:w}),I}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(a.I)(this.properties)}},{key:"getNodeStyle",value:function(){return ha(ha({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var u=this.graphModel.theme.nodeText;return qo(u)}},{key:"getAnchorStyle",value:function(u){var p=this.graphModel.theme.anchor;return qo(p)}},{key:"getAnchorLineStyle",value:function(u){var p=this.graphModel.theme.anchorLine;return qo(p)}},{key:"getOutlineStyle",value:function(){var u=this.graphModel.theme.outline;return qo(u)}},{key:"isAllowConnectedAsSource",value:function(u,p,g){var w=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var C=!0,I,U=0;U<w.length;U++){var q=w[U];if(!q.validate.call(this,this,u,p,g)){C=!1,I=q.message;break}}return{isAllPass:C,msg:I}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(u,p,g){var w=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var C=!0,I,U=0;U<w.length;U++){var q=w[U];if(!q.validate.call(this,u,this,p,g)){C=!1,I=q.message;break}}return{isAllPass:C,msg:I}}},{key:"isAllowMoveNode",value:function(u,p){var g=!0,w=!0,C=this.moveRules.concat(this.graphModel.nodeMoveRules),I=$ee(C),U;try{for(I.s();!(U=I.n()).done;){var q=U.value,ce=q(this,u,p);if(!ce)return!1;if(c1(ce)==="object"){var ge=ce;if(ge.x===!1&&ge.y===!1)return!1;g=g&&ge.x,w=w&&ge.y}}}catch(ke){I.e(ke)}finally{I.f()}return{x:g,y:w}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var u=this.anchorsOffset,p=this.id,g=this.x,w=this.y;return u&&u.length>0?u.map(function(C,I){return C.length?(C=C,{id:"".concat(p,"_").concat(I),x:g+C[0],y:w+C[1]}):(C=C,ha(ha({},C),{},{x:g+C.x,y:w+C.y,id:C.id||"".concat(p,"_").concat(I)}))}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(u){if(!Lee(u))for(var p=0;p<this.anchors.length;p++){var g=this.anchors[p];if(g.id===u)return g}}},{key:"addNodeMoveRules",value:function(u){this.moveRules.includes(u)||this.moveRules.push(u)}},{key:"move",value:function(u,p){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,w=!1,C=!1;if(g)w=!0,C=!0;else{var I=this.isAllowMoveNode(u,p);typeof I=="boolean"?(w=I,C=I):(w=I.x,C=I.y)}if(w){var U=this.x+u;this.x=U,this.text&&this.moveText(u,0)}if(C){var q=this.y+p;this.y=q,this.text&&this.moveText(0,p)}return w||C}},{key:"getMoveDistance",value:function(u,p){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,w=!1,C=!1,I=0,U=0;if(g)w=!0,C=!0;else{var q=this.isAllowMoveNode(u,p);typeof q=="boolean"?(w=q,C=q):(w=q.x,C=q.y)}if(w&&u){var ce=this.x+u;this.x=ce,this.text&&this.moveText(u,0),I=u}if(C&&p){var ge=this.y+p;this.y=ge,this.text&&this.moveText(0,p),U=p}return[I,U]}},{key:"moveTo",value:function(u,p){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,w=u-this.x,C=p-this.y;return!g&&!this.isAllowMoveNode(w,C)?!1:(this.text&&this.text&&this.moveText(w,C),this.x=u,this.y=p,!0)}},{key:"moveText",value:function(u,p){var g=this.text,w=g.x,C=g.y,I=g.value,U=g.draggable,q=g.editable;this.text={value:I,editable:q,draggable:U,x:w+u,y:C+p}}},{key:"updateText",value:function(u){this.text=ha(ha({},this.text),{},{value:u})}},{key:"setSelected",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=u}},{key:"setHovered",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=u,this.setIsShowAnchor(u)}},{key:"setIsShowAnchor",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isShowAnchor=u}},{key:"setHitable",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=u}},{key:"setElementState",value:function(u,p){this.state=u,this.additionStateData=p}},{key:"setProperty",value:function(u,p){this.properties=ha(ha({},this.properties),{},Na({},u,Ji(p))),this.setAttributes()}},{key:"setProperties",value:function(u){this.properties=ha(ha({},this.properties),Ji(u)),this.setAttributes()}},{key:"deleteProperty",value:function(u){delete this.properties[u],this.setAttributes()}},{key:"setStyle",value:function(u,p){this.style=ha(ha({},this.style),{},Na({},u,Ji(p)))}},{key:"setStyles",value:function(u){this.style=ha(ha({},this.style),Ji(u))}},{key:"updateStyles",value:function(u){this.style=ha({},Ji(u))}},{key:"setZIndex",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=u}},{key:"updateAttributes",value:function(u){Ei(this,u)}}]),l}(),WD=Kr(kn.prototype,"type",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),KD=Kr(kn.prototype,"x",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),XD=Kr(kn.prototype,"y",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),YD=Kr(kn.prototype,"text",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),ZD=Kr(kn.prototype,"properties",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),JD=Kr(kn.prototype,"_width",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),QD=Kr(kn.prototype,"_height",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),qD=Kr(kn.prototype,"anchorsOffset",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ek=Kr(kn.prototype,"isSelected",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tk=Kr(kn.prototype,"isHovered",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nk=Kr(kn.prototype,"isShowAnchor",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rk=Kr(kn.prototype,"isDragging",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ok=Kr(kn.prototype,"isHitable",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ik=Kr(kn.prototype,"draggable",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ak=Kr(kn.prototype,"visible",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sk=Kr(kn.prototype,"zIndex",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),lk=Kr(kn.prototype,"state",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),uk=Kr(kn.prototype,"autoToFront",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ck=Kr(kn.prototype,"style",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Kr(kn.prototype,"incoming",[a.m],Object.getOwnPropertyDescriptor(kn.prototype,"incoming"),kn.prototype),Kr(kn.prototype,"outgoing",[a.m],Object.getOwnPropertyDescriptor(kn.prototype,"outgoing"),kn.prototype),Kr(kn.prototype,"addNodeMoveRules",[a.k],Object.getOwnPropertyDescriptor(kn.prototype,"addNodeMoveRules"),kn.prototype),Kr(kn.prototype,"move",[a.k],Object.getOwnPropertyDescriptor(kn.prototype,"move"),kn.prototype),Kr(kn.prototype,"getMoveDistance",[a.k],Object.getOwnPropertyDescriptor(kn.prototype,"getMoveDistance"),kn.prototype),Kr(kn.prototype,"moveTo",[a.k],Object.getOwnPropertyDescriptor(kn.prototype,"moveTo"),kn.prototype),Kr(kn.prototype,"moveText",[a.k],Object.getOwnPropertyDescriptor(kn.prototype,"moveText"),kn.prototype),Kr(kn.prototype,"updateText",[a.k],Object.getOwnPropertyDescriptor(kn.prototype,"updateText"),kn.prototype),Kr(kn.prototype,"setSelected",[a.k],Object.getOwnPropertyDescriptor(kn.prototype,"setSelected"),kn.prototype),Kr(kn.prototype,"setHovered",[a.k],Object.getOwnPropertyDescriptor(kn.prototype,"setHovered"),kn.prototype),Kr(kn.prototype,"setIsShowAnchor",[a.k],Object.getOwnPropertyDescriptor(kn.prototype,"setIsShowAnchor"),kn.prototype),Kr(kn.prototype,"setHitable",[a.k],Object.getOwnPropertyDescriptor(kn.prototype,"setHitable"),kn.prototype),Kr(kn.prototype,"setElementState",[a.k],Object.getOwnPropertyDescriptor(kn.prototype,"setElementState"),kn.prototype),Kr(kn.prototype,"setProperty",[a.k],Object.getOwnPropertyDescriptor(kn.prototype,"setProperty"),kn.prototype),Kr(kn.prototype,"setProperties",[a.k],Object.getOwnPropertyDescriptor(kn.prototype,"setProperties"),kn.prototype),Kr(kn.prototype,"deleteProperty",[a.k],Object.getOwnPropertyDescriptor(kn.prototype,"deleteProperty"),kn.prototype),Kr(kn.prototype,"setStyle",[a.k],Object.getOwnPropertyDescriptor(kn.prototype,"setStyle"),kn.prototype),Kr(kn.prototype,"setStyles",[a.k],Object.getOwnPropertyDescriptor(kn.prototype,"setStyles"),kn.prototype),Kr(kn.prototype,"updateStyles",[a.k],Object.getOwnPropertyDescriptor(kn.prototype,"updateStyles"),kn.prototype),Kr(kn.prototype,"setZIndex",[a.k],Object.getOwnPropertyDescriptor(kn.prototype,"setZIndex"),kn.prototype),Kr(kn.prototype,"updateAttributes",[a.k],Object.getOwnPropertyDescriptor(kn.prototype,"updateAttributes"),kn.prototype),kn);function f1(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f1=function(u){return typeof u}:f1=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},f1(l)}var Wu,pk;function vk(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function yk(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?vk(Object(u),!0).forEach(function(p){gk(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):vk(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function zee(l,c,u,p){!u||Object.defineProperty(l,c,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(p):void 0})}function Uee(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function mk(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function Vee(l,c,u){return c&&mk(l.prototype,c),u&&mk(l,u),l}function d1(){return typeof Reflect<"u"&&Reflect.get?d1=Reflect.get:d1=function(c,u,p){var g=Hee(c,u);if(!!g){var w=Object.getOwnPropertyDescriptor(g,u);return w.get?w.get.call(arguments.length<3?c:p):w.value}},d1.apply(this,arguments)}function Hee(l,c){for(;!Object.prototype.hasOwnProperty.call(l,c)&&(l=qp(l),l!==null););return l}function Gee(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&UC(l,c)}function UC(l,c){return UC=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},UC(l,c)}function Wee(l){var c=Xee();return function(){var p=qp(l),g;if(c){var w=qp(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return Kee(this,g)}}function Kee(l,c){if(c&&(f1(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h1(l)}function h1(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function Xee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qp(l){return qp=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},qp(l)}function gk(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}function VC(l,c,u,p,g){var w={};return Object.keys(p).forEach(function(C){w[C]=p[C]}),w.enumerable=!!w.enumerable,w.configurable=!!w.configurable,("value"in w||w.initializer)&&(w.writable=!0),w=u.slice().reverse().reduce(function(C,I){return I(l,c,C)||C},w),g&&w.initializer!==void 0&&(w.value=w.initializer?w.initializer.call(g):void 0,w.initializer=void 0),w.initializer===void 0&&(Object.defineProperty(l,c,w),w=null),w}var HC=(Wu=function(l){Gee(u,l);var c=Wee(u);function u(){var p;Uee(this,u);for(var g=arguments.length,w=new Array(g),C=0;C<g;C++)w[C]=arguments[C];return p=c.call.apply(c,[this].concat(w)),gk(h1(p),"modelType",Vt.CIRCLE_NODE),zee(h1(p),"r",pk,h1(p)),p}return Vee(u,[{key:"width",get:function(){return this.r*2}},{key:"height",get:function(){return this.r*2}},{key:"getNodeStyle",value:function(){var g=d1(qp(u.prototype),"getNodeStyle",this).call(this),w=this.graphModel.theme.circle;return yk(yk({},g),qo(w))}},{key:"getDefaultAnchor",value:function(){var g=this.x,w=this.y,C=this.r;return[{x:g,y:w-C,id:"".concat(this.id,"_0")},{x:g+C,y:w,id:"".concat(this.id,"_1")},{x:g,y:w+C,id:"".concat(this.id,"_2")},{x:g-C,y:w,id:"".concat(this.id,"_3")}]}}]),u}(Gu),pk=VC(Wu.prototype,"r",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),VC(Wu.prototype,"width",[a.m],Object.getOwnPropertyDescriptor(Wu.prototype,"width"),Wu.prototype),VC(Wu.prototype,"height",[a.m],Object.getOwnPropertyDescriptor(Wu.prototype,"height"),Wu.prototype),Wu);o(127);function p1(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p1=function(u){return typeof u}:p1=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},p1(l)}var Qi,bk,Ek;function GC(l,c){return Qee(l)||Jee(l,c)||Zee(l,c)||Yee()}function Yee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zee(l,c){if(!!l){if(typeof l=="string")return Sk(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Sk(l,c)}}function Sk(l,c){(c==null||c>l.length)&&(c=l.length);for(var u=0,p=new Array(c);u<c;u++)p[u]=l[u];return p}function Jee(l,c){var u=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(u!=null){var p=[],g=!0,w=!1,C,I;try{for(u=u.call(l);!(g=(C=u.next()).done)&&(p.push(C.value),!(c&&p.length===c));g=!0);}catch(U){w=!0,I=U}finally{try{!g&&u.return!=null&&u.return()}finally{if(w)throw I}}return p}}function Qee(l){if(Array.isArray(l))return l}function wk(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function Ok(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?wk(Object(u),!0).forEach(function(p){Ck(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):wk(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function _k(l,c,u,p){!u||Object.defineProperty(l,c,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(p):void 0})}function qee(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function Tk(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function ete(l,c,u){return c&&Tk(l.prototype,c),u&&Tk(l,u),l}function v1(){return typeof Reflect<"u"&&Reflect.get?v1=Reflect.get:v1=function(c,u,p){var g=tte(c,u);if(!!g){var w=Object.getOwnPropertyDescriptor(g,u);return w.get?w.get.call(arguments.length<3?c:p):w.value}},v1.apply(this,arguments)}function tte(l,c){for(;!Object.prototype.hasOwnProperty.call(l,c)&&(l=tv(l),l!==null););return l}function nte(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&WC(l,c)}function WC(l,c){return WC=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},WC(l,c)}function rte(l){var c=ite();return function(){var p=tv(l),g;if(c){var w=tv(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return ote(this,g)}}function ote(l,c){if(c&&(p1(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ev(l)}function ev(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function ite(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tv(l){return tv=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},tv(l)}function Ck(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}function nv(l,c,u,p,g){var w={};return Object.keys(p).forEach(function(C){w[C]=p[C]}),w.enumerable=!!w.enumerable,w.configurable=!!w.configurable,("value"in w||w.initializer)&&(w.writable=!0),w=u.slice().reverse().reduce(function(C,I){return I(l,c,C)||C},w),g&&w.initializer!==void 0&&(w.value=w.initializer?w.initializer.call(g):void 0,w.initializer=void 0),w.initializer===void 0&&(Object.defineProperty(l,c,w),w=null),w}var KC=(Qi=function(l){nte(u,l);var c=rte(u);function u(){var p;qee(this,u);for(var g=arguments.length,w=new Array(g),C=0;C<g;C++)w[C]=arguments[C];return p=c.call.apply(c,[this].concat(w)),Ck(ev(p),"modelType",Vt.DIAMOND_NODE),_k(ev(p),"rx",bk,ev(p)),_k(ev(p),"ry",Ek,ev(p)),p}return ete(u,[{key:"getNodeStyle",value:function(){var g=v1(tv(u.prototype),"getNodeStyle",this).call(this),w=this.graphModel.theme.diamond;return Ok(Ok({},g),qo(w))}},{key:"points",get:function(){var g=this.x,w=this.y,C=this.rx,I=this.ry;return[[g,w-I],[g+C,w],[g,w+I],[g-C,w]]}},{key:"pointsPosition",get:function(){var g=this.points.map(function(w){return{x:w[0],y:w[1]}});return g}},{key:"width",get:function(){var g=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(C){var I=GC(C,1),U=I[0];U<g&&(g=U),U>w&&(w=U)}),w-g}},{key:"height",get:function(){var g=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(C){var I=GC(C,2),U=I[1];U<g&&(g=U),U>w&&(w=U)}),w-g}},{key:"getDefaultAnchor",value:function(){var g=this;return this.points.map(function(w,C){var I=GC(w,2),U=I[0],q=I[1];return{x:U,y:q,id:"".concat(g.id,"_").concat(C)}})}}]),u}(Gu),bk=nv(Qi.prototype,"rx",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Ek=nv(Qi.prototype,"ry",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),nv(Qi.prototype,"points",[a.m],Object.getOwnPropertyDescriptor(Qi.prototype,"points"),Qi.prototype),nv(Qi.prototype,"pointsPosition",[a.m],Object.getOwnPropertyDescriptor(Qi.prototype,"pointsPosition"),Qi.prototype),nv(Qi.prototype,"width",[a.m],Object.getOwnPropertyDescriptor(Qi.prototype,"width"),Qi.prototype),nv(Qi.prototype,"height",[a.m],Object.getOwnPropertyDescriptor(Qi.prototype,"height"),Qi.prototype),Qi);function y1(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?y1=function(u){return typeof u}:y1=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},y1(l)}var Wl,Ak,Pk;function xk(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function Mk(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?xk(Object(u),!0).forEach(function(p){Ik(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):xk(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function Nk(l,c,u,p){!u||Object.defineProperty(l,c,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(p):void 0})}function ate(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function Rk(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function ste(l,c,u){return c&&Rk(l.prototype,c),u&&Rk(l,u),l}function m1(){return typeof Reflect<"u"&&Reflect.get?m1=Reflect.get:m1=function(c,u,p){var g=lte(c,u);if(!!g){var w=Object.getOwnPropertyDescriptor(g,u);return w.get?w.get.call(arguments.length<3?c:p):w.value}},m1.apply(this,arguments)}function lte(l,c){for(;!Object.prototype.hasOwnProperty.call(l,c)&&(l=ov(l),l!==null););return l}function ute(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&XC(l,c)}function XC(l,c){return XC=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},XC(l,c)}function cte(l){var c=dte();return function(){var p=ov(l),g;if(c){var w=ov(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return fte(this,g)}}function fte(l,c){if(c&&(y1(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rv(l)}function rv(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function dte(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ov(l){return ov=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},ov(l)}function Ik(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}function g1(l,c,u,p,g){var w={};return Object.keys(p).forEach(function(C){w[C]=p[C]}),w.enumerable=!!w.enumerable,w.configurable=!!w.configurable,("value"in w||w.initializer)&&(w.writable=!0),w=u.slice().reverse().reduce(function(C,I){return I(l,c,C)||C},w),g&&w.initializer!==void 0&&(w.value=w.initializer?w.initializer.call(g):void 0,w.initializer=void 0),w.initializer===void 0&&(Object.defineProperty(l,c,w),w=null),w}var YC=(Wl=function(l){ute(u,l);var c=cte(u);function u(){var p;ate(this,u);for(var g=arguments.length,w=new Array(g),C=0;C<g;C++)w[C]=arguments[C];return p=c.call.apply(c,[this].concat(w)),Ik(rv(p),"modelType",Vt.ELLIPSE_NODE),Nk(rv(p),"rx",Ak,rv(p)),Nk(rv(p),"ry",Pk,rv(p)),p}return ste(u,[{key:"getNodeStyle",value:function(){var g=m1(ov(u.prototype),"getNodeStyle",this).call(this),w=this.graphModel.theme.ellipse;return Mk(Mk({},g),qo(w))}},{key:"width",get:function(){return this.rx*2}},{key:"height",get:function(){return this.ry*2}},{key:"getDefaultAnchor",value:function(){var g=this.x,w=this.y,C=this.rx,I=this.ry;return[{x:g,y:w-I,id:"".concat(this.id,"_0")},{x:g+C,y:w,id:"".concat(this.id,"_1")},{x:g,y:w+I,id:"".concat(this.id,"_2")},{x:g-C,y:w,id:"".concat(this.id,"_3")}]}}]),u}(Gu),Ak=g1(Wl.prototype,"rx",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Pk=g1(Wl.prototype,"ry",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),g1(Wl.prototype,"width",[a.m],Object.getOwnPropertyDescriptor(Wl.prototype,"width"),Wl.prototype),g1(Wl.prototype,"height",[a.m],Object.getOwnPropertyDescriptor(Wl.prototype,"height"),Wl.prototype),Wl);function b1(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b1=function(u){return typeof u}:b1=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},b1(l)}var Es,Dk;function ZC(l,c){return yte(l)||vte(l,c)||pte(l,c)||hte()}function hte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pte(l,c){if(!!l){if(typeof l=="string")return kk(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return kk(l,c)}}function kk(l,c){(c==null||c>l.length)&&(c=l.length);for(var u=0,p=new Array(c);u<c;u++)p[u]=l[u];return p}function vte(l,c){var u=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(u!=null){var p=[],g=!0,w=!1,C,I;try{for(u=u.call(l);!(g=(C=u.next()).done)&&(p.push(C.value),!(c&&p.length===c));g=!0);}catch(U){w=!0,I=U}finally{try{!g&&u.return!=null&&u.return()}finally{if(w)throw I}}return p}}function yte(l){if(Array.isArray(l))return l}function Lk(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function $k(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?Lk(Object(u),!0).forEach(function(p){jk(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):Lk(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function mte(l,c,u,p){!u||Object.defineProperty(l,c,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(p):void 0})}function gte(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function Bk(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function bte(l,c,u){return c&&Bk(l.prototype,c),u&&Bk(l,u),l}function E1(){return typeof Reflect<"u"&&Reflect.get?E1=Reflect.get:E1=function(c,u,p){var g=Ete(c,u);if(!!g){var w=Object.getOwnPropertyDescriptor(g,u);return w.get?w.get.call(arguments.length<3?c:p):w.value}},E1.apply(this,arguments)}function Ete(l,c){for(;!Object.prototype.hasOwnProperty.call(l,c)&&(l=iv(l),l!==null););return l}function Ste(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&JC(l,c)}function JC(l,c){return JC=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},JC(l,c)}function wte(l){var c=_te();return function(){var p=iv(l),g;if(c){var w=iv(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return Ote(this,g)}}function Ote(l,c){if(c&&(b1(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S1(l)}function S1(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function _te(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function iv(l){return iv=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},iv(l)}function jk(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}function w1(l,c,u,p,g){var w={};return Object.keys(p).forEach(function(C){w[C]=p[C]}),w.enumerable=!!w.enumerable,w.configurable=!!w.configurable,("value"in w||w.initializer)&&(w.writable=!0),w=u.slice().reverse().reduce(function(C,I){return I(l,c,C)||C},w),g&&w.initializer!==void 0&&(w.value=w.initializer?w.initializer.call(g):void 0,w.initializer=void 0),w.initializer===void 0&&(Object.defineProperty(l,c,w),w=null),w}var QC=(Es=function(l){Ste(u,l);var c=wte(u);function u(){var p;gte(this,u);for(var g=arguments.length,w=new Array(g),C=0;C<g;C++)w[C]=arguments[C];return p=c.call.apply(c,[this].concat(w)),jk(S1(p),"modelType",Vt.POLYGON_NODE),mte(S1(p),"points",Dk,S1(p)),p}return bte(u,[{key:"getNodeStyle",value:function(){var g=E1(iv(u.prototype),"getNodeStyle",this).call(this),w=this.graphModel.theme.polygon;return $k($k({},g),qo(w))}},{key:"pointsPosition",get:function(){var g=this.x,w=this.y,C=this.width,I=this.height,U=this.points.map(function(q){return{x:q[0]+g-C/2,y:q[1]+w-I/2}});return U}},{key:"width",get:function(){var g=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(C){var I=ZC(C,1),U=I[0];U<g&&(g=U),U>w&&(w=U)}),w-g}},{key:"height",get:function(){var g=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(C){var I=ZC(C,2),U=I[1];U<g&&(g=U),U>w&&(w=U)}),w-g}},{key:"getDefaultAnchor",value:function(){var g=this,w=this.x,C=this.y,I=this.width,U=this.height,q=this.points;return q.map(function(ce,ge){var ke=ZC(ce,2),Ge=ke[0],gt=ke[1];return{x:w+Ge-I/2,y:C+gt-U/2,id:"".concat(g.id,"_").concat(ge)}})}}]),u}(Gu),Dk=w1(Es.prototype,"points",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),w1(Es.prototype,"pointsPosition",[a.m],Object.getOwnPropertyDescriptor(Es.prototype,"pointsPosition"),Es.prototype),w1(Es.prototype,"width",[a.m],Object.getOwnPropertyDescriptor(Es.prototype,"width"),Es.prototype),w1(Es.prototype,"height",[a.m],Object.getOwnPropertyDescriptor(Es.prototype,"height"),Es.prototype),Es);function O1(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?O1=function(u){return typeof u}:O1=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},O1(l)}var qC,Fk;function zk(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function Uk(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?zk(Object(u),!0).forEach(function(p){Hk(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):zk(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function Tte(l,c,u,p){!u||Object.defineProperty(l,c,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(p):void 0})}function Cte(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function Vk(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function Ate(l,c,u){return c&&Vk(l.prototype,c),u&&Vk(l,u),l}function _1(){return typeof Reflect<"u"&&Reflect.get?_1=Reflect.get:_1=function(c,u,p){var g=Pte(c,u);if(!!g){var w=Object.getOwnPropertyDescriptor(g,u);return w.get?w.get.call(arguments.length<3?c:p):w.value}},_1.apply(this,arguments)}function Pte(l,c){for(;!Object.prototype.hasOwnProperty.call(l,c)&&(l=av(l),l!==null););return l}function xte(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&e2(l,c)}function e2(l,c){return e2=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},e2(l,c)}function Mte(l){var c=Rte();return function(){var p=av(l),g;if(c){var w=av(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return Nte(this,g)}}function Nte(l,c){if(c&&(O1(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T1(l)}function T1(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function Rte(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function av(l){return av=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},av(l)}function Hk(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}function Ite(l,c,u,p,g){var w={};return Object.keys(p).forEach(function(C){w[C]=p[C]}),w.enumerable=!!w.enumerable,w.configurable=!!w.configurable,("value"in w||w.initializer)&&(w.writable=!0),w=u.slice().reverse().reduce(function(C,I){return I(l,c,C)||C},w),g&&w.initializer!==void 0&&(w.value=w.initializer?w.initializer.call(g):void 0,w.initializer=void 0),w.initializer===void 0&&(Object.defineProperty(l,c,w),w=null),w}var t2=(qC=function(l){xte(u,l);var c=Mte(u);function u(){var p;Cte(this,u);for(var g=arguments.length,w=new Array(g),C=0;C<g;C++)w[C]=arguments[C];return p=c.call.apply(c,[this].concat(w)),Hk(T1(p),"modelType",Vt.RECT_NODE),Tte(T1(p),"radius",Fk,T1(p)),p}return Ate(u,[{key:"getDefaultAnchor",value:function(){var g=this.x,w=this.y,C=this.width,I=this.height;return[{x:g,y:w-I/2,id:"".concat(this.id,"_0")},{x:g+C/2,y:w,id:"".concat(this.id,"_1")},{x:g,y:w+I/2,id:"".concat(this.id,"_2")},{x:g-C/2,y:w,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var g=_1(av(u.prototype),"getNodeStyle",this).call(this),w=this.graphModel.theme.rect;return Uk(Uk({},g),qo(w))}}]),u}(Gu),Fk=Ite(qC.prototype,"radius",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),qC);function C1(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?C1=function(u){return typeof u}:C1=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},C1(l)}var Sf;function Gk(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function Wk(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?Gk(Object(u),!0).forEach(function(p){Yk(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):Gk(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function Dte(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function Kk(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function kte(l,c,u){return c&&Kk(l.prototype,c),u&&Kk(l,u),l}function A1(){return typeof Reflect<"u"&&Reflect.get?A1=Reflect.get:A1=function(c,u,p){var g=Lte(c,u);if(!!g){var w=Object.getOwnPropertyDescriptor(g,u);return w.get?w.get.call(arguments.length<3?c:p):w.value}},A1.apply(this,arguments)}function Lte(l,c){for(;!Object.prototype.hasOwnProperty.call(l,c)&&(l=sv(l),l!==null););return l}function $te(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&n2(l,c)}function n2(l,c){return n2=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},n2(l,c)}function Bte(l){var c=Fte();return function(){var p=sv(l),g;if(c){var w=sv(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return jte(this,g)}}function jte(l,c){if(c&&(C1(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xk(l)}function Xk(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function Fte(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sv(l){return sv=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},sv(l)}function Yk(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}function Zk(l,c,u,p,g){var w={};return Object.keys(p).forEach(function(C){w[C]=p[C]}),w.enumerable=!!w.enumerable,w.configurable=!!w.configurable,("value"in w||w.initializer)&&(w.writable=!0),w=u.slice().reverse().reduce(function(C,I){return I(l,c,C)||C},w),g&&w.initializer!==void 0&&(w.value=w.initializer?w.initializer.call(g):void 0,w.initializer=void 0),w.initializer===void 0&&(Object.defineProperty(l,c,w),w=null),w}var r2=(Sf=function(l){$te(u,l);var c=Bte(u);function u(){var p;Dte(this,u);for(var g=arguments.length,w=new Array(g),C=0;C<g;C++)w[C]=arguments[C];return p=c.call.apply(c,[this].concat(w)),Yk(Xk(p),"modelType",Vt.TEXT_NODE),p}return kte(u,[{key:"getTextStyle",value:function(){var g=A1(sv(u.prototype),"getTextStyle",this).call(this),w=this.graphModel.theme.text;return Wk(Wk({},g),qo(w))}},{key:"width",get:function(){var g=String(this.text.value).split(/[\r\n]/g),w=this.getTextStyle(),C=w.fontSize,I=cC({rows:g,fontSize:C,rowsLength:g.length}),U=I.width;return U}},{key:"height",get:function(){var g=String(this.text.value).split(/[\r\n]/g),w=this.getTextStyle(),C=w.fontSize,I=cC({rows:g,fontSize:C,rowsLength:g.length}),U=I.height;return U}}]),u}(Gu),Zk(Sf.prototype,"width",[a.m],Object.getOwnPropertyDescriptor(Sf.prototype,"width"),Sf.prototype),Zk(Sf.prototype,"height",[a.m],Object.getOwnPropertyDescriptor(Sf.prototype,"height"),Sf.prototype),Sf);function P1(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P1=function(u){return typeof u}:P1=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},P1(l)}function zte(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function Jk(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function Ute(l,c,u){return c&&Jk(l.prototype,c),u&&Jk(l,u),l}function Vte(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&o2(l,c)}function o2(l,c){return o2=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},o2(l,c)}function Hte(l){var c=Wte();return function(){var p=x1(l),g;if(c){var w=x1(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return Gte(this,g)}}function Gte(l,c){if(c&&(P1(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qk(l)}function Qk(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function Wte(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function x1(l){return x1=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},x1(l)}function Kte(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}var i2=function(l){Vte(u,l);var c=Hte(u);function u(){var p;zte(this,u);for(var g=arguments.length,w=new Array(g),C=0;C<g;C++)w[C]=arguments[C];return p=c.call.apply(c,[this].concat(w)),Kte(Qk(p),"modelType",Vt.HTML_NODE),p}return Ute(u,[{key:"getDefaultAnchor",value:function(){var g=this.x,w=this.y,C=this.width,I=this.height;return[{x:g,y:w-I/2,id:"".concat(this.id,"_0")},{x:g+C/2,y:w,id:"".concat(this.id,"_1")},{x:g,y:w+I/2,id:"".concat(this.id,"_2")},{x:g-C/2,y:w,id:"".concat(this.id,"_3")}]}}]),u}(Gu),el,qk,eL,tL;function nL(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function Xte(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?nL(Object(u),!0).forEach(function(p){oL(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):nL(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function a2(l,c,u,p){!u||Object.defineProperty(l,c,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(p):void 0})}function Yte(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function rL(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function Zte(l,c,u){return c&&rL(l.prototype,c),u&&rL(l,u),l}function oL(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}function Xm(l,c,u,p,g){var w={};return Object.keys(p).forEach(function(C){w[C]=p[C]}),w.enumerable=!!w.enumerable,w.configurable=!!w.configurable,("value"in w||w.initializer)&&(w.writable=!0),w=u.slice().reverse().reduce(function(C,I){return I(l,c,C)||C},w),g&&w.initializer!==void 0&&(w.value=w.initializer?w.initializer.call(g):void 0,w.initializer=void 0),w.initializer===void 0&&(Object.defineProperty(l,c,w),w=null),w}var iL=(el=function(){function l(c){Yte(this,l),oL(this,"graphModel",void 0),a2(this,"isShowHorizontal",qk,this),a2(this,"isShowVertical",eL,this),a2(this,"position",tL,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=c}return Zte(l,[{key:"getStyle",value:function(){return Xte({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(u,p){for(var g=u.x,w=u.y,C=!1,I=!1,U=0;U<p.length;U++){var q=p[U];if(q.id!==u.id&&(g===q.x&&(C=!0),w===q.y&&(I=!0),C&&I))break}return{isShowVertical:C,isShowHorizontal:I,position:{x:g,y:w}}}},{key:"getHorizontalSnapline",value:function(u,p){var g=!1,w,C=u.id,I;if(C){var U=this.graphModel.fakerNode;if(U&&U.id===C)I=Xa(U);else{var q=this.graphModel.getNodeModelById(C);I=Xa(q)}}for(var ce=0;ce<p.length;ce++){var ge=p[ce];if(ge.id!==u.id){var ke=Xa(ge);if(ke.minY===I.minY||ke.maxY===I.minY){g=!0,w=I.minY;break}if(ke.minY===I.maxY||ke.maxY===I.maxY){g=!0,w=I.maxY;break}}}return Ei({isShowHorizontal:g,position:{y:w}})}},{key:"getVerticalSnapline",value:function(u,p){var g=!1,w,C=u.id,I;if(C){var U=this.graphModel.fakerNode;if(U&&U.id===C)I=Xa(U);else{var q=this.graphModel.getNodeModelById(C);I=Xa(q)}}for(var ce=0;ce<p.length;ce++){var ge=p[ce];if(ge.id!==u.id){var ke=Xa(ge);if(ke.minX===I.minX||ke.maxX===I.minX){g=!0,w=I.minX;break}if(ke.minX===I.maxX||ke.maxX===I.maxX){g=!0,w=I.maxX;break}}}return Ei({isShowVertical:g,position:{x:w}})}},{key:"getSnapLinePosition",value:function(u,p){var g=this.getCenterSnapLine(u,p),w=g.isShowHorizontal,C=g.isShowVertical;if(!w){var I=this.getHorizontalSnapline(u,p);I.isShowHorizontal&&(g.isShowHorizontal=I.isShowHorizontal,g.position.y=I.position.y)}if(!C){var U=this.getVerticalSnapline(u,p);U.isShowVertical&&(g.isShowVertical=U.isShowVertical,g.position.x=U.position.x)}return g}},{key:"setSnaplineInfo",value:function(u){var p=u.isShowHorizontal,g=u.isShowVertical,w=u.position;this.position=w,this.isShowHorizontal=p,this.isShowVertical=g}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(u){var p=this.graphModel.nodes,g=this.getSnapLinePosition(u,p);this.setSnaplineInfo(g)}}]),l}(),qk=Xm(el.prototype,"isShowHorizontal",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eL=Xm(el.prototype,"isShowVertical",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tL=Xm(el.prototype,"position",[a.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xm(el.prototype,"clearSnapline",[a.k],Object.getOwnPropertyDescriptor(el.prototype,"clearSnapline"),el.prototype),Xm(el.prototype,"setNodeSnapLine",[a.k],Object.getOwnPropertyDescriptor(el.prototype,"setNodeSnapLine"),el.prototype),el),Ym=new Map,aL=function(c){var u=Wd();function p(){c();var w=Ym.get(u);if(w){var C=window.requestAnimationFrame(p);Ym.set(u,C)}}var g=window.requestAnimationFrame(p);return Ym.set(u,g),u},M1=function(c){var u=Ym.get(c);u&&(window.cancelAnimationFrame(u),Ym.delete(c))};function N1(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?N1=function(u){return typeof u}:N1=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},N1(l)}function Zm(){return Zm=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p])}return l},Zm.apply(this,arguments)}function sL(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function R1(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?sL(Object(u),!0).forEach(function(p){Xl(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):sL(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function Jte(l,c){return tne(l)||ene(l,c)||qte(l,c)||Qte()}function Qte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qte(l,c){if(!!l){if(typeof l=="string")return lL(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return lL(l,c)}}function lL(l,c){(c==null||c>l.length)&&(c=l.length);for(var u=0,p=new Array(c);u<c;u++)p[u]=l[u];return p}function ene(l,c){var u=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(u!=null){var p=[],g=!0,w=!1,C,I;try{for(u=u.call(l);!(g=(C=u.next()).done)&&(p.push(C.value),!(c&&p.length===c));g=!0);}catch(U){w=!0,I=U}finally{try{!g&&u.return!=null&&u.return()}finally{if(w)throw I}}return p}}function tne(l){if(Array.isArray(l))return l}function nne(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function uL(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function rne(l,c,u){return c&&uL(l.prototype,c),u&&uL(l,u),l}function one(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&s2(l,c)}function s2(l,c){return s2=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},s2(l,c)}function ine(l){var c=sne();return function(){var p=I1(l),g;if(c){var w=I1(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return ane(this,g)}}function ane(l,c){if(c&&(N1(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kl(l)}function Kl(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function sne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function I1(l){return I1=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},I1(l)}function Xl(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}var lne=function(l){one(u,l);var c=ine(u);function u(){var p;return nne(this,u),p=c.call(this),Xl(Kl(p),"preTargetNode",void 0),Xl(Kl(p),"sourceRuleResults",void 0),Xl(Kl(p),"targetRuleResults",void 0),Xl(Kl(p),"dragHandler",void 0),Xl(Kl(p),"t",void 0),Xl(Kl(p),"onDragStart",function(g){var w=g.event,C=p.props,I=C.anchorData,U=C.nodeModel,q=C.graphModel,ce=q.overlapMode;q.selectNodeById(U.id),ce!==hn.INCREASE&&U.autoToFront&&q.toFront(U.id),q.eventCenter.emit(Lt.ANCHOR_DRAGSTART,{data:I,e:w,nodeModel:U}),p.setState({startX:I.x,startY:I.y,endX:I.x,endY:I.y})}),Xl(Kl(p),"onDraging",function(g){var w=g.event,C=p.props,I=C.graphModel,U=C.nodeModel,q=C.anchorData,ce=I.transformModel,ge=I.eventCenter,ke=I.width,Ge=I.height,gt=I.editConfigModel,Mt=gt.autoExpand,Nt=gt.stopMoveGraph,It=w.clientX,Tn=w.clientY,cn=I.getPointByClient({x:It,y:Tn}),pn=cn.domOverlayPosition,er=pn.x,$n=pn.y,Or=cn.canvasOverlayPosition,tr=Or.x,eo=Or.y;p.t&&M1(p.t);var io=[],va=10;er<10?io=[va,0]:er+10>ke?io=[-va,0]:$n<10?io=[0,va]:$n+10>Ge&&(io=[0,-va]),p.setState({endX:tr,endY:eo,draging:!0}),p.moveAnchorEnd(tr,eo),io.length>0&&!Nt&&Mt&&(p.t=aL(function(){var Za=io,ql=Jte(Za,2),_f=ql[0],Qd=ql[1];ce.translate(_f,Qd);var fv=p.state,Tf=fv.endX,dv=fv.endY;p.setState({endX:Tf-_f,endY:dv-Qd}),p.moveAnchorEnd(Tf-_f,dv-Qd)})),ge.emit(Lt.ANCHOR_DRAG,{data:q,e:w,nodeModel:U})}),Xl(Kl(p),"onDragEnd",function(g){p.t&&M1(p.t),p.checkEnd(g),p.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),p.sourceRuleResults.clear(),p.targetRuleResults.clear();var w=p.props,C=w.graphModel,I=w.nodeModel,U=w.anchorData;C.eventCenter.emit(Lt.ANCHOR_DRAGEND,{data:U,e:g,nodeModel:I})}),Xl(Kl(p),"checkEnd",function(g){var w=p.props,C=w.graphModel,I=w.nodeModel,U=w.anchorData,q=U.x,ce=U.y,ge=U.id;C.edgeType;var ke=p.state,Ge=ke.endX,gt=ke.endY,Mt=ke.draging,Nt=EE({x:Ge,y:gt},C);if(p.preTargetNode&&p.preTargetNode.state!==sn.DEFAULT&&p.preTargetNode.setElementState(sn.DEFAULT),!!Mt&&Nt&&Nt.node){var It=Nt.node,Tn=Nt.anchor.id,cn="".concat(I.id,"_").concat(It.id,"_").concat(Tn,"_").concat(ge),pn=p.sourceRuleResults.get(cn)||{},er=pn.isAllPass,$n=pn.msg,Or=p.targetRuleResults.get(cn)||{},tr=Or.isAllPass,eo=Or.msg;if(er&&tr){It.setElementState(sn.DEFAULT);var io=C.edgeGenerator(I.getData(),C.getNodeModelById(Nt.node.id).getData()),va=C.addEdge(R1(R1({},io),{},{sourceNodeId:I.id,sourceAnchorId:ge,startPoint:{x:q,y:ce},targetNodeId:Nt.node.id,targetAnchorId:Nt.anchor.id,endPoint:{x:Nt.anchor.x,y:Nt.anchor.y}})),Za=p.props.anchorData;C.eventCenter.emit(Lt.ANCHOR_DROP,{data:Za,e:g,nodeModel:I,edgeModel:va})}else{var ql=It.getData();C.eventCenter.emit(Lt.CONNECTION_NOT_ALLOWED,{data:ql,msg:eo||$n})}}}),p.sourceRuleResults=new Map,p.targetRuleResults=new Map,p.state={startX:0,startY:0,endX:0,endY:0,draging:!1},p.dragHandler=new Kd({onDragStart:p.onDragStart,onDraging:p.onDraging,onDragEnd:p.onDragEnd}),p}return rne(u,[{key:"getAnchorShape",value:function(){var g=this.props,w=g.anchorData,C=g.style,I=g.node,U=I.getAnchorShape(w);if(U)return U;var q=w.x,ce=w.y,ge=R1(R1({},C),C.hover);return Object(Oe.g)("g",null,Object(Oe.g)(Wm,Zm({className:"lf-node-anchor-hover"},ge,{x:q,y:ce})),Object(Oe.g)(Wm,Zm({className:"lf-node-anchor"},C,{x:q,y:ce})))}},{key:"moveAnchorEnd",value:function(g,w){var C=this.props,I=C.graphModel,U=C.nodeModel,q=C.anchorData,ce=EE({x:g,y:w},I);if(ce){var ge=ce.node,ke=ce.anchor.id;if(this.preTargetNode&&this.preTargetNode!==ce.node&&this.preTargetNode.setElementState(sn.DEFAULT),q.id===ke)return;this.preTargetNode=ge;var Ge="".concat(U.id,"_").concat(ge.id,"_").concat(ke,"_").concat(q.id);if(!this.targetRuleResults.has(Ge)){var gt=ce.anchor,Mt=U.isAllowConnectedAsSource(ge,q,gt),Nt=ge.isAllowConnectedAsTarget(U,q,gt);this.sourceRuleResults.set(Ge,wE(Mt)),this.targetRuleResults.set(Ge,wE(Nt))}var It=this.sourceRuleResults.get(Ge),Tn=It.isAllPass,cn=this.targetRuleResults.get(Ge),pn=cn.isAllPass;Tn&&pn?ge.setElementState(sn.ALLOW_CONNECT):ge.setElementState(sn.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==sn.DEFAULT&&this.preTargetNode.setElementState(sn.DEFAULT)}},{key:"isShowLine",value:function(){var g=this.state,w=g.startX,C=g.startY,I=g.endX,U=g.endY,q=Ul(w,C,I,U);return q>10}},{key:"render",value:function(){var g=this,w=this.state,C=w.startX,I=w.startY,U=w.endX,q=w.endY,ce=this.props,ge=ce.anchorData.edgeAddable,ke=ce.edgeStyle;return Object(Oe.g)("g",{className:"lf-anchor"},Object(Oe.g)("g",{onMouseDown:function(gt){ge!==!1&&g.dragHandler.handleMouseDown(gt)}},this.getAnchorShape()),this.isShowLine()&&Object(Oe.g)(Xd,Zm({x1:C,y1:I,x2:U,y2:q},ke,{"pointer-events":"none"})))}}]),u}(Oe.a),une=lne;o(63);function cL(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function cne(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?cL(Object(u),!0).forEach(function(p){fne(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):cL(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function fne(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}function D1(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?D1=function(u){return typeof u}:D1=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},D1(l)}function dne(l,c){return yne(l)||vne(l,c)||pne(l,c)||hne()}function hne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pne(l,c){if(!!l){if(typeof l=="string")return fL(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return fL(l,c)}}function fL(l,c){(c==null||c>l.length)&&(c=l.length);for(var u=0,p=new Array(c);u<c;u++)p[u]=l[u];return p}function vne(l,c){var u=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(u!=null){var p=[],g=!0,w=!1,C,I;try{for(u=u.call(l);!(g=(C=u.next()).done)&&(p.push(C.value),!(c&&p.length===c));g=!0);}catch(U){w=!0,I=U}finally{try{!g&&u.return!=null&&u.return()}finally{if(w)throw I}}return p}}function yne(l){if(Array.isArray(l))return l}function dL(l){var c=l.x,u=c===void 0?0:c,p=l.y,g=p===void 0?0:p,w=l.value,C=l.fontSize,I=l.fill,U=I===void 0?"currentColor":I,q=l.overflowMode,ce=q===void 0?"default":q,ge=l.textWidth,ke=ge===void 0?"":ge,Ge=l.model,gt={textAnchor:"middle","dominant-baseline":"middle",x:u,y:g,fill:U};if(Object.entries(l).forEach(function(pn){var er=dne(pn,2),$n=er[0],Or=er[1],tr=D1(Or);tr!=="object"&&(gt[$n]=Or)}),w){var Mt=String(w).split(/[\r\n]/g),Nt=Mt.length;if(ce!=="default"){var It=Ge.BaseType,Tn=Ge.modelType;if(It===$t.NODE&&Tn!==Vt.TEXT_NODE||It===$t.EDGE&&ke)return mne(l)}if(Nt>1){var cn=Mt.map(function(pn,er){var $n=C+2,Or=(er-(Nt-1)/2)*$n;return Object(Oe.g)("tspan",{className:"lf-text-tspan",x:u,y:g+Or},pn)});return Object(Oe.g)("text",gt,cn)}return Object(Oe.g)("text",gt,w)}}function mne(l){var c=l.value,u=l.fontSize,p=l.model,g=l.fontFamily,w=g===void 0?"":g,C=l.lineHeight,I=l.wrapPadding,U=I===void 0?"0, 0":I,q=l.overflowMode,ce=l.x,ge=l.y,ke=p.width,Ge=p.textHeight,gt=l.textWidth||ke,Mt=String(c).split(/[\r\n]/g),Nt=Mt.length,It=KR({rows:Mt,style:{fontSize:"".concat(u,"px"),width:"".concat(gt,"px"),fontFamily:w,lineHeight:C,padding:U},rowsLength:Nt,className:"lf-get-text-height"}),Tn=p.height>It?p.height:It;Ge&&(Tn=Ge);var cn=q==="ellipsis";return Object(Oe.g)("g",null,Object(Oe.g)("foreignObject",{width:gt,height:Tn,x:ce-gt/2,y:ge-Tn/2},Object(Oe.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Tn,width:gt,padding:U}},Object(Oe.g)("div",{className:cn?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:cne({},l)},Mt.map(function(pn){return Object(Oe.g)("div",{className:"lf-node-text--auto-wrap-inner"},pn)})))))}function k1(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?k1=function(u){return typeof u}:k1=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},k1(l)}function l2(){return l2=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p])}return l},l2.apply(this,arguments)}function gne(l,c){return wne(l)||Sne(l,c)||Ene(l,c)||bne()}function bne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ene(l,c){if(!!l){if(typeof l=="string")return hL(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return hL(l,c)}}function hL(l,c){(c==null||c>l.length)&&(c=l.length);for(var u=0,p=new Array(c);u<c;u++)p[u]=l[u];return p}function Sne(l,c){var u=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(u!=null){var p=[],g=!0,w=!1,C,I;try{for(u=u.call(l);!(g=(C=u.next()).done)&&(p.push(C.value),!(c&&p.length===c));g=!0);}catch(U){w=!0,I=U}finally{try{!g&&u.return!=null&&u.return()}finally{if(w)throw I}}return p}}function wne(l){if(Array.isArray(l))return l}function One(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function pL(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function _ne(l,c,u){return c&&pL(l.prototype,c),u&&pL(l,u),l}function Tne(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&u2(l,c)}function u2(l,c){return u2=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},u2(l,c)}function Cne(l){var c=Pne();return function(){var p=L1(l),g;if(c){var w=L1(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return Ane(this,g)}}function Ane(l,c){if(c&&(k1(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wf(l)}function wf(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function Pne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function L1(l){return L1=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},L1(l)}function Yd(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}var vL=function(l){Tne(u,l);var c=Cne(u);function u(p){var g;One(this,u),g=c.call(this),Yd(wf(g),"dragHandler",void 0),Yd(wf(g),"sumDeltaX",0),Yd(wf(g),"sumDeltaY",0),Yd(wf(g),"stepDrag",void 0),Yd(wf(g),"onDraging",function(I){var U=I.deltaX,q=I.deltaY,ce=g.props,ge=ce.model,ke=ce.graphModel.transformModel,Ge=ke.fixDeltaXY(U,q),gt=gne(Ge,2),Mt=gt[0],Nt=gt[1];ge.moveText(Mt,Nt)}),Yd(wf(g),"dblClickHandler",function(){var I=g.props.editable;if(I){var U=g.props.model;U.setElementState(sn.TEXT_EDIT)}}),Yd(wf(g),"mouseDownHandle",function(I){var U=g.props,q=U.draggable,ce=U.graphModel.editConfigModel.nodeTextDraggable;(q||ce)&&g.stepDrag.handleMouseDown(I)});var w=p.model,C=p.draggable;return g.stepDrag=new Kd({onDraging:g.onDraging,step:1,model:w,isStopPropagation:C}),g}return _ne(u,[{key:"getShape",value:function(){var g=this.props,w=g.model,C=g.graphModel,I=w.text,U=C.editConfigModel,q=I.value,ce=I.x,ge=I.y,ke=I.editable,Ge=I.draggable,gt={x:ce,y:ge,className:"",value:q};ke?gt.className="lf-element-text":Ge||U.nodeTextDraggable?gt.className="lf-text-draggable":gt.className="lf-text-disabled";var Mt=w.getTextStyle();return Object(Oe.g)(dL,l2({},gt,Mt,{model:w}))}},{key:"render",value:function(){var g=this.props.model.text;if(g)return Object(Oe.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}]),u}(Oe.a),xne=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function $1(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$1=function(u){return typeof u}:$1=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},$1(l)}function B1(l,c){return Ine(l)||Rne(l,c)||Nne(l,c)||Mne()}function Mne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nne(l,c){if(!!l){if(typeof l=="string")return yL(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return yL(l,c)}}function yL(l,c){(c==null||c>l.length)&&(c=l.length);for(var u=0,p=new Array(c);u<c;u++)p[u]=l[u];return p}function Rne(l,c){var u=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(u!=null){var p=[],g=!0,w=!1,C,I;try{for(u=u.call(l);!(g=(C=u.next()).done)&&(p.push(C.value),!(c&&p.length===c));g=!0);}catch(U){w=!0,I=U}finally{try{!g&&u.return!=null&&u.return()}finally{if(w)throw I}}return p}}function Ine(l){if(Array.isArray(l))return l}function Dne(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function mL(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function kne(l,c,u){return c&&mL(l.prototype,c),u&&mL(l,u),l}function Lne(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&c2(l,c)}function c2(l,c){return c2=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},c2(l,c)}function $ne(l){var c=jne();return function(){var p=j1(l),g;if(c){var w=j1(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return Bne(this,g)}}function Bne(l,c){if(c&&($1(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qi(l)}function qi(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function jne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function j1(l){return j1=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},j1(l)}function pa(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}var Ku=function(l){Lne(u,l);var c=$ne(u);function u(p){var g;Dne(this,u),g=c.call(this),pa(qi(g),"t",void 0),pa(qi(g),"moveOffset",void 0),pa(qi(g),"stepDrag",void 0),pa(qi(g),"contextMenuTime",void 0),pa(qi(g),"startTime",void 0),pa(qi(g),"clickTimer",void 0),pa(qi(g),"onDragStart",function(q){var ce=q.event,ge=ce.clientX,ke=ce.clientY,Ge=g.props,gt=Ge.model,Mt=Ge.graphModel,Nt=Mt.getPointByClient({x:ge,y:ke}),It=Nt.canvasOverlayPosition,Tn=It.x,cn=It.y;g.moveOffset={x:gt.x-Tn,y:gt.y-cn}}),pa(qi(g),"onDraging",function(q){var ce=q.event,ge=g.props,ke=ge.model,Ge=ge.graphModel,gt=Ge.editConfigModel,Mt=gt.stopMoveGraph,Nt=gt.autoExpand,It=Ge.transformModel,Tn=Ge.width,cn=Ge.height,pn=Ge.gridSize;ke.isDragging=!0;var er=ce.clientX,$n=ce.clientY,Or=Ge.getPointByClient({x:er,y:$n}),tr=Or.canvasOverlayPosition,eo=tr.x,io=tr.y,va=It.CanvasPointToHtmlPoint([eo,io]),Za=B1(va,2),ql=Za[0],_f=Za[1];if(eo=eo+g.moveOffset.x,io=io+g.moveOffset.y,eo=yf(eo,pn),io=yf(io,pn),!Tn||!cn){Ge.moveNode2Coordinate(ke.id,eo,io);return}var Qd=ql<0||_f<0||ql>Tn||_f>cn;if(!(Nt&&!Mt&&Qd)){var fv=It.CanvasPointToHtmlPoint([eo-ke.width/2,io-ke.height/2]),Tf=B1(fv,2),dv=Tf[0],eA=Tf[1],Cae=It.CanvasPointToHtmlPoint([eo+ke.width/2,io+ke.height/2]),b3=B1(Cae,2),Aae=b3[0],Pae=b3[1],NS=Math.max(pn,20),hv=[];dv<0?hv=[NS,0]:Aae>Ge.width?hv=[-NS,0]:eA<0?hv=[0,NS]:Pae>Ge.height&&(hv=[0,-NS]),g.t&&M1(g.t),hv.length>0&&!Mt&&Nt?g.t=aL(function(){var xae=hv,E3=B1(xae,2),S3=E3[0],w3=E3[1];It.translate(S3,w3),Ge.moveNode(ke.id,-S3/It.SCALE_X,-w3/It.SCALE_X)}):Ge.moveNode2Coordinate(ke.id,eo,io)}}),pa(qi(g),"onDragEnd",function(){g.t&&M1(g.t);var q=g.props.model;q.isDragging=!1}),pa(qi(g),"handleClick",function(q){if(!!g.startTime){var ce=new Date().getTime()-g.startTime;if(!(ce>200)){var ge=g.props,ke=ge.model,Ge=ge.graphModel,gt=ke.getData(),Mt=Ge.getPointByClient({x:q.clientX,y:q.clientY}),Nt={data:gt,e:q,position:Mt},It=q.button===2,Tn=q.detail===2;if(!It){var cn=Ge.editConfigModel;Ge.selectNodeById(ke.id,FR(q,cn)),g.toFront(),Tn?(cn.nodeTextEdit&&ke.text.editable&&(ke.setSelected(!1),Ge.setElementStateById(ke.id,sn.TEXT_EDIT)),Ge.eventCenter.emit(Lt.NODE_DBCLICK,Nt)):(Ge.eventCenter.emit(Lt.ELEMENT_CLICK,Nt),Ge.eventCenter.emit(Lt.NODE_CLICK,Nt))}}}}),pa(qi(g),"handleContextMenu",function(q){q.preventDefault();var ce=g.props,ge=ce.model,ke=ce.graphModel,Ge=ge.getData(),gt=ke.getPointByClient({x:q.clientX,y:q.clientY});ke.setElementStateById(ge.id,sn.SHOW_MENU,gt.domOverlayPosition),ke.selectNodeById(ge.id),ke.eventCenter.emit(Lt.NODE_CONTEXTMENU,{data:Ge,e:q,position:gt}),g.toFront()}),pa(qi(g),"handleMouseDown",function(q){var ce=g.props,ge=ce.model,ke=ce.graphModel;g.startTime=new Date().getTime();var Ge=ke.editConfigModel;Ge.adjustNodePosition&&ge.draggable&&g.stepDrag&&g.stepDrag.handleMouseDown(q)}),pa(qi(g),"setHoverON",function(q){var ce=g.props,ge=ce.model,ke=ce.graphModel;if(!ge.isHovered){var Ge=ge.getData();ge.setHovered(!0),ke.eventCenter.emit(Lt.NODE_MOUSEENTER,{data:Ge,e:q})}}),pa(qi(g),"setHoverOFF",function(q){var ce=g.props,ge=ce.model,ke=ce.graphModel,Ge=ge.getData();!ge.isHovered||(ge.setHovered(!1),ke.eventCenter.emit(Lt.NODE_MOUSELEAVE,{data:Ge,e:q}))}),pa(qi(g),"onMouseOut",function(q){xne&&g.setHoverOFF(q)});var w=p.graphModel,C=w.gridSize,I=w.eventCenter,U=p.model;return g.stepDrag=new Kd({onDragStart:g.onDragStart,onDraging:g.onDraging,onDragEnd:g.onDragEnd,step:C,eventType:"NODE",isStopPropagation:!1,eventCenter:I,model:U}),g}return kne(u,[{key:"getAnchorShape",value:function(g){return null}},{key:"getAnchors",value:function(){var g=this,w=this.props,C=w.model,I=w.graphModel,U=C.isSelected,q=C.isHitable,ce=C.isDragging,ge=C.isShowAnchor;return q&&(U||ge)&&!ce?Bu(C.anchors,function(ke,Ge){var gt=C.getAnchorLineStyle(ke),Mt=C.getAnchorStyle(ke);return Object(Oe.g)(une,{anchorData:ke,node:g,style:Mt,edgeStyle:gt,anchorIndex:Ge,nodeModel:C,graphModel:I,setHoverOFF:g.setHoverOFF})}):[]}},{key:"getText",value:function(){var g=this.props,w=g.model,C=g.graphModel;if(w.state===sn.TEXT_EDIT)return"";if(w.text){var I=C.editConfigModel,U=!1;return(w.text.draggable||I.nodeTextDraggable)&&(U=!0),Object(Oe.g)(vL,{editable:I.nodeTextEdit&&w.text.editable,model:w,graphModel:C,draggable:U})}}},{key:"getStateClassName",value:function(){var g=this.props.model,w=g.state,C=g.isDraging,I=g.isSelected,U="lf-node";switch(w){case sn.ALLOW_CONNECT:U+=" lf-node-allow";break;case sn.NOT_ALLOW_CONNECT:U+=" lf-node-not-allow";break;default:U+=" lf-node-default";break}return C&&(U+=" lf-isDragging"),I&&(U+=" lf-node-selected"),U}},{key:"toFront",value:function(){var g=this.props,w=g.model,C=g.graphModel,I=C.overlapMode;I!==hn.INCREASE&&w.autoToFront&&C.toFront(w.id)}},{key:"render",value:function(){var g=this.props,w=g.model,C=g.graphModel,I=C.editConfigModel,U=I.hideAnchors,q=I.adjustNodePosition,ce=C.gridSize,ge=C.transformModel.SCALE_X,ke=w.isHitable,Ge=w.draggable,gt=Object(Oe.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),U?null:this.getAnchors()),Mt;return ke?(q&&Ge&&this.stepDrag.setStep(ce*ge),Mt=Object(Oe.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},gt)):Mt=Object(Oe.g)("g",{className:this.getStateClassName()},gt),Mt}}],[{key:"getModel",value:function(g){return g}}]),u}(Oe.a);function F1(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?F1=function(u){return typeof u}:F1=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},F1(l)}function f2(){return f2=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p])}return l},f2.apply(this,arguments)}function Fne(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function gL(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function zne(l,c,u){return c&&gL(l.prototype,c),u&&gL(l,u),l}function Une(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&d2(l,c)}function d2(l,c){return d2=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},d2(l,c)}function Vne(l){var c=Wne();return function(){var p=z1(l),g;if(c){var w=z1(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return Hne(this,g)}}function Hne(l,c){if(c&&(F1(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gne(l)}function Gne(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function Wne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function z1(l){return z1=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},z1(l)}var h2=function(l){Une(u,l);var c=Vne(u);function u(){return Fne(this,u),c.apply(this,arguments)}return zne(u,[{key:"getShape",value:function(){var g=this.props.model,w=g.getNodeStyle();return Object(Oe.g)(bf,f2({},w,{x:g.x,y:g.y,width:g.width,height:g.height,radius:g.radius}))}}]),u}(Ku);function U1(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?U1=function(u){return typeof u}:U1=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},U1(l)}function p2(){return p2=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p])}return l},p2.apply(this,arguments)}function Kne(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function bL(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function Xne(l,c,u){return c&&bL(l.prototype,c),u&&bL(l,u),l}function Yne(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&v2(l,c)}function v2(l,c){return v2=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},v2(l,c)}function Zne(l){var c=qne();return function(){var p=V1(l),g;if(c){var w=V1(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return Jne(this,g)}}function Jne(l,c){if(c&&(U1(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qne(l)}function Qne(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function qne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function V1(l){return V1=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},V1(l)}var y2=function(l){Yne(u,l);var c=Zne(u);function u(){return Kne(this,u),c.apply(this,arguments)}return Xne(u,[{key:"getShape",value:function(){var g=this.props.model,w=g.x,C=g.y,I=g.r,U=g.getNodeStyle();return Object(Oe.g)(Wm,p2({},U,{x:w,y:C,r:I}))}}]),u}(Ku);function H1(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?H1=function(u){return typeof u}:H1=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},H1(l)}function ere(l,c){return ore(l)||rre(l,c)||nre(l,c)||tre()}function tre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nre(l,c){if(!!l){if(typeof l=="string")return EL(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return EL(l,c)}}function EL(l,c){(c==null||c>l.length)&&(c=l.length);for(var u=0,p=new Array(c);u<c;u++)p[u]=l[u];return p}function rre(l,c){var u=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(u!=null){var p=[],g=!0,w=!1,C,I;try{for(u=u.call(l);!(g=(C=u.next()).done)&&(p.push(C.value),!(c&&p.length===c));g=!0);}catch(U){w=!0,I=U}finally{try{!g&&u.return!=null&&u.return()}finally{if(w)throw I}}return p}}function ore(l){if(Array.isArray(l))return l}function SL(l){var c=l.points,u=l.className,p={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(l).forEach(function(g){var w=ere(g,2),C=w[0],I=w[1],U=H1(I);U!=="object"&&(p[C]=I)}),u?p.className="lf-basic-shape ".concat(u):p.className="lf-basic-shape",p.points=c.map(function(g){return g.join(",")}).join(" "),Object(Oe.g)("polygon",p)}function G1(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?G1=function(u){return typeof u}:G1=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},G1(l)}function m2(){return m2=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p])}return l},m2.apply(this,arguments)}function ire(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function wL(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function are(l,c,u){return c&&wL(l.prototype,c),u&&wL(l,u),l}function sre(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&g2(l,c)}function g2(l,c){return g2=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},g2(l,c)}function lre(l){var c=fre();return function(){var p=W1(l),g;if(c){var w=W1(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return ure(this,g)}}function ure(l,c){if(c&&(G1(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cre(l)}function cre(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function fre(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function W1(l){return W1=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},W1(l)}var b2=function(l){sre(u,l);var c=lre(u);function u(){return ire(this,u),c.apply(this,arguments)}return are(u,[{key:"getShape",value:function(){var g=this.props.model,w=g.x,C=g.y,I=g.width,U=g.height,q=g.points,ce=g.getNodeStyle(),ge={transform:"matrix(1 0 0 1 ".concat(w-I/2," ").concat(C-U/2,")")};return Object(Oe.g)("g",ge,Object(Oe.g)(SL,m2({},ce,{points:q,x:w,y:C})))}}]),u}(Ku);function K1(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?K1=function(u){return typeof u}:K1=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},K1(l)}function E2(){return E2=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p])}return l},E2.apply(this,arguments)}function dre(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function OL(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function hre(l,c,u){return c&&OL(l.prototype,c),u&&OL(l,u),l}function pre(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&S2(l,c)}function S2(l,c){return S2=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},S2(l,c)}function vre(l){var c=gre();return function(){var p=X1(l),g;if(c){var w=X1(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return yre(this,g)}}function yre(l,c){if(c&&(K1(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mre(l)}function mre(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function gre(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function X1(l){return X1=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},X1(l)}var w2=function(l){pre(u,l);var c=vre(u);function u(){return dre(this,u),c.apply(this,arguments)}return hre(u,[{key:"getShape",value:function(){var g=this.props.model,w=g.getNodeStyle();return Object(Oe.g)("g",null,Object(Oe.g)(SL,E2({},w,{points:g.points,x:g.x,y:g.y})))}}]),u}(Ku);function Y1(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Y1=function(u){return typeof u}:Y1=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},Y1(l)}function bre(l,c){return Ore(l)||wre(l,c)||Sre(l,c)||Ere()}function Ere(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sre(l,c){if(!!l){if(typeof l=="string")return _L(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return _L(l,c)}}function _L(l,c){(c==null||c>l.length)&&(c=l.length);for(var u=0,p=new Array(c);u<c;u++)p[u]=l[u];return p}function wre(l,c){var u=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(u!=null){var p=[],g=!0,w=!1,C,I;try{for(u=u.call(l);!(g=(C=u.next()).done)&&(p.push(C.value),!(c&&p.length===c));g=!0);}catch(U){w=!0,I=U}finally{try{!g&&u.return!=null&&u.return()}finally{if(w)throw I}}return p}}function Ore(l){if(Array.isArray(l))return l}function _re(l){var c=l.x,u=c===void 0?0:c,p=l.y,g=p===void 0?0:p,w=l.rx,C=w===void 0?4:w,I=l.ry,U=I===void 0?4:I,q=l.className,ce={cx:u,cy:g,rx:C,ry:U,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(l).forEach(function(ge){var ke=bre(ge,2),Ge=ke[0],gt=ke[1],Mt=Y1(gt);Mt!=="object"&&(ce[Ge]=gt)}),q?ce.className="lf-basic-shape ".concat(q):ce.className="lf-basic-shape",Object(Oe.g)("ellipse",ce)}function Z1(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Z1=function(u){return typeof u}:Z1=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},Z1(l)}function O2(){return O2=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p])}return l},O2.apply(this,arguments)}function Tre(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function TL(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function Cre(l,c,u){return c&&TL(l.prototype,c),u&&TL(l,u),l}function Are(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&_2(l,c)}function _2(l,c){return _2=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},_2(l,c)}function Pre(l){var c=Nre();return function(){var p=J1(l),g;if(c){var w=J1(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return xre(this,g)}}function xre(l,c){if(c&&(Z1(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mre(l)}function Mre(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function Nre(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function J1(l){return J1=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},J1(l)}var T2=function(l){Are(u,l);var c=Pre(u);function u(){return Tre(this,u),c.apply(this,arguments)}return Cre(u,[{key:"getShape",value:function(){var g=this.props.model,w=g.getNodeStyle();return Object(Oe.g)(_re,O2({},w,{x:g.x,y:g.y,rx:g.rx,ry:g.ry}))}}]),u}(Ku);function Q1(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Q1=function(u){return typeof u}:Q1=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},Q1(l)}function CL(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function AL(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?CL(Object(u),!0).forEach(function(p){Rre(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):CL(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function Rre(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}function Ire(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function PL(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function Dre(l,c,u){return c&&PL(l.prototype,c),u&&PL(l,u),l}function kre(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&C2(l,c)}function C2(l,c){return C2=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},C2(l,c)}function Lre(l){var c=jre();return function(){var p=q1(l),g;if(c){var w=q1(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return $re(this,g)}}function $re(l,c){if(c&&(Q1(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bre(l)}function Bre(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function jre(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function q1(l){return q1=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},q1(l)}var A2=function(l){kre(u,l);var c=Lre(u);function u(){return Ire(this,u),c.apply(this,arguments)}return Dre(u,[{key:"getBackground",value:function(){var g=this.props.model,w=g.getTextStyle(),C=g.text;if(C&&C.value&&w.background&&w.background.fill!=="transparnet"){var I=C.x,U=C.y,q=g.width,ce=g.height,ge=AL(AL({},w.background),{},{x:I,y:U-1,width:q,height:ce});return Object(Oe.g)(bf,ge)}}},{key:"getShape",value:function(){return Object(Oe.g)("g",null,this.getBackground())}}]),u}(Ku);function eS(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eS=function(u){return typeof u}:eS=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},eS(l)}function P2(){return P2=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p])}return l},P2.apply(this,arguments)}function Fre(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function xL(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function zre(l,c,u){return c&&xL(l.prototype,c),u&&xL(l,u),l}function Ure(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&x2(l,c)}function x2(l,c){return x2=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},x2(l,c)}function Vre(l){var c=Gre();return function(){var p=tS(l),g;if(c){var w=tS(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return Hre(this,g)}}function Hre(l,c){if(c&&(eS(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jm(l)}function Jm(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function Gre(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tS(l){return tS=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},tS(l)}function nS(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}var M2=function(l){Ure(u,l);var c=Vre(u);function u(){var p;Fre(this,u);for(var g=arguments.length,w=new Array(g),C=0;C<g;C++)w[C]=arguments[C];return p=c.call.apply(c,[this].concat(w)),nS(Jm(p),"ref",void 0),nS(Jm(p),"currentProperties",void 0),nS(Jm(p),"preProperties",void 0),nS(Jm(p),"setRef",function(I){p.ref=I}),p}return zre(u,[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(g){g.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!(this.preProperties&&this.preProperties===this.currentProperties))return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var g=this.props.model,w=g.x,C=g.y,I=g.height,U=g.width,q=g.getNodeStyle();return this.currentProperties=JSON.stringify(g.properties),Object(Oe.g)("foreignObject",P2({},q,{x:w-U/2,y:C-I/2,width:U,height:I,ref:this.setRef}))}}]),u}(Ku);function rS(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rS=function(u){return typeof u}:rS=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},rS(l)}function N2(){return N2=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p])}return l},N2.apply(this,arguments)}function ML(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function Zd(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?ML(Object(u),!0).forEach(function(p){D2(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):ML(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function Wre(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function NL(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function Kre(l,c,u){return c&&NL(l.prototype,c),u&&NL(l,u),l}function Xre(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&R2(l,c)}function R2(l,c){return R2=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},R2(l,c)}function Yre(l){var c=Jre();return function(){var p=oS(l),g;if(c){var w=oS(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return Zre(this,g)}}function Zre(l,c){if(c&&(rS(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I2(l)}function I2(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function Jre(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function oS(l){return oS=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},oS(l)}function D2(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}var Qre=function(l){Xre(u,l);var c=Yre(u);function u(p){var g;return Wre(this,u),g=c.call(this,p),D2(I2(g),"setHoverON",function(){g.setState({isHoverd:!0})}),D2(I2(g),"setHoverOFF",function(){g.setState({isHoverd:!1})}),g.state={isHoverd:!1},g}return Kre(u,[{key:"getBackground",value:function(){var g=this.props.model,w=g.getTextStyle(),C=g.text,I=w.background||{},U=this.state.isHoverd;if(U&&w.hover&&w.hover.background&&(I=Zd(Zd({},I),w.hover.background)),C&&C.value&&I.fill!=="transparent"){var q=w.fontSize,ce=w.overflowMode,ge=w.lineHeight,ke=w.wrapPadding,Ge=w.textWidth,gt=C.value,Mt=C.x,Nt=C.y,It=String(gt).split(/[\r\n]/g),Tn=It.length,cn;if(ce==="autoWrap"&&Ge){var pn=KR({rows:It,style:{fontSize:"".concat(q,"px"),width:"".concat(Ge,"px"),lineHeight:ge,padding:ke},rowsLength:Tn,className:"lf-get-text-height"});cn=Zd(Zd({},I),{},{x:Mt-1,y:Nt-1,width:Ge,height:pn})}else{It&&It.forEach(function(eo){$I(eo)});var er=cC({rows:It,fontSize:q,rowsLength:Tn}),$n=er.width,Or=er.height;if(typeof I.wrapPadding=="string"){var tr=I.wrapPadding.split(",").filter(function(eo){return eo.trim()}).map(function(eo){return parseFloat(eo.trim())});tr.length>0&&tr.length<=4&&(tr.length===1?tr=[tr[0],tr[0],tr[0],tr[0]]:tr.length===2?tr=[tr[0],tr[1],tr[0],tr[1]]:tr.length===3&&(tr=[tr[0],tr[1],tr[2],tr[1]]),$n+=tr[1]+tr[3],Or+=tr[0]+tr[2],Mt=Mt+(tr[1]-tr[3])/2,Nt=Nt+(tr[2]-tr[0])/2)}cn=Zd(Zd({},I),{},{x:Mt-1,y:Nt-1,width:$n,height:Or})}return Object(Oe.g)(bf,cn)}}},{key:"getShape",value:function(){var g=this.props.model,w=g.text,C=w.value,I=w.x,U=w.y;if(!!C){var q=g.getTextStyle(),ce=Zd({x:I,y:U,className:"lf-element-text",value:C},q);return Object(Oe.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(Oe.g)(dL,N2({},ce,{model:g})))}}}]),u}(vL);function iS(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?iS=function(u){return typeof u}:iS=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},iS(l)}function k2(){return k2=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p])}return l},k2.apply(this,arguments)}function RL(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function Xu(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?RL(Object(u),!0).forEach(function(p){nl(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):RL(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function qre(l,c){return roe(l)||noe(l,c)||toe(l,c)||eoe()}function eoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function toe(l,c){if(!!l){if(typeof l=="string")return IL(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return IL(l,c)}}function IL(l,c){(c==null||c>l.length)&&(c=l.length);for(var u=0,p=new Array(c);u<c;u++)p[u]=l[u];return p}function noe(l,c){var u=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(u!=null){var p=[],g=!0,w=!1,C,I;try{for(u=u.call(l);!(g=(C=u.next()).done)&&(p.push(C.value),!(c&&p.length===c));g=!0);}catch(U){w=!0,I=U}finally{try{!g&&u.return!=null&&u.return()}finally{if(w)throw I}}return p}}function roe(l){if(Array.isArray(l))return l}function ooe(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function DL(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function ioe(l,c,u){return c&&DL(l.prototype,c),u&&DL(l,u),l}function aoe(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&L2(l,c)}function L2(l,c){return L2=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},L2(l,c)}function soe(l){var c=uoe();return function(){var p=aS(l),g;if(c){var w=aS(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return loe(this,g)}}function loe(l,c){if(c&&(iS(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tl(l)}function tl(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function uoe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function aS(l){return aS=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},aS(l)}function nl(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}var Yl;(function(l){l.SOURCE="SOURCE",l.TARGET="TARGET"})(Yl||(Yl={}));var kL=function(l){aoe(u,l);var c=soe(u);function u(){var p;return ooe(this,u),p=c.call(this),nl(tl(p),"dragHandler",void 0),nl(tl(p),"oldEdge",void 0),nl(tl(p),"preTargetNode",void 0),nl(tl(p),"targetRuleResults",void 0),nl(tl(p),"sourceRuleResults",void 0),nl(tl(p),"onDragStart",function(){var g=p.props,w=g.x,C=g.y,I=g.edgeModel,U=I.startPoint,q=I.endPoint,ce=I.pointsList;p.oldEdge={startPoint:U,endPoint:q,pointsList:ce},p.setState({endX:w,endY:C,draging:!0}),I.isHitable=!1}),nl(tl(p),"onDraging",function(g){var w=g.deltaX,C=g.deltaY,I=p.state,U=I.endX,q=I.endY,ce=p.props,ge=ce.graphModel,ke=ce.type,Ge=ge.transformModel,gt=Ge.moveCanvasPointByHtml([U,q],w,C),Mt=qre(gt,2),Nt=Mt[0],It=Mt[1];p.setState({endX:Nt,endY:It,draging:!0});var Tn=p.props.edgeModel,cn=EE({x:U,y:q},ge);if(cn&&cn.node&&p.isAllowAdjust(cn)){var pn,er=Tn.startPoint,$n=Tn.endPoint,Or=Tn.sourceNode,tr=Tn.targetNode;ke===Yl.SOURCE?pn={startPoint:{x:cn.anchor.x,y:cn.anchor.y},endPoint:{x:$n.x,y:$n.y},sourceNode:cn.node,targetNode:tr}:ke===Yl.TARGET&&(pn={startPoint:{x:er.x,y:er.y},endPoint:{x:cn.anchor.x,y:cn.anchor.y},sourceNode:Or,targetNode:cn.node}),Tn.updateAfterAdjustStartAndEnd(pn)}else ke===Yl.SOURCE?Tn.updateStartPoint({x:Nt,y:It}):ke===Yl.TARGET&&Tn.updateEndPoint({x:Nt,y:It})}),nl(tl(p),"onDragEnd",function(){var g;p.setState({draging:!1});var w=p.props,C=w.graphModel,I=w.edgeModel,U=w.type;I.isHitable=!0;var q=p.state,ce=q.endX,ge=q.endY,ke=q.draging,Ge=EE({x:ce,y:ge},C);if(!!ke){if(Ge&&Ge.node&&p.isAllowAdjust(Ge)){var gt,Mt=I.getData(),Nt=Xu(Xu({},Mt),{},{sourceAnchorId:"",targetAnchorId:"",text:(Mt==null||(gt=Mt.text)===null||gt===void 0?void 0:gt.value)||""});if(U===Yl.SOURCE){var It=C.edgeGenerator(C.getNodeModelById(Ge.node.id).getData(),C.getNodeModelById(I.targetNodeId).getData(),Nt);Nt=Xu(Xu({},It),{},{sourceNodeId:Ge.node.id,sourceAnchorId:Ge.anchor.id,startPoint:{x:Ge.anchor.x,y:Ge.anchor.y},targetNodeId:I.targetNodeId,endPoint:Xu({},I.endPoint)})}else if(U===Yl.TARGET){var Tn=C.edgeGenerator(C.getNodeModelById(I.sourceNodeId).getData(),C.getNodeModelById(Ge.node.id).getData(),Nt);Nt=Xu(Xu({},Tn),{},{sourceNodeId:I.sourceNodeId,startPoint:Xu({},I.startPoint),targetNodeId:Ge.node.id,targetAnchorId:Ge.anchor.id,endPoint:{x:Ge.anchor.x,y:Ge.anchor.y}})}C.deleteEdgeById(I.id);var cn=C.addEdge(Xu({},Nt));C.eventCenter.emit(Lt.EDGE_EXCHANGE_NODE,{data:{newEdge:cn.getData(),oldEdge:I.getData()}})}else p.recoveryEdge();(g=p.preTargetNode)===null||g===void 0||g.setElementState(sn.DEFAULT)}}),nl(tl(p),"recoveryEdge",function(){var g=p.props.edgeModel,w=p.oldEdge,C=w.startPoint,I=w.endPoint,U=w.pointsList;g.updateStartPoint(C),g.updateEndPoint(I),g.modelType!==Vt.LINE_EDGE&&(g.pointsList=U,g.initPoints())}),nl(tl(p),"getAdjustPointStyle",function(){var g=p.props.graphModel.theme,w=g.edgeAdjust;return w}),p.state={draging:!1,endX:0,endY:0},p.targetRuleResults=new Map,p.sourceRuleResults=new Map,p.dragHandler=_C({onDragStart:p.onDragStart,onDraging:p.onDraging,onDragEnd:p.onDragEnd}),p}return ioe(u,[{key:"isAllowAdjust",value:function(g){var w=this.props,C=w.edgeModel;C.id;var I=C.sourceNode,U=C.targetNode,q=C.sourceAnchorId,ce=C.targetAnchorId,ge=w.type,ke=null,Ge=null,gt=null,Mt=null;if(ge===Yl.SOURCE?(ke=g.node,Ge=U,gt=g.anchor,Mt=U.getAnchorInfo(ce)):(ke=I,Ge=g.node,Mt=g.anchor,gt=I.getAnchorInfo(q)),this.preTargetNode&&this.preTargetNode!==g.node&&this.preTargetNode.setElementState(sn.DEFAULT),this.preTargetNode=g.node,Mt.id===gt.id)return!1;var Nt="".concat(ke.id,"_").concat(Ge.id,"_").concat(gt.id,"_").concat(Mt.id);if(!this.targetRuleResults.has(Nt)){var It=ke.isAllowConnectedAsSource(Ge,gt,Mt),Tn=Ge.isAllowConnectedAsTarget(ke,gt,Mt);this.sourceRuleResults.set(Nt,wE(It)),this.targetRuleResults.set(Nt,wE(Tn))}var cn=this.sourceRuleResults.get(Nt),pn=cn.isAllPass,er=this.targetRuleResults.get(Nt),$n=er.isAllPass,Or=pn&&$n?sn.ALLOW_CONNECT:sn.NOT_ALLOW_CONNECT;return ge===Yl.SOURCE?ke.setElementState(Or):Ge.setElementState(Or),pn&&$n}},{key:"render",value:function(){var g=this.props,w=g.x,C=g.y,I=this.state.draging,U=this.getAdjustPointStyle();return Object(Oe.g)("g",null,Object(Oe.g)(Wm,k2({className:"lf-edge-adjust-point"},U,{x:w,y:C,onMouseDown:this.dragHandler,"pointer-events":I?"none":""})))}}]),u}(Oe.a);function sS(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sS=function(u){return typeof u}:sS=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},sS(l)}function lS(){return lS=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p])}return l},lS.apply(this,arguments)}function LL(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function $L(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?LL(Object(u),!0).forEach(function(p){ol(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):LL(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function coe(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function BL(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function foe(l,c,u){return c&&BL(l.prototype,c),u&&BL(l,u),l}function doe(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&$2(l,c)}function $2(l,c){return $2=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},$2(l,c)}function hoe(l){var c=voe();return function(){var p=uS(l),g;if(c){var w=uS(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return poe(this,g)}}function poe(l,c){if(c&&(sS(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rl(l)}function rl(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function voe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uS(l){return uS=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},uS(l)}function ol(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}var Qm=function(l){doe(u,l);var c=hoe(u);function u(){var p;coe(this,u);for(var g=arguments.length,w=new Array(g),C=0;C<g;C++)w[C]=arguments[C];return p=c.call.apply(c,[this].concat(w)),ol(rl(p),"startTime",void 0),ol(rl(p),"contextMenuTime",void 0),ol(rl(p),"clickTimer",void 0),ol(rl(p),"handleHover",function(I,U){var q=p.props,ce=q.model,ge=q.graphModel.eventCenter;ce.setHovered(I);var ke=I?Lt.EDGE_MOUSEENTER:Lt.EDGE_MOUSELEAVE,Ge=ce.getData();ge.emit(ke,{data:Ge,e:U})}),ol(rl(p),"setHoverON",function(I){var U=p.props.model.isHovered;U||p.handleHover(!0,I)}),ol(rl(p),"setHoverOFF",function(I){p.handleHover(!1,I)}),ol(rl(p),"handleContextMenu",function(I){I.preventDefault(),p.contextMenuTime=new Date().getTime(),p.clickTimer&&clearTimeout(p.clickTimer);var U=p.props,q=U.model,ce=U.graphModel,ge=ce.getPointByClient({x:I.clientX,y:I.clientY});ce.setElementStateById(q.id,sn.SHOW_MENU,ge.domOverlayPosition),p.toFront(),ce.selectEdgeById(q.id);var ke=q==null?void 0:q.getData();ce.eventCenter.emit(Lt.EDGE_CONTEXTMENU,{data:ke,e:I,position:ge})}),ol(rl(p),"handleMouseDown",function(I){I.stopPropagation(),p.startTime=new Date().getTime()}),ol(rl(p),"handleMouseUp",function(I){if(!!p.startTime){var U=new Date().getTime()-p.startTime;if(!(U>200)){var q=I.button===2;if(!q){var ce=I.detail===2,ge=p.props,ke=ge.model,Ge=ge.graphModel,gt=ke==null?void 0:ke.getData(),Mt=Ge.getPointByClient({x:I.clientX,y:I.clientY});if(ce){var Nt=Ge.editConfigModel,It=Ge.textEditElement;if(It&&It.id===ke.id&&Ge.setElementStateById(ke.id,sn.DEFAULT),Nt.edgeTextEdit&&ke.text.editable&&Ge.setElementStateById(ke.id,sn.TEXT_EDIT),ke.modelType===Vt.POLYLINE_EDGE){var Tn=ke,cn=Ge.getPointByClient({x:I.x,y:I.y}),pn=cn.canvasOverlayPosition,er=pn.x,$n=pn.y,Or=jI({x:er,y:$n},Tn.points);Tn.dbClickPosition=Or}Ge.eventCenter.emit(Lt.EDGE_DBCLICK,{data:gt,e:I,position:Mt})}else Ge.eventCenter.emit(Lt.ELEMENT_CLICK,{data:gt,e:I,position:Mt}),Ge.eventCenter.emit(Lt.EDGE_CLICK,{data:gt,e:I,position:Mt});var tr=Ge.editConfigModel;Ge.selectEdgeById(ke.id,FR(I,tr)),p.toFront()}}}}),ol(rl(p),"getIsDraging",function(){return!1}),p}return foe(u,[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var g=this.props,w=g.model,C=g.graphModel;if(w.state===sn.TEXT_EDIT)return"";var I=!1,U=C.editConfigModel;return(w.text.draggable||U.edgeTextDraggable)&&(I=!0),Object(Oe.g)(Qre,{editable:U.edgeTextEdit&&w.text.editable,model:w,graphModel:C,draggable:I})}},{key:"getArrowInfo",value:function(){var g=this.props.model,w=g.startPoint,C=g.endPoint,I=g.isSelected,U=this.state,q=U.hover;return{start:w,end:C,hover:q,isSelected:I}}},{key:"getArrowStyle",value:function(){var g=this.props,w=g.model,C=g.graphModel,I=w.getEdgeStyle(),U=w.getEdgeAnimationStyle(),q=C.theme.arrow,ce=w.isAnimation?U.stroke:I.stroke;return $L($L({},I),{},{fill:ce,stroke:ce},q)}},{key:"getArrow",value:function(){var g=this.props.model.id,w=this.getArrowStyle(),C=w.refY,I=C===void 0?0:C,U=w.refX,q=U===void 0?2:U;return Object(Oe.g)("g",null,Object(Oe.g)("defs",null,Object(Oe.g)("marker",{id:"marker-start-".concat(g),refX:q,refY:I,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(Oe.g)("marker",{id:"marker-end-".concat(g),refX:q,refY:I,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var g=this.getArrowStyle(),w=g.stroke,C=g.strokeWidth,I=g.offset,U=g.verticalLength;return Object(Oe.g)("path",{stroke:w,fill:w,strokeWidth:C,d:"M 0 0 L ".concat(I," -").concat(U," L ").concat(I," ").concat(U," Z")})}},{key:"getEndArrow",value:function(){var g=this.getArrowStyle(),w=g.stroke,C=g.strokeWidth,I=g.offset,U=g.verticalLength;return Object(Oe.g)("path",{stroke:w,fill:w,strokeWidth:C,transform:"rotate(180)",d:"M 0 0 L ".concat(I," -").concat(U," L ").concat(I," ").concat(U," Z")})}},{key:"getAdjustPoints",value:function(){var g=this.props,w=g.model,C=g.graphModel,I=w.getAdjustStart(),U=w.getAdjustEnd();return Object(Oe.g)("g",null,Object(Oe.g)(kL,lS({type:"SOURCE"},I,{edgeModel:w,graphModel:C})),Object(Oe.g)(kL,lS({type:"TARGET"},U,{edgeModel:w,graphModel:C})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(Oe.g)("g",null)}},{key:"getAppend",value:function(){return Object(Oe.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var g=this.props,w=g.graphModel,C=g.model,I=w.overlapMode;I!==hn.INCREASE&&w.toFront(C.id)}},{key:"render",value:function(){var g=this.props,w=g.model,C=w.isSelected,I=w.isHitable,U=g.graphModel,q=this.getIsDraging(),ce=U.editConfigModel.adjustEdgeStartAndEnd,ge=U.animation,ke=C&&ge.edge&&U.getSelectElements().edges.length===1;return Object(Oe.g)("g",null,Object(Oe.g)("g",{className:["lf-edge",!I&&"pointer-none",C&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),ke&&this.getAnimation(),this.getText(),this.getArrow()),ce&&C&&!q?this.getAdjustPoints():"")}}]),u}(Oe.a);function cS(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cS=function(u){return typeof u}:cS=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},cS(l)}function yoe(l,c){return Eoe(l)||boe(l,c)||goe(l,c)||moe()}function moe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function goe(l,c){if(!!l){if(typeof l=="string")return jL(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return jL(l,c)}}function jL(l,c){(c==null||c>l.length)&&(c=l.length);for(var u=0,p=new Array(c);u<c;u++)p[u]=l[u];return p}function boe(l,c){var u=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(u!=null){var p=[],g=!0,w=!1,C,I;try{for(u=u.call(l);!(g=(C=u.next()).done)&&(p.push(C.value),!(c&&p.length===c));g=!0);}catch(U){w=!0,I=U}finally{try{!g&&u.return!=null&&u.return()}finally{if(w)throw I}}return p}}function Eoe(l){if(Array.isArray(l))return l}function Soe(l){var c={d:""};return Object.entries(l).forEach(function(u){var p=yoe(u,2),g=p[0],w=p[1],C=cS(w);(g==="style"||C!=="object")&&(c[g]=w)}),Object(Oe.g)("path",c)}var lv=Soe;function fS(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fS=function(u){return typeof u}:fS=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},fS(l)}function dS(){return dS=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p])}return l},dS.apply(this,arguments)}function woe(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function FL(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function Ooe(l,c,u){return c&&FL(l.prototype,c),u&&FL(l,u),l}function _oe(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&B2(l,c)}function B2(l,c){return B2=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},B2(l,c)}function Toe(l){var c=Poe();return function(){var p=hS(l),g;if(c){var w=hS(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return Coe(this,g)}}function Coe(l,c){if(c&&(fS(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aoe(l)}function Aoe(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function Poe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hS(l){return hS=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},hS(l)}var j2=function(l){_oe(u,l);var c=Toe(u);function u(){return woe(this,u),c.apply(this,arguments)}return Ooe(u,[{key:"getEdge",value:function(){var g=this.props.model,w=g.startPoint,C=g.endPoint,I=g.isAnimation,U=g.arrowConfig,q=g.getEdgeStyle(),ce=g.getEdgeAnimationStyle(),ge=ce.strokeDasharray,ke=ce.stroke,Ge=ce.strokeDashoffset,gt=ce.animationName,Mt=ce.animationDuration,Nt=ce.animationIterationCount,It=ce.animationTimingFunction,Tn=ce.animationDirection;return Object(Oe.g)(Xd,dS({},q,{x1:w.x,y1:w.y,x2:C.x,y2:C.y},U,I?{strokeDasharray:ge,stroke:ke,style:{strokeDashoffset:Ge,animationName:gt,animationDuration:Mt,animationIterationCount:Nt,animationTimingFunction:It,animationDirection:Tn}}:{}))}},{key:"getShape",value:function(){return Object(Oe.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var g=this.props.model,w=g.getAnimation(),C=w.stroke,I=w.className,U=w.strokeDasharray,q=g.startPoint,ce=g.endPoint,ge=g.getEdgeStyle();return Object(Oe.g)("g",null,Object(Oe.g)(Xd,dS({},ge,{x1:q.x,y1:q.y,x2:ce.x,y2:ce.y,className:I,strokeDasharray:U,stroke:C})))}},{key:"getAppendWidth",value:function(){var g=this.props.model,w=g.startPoint,C=g.endPoint,I={start:w,end:C},U=SQ(I),q=U.d,ce=U.strokeWidth,ge=U.fill,ke=U.strokeDasharray,Ge=U.stroke;return Object(Oe.g)(lv,{d:q,fill:ge,strokeWidth:ce,stroke:Ge,strokeDasharray:ke})}}]),u}(Qm);function pS(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pS=function(u){return typeof u}:pS=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},pS(l)}function xoe(l,c){return Ioe(l)||Roe(l,c)||Noe(l,c)||Moe()}function Moe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Noe(l,c){if(!!l){if(typeof l=="string")return zL(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return zL(l,c)}}function zL(l,c){(c==null||c>l.length)&&(c=l.length);for(var u=0,p=new Array(c);u<c;u++)p[u]=l[u];return p}function Roe(l,c){var u=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(u!=null){var p=[],g=!0,w=!1,C,I;try{for(u=u.call(l);!(g=(C=u.next()).done)&&(p.push(C.value),!(c&&p.length===c));g=!0);}catch(U){w=!0,I=U}finally{try{!g&&u.return!=null&&u.return()}finally{if(w)throw I}}return p}}function Ioe(l){if(Array.isArray(l))return l}function Doe(l){var c={points:"",fill:"none"};return Object.entries(l).forEach(function(u){var p=xoe(u,2),g=p[0],w=p[1];if(g==="style")c[g]=w;else{var C=pS(w);C!=="object"&&(c[g]=w)}}),Object(Oe.g)("polyline",c)}var UL=Doe;function vS(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vS=function(u){return typeof u}:vS=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},vS(l)}function VL(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function yS(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?VL(Object(u),!0).forEach(function(p){Jl(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):VL(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function mS(){return mS=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p])}return l},mS.apply(this,arguments)}function koe(l,c){return joe(l)||Boe(l,c)||$oe(l,c)||Loe()}function Loe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $oe(l,c){if(!!l){if(typeof l=="string")return HL(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return HL(l,c)}}function HL(l,c){(c==null||c>l.length)&&(c=l.length);for(var u=0,p=new Array(c);u<c;u++)p[u]=l[u];return p}function Boe(l,c){var u=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(u!=null){var p=[],g=!0,w=!1,C,I;try{for(u=u.call(l);!(g=(C=u.next()).done)&&(p.push(C.value),!(c&&p.length===c));g=!0);}catch(U){w=!0,I=U}finally{try{!g&&u.return!=null&&u.return()}finally{if(w)throw I}}return p}}function joe(l){if(Array.isArray(l))return l}function Foe(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function GL(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function zoe(l,c,u){return c&&GL(l.prototype,c),u&&GL(l,u),l}function Uoe(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&F2(l,c)}function F2(l,c){return F2=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},F2(l,c)}function Voe(l){var c=Goe();return function(){var p=gS(l),g;if(c){var w=gS(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return Hoe(this,g)}}function Hoe(l,c){if(c&&(vS(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zl(l)}function Zl(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function Goe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gS(l){return gS=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},gS(l)}function Jl(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}var z2=function(l){Uoe(u,l);var c=Voe(u);function u(){var p;return Foe(this,u),p=c.call(this),Jl(Zl(p),"drag",void 0),Jl(Zl(p),"isDraging",void 0),Jl(Zl(p),"appendInfo",void 0),Jl(Zl(p),"dragHandler",void 0),Jl(Zl(p),"onDragStart",function(){var g=p.props.model;g.dragAppendStart()}),Jl(Zl(p),"onDraging",function(g){var w=g.deltaX,C=g.deltaY,I=p.props,U=I.model,q=I.graphModel;p.isDraging=!0;var ce=q.transformModel,ge=q.editConfigModel,ke=ce.fixDeltaXY(w,C),Ge=koe(ke,2),gt=Ge[0],Mt=Ge[1],Nt=U,It=ge.adjustEdgeMiddle;It?p.appendInfo=Nt.dragAppendSimple(p.appendInfo,{x:gt,y:Mt}):p.appendInfo=Nt.dragAppend(p.appendInfo,{x:gt,y:Mt})}),Jl(Zl(p),"onDragEnd",function(){var g=p.props,w=g.model,C=g.graphModel.eventCenter,I=w;I.dragAppendEnd(),p.isDraging=!1,p.appendInfo=void 0,C.emit(Lt.EDGE_ADJUST,{data:I.getData()})}),Jl(Zl(p),"beforeDragStart",function(g,w){w.dragAble&&p.dragHandler(g),p.appendInfo=w}),Jl(Zl(p),"getIsDraging",function(){return p.isDraging}),p.drag=_C({onDragStart:p.onDragStart,onDraging:p.onDraging,onDragEnd:p.onDragEnd,isStopPropagation:!1}),p}return zoe(u,[{key:"getEdge",value:function(){var g=this.props.model,w=g.points,C=g.isAnimation,I=g.arrowConfig,U=g.getEdgeStyle(),q=g.getEdgeAnimationStyle(),ce=q.strokeDasharray,ge=q.stroke,ke=q.strokeDashoffset,Ge=q.animationName,gt=q.animationDuration,Mt=q.animationIterationCount,Nt=q.animationTimingFunction,It=q.animationDirection;return Object(Oe.g)(UL,mS({points:w},U,I,C?{strokeDasharray:ce,stroke:ge,style:{strokeDashoffset:ke,animationName:Ge,animationDuration:gt,animationIterationCount:Mt,animationTimingFunction:Nt,animationDirection:It}}:{}))}},{key:"getShape",value:function(){return Object(Oe.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var g=this.props.model,w=g.getAnimation(),C=w.stroke,I=w.className,U=w.strokeDasharray,q=g.getEdgeStyle();return Object(Oe.g)("g",null,Object(Oe.g)(UL,mS({points:g.points},q,{className:I,strokeDasharray:U,stroke:C})))}},{key:"getArrowInfo",value:function(){var g=this.props.model,w=g.points,C=g.isSelected,I=this.state,U=I.hover,q={start:null,end:null,hover:U,isSelected:C},ce=Xp(w);return ce.length>=2&&(q.start=ce[ce.length-2],q.end=ce[ce.length-1]),q}},{key:"getAppendAttributes",value:function(g){var w=g.start,C=g.end,I;if(w.x===C.x&&w.y===C.y)I="";else{var U={start:w,end:C,offset:10,verticalLength:5},q=Um(yS(yS({},U),{},{type:"start"})),ce=Um(yS(yS({},U),{},{type:"end"}));I="M".concat(q.leftX," ").concat(q.leftY,` 
      L`).concat(q.rightX," ").concat(q.rightY,` 
      L`).concat(ce.rightX," ").concat(ce.rightY,`
      L`).concat(ce.leftX," ").concat(ce.leftY," z")}return{d:I,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(g){var w=this.getAppendAttributes(g),C=w.d,I=w.strokeWidth,U=w.fill,q=w.strokeDasharray,ce=w.stroke;return Object(Oe.g)(lv,{d:C,fill:U,strokeWidth:I,stroke:ce,strokeDasharray:q})}},{key:"getAppendWidth",value:function(){for(var g=this,w=this.props,C=w.model,I=w.graphModel,U=C.pointsList,q=C.draggable,ce=[],ge=U.length,ke=function(Mt){var Nt="lf-polyline-append",It={start:{x:U[Mt].x,y:U[Mt].y},end:{x:U[Mt+1].x,y:U[Mt+1].y},startIndex:Mt,endIndex:Mt+1,direction:"",dragAble:!0},Tn=Object(Oe.g)("g",{className:Nt},g.getAppendShape(It)),cn=I.editConfigModel,pn=cn.adjustEdge,er=cn.adjustEdgeMiddle;if(!pn||!q)g.dragHandler=function(){};else{g.dragHandler=g.drag;var $n=It.startIndex,Or=It.endIndex,tr=er&&($n===0||Or===ge-1);It.dragAble=!tr,It.start.x===It.end.x?(It.dragAble&&(Nt+="-ew-resize"),It.direction=Rn.VERTICAL):It.start.y===It.end.y&&(It.dragAble&&(Nt+="-ns-resize"),It.direction=Rn.HORIZONTAL),Tn=Object(Oe.g)("g",{className:g.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(io){return g.beforeDragStart(io,It)}},Object(Oe.g)("g",{className:Nt},g.getAppendShape(It)))}ce.push(Tn)},Ge=0;Ge<ge-1;Ge++)ke(Ge);return Object(Oe.g)("g",null,ce)}}]),u}(Qm);function bS(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bS=function(u){return typeof u}:bS=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},bS(l)}function Woe(l,c){return Zoe(l)||Yoe(l,c)||Xoe(l,c)||Koe()}function Koe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xoe(l,c){if(!!l){if(typeof l=="string")return WL(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return WL(l,c)}}function WL(l,c){(c==null||c>l.length)&&(c=l.length);for(var u=0,p=new Array(c);u<c;u++)p[u]=l[u];return p}function Yoe(l,c){var u=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(u!=null){var p=[],g=!0,w=!1,C,I;try{for(u=u.call(l);!(g=(C=u.next()).done)&&(p.push(C.value),!(c&&p.length===c));g=!0);}catch(U){w=!0,I=U}finally{try{!g&&u.return!=null&&u.return()}finally{if(w)throw I}}return p}}function Zoe(l){if(Array.isArray(l))return l}function ES(){return ES=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p])}return l},ES.apply(this,arguments)}function Joe(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function KL(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function Qoe(l,c,u){return c&&KL(l.prototype,c),u&&KL(l,u),l}function qoe(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&U2(l,c)}function U2(l,c){return U2=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},U2(l,c)}function eie(l){var c=rie();return function(){var p=SS(l),g;if(c){var w=SS(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return tie(this,g)}}function tie(l,c){if(c&&(bS(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nie(l)}function nie(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function rie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function SS(l){return SS=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},SS(l)}var V2=function(l){qoe(u,l);var c=eie(u);function u(){return Joe(this,u),c.apply(this,arguments)}return Qoe(u,[{key:"getEdge",value:function(){var g=this.props.model,w=g.getEdgeStyle(),C=g.path,I=g.isAnimation,U=g.arrowConfig,q=g.getEdgeAnimationStyle(),ce=q.strokeDasharray,ge=q.stroke,ke=q.strokeDashoffset,Ge=q.animationName,gt=q.animationDuration,Mt=q.animationIterationCount,Nt=q.animationTimingFunction,It=q.animationDirection;return Object(Oe.g)(lv,ES({d:C},w,U,I?{strokeDasharray:ce,stroke:ge,style:{strokeDashoffset:ke,animationName:Ge,animationDuration:gt,animationIterationCount:Mt,animationTimingFunction:Nt,animationDirection:It}}:{}))}},{key:"getShape",value:function(){return Object(Oe.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var g=this.props.model,w=g.getAnimation(),C=w.stroke,I=w.className,U=w.strokeDasharray,q=g.getEdgeStyle();return Object(Oe.g)("g",null,Object(Oe.g)(lv,ES({d:g.path},q,{className:I,strokeDasharray:U,stroke:C})))}},{key:"getAppendWidth",value:function(){var g=this.props.model.path;return Object(Oe.g)(lv,{d:g,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var g=this.props.model,w=this.state,C=w.hover,I=g,U=I.path,q=I.isSelected,ce=wQ(U),ge=Woe(ce,2),ke=ge[0],Ge=ge[1],gt={start:ke,end:Ge,hover:C,isSelected:q};return gt}}]),u}(Qm);function wS(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wS=function(u){return typeof u}:wS=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},wS(l)}function XL(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function oie(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?XL(Object(u),!0).forEach(function(p){iie(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):XL(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function iie(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}function aie(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function YL(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function sie(l,c,u){return c&&YL(l.prototype,c),u&&YL(l,u),l}function lie(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&H2(l,c)}function H2(l,c){return H2=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},H2(l,c)}function uie(l){var c=die();return function(){var p=OS(l),g;if(c){var w=OS(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return cie(this,g)}}function cie(l,c){if(c&&(wS(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fie(l)}function fie(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function die(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function OS(l){return OS=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},OS(l)}var hie=function(l){lie(u,l);var c=uie(u);function u(){return aie(this,u),c.apply(this,arguments)}return sie(u,[{key:"getArrowAttributes",value:function(){var g=this.props,w=g.arrowInfo,C=g.style,I=w.start,U=w.end,q={start:I,end:U,offset:C.offset,verticalLength:C.verticalLength,type:"end"},ce=Um(q),ge=ce.leftX,ke=ce.leftY,Ge=ce.rightX,gt=ce.rightY;return oie({d:"M".concat(ge," ").concat(ke," L").concat(U.x," ").concat(U.y," L").concat(Ge," ").concat(gt," z")},C)}},{key:"getShape",value:function(){var g=this.getArrowAttributes(),w=g.d,C=g.strokeWidth,I=g.stroke,U=g.fill;return Object(Oe.g)(lv,{d:w,fill:U,strokeWidth:C,stroke:I})}},{key:"render",value:function(){return Object(Oe.g)("g",{className:"lf-arrow"},this.getShape())}}]),u}(Oe.a);function pie(l,c){return tf(l,c)}var ZL=pie;function vie(l){var c=l==null?0:l.length;return c?l[c-1]:void 0}var yie=vie,mie=function(){return Mi.a.Date.now()},G2=mie,gie=/\s/;function bie(l){for(var c=l.length;c--&&gie.test(l.charAt(c)););return c}var Eie=bie,Sie=/^\s+/;function wie(l){return l&&l.slice(0,Eie(l)+1).replace(Sie,"")}var Oie=wie,JL=0/0,_ie=/^[-+]0x[0-9a-f]+$/i,Tie=/^0b[01]+$/i,Cie=/^0o[0-7]+$/i,Aie=parseInt;function Pie(l){if(typeof l=="number")return l;if(kd(l))return JL;if(So(l)){var c=typeof l.valueOf=="function"?l.valueOf():l;l=So(c)?c+"":c}if(typeof l!="string")return l===0?l:+l;l=Oie(l);var u=Tie.test(l);return u||Cie.test(l)?Aie(l.slice(2),u?2:8):_ie.test(l)?JL:+l}var QL=Pie,xie="Expected a function",Mie=Math.max,Nie=Math.min;function Rie(l,c,u){var p,g,w,C,I,U,q=0,ce=!1,ge=!1,ke=!0;if(typeof l!="function")throw new TypeError(xie);c=QL(c)||0,So(u)&&(ce=!!u.leading,ge="maxWait"in u,w=ge?Mie(QL(u.maxWait)||0,c):w,ke="trailing"in u?!!u.trailing:ke);function Ge($n){var Or=p,tr=g;return p=g=void 0,q=$n,C=l.apply(tr,Or),C}function gt($n){return q=$n,I=setTimeout(It,c),ce?Ge($n):C}function Mt($n){var Or=$n-U,tr=$n-q,eo=c-Or;return ge?Nie(eo,w-tr):eo}function Nt($n){var Or=$n-U,tr=$n-q;return U===void 0||Or>=c||Or<0||ge&&tr>=w}function It(){var $n=G2();if(Nt($n))return Tn($n);I=setTimeout(It,Mt($n))}function Tn($n){return I=void 0,ke&&p?Ge($n):(p=g=void 0,C)}function cn(){I!==void 0&&clearTimeout(I),q=0,p=U=g=I=void 0}function pn(){return I===void 0?C:Tn(G2())}function er(){var $n=G2(),Or=Nt($n);if(p=arguments,g=this,U=$n,Or){if(I===void 0)return gt(U);if(ge)return clearTimeout(I),I=setTimeout(It,c),Ge(U)}return I===void 0&&(I=setTimeout(It,c)),C}return er.cancel=cn,er.flush=pn,er}var Iie=Rie,Die=o(166);function kie(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function qL(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function Lie(l,c,u){return c&&qL(l.prototype,c),u&&qL(l,u),l}function Of(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}var $ie=function(){function l(c){kie(this,l),Of(this,"undos",[]),Of(this,"redos",[]),Of(this,"callbacks",[]),Of(this,"stopWatch",null),Of(this,"curData",null),Of(this,"maxSize",50),Of(this,"waitTime",100),Of(this,"eventCenter",void 0),this.eventCenter=c}return Lie(l,[{key:"add",value:function(u){ZL(yie(this.undos),u)||(this.undos.push(u),ZL(this.curData,u)||(this.redos=[]),this.eventCenter.emit(Lt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(!!this.undoAble()){var u=this.undos.pop();this.redos.push(u);var p=this.undos.pop();return this.curData=qo(p),p}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(!!this.redoAble()){var u=this.redos.pop();return this.curData=qo(u),u}}},{key:"watch",value:function(u){var p=this;this.stopWatch&&this.stopWatch(),this.undos.push(u.modelToGraphData()),this.stopWatch=Object(Die.a)(u,Iie(function(){var g=u.modelToHistoryData();g&&p.add(g)},this.waitTime))}}]),l}(),Bie=$ie;function _S(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_S=function(u){return typeof u}:_S=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},_S(l)}var e3,t3,n3;function jie(l,c){return Vie(l)||Uie(l,c)||zie(l,c)||Fie()}function Fie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zie(l,c){if(!!l){if(typeof l=="string")return r3(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return r3(l,c)}}function r3(l,c){(c==null||c>l.length)&&(c=l.length);for(var u=0,p=new Array(c);u<c;u++)p[u]=l[u];return p}function Uie(l,c){var u=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(u!=null){var p=[],g=!0,w=!1,C,I;try{for(u=u.call(l);!(g=(C=u.next()).done)&&(p.push(C.value),!(c&&p.length===c));g=!0);}catch(U){w=!0,I=U}finally{try{!g&&u.return!=null&&u.return()}finally{if(w)throw I}}return p}}function Vie(l){if(Array.isArray(l))return l}function o3(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function uv(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?o3(Object(u),!0).forEach(function(p){Jd(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):o3(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function Hie(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function i3(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function Gie(l,c,u){return c&&i3(l.prototype,c),u&&i3(l,u),l}function Wie(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&W2(l,c)}function W2(l,c){return W2=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},W2(l,c)}function Kie(l){var c=Yie();return function(){var p=TS(l),g;if(c){var w=TS(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return Xie(this,g)}}function Xie(l,c){if(c&&(_S(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cv(l)}function cv(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function Yie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function TS(l){return TS=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},TS(l)}function Jd(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}var K2=il(e3=(n3=t3=function(l){Wie(u,l);var c=Kie(u);function u(){var p;return Hie(this,u),p=c.call(this),Jd(cv(p),"ref",Object(Oe.f)()),Jd(cv(p),"__prevText",{type:"",text:"",id:""}),Jd(cv(p),"keyupHandler",function(g){var w=p.props.graphModel.textEditElement;g.key==="Enter"&&g.altKey&&w.setElementState(0)}),Jd(cv(p),"inputHandler",function(g){var w=g.target,C=w.innerText,I=p.props.graphModel.textEditElement;p.__prevText={type:I.type,text:C.replace(/(\r\n)+$|(\n)+$/,""),id:I.id}}),Jd(cv(p),"keydownHandler",function(g){g.stopPropagation()}),p.state={style:{left:0,top:0}},p}return Gie(u,[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var g=this.props.graphModel,w=g.eventCenter,C=g.editConfigModel,I=C.edgeTextEdit,U=C.nodeTextEdit;(I||U)&&w.on("".concat(Lt.GRAPH_TRANSFORM,",").concat(Lt.NODE_CLICK,",").concat(Lt.BLANK_CLICK," "),function(){g.textEditElement&&g.textEditElement.setElementState(sn.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var g=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var w=this.__prevText,C=w.text,I=w.id;g.updateText(I,C),g.eventCenter.emit(Lt.TEXT_UPDATE,uv({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(g){if(window.getSelection!==void 0&&document.createRange!==void 0){var w=document.createRange();w.selectNodeContents(g),w.collapse(!1);var C=window.getSelection();C.removeAllRanges(),C.addRange(w)}}},{key:"render",value:function(){var g,w=this.props.graphModel.textEditElement,C=this.state.style;return w?Object(Oe.g)("div",{contentEditable:!0,className:"lf-text-input",style:C,ref:this.ref,key:w.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(g=w.text)===null||g===void 0?void 0:g.value):null}}],[{key:"getDerivedStateFromProps",value:function(g){var w=g.graphModel,C=w.transformModel,I=w.theme,U=w.textEditElement,q;if(U){var ce;if(!((ce=U.text)!==null&&ce!==void 0&&ce.value))if(U.BaseType===$t.EDGE){U=U;var ge=U.text,ke=U.textPosition,Ge=ke.x,gt=ke.y;ge.x=Ge,ge.y=gt,U.setText(ge)}else U=U;var Mt={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(U.BaseType===$t.EDGE){var Nt=I.edgeText,It=Nt.overflowMode,Tn=Nt.lineHeight,cn=Nt.wrapPadding,pn=Nt.textWidth;pn&&It==="autoWrap"&&(q=uv(uv({},Mt),{},{width:pn,minWidth:pn,lineHeight:Tn,padding:cn}))}else if(U.BaseType===$t.NODE){var er=I.nodeText,$n=er.overflowMode,Or=er.lineHeight,tr=er.wrapPadding,eo=er.textWidth,io=U,va=io.width,Za=io.modelType;(Za!==Vt.TEXT_NODE&&$n==="autoWrap"||Za===Vt.TEXT_NODE&&eo)&&(q=uv(uv({},Mt),{},{width:eo||va,minWidth:eo||va,lineHeight:Or,padding:tr}))}var ql=U.text,_f=ql.x,Qd=ql.y,fv=C.CanvasPointToHtmlPoint([_f,Qd]),Tf=jie(fv,2),dv=Tf[0],eA=Tf[1];return{style:uv({left:dv,top:eA},q)}}}}]),u}(Oe.a),Jd(t3,"toolName","textEdit"),n3))||e3,Zie=function(c){var u=c.x,p=c.y,g=c.width,w=c.height;return{x:u-g/2,y:p-w/2,x1:u+g/2,y1:p+w/2}},Jie=function(c){var u=c.startPoint,p=c.endPoint,g=(u.x+p.x)/2,w=(u.y+p.y)/2,C=Math.abs(u.x-p.x)+10,I=Math.abs(u.y-p.y)+10;return{x:g-C/2,y:w-I/2,x1:g+C/2,y1:w+I/2}},Qie=function(c){var u=c.points,p=Xp(u),g=Vm(p,8),w=g.x,C=g.y,I=g.width,U=g.height;return{x:w-I/2,y:C-U/2,x1:w+I/2,y1:C+U/2}},qie=function(c){var u=c.path,p=IE(u),g=Vm(p,8),w=g.x,C=g.y,I=g.width,U=g.height;return{x:w-I/2,y:C-U/2,x1:w+I/2,y1:C+U/2}},eae=function(c){if(c.modelType===Vt.LINE_EDGE)return Jie(c);if(c.modelType===Vt.POLYLINE_EDGE)return Qie(c);if(c.modelType===Vt.BEZIER_EDGE)return qie(c)};function CS(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?CS=function(u){return typeof u}:CS=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},CS(l)}var a3,s3,l3;function u3(l,c){return rae(l)||nae(l,c)||c3(l,c)||tae()}function tae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nae(l,c){var u=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(u!=null){var p=[],g=!0,w=!1,C,I;try{for(u=u.call(l);!(g=(C=u.next()).done)&&(p.push(C.value),!(c&&p.length===c));g=!0);}catch(U){w=!0,I=U}finally{try{!g&&u.return!=null&&u.return()}finally{if(w)throw I}}return p}}function rae(l){if(Array.isArray(l))return l}function oae(l){return sae(l)||aae(l)||c3(l)||iae()}function iae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c3(l,c){if(!!l){if(typeof l=="string")return X2(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return X2(l,c)}}function aae(l){if(typeof Symbol<"u"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}function sae(l){if(Array.isArray(l))return X2(l)}function X2(l,c){(c==null||c>l.length)&&(c=l.length);for(var u=0,p=new Array(c);u<c;u++)p[u]=l[u];return p}function lae(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function f3(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function uae(l,c,u){return c&&f3(l.prototype,c),u&&f3(l,u),l}function cae(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&Y2(l,c)}function Y2(l,c){return Y2=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},Y2(l,c)}function fae(l){var c=hae();return function(){var p=AS(l),g;if(c){var w=AS(this).constructor;g=Reflect.construct(p,arguments,w)}else g=p.apply(this,arguments);return dae(this,g)}}function dae(l,c){if(c&&(CS(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qm(l)}function qm(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function hae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function AS(l){return AS=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},AS(l)}function eg(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}var Z2=il(a3=(l3=s3=function(l){cae(u,l);var c=fae(u);function u(p){var g;lae(this,u),g=c.call(this),eg(qm(g),"stepDrag",void 0),eg(qm(g),"handleMouseDown",function(U){g.stepDrag.handleMouseDown(U)}),eg(qm(g),"onDraging",function(U){var q=U.deltaX,ce=U.deltaY,ge=g.props.graphModel,ke=ge.getSelectElements(!0);ge.moveNodes(ke.nodes.map(function(Ge){return Ge.id}),q,ce)}),eg(qm(g),"handleContextMenu",function(U){U.preventDefault();var q=g.props,ce=q.graphModel,ge=q.graphModel,ke=ge.eventCenter,Ge=ge.selectElements,gt=ce.getPointByClient({x:U.clientX,y:U.clientY}),Mt={nodes:[],edges:[]},Nt=oae(Ge.values());Nt.forEach(function(It){It.BaseType===$t.NODE&&Mt.nodes.push(It.getData()),It.BaseType===$t.EDGE&&Mt.edges.push(It.getData())}),ke.emit(Lt.SELECTION_CONTEXTMENU,{data:Mt,e:U,position:gt})});var w=p.graphModel,C=w.gridSize,I=w.eventCenter;return g.stepDrag=new Kd({onDraging:g.onDraging,step:C,eventType:"SELECTION",eventCenter:I}),g}return uae(u,[{key:"render",value:function(){var g=this.props.graphModel,w=g.selectElements,C=g.transformModel;if(!(w.size<=1)){var I=Number.MAX_SAFE_INTEGER,U=Number.MAX_SAFE_INTEGER,q=Number.MIN_SAFE_INTEGER,ce=Number.MIN_SAFE_INTEGER;w.forEach(function(Nt){var It={x:0,y:0,x1:0,y1:0};Nt.BaseType===$t.NODE&&(It=Zie(Nt)),Nt.BaseType===$t.EDGE&&(It=eae(Nt)),I=Math.min(I,It.x),U=Math.min(U,It.y),q=Math.max(q,It.x1),ce=Math.max(ce,It.y1)});var ge=C.CanvasPointToHtmlPoint([I,U]),ke=u3(ge,2);I=ke[0],U=ke[1];var Ge=C.CanvasPointToHtmlPoint([q,ce]),gt=u3(Ge,2);q=gt[0],ce=gt[1];var Mt={left:"".concat(I-10,"px"),top:"".concat(U-10,"px"),width:"".concat(q-I+20,"px"),height:"".concat(ce-U+20,"px")};return Object(Oe.g)("div",{className:"lf-multiple-select",style:Mt,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}]),u}(Oe.a),eg(s3,"toolName","multipleSelect"),l3))||a3;function pae(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function d3(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function vae(l,c,u){return c&&d3(l.prototype,c),u&&d3(l,u),l}function PS(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}var yae=function(){function l(c){pae(this,l),PS(this,"tools",void 0),PS(this,"components",void 0),PS(this,"toolMap",new Map),PS(this,"instance",void 0),this.instance=c,this.isDisabledTool(K2.toolName)||this.registerTool(K2.toolName,K2),this.isDisabledTool(Z2.toolName)||this.registerTool(Z2.toolName,Z2)}return vae(l,[{key:"isDisabledTool",value:function(u){return this.instance.options.disabledTools.indexOf(u)!==-1}},{key:"registerTool",value:function(u,p){this.toolMap.set(u,p)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}]),l}(),mae=o(167),gae=o.n(mae);function bae(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function h3(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function Eae(l,c,u){return c&&h3(l.prototype,c),u&&h3(l,u),l}function J2(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}var p3=function(){function l(c){bae(this,l),J2(this,"mousetrap",void 0),J2(this,"options",void 0),J2(this,"target",void 0),c.keyboard||(c.keyboard={enabled:!1}),this.options=c;var u=c.lf;this.target=u.container,this.mousetrap=new gae.a(this.target),c.keyboard.enabled&&this.enable(!0)}return Eae(l,[{key:"initShortcuts",value:function(){var u=this,p=this.options.keyboard.shortcuts;if(p)if(R(p))p.forEach(function(I){var U=I.keys,q=I.callback,ce=I.action;return u.on(U,q,ce)});else{var g=p.keys,w=p.callback,C=p.action;this.on(g,w,C)}}},{key:"on",value:function(u,p,g){this.mousetrap.bind(this.getKeys(u),p,g)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(u,p){this.mousetrap.unbind(this.getKeys(u),p)}},{key:"enable",value:function(u){(this.disabled||u)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(u){var p=this;return(Array.isArray(u)?u:[u]).map(function(g){return p.formatkey(g)})}},{key:"formatkey",value:function(u){var p=u.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command");return p}}]),l}(),Sae=p3,Ql=null;function v3(l,c){return l.x+=c,l.y+=c,l.text&&(l.text.x+=c,l.text.y+=c),l}function y3(l,c){return l.startPoint&&(l.startPoint.x+=c,l.startPoint.y+=c),l.endPoint&&(l.endPoint.x+=c,l.endPoint.y+=c),l.pointsList&&l.pointsList.length>0&&l.pointsList.forEach(function(u){u.x+=c,u.y+=c}),l.text&&(l.text.x+=c,l.text.y+=c),l}var xS=40;function wae(l,c){var u=l.keyboard,p=u.options.keyboard;u.on(["cmd + c","ctrl + c"],function(){if(!!p.enabled&&!c.textEditElement){var g=l.options.guards,w=c.getSelectElements(!1),C=g&&g.beforeClone?g.beforeClone(w):!0;return C?(Ql=w,Ql.nodes.forEach(function(I){return v3(I,xS)}),Ql.edges.forEach(function(I){return y3(I,xS)}),!1):(Ql=null,!1)}}),u.on(["cmd + v","ctrl + v"],function(){if(!!p.enabled&&!c.textEditElement){if(Ql&&(Ql.nodes||Ql.edges)){l.clearSelectElements();var g=l.addElements(Ql);if(!g)return;g.nodes.forEach(function(w){return l.selectElementById(w.id,!0)}),g.edges.forEach(function(w){return l.selectElementById(w.id,!0)}),Ql.nodes.forEach(function(w){return v3(w,xS)}),Ql.edges.forEach(function(w){return y3(w,xS)})}return!1}}),u.on(["cmd + z","ctrl + z"],function(){if(!!p.enabled&&!c.textEditElement)return l.undo(),!1}),u.on(["cmd + y","ctrl + y"],function(){if(!!p.enabled&&!c.textEditElement)return l.redo(),!1}),u.on(["backspace"],function(){if(!!p.enabled&&!c.textEditElement){var g=c.getSelectElements(!0);return l.clearSelectElements(),g.edges.forEach(function(w){return l.deleteEdge(w.id)}),g.nodes.forEach(function(w){return l.deleteNode(w.id)}),!1}})}function Oae(l,c){l.on("node:mousemove",function(u){var p=u.data;c.setNodeSnapLine(p)}),l.on("node:mouseup",function(){c.clearSnapline()})}function MS(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?MS=function(u){return typeof u}:MS=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},MS(l)}function m3(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),u.push.apply(u,p)}return u}function Q2(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?m3(Object(u),!0).forEach(function(p){si(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):m3(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}function _ae(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function g3(l,c){for(var u=0;u<c.length;u++){var p=c[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function Tae(l,c,u){return c&&g3(l.prototype,c),u&&g3(l,u),l}function si(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}var q2=function(){function l(c){var u=this;_ae(this,l),si(this,"container",void 0),si(this,"width",void 0),si(this,"height",void 0),si(this,"graphModel",void 0),si(this,"history",void 0),si(this,"viewMap",new Map),si(this,"tool",void 0),si(this,"keyboard",void 0),si(this,"dnd",void 0),si(this,"options",void 0),si(this,"snaplineModel",void 0),si(this,"components",[]),si(this,"plugins",void 0),si(this,"extension",{}),si(this,"adapterIn",void 0),si(this,"adapterOut",void 0),si(this,"getView",function(p){return u.viewMap.get(p)}),c=jD(c),this.options=c,this.container=c.container,this.plugins=c.plugins,this.graphModel=new $Q(Q2({},c)),this.tool=new yae(this),this.history=new Bie(this.graphModel.eventCenter),this.dnd=new wee({lf:this}),this.keyboard=new Sae({lf:this,keyboard:c.keyboard}),!c.isSilentMode&&c.snapline!==!1&&(this.snaplineModel=new iL(this.graphModel),Oae(this.graphModel.eventCenter,this.snaplineModel)),wae(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(c.disabledPlugins)}return Tae(l,[{key:"register",value:function(u,p){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(typeof u!="string"){this.registerElement(u);return}var w={BaseEdge:Qm,BaseEdgeModel:dC,BaseNode:Ku,BaseNodeModel:Gu,RectNode:h2,RectNodeModel:t2,CircleNode:y2,CircleNodeModel:HC,PolygonNode:b2,PolygonNodeModel:QC,TextNode:A2,TextNodeModel:r2,LineEdge:j2,LineEdgeModel:vC,DiamondNode:w2,DiamondNodeModel:KC,PolylineEdge:z2,PolylineEdgeModel:gC,BezierEdge:V2,BezierEdgeModel:zC,EllipseNode:T2,EllipseNodeModel:YC,HtmlNode:M2,HtmlNodeModel:i2,h:Oe.g,type:u};this.viewMap.forEach(function(ce){var ge=ce.extendKey;ge&&(w[ge]=ce)}),this.graphModel.modelMap.forEach(function(ce){var ge=ce.extendKey;ge&&(w[ge]=ce)});var C=p(w),I=C.view,U=C.model,q=I;g&&!q.isObervered&&(q.isObervered=!0,q=it(q)),this.setView(u,q),this.graphModel.setModel(u,U)}},{key:"registerElement",value:function(u){var p=u.view;u.isObserverView!==!1&&!p.isObervered&&(p.isObervered=!0,p=it(p)),this.setView(u.type,p),this.graphModel.setModel(u.type,u.model)}},{key:"batchRegister",value:function(){var u=this,p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];p.forEach(function(g){u.registerElement(g)})}},{key:"defaultRegister",value:function(){this.registerElement({view:h2,model:t2,type:"rect"}),this.registerElement({type:"circle",view:y2,model:HC}),this.registerElement({type:"polygon",view:b2,model:QC}),this.registerElement({type:"line",view:j2,model:vC}),this.registerElement({type:"polyline",view:z2,model:gC}),this.registerElement({type:"bezier",view:V2,model:zC}),this.registerElement({type:"text",view:A2,model:r2}),this.registerElement({type:"ellipse",view:T2,model:YC}),this.registerElement({type:"diamond",view:w2,model:KC}),this.registerElement({type:"html",view:M2,model:i2})}},{key:"selectElementById",value:function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.graphModel.selectElementById(u,p),p||this.graphModel.toFront(u)}},{key:"focusOn",value:function(u){var p=this.graphModel.transformModel,g=u.coordinate,w=u.id;if(!g){var C=this.getNodeModelById(w);C&&(g=C.getData());var I=this.getEdgeModelById(w);I&&(g=I.textPosition)}var U=g,q=U.x,ce=U.y;p.focusOn(q,ce,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(u){this.graphModel.setTheme(u)}},{key:"resize",value:function(u,p){this.graphModel.resize(u,p),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(u){this.graphModel.setDefaultEdgeType(u)}},{key:"updateText",value:function(u,p){this.graphModel.updateText(u,p)}},{key:"deleteElement",value:function(u){var p,g,w,C=this.getModelById(u);if(!C)return!1;var I=(p={},si(p,$t.NODE,this.deleteNode),si(p,$t.EDGE,this.deleteEdge),p),U=C.BaseType;return(g=(w=I[U])===null||w===void 0?void 0:w.call(this,u))!==null&&g!==void 0?g:!1}},{key:"getModelById",value:function(u){return this.graphModel.getElement(u)}},{key:"getDataById",value:function(u){return this.graphModel.getElement(u).getData()}},{key:"changeNodeType",value:function(u,p){this.graphModel.changeNodeType(u,p)}},{key:"changeEdgeType",value:function(u,p){this.graphModel.changeEdgeType(u,p)}},{key:"getNodeEdges",value:function(u){return this.graphModel.getNodeEdges(u)}},{key:"addNode",value:function(u){return this.graphModel.addNode(u)}},{key:"deleteNode",value:function(u){var p=this.graphModel.getNodeModelById(u);if(!p)return!1;var g=p.getData(),w=this.options.guards,C=w&&w.beforeDelete?w.beforeDelete(g):!0;return C&&this.graphModel.deleteNode(u),C}},{key:"cloneNode",value:function(u){var p=this.graphModel.getNodeModelById(u),g=p.getData(),w=this.options.guards,C=w&&w.beforeClone?w.beforeClone(g):!0;if(C)return this.graphModel.cloneNode(u)}},{key:"changeNodeId",value:function(u,p){return this.graphModel.changeNodeId(u,p)}},{key:"getNodeModelById",value:function(u){return this.graphModel.getNodeModelById(u)}},{key:"getNodeDataById",value:function(u){return this.graphModel.getNodeModelById(u).getData()}},{key:"addEdge",value:function(u){return this.graphModel.addEdge(u)}},{key:"deleteEdge",value:function(u){var p=this.options.guards,g=this.graphModel.edgesMap[u];if(!g)return!1;var w=g.model.getData(),C=p&&p.beforeDelete?p.beforeDelete(w):!0;return C&&this.graphModel.deleteEdgeById(u),C}},{key:"deleteEdgeByNodeId",value:function(u){var p=u.sourceNodeId,g=u.targetNodeId;p&&g?this.graphModel.deleteEdgeBySourceAndTarget(p,g):p?this.graphModel.deleteEdgeBySource(p):g&&this.graphModel.deleteEdgeByTarget(g)}},{key:"changeEdgeId",value:function(u,p){return this.graphModel.changeEdgeId(u,p)}},{key:"getEdgeModelById",value:function(u){var p,g=this.graphModel.edgesMap;return(p=g[u])===null||p===void 0?void 0:p.model}},{key:"getEdgeModels",value:function(u){var p=this.graphModel.edges,g=u.sourceNodeId,w=u.targetNodeId;if(g&&w){var C=[];return p.forEach(function(q){q.sourceNodeId===g&&q.targetNodeId===w&&C.push(q)}),C}if(g){var I=[];return p.forEach(function(q){q.sourceNodeId===g&&I.push(q)}),I}if(w){var U=[];return p.forEach(function(q){q.targetNodeId===w&&U.push(q)}),U}return[]}},{key:"getEdgeDataById",value:function(u){var p;return(p=this.getEdgeModelById(u))===null||p===void 0?void 0:p.getData()}},{key:"getNodeIncomingEdge",value:function(u){return this.graphModel.getNodeIncomingEdge(u)}},{key:"getNodeOutgoingEdge",value:function(u){return this.graphModel.getNodeOutgoingEdge(u)}},{key:"getNodeIncomingNode",value:function(u){return this.graphModel.getNodeIncomingNode(u)}},{key:"getNodeOutgoingNode",value:function(u){return this.graphModel.getNodeOutgoingNode(u)}},{key:"editText",value:function(u){this.graphModel.editText(u)}},{key:"setProperties",value:function(u,p){var g;(g=this.graphModel.getElement(u))===null||g===void 0||g.setProperties(Ji(p))}},{key:"deleteProperty",value:function(u,p){var g;(g=this.graphModel.getElement(u))===null||g===void 0||g.deleteProperty(p)}},{key:"getProperties",value:function(u){var p;return(p=this.graphModel.getElement(u))===null||p===void 0?void 0:p.getProperties()}},{key:"toFront",value:function(u){this.graphModel.toFront(u)}},{key:"setElementZIndex",value:function(u,p){return this.graphModel.setElementZIndex(u,p)}},{key:"addElements",value:function(u){for(var p=this,g=u.nodes,w=u.edges,C={},I={nodes:[],edges:[]},U=0;U<g.length;U++){var q=g[U],ce=q.id,ge=this.addNode(q);if(!ge)return;ce&&(C[ce]=ge.id),I.nodes.push(ge)}return w.forEach(function(ke){var Ge=ke.sourceNodeId,gt=ke.targetNodeId;C[Ge]&&(ke.sourceNodeId=C[Ge]),C[gt]&&(ke.targetNodeId=C[gt]);var Mt=p.graphModel.addEdge(ke);I.edges.push(Mt)}),I}},{key:"getAreaElement",value:function(u,p){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return this.graphModel.getAreaElement(u,p,g,w,C).map(function(I){return I.getData()})}},{key:"getSelectElements",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.graphModel.getSelectElements(u)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var u=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(u):u}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(u){this.graphModel.editConfigModel.updateEditConfig(u)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(u,p){return this.graphModel.getPointByClient({x:u,y:p})}},{key:"undo",value:function(){if(!!this.history.undoAble()){var u=Ji(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(u)}}},{key:"redo",value:function(){if(!!this.history.redoAble()){var u=Ji(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(u)}}},{key:"zoom",value:function(u,p){var g=this.graphModel.transformModel;return g.zoom(u,p)}},{key:"resetZoom",value:function(){var u=this.graphModel.transformModel;u.resetZoom()}},{key:"setZoomMiniSize",value:function(u){var p=this.graphModel.transformModel;p.setZoomMiniSize(u)}},{key:"setZoomMaxSize",value:function(u){var p=this.graphModel.transformModel;p.setZoomMaxSize(u)}},{key:"getTransform",value:function(){var u=this.graphModel.transformModel,p=u.SCALE_X,g=u.SCALE_Y,w=u.TRANSLATE_X,C=u.TRANSLATE_Y;return{SCALE_X:p,SCALE_Y:g,TRANSLATE_X:w,TRANSLATE_Y:C}}},{key:"translate",value:function(u,p){var g=this.graphModel.transformModel;g.translate(u,p)}},{key:"resetTranslate",value:function(){var u=this.graphModel.transformModel,p=u.TRANSLATE_X,g=u.TRANSLATE_Y;this.translate(-p,-g)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(u,p){p===void 0&&(p=u),this.graphModel.fitView(u,p)}},{key:"openEdgeAnimation",value:function(u){this.graphModel.openEdgeAnimation(u)}},{key:"closeEdgeAnimation",value:function(u){this.graphModel.closeEdgeAnimation(u)}},{key:"on",value:function(u,p){this.graphModel.eventCenter.on(u,p)}},{key:"off",value:function(u,p){this.graphModel.eventCenter.off(u,p)}},{key:"once",value:function(u,p){this.graphModel.eventCenter.once(u,p)}},{key:"emit",value:function(u,p){this.graphModel.eventCenter.emit(u,p)}},{key:"installPlugins",value:function(){var u,p=this,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],w=(u=this.plugins)!==null&&u!==void 0?u:l.extensions;w.forEach(function(C){var I=C.pluginName||C.name;g.indexOf(I)===-1&&p.installPlugin(C)})}},{key:"installPlugin",value:function(u){if(MS(u)==="object"){var p=u.install,g=u.render;p&&p.call(u,this,l),g&&this.components.push(g.bind(u)),this.extension[u.pluginName]=u;return}var w=u,C=new w({lf:this,LogicFlow:l});C.render&&this.components.push(C.render.bind(C)),this.extension[w.pluginName]=C}},{key:"updateAttributes",value:function(u,p){this.graphModel.updateAttributes(u,p)}},{key:"createFakerNode",value:function(u){var p=this.graphModel.modelMap.get(u.type);if(!p){console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(u.type,"\u7C7B\u578B\u7684\u8282\u70B9"));return}var g=new p(Q2(Q2({},u),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(g),g}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(u){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(u)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(u,p){this.viewMap.set(u,p)}},{key:"renderRawData",value:function(u){this.graphModel.graphDataToModel(Ji(u)),!this.options.isSilentMode&&this.options.history!==!1&&this.history.watch(this.graphModel),Object(Oe.j)(Object(Oe.g)(bee,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(Lt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(u=this.adapterIn(u)),this.renderRawData(u)}}],[{key:"use",value:function(u){var p=u.pluginName;p||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(u.name||u.constructor.name,"\u6307\u5B9ApluginName!")),p=u.name);var g=this.extensions.get(p);g&&g.destroy&&g.destroy(),this.extensions.set(p,u)}}]),l}();si(q2,"extensions",new Map);function il(l){return it(l)}r.default=q2}])})})(Un,Un.exports);const HN=t7(Un.exports);function Z4e(e,t){return t={exports:{}},e(t,t.exports),t.exports}var J4e=Z4e(function(e){var t=e.exports=function(n,r){if(r||(r=16),n===void 0&&(n=128),n<=0)return"0";for(var o=Math.log(Math.pow(2,n))/Math.log(r),i=2;o===1/0;i*=2)o=Math.log(Math.pow(2,n/i))/Math.log(r)*i;for(var a=o-Math.floor(o),s="",i=0;i<Math.floor(o);i++){var f=Math.floor(Math.random()*r).toString(r);s=f+s}if(a){var d=Math.pow(r,a),f=Math.floor(Math.random()*d).toString(r);s=f+s}var h=parseInt(s,r);return h!==1/0&&h>=Math.pow(2,n)?t(n,r):s};t.rack=function(n,r,o){var i=function(s){var f=0;do{if(f++>10)if(o)n+=o;else throw new Error("too many ID collisions, use more bits");var d=t(n,r)}while(Object.hasOwnProperty.call(a,d));return a[d]=s,d},a=i.hats={};return i.get=function(s){return i.hats[s]},i.set=function(s,f){return i.hats[s]=f,i},i.bits=n||128,i.base=r||16,i}});function vu(e){if(!(this instanceof vu))return new vu(e);e=e||[128,36,1],this._seed=e.length?J4e.rack(e[0],e[1],e[2]):e}vu.prototype.next=function(e){return this._seed(e||!0)};vu.prototype.nextPrefixed=function(e,t){var n;do n=e+this.next(!0);while(this.assigned(n));return this.claim(n,t),n};vu.prototype.claim=function(e,t){this._seed.set(e,t||!0)};vu.prototype.assigned=function(e){return this._seed.get(e)||!1};vu.prototype.unclaim=function(e){delete this._seed.hats[e]};vu.prototype.clear=function(){var e=this._seed.hats,t;for(t in e)this.unclaim(t)};var Q4e=new vu([32,32,1]);function Ry(){return Q4e.next()}var NW=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(e){NW(t,e);function t(n,r){var o=this;return n.id||(n.id="Event_"+Ry()),n.text||(n.text=""),n.text&&typeof n.text=="string"&&(n.text={value:n.text,x:n.x,y:n.y+40}),o=e.call(this,n,r)||this,o}return t.prototype.setAttributes=function(){this.r=18},t.prototype.getConnectedTargetRules=function(){var n=e.prototype.getConnectedTargetRules.call(this),r={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return n.push(r),n},t.extendKey="StartEventModel",t})(Un.exports.CircleNodeModel);(function(e){NW(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.extendKey="StartEventNode",t})(Un.exports.CircleNode);var RW=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),NO=globalThis&&globalThis.__assign||function(){return NO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},NO.apply(this,arguments)};(function(e){RW(t,e);function t(n,r){var o=this;return n.id||(n.id="Event_"+Ry()),n.text||(n.text=""),n.text&&typeof n.text=="string"&&(n.text={value:n.text,x:n.x,y:n.y+40}),o=e.call(this,n,r)||this,o}return t.prototype.setAttributes=function(){this.r=18},t.prototype.getConnectedSourceRules=function(){var n=e.prototype.getConnectedSourceRules.call(this),r={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return n.push(r),n},t.extendKey="EndEventModel",t})(Un.exports.CircleNodeModel);(function(e){RW(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},t.prototype.getShape=function(){var n=this.props.model,r=n.getNodeStyle(),o=n.x,i=n.y,a=n.r,s=e.prototype.getShape.call(this);return Un.exports.h("g",{},s,Un.exports.h("circle",NO(NO({},r),{cx:o,cy:i,r:a-5})))},t.extendKey="EndEventView",t})(Un.exports.CircleNode);var IW=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xg=globalThis&&globalThis.__assign||function(){return Xg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Xg.apply(this,arguments)};(function(e){IW(t,e);function t(n,r){var o=this;return n.id||(n.id="Gateway_"+Ry()),n.text||(n.text=""),n.text&&typeof n.text=="string"&&(n.text={value:n.text,x:n.x,y:n.y+40}),o=e.call(this,n,r)||this,o.points=[[25,0],[50,25],[25,50],[0,25]],o}return t.extendKey="ExclusiveGatewayModel",t})(Un.exports.PolygonNodeModel);(function(e){IW(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getShape=function(){var n=this.props.model,r=n.x,o=n.y,i=n.width,a=n.height,s=n.points,f=n.getNodeStyle();return Un.exports.h("g",{transform:"matrix(1 0 0 1 "+(r-i/2)+" "+(o-a/2)+")"},Un.exports.h("polygon",Xg(Xg({},f),{x:r,y:o,points:s})),Un.exports.h("path",Xg({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},f)))},t.extendKey="ExclusiveGatewayNode",t})(Un.exports.PolygonNode);var DW=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),RO=globalThis&&globalThis.__assign||function(){return RO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},RO.apply(this,arguments)};(function(e){DW(t,e);function t(n,r){var o=this;return n.id||(n.id="Activity_"+Ry()),o=e.call(this,n,r)||this,o}return t.extendKey="UserTaskModel",t})(Un.exports.RectNodeModel);(function(e){DW(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getLabelShape=function(){var n=this.props.model,r=n.x,o=n.y,i=n.width,a=n.height,s=n.getNodeStyle();return Un.exports.h("svg",{x:r-i/2+5,y:o-a/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Un.exports.h("path",{fill:s.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},t.prototype.getShape=function(){var n=this.props.model,r=n.x,o=n.y,i=n.width,a=n.height,s=n.radius,f=n.getNodeStyle();return Un.exports.h("g",{},[Un.exports.h("rect",RO(RO({},f),{x:r-i/2,y:o-a/2,rx:s,ry:s,width:i,height:a})),this.getLabelShape()])},t.extendKey="UserTaskNode",t})(Un.exports.RectNode);var kW=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sx=globalThis&&globalThis.__assign||function(){return Sx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Sx.apply(this,arguments)};(function(e){kW(t,e);function t(n,r){var o=this;return n.id||(n.id="Activity_"+Ry()),o=e.call(this,n,r)||this,o}return t.extendKey="ServiceTaskModel",t})(Un.exports.RectNodeModel);(function(e){kW(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getLabelShape=function(){var n=this.props.model,r=n.x,o=n.y,i=n.width,a=n.height,s=n.getNodeStyle();return Un.exports.h("svg",{x:r-i/2+5,y:o-a/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Un.exports.h("path",{fill:s.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},t.prototype.getShape=function(){var n=this.props.model,r=n.x,o=n.y,i=n.width,a=n.height,s=n.radius,f=n.getNodeStyle();return Un.exports.h("g",{},[Un.exports.h("rect",Sx({x:r-i/2,y:o-a/2,rx:s,ry:s,width:i,height:a},f)),this.getLabelShape()])},t.extendKey="ServiceTaskNode",t})(Un.exports.RectNode);var LW=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(e){LW(t,e);function t(n,r){var o=this;return n.id||(n.id="Flow_"+Ry()),o=e.call(this,n,r)||this,o}return t.extendKey="SequenceFlowModel",t})(Un.exports.PolylineEdgeModel);(function(e){LW(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.extendKey="SequenceFlowEdge",t})(Un.exports.PolylineEdge);var jB={width:40,height:40},FB={width:40,height:40},zB={width:40,height:40},UB={width:100,height:80},VB={width:100,height:80},q4e=function(){function e(t){var n=this,r=t.lf;this.lf=r,this.customCssRules="",this.useGlobalRules=!0,r.getSnapshot=function(o,i){n.getSnapshot(o,i)},r.getSnapshotBlob=function(o){return n.getSnapshotBlob(o)},r.getSnapshotBase64=function(o){return n.getSnapshotBase64(o)}}return e.prototype.getSvgRootElement=function(t){var n=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,t.graphModel.nodes.forEach(function(o){var i=o.x,a=o.width,s=o.y,f=o.height,d=i-a/2,h=s-f/2;d<n.offsetX&&(n.offsetX=d-5),h<n.offsetY&&(n.offsetY=h-5)}),t.graphModel.edges.forEach(function(o){o.pointsList&&o.pointsList.forEach(function(i){var a=i.x,s=i.y;a<n.offsetX&&(n.offsetX=a-5),s<n.offsetY&&(n.offsetY=s-5)})});var r=t.container.querySelector(".lf-canvas-overlay");return r},e.prototype.triggerDownload=function(t){var n=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),r=document.createElement("a");r.setAttribute("download",this.fileName),r.setAttribute("href",t),r.setAttribute("target","_blank"),r.dispatchEvent(n)},e.prototype.removeAnchor=function(t){for(var n=t.childNodes,r=t.childNodes&&t.childNodes.length,o=0;o<r;o++){var i=n[o],a=i.classList&&Array.from(i.classList)||[];a.indexOf("lf-anchor")>-1&&(t.removeChild(t.childNodes[o]),r--,o--)}},e.prototype.getSnapshot=function(t,n){var r=this;this.fileName=t||"logic-flow."+Date.now()+".png";var o=this.getSvgRootElement(this.lf);this.getCanvasData(o,n).then(function(i){var a=i.toDataURL("image/png").replace("image/png","image/octet-stream");r.triggerDownload(a)})},e.prototype.getSnapshotBase64=function(t){var n=this,r=this.getSvgRootElement(this.lf);return new Promise(function(o){n.getCanvasData(r,t).then(function(i){var a=i.toDataURL("image/png");o({data:a,width:i.width,height:i.height})})})},e.prototype.getSnapshotBlob=function(t){var n=this,r=this.getSvgRootElement(this.lf);return new Promise(function(o){n.getCanvasData(r,t).then(function(i){i.toBlob(function(a){o({data:a,width:i.width,height:i.height})},"image/png")})})},e.prototype.getClassRules=function(){var t="";if(this.useGlobalRules)for(var n=document.styleSheets,r=0;r<n.length;r++)for(var o=n[r],i=0;i<o.cssRules.length;i++)t+=o.cssRules[i].cssText;return this.customCssRules&&(t+=this.customCssRules),t},e.prototype.getCanvasData=function(t,n){var r=this,o=t.cloneNode(!0),i=o.lastChild,a=i.childNodes&&i.childNodes.length;if(a)for(var s=0;s<a;s++){var f=i.childNodes[s],d=f.classList&&Array.from(f.classList);if(d&&d.indexOf("lf-base")<0)i.removeChild(i.childNodes[s]),a--,s--;else{var h=i.childNodes[s];h&&h.childNodes.forEach(function(k){var F=k;r.removeAnchor(F.firstChild)})}}o.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var v=window.devicePixelRatio||1,y=document.createElement("canvas"),m=this.lf.graphModel.rootEl.querySelector(".lf-base"),b=m.getBoundingClientRect(),S=this.lf.graphModel,O=S.transformModel,_=O.SCALE_X,A=O.SCALE_Y,T=Math.ceil(b.width/_),P=Math.ceil(b.height/A);y.style.width=T+"px",y.style.height=P+"px",y.width=T*v+80,y.height=P*v+80;var x=y.getContext("2d");x.clearRect(0,0,y.width,y.height),x.scale(v,v),n?(x.fillStyle=n,x.fillRect(0,0,T*v+80,P*v+80)):x.clearRect(0,0,T,P);var N=new Image,L=document.createElement("style");L.innerHTML=this.getClassRules();var j=document.createElement("foreignObject");return j.appendChild(L),o.appendChild(j),new Promise(function(k){N.onload=function(){x.drawImage(N,0,0),k(y)};var F="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(o),z=F.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");N.src=z})},e.pluginName="snapshot",e}(),eBe=new vu([32,32,1]);function HB(){return eBe.next()}var Va=function(){};Va.ObjTree=function(){return this};Va.ObjTree.VERSION="0.23";Va.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;Va.ObjTree.prototype.attr_prefix="-";Va.ObjTree.prototype.parseXML=function(e){var t;if(window.DOMParser){var n=new DOMParser,r=n.parseFromString(e,"application/xml");if(!r)return;t=r.documentElement}else window.ActiveXObject&&(n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1,n.loadXML(e),t=n.documentElement);if(!!t)return this.parseDOM(t)};Va.ObjTree.prototype.parseHTTP=function(e,t,n){var r={};for(var o in t)r[o]=t[o];if(r.method||(typeof r.postBody>"u"&&typeof r.postbody>"u"&&typeof r.parameters>"u"?r.method="get":r.method="post"),n){r.asynchronous=!0;var i=this,a=n,s=r.onComplete;r.onComplete=function(h){var v;h&&h.responseXML&&h.responseXML.documentElement&&(v=i.parseDOM(h.responseXML.documentElement)),a(v,h),s&&s(h)}}else r.asynchronous=!1;var f;if(typeof HTTP<"u"&&HTTP.Request){r.uri=e;var d=new HTTP.Request(r);d&&(f=d.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var d=new Ajax.Request(e,r);d&&(f=d.transport)}if(n)return f;if(f&&f.responseXML&&f.responseXML.documentElement)return this.parseDOM(f.responseXML.documentElement)};Va.ObjTree.prototype.parseDOM=function(e){if(!!e){if(this.__force_array={},this.force_array)for(var t=0;t<this.force_array.length;t++)this.__force_array[this.force_array[t]]=1;var n=this.parseElement(e);if(this.__force_array[e.nodeName]&&(n=[n]),e.nodeType!=11){var r={};r[e.nodeName]=n,n=r}return n}};Va.ObjTree.prototype.parseElement=function(e){if(e.nodeType!=7){if(e.nodeType==3||e.nodeType==4){var t=e.nodeValue.match(/[^\x00-\x20]/);return t==null?void 0:e.nodeValue}var n,r={};if(e.attributes&&e.attributes.length){n={};for(var o=0;o<e.attributes.length;o++){var i=e.attributes[o].nodeName;if(typeof i=="string"){var a=e.attributes[o].nodeValue;!a||(i=this.attr_prefix+i,typeof r[i]>"u"&&(r[i]=0),r[i]++,this.addNode(n,i,r[i],a))}}}if(e.childNodes&&e.childNodes.length){var s=!0;n&&(s=!1);for(var o=0;o<e.childNodes.length&&s;o++){var f=e.childNodes[o].nodeType;f==3||f==4||(s=!1)}if(s){n||(n="");for(var o=0;o<e.childNodes.length;o++)n+=e.childNodes[o].nodeValue}else{n||(n={});for(var o=0;o<e.childNodes.length;o++){var i=e.childNodes[o].nodeName;if(typeof i=="string"){var a=this.parseElement(e.childNodes[o]);!a||(typeof r[i]>"u"&&(r[i]=0),r[i]++,this.addNode(n,i,r[i],a))}}}}return n}};Va.ObjTree.prototype.addNode=function(e,t,n,r){this.__force_array[t]?(n==1&&(e[t]=[]),e[t][e[t].length]=r):n==1?e[t]=r:n==2?e[t]=[e[t],r]:e[t][e[t].length]=r};Va.ObjTree.prototype.writeXML=function(e){var t=this.hash_to_xml(null,e);return this.xmlDecl+t};Va.ObjTree.prototype.hash_to_xml=function(e,t){var n=[],r=[];for(var o in t)if(!!t.hasOwnProperty(o)){var i=t[o];o.charAt(0)!=this.attr_prefix?typeof i>"u"||i==null?n[n.length]="<"+o+" />":typeof i=="object"&&i.constructor==Array?n[n.length]=this.array_to_xml(o,i):typeof i=="object"?n[n.length]=this.hash_to_xml(o,i):n[n.length]=this.scalar_to_xml(o,i):r[r.length]=" "+o.substring(1)+'="'+this.xml_escape(i)+'"'}var a=r.join(""),s=n.join("");return typeof e>"u"||e==null||(n.length>0?s.match(/\n/)?s="<"+e+a+`>
`+s+"</"+e+`>
`:s="<"+e+a+">"+s+"</"+e+`>
`:s="<"+e+a+` />
`),s};Va.ObjTree.prototype.array_to_xml=function(e,t){for(var n=[],r=0;r<t.length;r++){var o=t[r];typeof o>"u"||o==null?n[n.length]="<"+e+" />":typeof o=="object"&&o.constructor==Array?n[n.length]=this.array_to_xml(e,o):typeof o=="object"?n[n.length]=this.hash_to_xml(e,o):n[n.length]=this.scalar_to_xml(e,o)}return n.join("")};Va.ObjTree.prototype.scalar_to_xml=function(e,t){return e=="#text"?this.xml_escape(t):"<"+e+">"+this.xml_escape(t)+"</"+e+`>
`};Va.ObjTree.prototype.xml_escape=function(e){return e.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var k_=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},yu;(function(e){e.START="bpmn:startEvent",e.END="bpmn:endEvent",e.GATEWAY="bpmn:exclusiveGateway",e.USER="bpmn:userTask",e.SYSTEM="bpmn:serviceTask",e.FLOW="bpmn:sequenceFlow"})(yu||(yu={}));var $W=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function wx(e){var t={};return Object.entries(e).forEach(function(n){var r=k_(n,2),o=r[0],i=r[1];typeof i!="object"?o.indexOf("-")===0?t[o]=i:t["-"+o]=i:t[o]=wx(i)}),t}function GN(e){var t={};return Object.entries(e).forEach(function(n){var r=k_(n,2),o=r[0],i=r[1];typeof i=="string"?o.indexOf("-")===0?t[o.substr(1)]=i:t[o]=i:typeof i=="object"?t[o]=GN(i):t[o]=i}),t}function tBe(e,t){var n=new Map;t.nodes.forEach(function(o){var i,a={"-id":o.id};if(!((i=o.text)===null||i===void 0)&&i.value&&(a["-name"]=o.text.value),o.properties){var s=wx(o.properties);Object.assign(a,s)}n.set(o.id,a),e[o.type]?Array.isArray(e[o.type])?e[o.type].push(a):e[o.type]=[e[o.type],a]:e[o.type]=a});var r=t.edges.map(function(o){var i,a,s=n.get(o.targetNodeId);s["bpmn:incoming"]?Array.isArray(s["bpmn:incoming"])?s["bpmn:incoming"].push(o.id):s["bpmn:incoming"]=[s["bpmn:incoming"],o.id]:s["bpmn:incoming"]=o.id;var f=n.get(o.sourceNodeId);f["bpmn:outgoing"]?Array.isArray(f["bpmn:outgoing"])?f["bpmn:outgoing"].push(o.id):f["bpmn:outgoing"]=[f["bpmn:outgoing"],o.id]:f["bpmn:outgoing"]=o.id;var d={"-id":o.id,"-sourceRef":o.sourceNodeId,"-targetRef":o.targetNodeId};if(!((i=o.text)===null||i===void 0)&&i.value&&(d["-name"]=(a=o.text)===null||a===void 0?void 0:a.value),o.properties){var h=wx(o.properties);Object.assign(d,h)}return d});e[yu.FLOW]=r}function nBe(e,t){e["bpmndi:BPMNEdge"]=t.edges.map(function(n){var r,o=n.id,i=n.pointsList.map(function(s){var f=s.x,d=s.y;return{"-x":f,"-y":d}}),a={"-id":o+"_di","-bpmnElement":o,"di:waypoint":i};return!((r=n.text)===null||r===void 0)&&r.value&&(a["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":n.text.x-n.text.value.length*10/2,"-y":n.text.y-7,"-width":n.text.value.length*10,"-height":14}}),a}),e["bpmndi:BPMNShape"]=t.nodes.map(function(n){var r,o=n.id,i=100,a=80,s=n.x,f=n.y,d=np.shapeConfigMap.get(n.type);d&&(i=d.width,a=d.height),s-=i/2,f-=a/2;var h={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":s,"-y":f,"-width":i,"-height":a}};return!((r=n.text)===null||r===void 0)&&r.value&&(h["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":n.text.x-n.text.value.length*10/2,"-y":n.text.y-7,"-width":n.text.value.length*10,"-height":14}}),h})}function rBe(e){var t=[],n=[],r=e["bpmn:definitions"];if(r){var o=r["bpmn:process"];Object.keys(o).forEach(function(i){if(i.indexOf("bpmn:")===0){var a=o[i];if(i===yu.FLOW){var s=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];n=iBe(a,s)}else{var f=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];t=t.concat(oBe(a,f,i))}}})}return{nodes:t,edges:n}}function oBe(e,t,n){var r=[];if(Array.isArray(e))e.forEach(function(a){var s;Array.isArray(t)?s=t.find(function(d){return d["-bpmnElement"]===a["-id"]}):s=t;var f=GB(s,n,a);r.push(f)});else{var o=void 0;Array.isArray(t)?o=t.find(function(a){return a["-bpmnElement"]===e["-id"]}):o=t;var i=GB(o,n,e);r.push(i)}return r}function GB(e,t,n){var r=Number(e["dc:Bounds"]["-x"]),o=Number(e["dc:Bounds"]["-y"]),i=n["-name"],a=np.shapeConfigMap.get(t);a&&(r+=a.width/2,o+=a.height/2);var s;Object.entries(n).forEach(function(v){var y=k_(v,2),m=y[0],b=y[1];$W.indexOf(m)===-1&&(s||(s={}),s[m]=b)}),s&&(s=GN(s));var f;if(i&&(f={x:r,y:o,value:i},e["bpmndi:BPMNLabel"]&&e["bpmndi:BPMNLabel"]["dc:Bounds"])){var d=e["bpmndi:BPMNLabel"]["dc:Bounds"];f.x=Number(d["-x"])+Number(d["-width"])/2,f.y=Number(d["-y"])+Number(d["-height"])/2}var h={id:e["-bpmnElement"],type:t,x:r,y:o,properties:s};return f&&(h.text=f),h}function iBe(e,t){var n=[];if(Array.isArray(e))e.forEach(function(o){var i;Array.isArray(t)?i=t.find(function(a){return a["-bpmnElement"]===o["-id"]}):i=t,n.push(WB(i,o))});else{var r=void 0;Array.isArray(t)?r=t.find(function(o){return o["-bpmnElement"]===e["-id"]}):r=t,n.push(WB(r,e))}return n}function WB(e,t){var n,r=t["-name"];if(r){var o=e["bpmndi:BPMNLabel"]["dc:Bounds"],i=0;r.split(`
`).forEach(function(f){i<f.length&&(i=f.length)}),n={value:r,x:Number(o["-x"])+i*10/2,y:Number(o["-y"])+7}}var a;Object.entries(t).forEach(function(f){var d=k_(f,2),h=d[0],v=d[1];$W.indexOf(h)===-1&&(a||(a={}),a[h]=v)}),a&&(a=GN(a));var s={id:t["-id"],type:yu.FLOW,pointsList:e["di:waypoint"].map(function(f){return{x:Number(f["-x"]),y:Number(f["-y"])}}),sourceNodeId:t["-sourceRef"],targetNodeId:t["-targetRef"],properties:a};return n&&(s.text=n),s}var np={pluginName:"bpmn-adapter",install:function(e){e.adapterIn=this.adapterIn,e.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(e,t){this.shapeConfigMap.set(e,t)},adapterOut:function(e){var t={"-id":"Process_"+HB(),"-isExecutable":"false"};tBe(t,e);var n={"-id":"BPMNPlane_1","-bpmnElement":t["-id"]};nBe(n,e);var r={"bpmn:definitions":{"-id":"Definitions_"+HB(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":t,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":n}}};return r},adapterIn:function(e){if(e)return rBe(e)}};np.shapeConfigMap.set(yu.START,{width:jB.width,height:jB.height});np.shapeConfigMap.set(yu.END,{width:FB.width,height:FB.height});np.shapeConfigMap.set(yu.GATEWAY,{width:zB.width,height:zB.height});np.shapeConfigMap.set(yu.SYSTEM,{width:UB.width,height:UB.height});np.shapeConfigMap.set(yu.USER,{width:VB.width,height:VB.height});var KB=globalThis&&globalThis.__assign||function(){return KB=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},KB.apply(this,arguments)};globalThis&&globalThis.__read;var XB;(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"})(XB||(XB={}));var aBe=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};globalThis&&globalThis.__spread;var sBe=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},lBe=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(sBe(arguments[t]));return e},uBe=function(){function e(t){var n=this,r=t.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"\u7F29\u5C0F\u6D41\u7A0B\u56FE",text:"\u7F29\u5C0F",onClick:function(){n.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"\u653E\u5927\u6D41\u7A0B\u56FE",text:"\u653E\u5927",onClick:function(){n.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"\u6062\u590D\u6D41\u7A0B\u539F\u6709\u5C3A\u5BF8",text:"\u9002\u5E94",onClick:function(){n.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"\u56DE\u5230\u4E0A\u4E00\u6B65",text:"\u4E0A\u4E00\u6B65",onClick:function(){n.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"\u79FB\u5230\u4E0B\u4E00\u6B65",text:"\u4E0B\u4E00\u6B65",onClick:function(){n.lf.redo()}}],this.lf=r}return e.prototype.render=function(t,n){this.destroy();var r=this.getControlTool();this.toolEl=r,n.appendChild(r),this.domContainer=n},e.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},e.prototype.addItem=function(t){this.controlItems.push(t)},e.prototype.removeItem=function(t){var n=this.controlItems.findIndex(function(r){return r.key===t});return this.controlItems.splice(n,1)[0]},e.prototype.getControlTool=function(){var t=this,n="lf-control-item",r="lf-control-item disabled",o=document.createElement("div"),i=[];return o.className="lf-control",this.controlItems.forEach(function(a){var s=document.createElement("div"),f=document.createElement("i"),d=document.createElement("span");switch(s.className=r,a.onClick&&(s.onclick=a.onClick.bind(null,t.lf)),a.onMouseEnter&&(s.onmouseenter=a.onMouseEnter.bind(null,t.lf)),a.onMouseLeave&&(s.onmouseleave=a.onMouseLeave.bind(null,t.lf)),f.className=a.iconClass,d.className="lf-control-text",d.title=a.title,d.innerText=a.text,s.append(f,d),a.text){case"\u4E0A\u4E00\u6B65":t.lf.on("history:change",function(h){var v=h.data.undoAble;s.className=v?n:r});break;case"\u4E0B\u4E00\u6B65":t.lf.on("history:change",function(h){var v=h.data.redoAble;s.className=v?n:r});break;default:s.className=n;break}i.push(s)}),o.append.apply(o,lBe(i)),o},e.pluginName="control",e}(),cBe=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},fBe=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(cBe(arguments[t]));return e},ug="lf:defaultNodeMenu",cg="lf:defaultEdgeMenu",fg="lf:defaultGraphMenu",YB="lf:defaultSelectionMenu",dBe=function(){function e(t){var n=this,r=t.lf;this.__menuDOM=document.createElement("ul"),this.lf=r,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(o){n.setMenuConfig(o)},this.lf.addMenuConfig=function(o){n.addMenuConfig(o)},this.lf.setMenuByType=function(o){n.setMenuByType(o)}}return e.prototype.init=function(){var t=this,n=[{text:"\u5220\u9664",callback:function(i){t.lf.deleteNode(i.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(i){t.lf.graphModel.editText(i.id)}},{text:"\u590D\u5236",callback:function(i){t.lf.cloneNode(i.id)}}];this.menuTypeMap.set(ug,n);var r=[{text:"\u5220\u9664",callback:function(i){t.lf.deleteEdge(i.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(i){t.lf.graphModel.editText(i.id)}}];this.menuTypeMap.set(cg,r),this.menuTypeMap.set(fg,[]);var o=[{text:"\u5220\u9664",callback:function(i){t.lf.clearSelectElements(),i.edges.forEach(function(a){return t.lf.deleteEdge(a.id)}),i.nodes.forEach(function(a){return t.lf.deleteNode(a.id)})}}];this.menuTypeMap.set(YB,o)},e.prototype.render=function(t,n){var r=this;this.__container=n,this.__currentData=null,this.__menuDOM.className="lf-menu",n.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(o){o.stopPropagation();for(var i=o.target;Array.from(i.classList).indexOf("lf-menu-item")===-1&&Array.from(i.classList).indexOf("lf-menu")===-1;)i=i.parentElement;Array.from(i.classList).indexOf("lf-menu-item")>-1?(i.onclickCallback(r.__currentData),r.__menuDOM.style.display="none",r.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(o){var i=o.data,a=o.position,s=a.domOverlayPosition,f=s.x,d=s.y,h=i.id,v=r.lf.graphModel.getNodeModelById(h),y=[],m=r.menuTypeMap.get(v.type);v&&v.menu&&Array.isArray(v.menu)?y=v.menu:m?y=m:y=r.menuTypeMap.get(ug),r.__currentData=i,r.showMenu(f,d,y)}),this.lf.on("edge:contextmenu",function(o){var i=o.data,a=o.position,s=a.domOverlayPosition,f=s.x,d=s.y,h=i.id,v=r.lf.graphModel.getEdgeModelById(h),y=[],m=r.menuTypeMap.get(v.type);v&&v.menu&&Array.isArray(v.menu)?y=v.menu:m?y=m:y=r.menuTypeMap.get(cg),r.__currentData=i,r.showMenu(f,d,y)}),this.lf.on("blank:contextmenu",function(o){var i=o.position,a=r.menuTypeMap.get(fg),s=i.domOverlayPosition,f=s.x,d=s.y;r.showMenu(f,d,a)}),this.lf.on("selection:contextmenu",function(o){var i=o.data,a=o.position,s=r.menuTypeMap.get(YB),f=a.domOverlayPosition,d=f.x,h=f.y;r.__currentData=i,r.showMenu(d,h,s)}),this.lf.on("node:mousedown",function(){r.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){r.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){r.__menuDOM.style.display="none"})},e.prototype.destroy=function(){var t;(t=this===null||this===void 0?void 0:this.__container)===null||t===void 0||t.removeChild(this.__menuDOM),this.__menuDOM=null},e.prototype.showMenu=function(t,n,r){if(!(!r||!r.length)){var o=this.__menuDOM;o.innerHTML="",o.append.apply(o,fBe(this.__getMenuDom(r))),o.children.length&&(o.style.display="block",o.style.top=n+"px",o.style.left=t+"px")}},e.prototype.setMenuByType=function(t){!t.type||!t.menu||this.menuTypeMap.set(t.type,t.menu)},e.prototype.__getMenuDom=function(t){var n=[];return t&&t.length>0&&t.forEach(function(r){var o=document.createElement("li");if(r.className?o.className="lf-menu-item "+r.className:o.className="lf-menu-item",r.icon===!0){var i=document.createElement("span");i.className="lf-menu-item-icon",o.appendChild(i)}var a=document.createElement("span");a.className="lf-menu-item-text",r.text&&(a.innerText=r.text),o.appendChild(a),o.onclickCallback=r.callback,n.push(o)}),n},e.prototype.setMenuConfig=function(t){!t||(t.nodeMenu!==void 0&&this.menuTypeMap.set(ug,t.nodeMenu?t.nodeMenu:[]),t.edgeMenu!==void 0&&this.menuTypeMap.set(cg,t.edgeMenu?t.edgeMenu:[]),t.graphMenu!==void 0&&this.menuTypeMap.set(fg,t.graphMenu?t.graphMenu:[]))},e.prototype.addMenuConfig=function(t){if(!!t){if(Array.isArray(t.nodeMenu)){var n=this.menuTypeMap.get(ug);this.menuTypeMap.set(ug,n.concat(t.nodeMenu))}if(Array.isArray(t.edgeMenu)){var n=this.menuTypeMap.get(cg);this.menuTypeMap.set(cg,n.concat(t.edgeMenu))}if(Array.isArray(t.graphMenu)){var n=this.menuTypeMap.get(fg);this.menuTypeMap.set(fg,n.concat(t.graphMenu))}}},e.prototype.changeMenuItem=function(t,n){if(t==="add")this.addMenuConfig(n);else if(t==="reset")this.setMenuConfig(n);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},e.pluginName="menu",e}();globalThis&&globalThis.__read;var hBe=function(){function e(t){var n=this,r=t.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(i){var a=n.lf.getPointByClient(i.clientX,i.clientY).domOverlayPosition,s=a.x,f=a.y;n.endPoint={x:s,y:f};var d=n.startPoint,h=d.x,v=d.y,y=n.wrapper.style,m=h,b=v,S=s-h,O=f-v;s<h&&(m=s,S=h-s),f<v&&(b=f,O=v-f),y.left=m+"px",y.top=b+"px",y.width=S+"px",y.height=O+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",n.__draw),document.removeEventListener("mouseup",n.__drawOff),n.wrapper.oncontextmenu=null,n.__domContainer.removeChild(n.wrapper);var i=n.startPoint,a=i.x,s=i.y,f=n.endPoint,d=f.x,h=f.y;if(!(Math.abs(d-a)<10&&Math.abs(h-s)<10)){var v=[Math.min(a,d),Math.min(s,h)],y=[Math.max(a,d),Math.max(s,h)],m=n.lf.graphModel.getAreaElement(v,y,n.isWholeEdge,n.isWholeNode,!0),b=n.lf.graphModel.group;m.forEach(function(S){(!b||!b.getNodeGroup(S.id))&&n.lf.selectElementById(S.id,!0)}),n.lf.emit("selection:selected",m)}},this.lf=r;var o=r.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=o,r.openSelectionSelect=function(){n.openSelectionSelect()},r.closeSelectionSelect=function(){n.closeSelectionSelect()}}return e.prototype.render=function(t,n){var r=this;this.__domContainer=n,t.on("blank:mousedown",function(o){var i=o.e,a=t.getEditConfig();if(!(!a.stopMoveGraph||r.__disabled)){var s=t.getPointByClient(i.clientX,i.clientY).domOverlayPosition,f=s.x,d=s.y;r.startPoint={x:f,y:d},r.endPoint={x:f,y:d};var h=document.createElement("div");h.className="lf-selection-select",h.oncontextmenu=function(y){y.preventDefault()},h.style.top=r.startPoint.y+"px",h.style.left=r.startPoint.x+"px",n.appendChild(h),r.wrapper=h,document.addEventListener("mousemove",r.__draw),document.addEventListener("mouseup",r.__drawOff)}})},e.prototype.setSelectionSense=function(t,n){t===void 0&&(t=!0),n===void 0&&(n=!0),this.isWholeEdge=t,this.isWholeNode=n},e.prototype.openSelectionSelect=function(){var t=this.lf.getEditConfig().stopMoveGraph;t||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},e.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},e.prototype.open=function(){this.__disabled=!1},e.prototype.close=function(){this.__disabled=!0},e.pluginName="selectionSelect",e}();globalThis&&globalThis.__values;var BW=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zv=globalThis&&globalThis.__assign||function(){return zv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},zv.apply(this,arguments)},xf=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};(function(e){BW(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.pointFilter=function(n){for(var r=n,o=1;o<r.length-1;){var i=xf(r[o-1],2),a=i[0],s=i[1],f=xf(r[o],2),d=f[0],h=f[1],v=xf(r[o+1],2),y=v[0],m=v[1];a===d&&d===y||s===h&&h===m?r.splice(o,1):o++}return r},t.prototype.getEdge=function(){for(var n=this.props.model,r=n.points,o=n.isAnimation,i=n.arrowConfig,a=n.radius,s=a===void 0?5:a,f=n.getEdgeStyle(),d=n.getEdgeAnimationStyle(),h=this.pointFilter(r.split(" ").map(function(V){return V.split(",").map(function(Y){return Number(Y)})})),v=xf(h[0],2),y=v[0],m=v[1],b="M"+y+" "+m,S=1;S<h.length-1;S++){var O=xf(h[S-1],2),_=O[0],A=O[1],T=xf(h[S],2),P=T[0],x=T[1],N=xf(h[S+1],2),L=N[0],j=N[1];if(P===_&&x!==A){var k=x>A?x-s:x+s;b=b+" L "+P+" "+k}if(x===A&&P!==_){var F=P>_?P-s:P+s;b=b+" L "+F+" "+x}if(b=b+" Q "+P+" "+x,P===L&&x!==j){var k=x>j?x-s:x+s;b=b+" "+P+" "+k}if(x===j&&P!==L){var F=P>L?P-s:P+s;b=b+" "+F+" "+x}}var z=xf(h[h.length-1],2),M=z[0],D=z[1];b=b+" L "+M+" "+D;var B=zv(zv(zv({d:b,style:o?d:{}},f),i),{fill:"none"});return Un.exports.h("path",zv({d:b},B))},t})(Un.exports.PolylineEdge);(function(e){BW(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(Un.exports.PolylineEdgeModel);var WN,vi,jW,Yg,ZB,FW={},zW=[],pBe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Hf(e,t){for(var n in t)e[n]=t[n];return e}function UW(e){var t=e.parentNode;t&&t.removeChild(e)}function Zg(e,t,n){var r,o,i,a={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:a[i]=t[i];if(arguments.length>2&&(a.children=arguments.length>3?WN.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)a[i]===void 0&&(a[i]=e.defaultProps[i]);return Yw(e,a,r,o,null)}function Yw(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o==null?++jW:o};return o==null&&vi.vnode!=null&&vi.vnode(i),i}function KN(e){return e.children}function Qv(e,t){this.props=e,this.context=t}function _y(e,t){if(t==null)return e.__?_y(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?_y(e):null}function VW(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return VW(e)}}function JB(e){(!e.__d&&(e.__d=!0)&&Yg.push(e)&&!IO.__r++||ZB!==vi.debounceRendering)&&((ZB=vi.debounceRendering)||setTimeout)(IO)}function IO(){for(var e;IO.__r=Yg.length;)e=Yg.sort(function(t,n){return t.__v.__b-n.__v.__b}),Yg=[],e.some(function(t){var n,r,o,i,a,s;t.__d&&(a=(i=(n=t).__v).__e,(s=n.__P)&&(r=[],(o=Hf({},i)).__v=i.__v+1,KW(s,i,o,n.__n,s.ownerSVGElement!==void 0,i.__h!=null?[a]:null,r,a==null?_y(i):a,i.__h),yBe(r,i),i.__e!=a&&VW(i)))})}function HW(e,t,n,r,o,i,a,s,f,d){var h,v,y,m,b,S,O,_=r&&r.__k||zW,A=_.length;for(n.__k=[],h=0;h<t.length;h++)if((m=n.__k[h]=(m=t[h])==null||typeof m=="boolean"?null:typeof m=="string"||typeof m=="number"||typeof m=="bigint"?Yw(null,m,null,null,m):Array.isArray(m)?Yw(KN,{children:m},null,null,null):m.__b>0?Yw(m.type,m.props,m.key,m.ref?m.ref:null,m.__v):m)!=null){if(m.__=n,m.__b=n.__b+1,(y=_[h])===null||y&&m.key==y.key&&m.type===y.type)_[h]=void 0;else for(v=0;v<A;v++){if((y=_[v])&&m.key==y.key&&m.type===y.type){_[v]=void 0;break}y=null}KW(e,m,y=y||FW,o,i,a,s,f,d),b=m.__e,(v=m.ref)&&y.ref!=v&&(O||(O=[]),y.ref&&O.push(y.ref,null,m),O.push(v,m.__c||b,m)),b!=null?(S==null&&(S=b),typeof m.type=="function"&&m.__k===y.__k?m.__d=f=GW(m,f,e):f=WW(e,m,y,_,b,f),typeof n.type=="function"&&(n.__d=f)):f&&y.__e==f&&f.parentNode!=e&&(f=_y(y))}for(n.__e=S,h=A;h--;)_[h]!=null&&(typeof n.type=="function"&&_[h].__e!=null&&_[h].__e==n.__d&&(n.__d=_y(r,h+1)),YW(_[h],_[h]));if(O)for(h=0;h<O.length;h++)XW(O[h],O[++h],O[++h])}function GW(e,t,n){for(var r,o=e.__k,i=0;o&&i<o.length;i++)(r=o[i])&&(r.__=e,t=typeof r.type=="function"?GW(r,t,n):WW(n,r,r,o,r.__e,t));return t}function WW(e,t,n,r,o,i){var a,s,f;if(t.__d!==void 0)a=t.__d,t.__d=void 0;else if(n==null||o!=i||o.parentNode==null)e:if(i==null||i.parentNode!==e)e.appendChild(o),a=null;else{for(s=i,f=0;(s=s.nextSibling)&&f<r.length;f+=2)if(s==o)break e;e.insertBefore(o,i),a=i}return a!==void 0?a:o.nextSibling}function vBe(e,t,n,r,o){var i;for(i in n)i==="children"||i==="key"||i in t||DO(e,i,null,n[i],r);for(i in t)o&&typeof t[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||n[i]===t[i]||DO(e,i,t[i],n[i],r)}function QB(e,t,n){t[0]==="-"?e.setProperty(t,n):e[t]=n==null?"":typeof n!="number"||pBe.test(t)?n:n+"px"}function DO(e,t,n,r,o){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||QB(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||QB(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r||e.addEventListener(t,i?ej:qB,i):e.removeEventListener(t,i?ej:qB,i);else if(t!=="dangerouslySetInnerHTML"){if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=n==null?"":n;break e}catch{}typeof n=="function"||(n!=null&&(n!==!1||t[0]==="a"&&t[1]==="r")?e.setAttribute(t,n):e.removeAttribute(t))}}function qB(e){this.l[e.type+!1](vi.event?vi.event(e):e)}function ej(e){this.l[e.type+!0](vi.event?vi.event(e):e)}function KW(e,t,n,r,o,i,a,s,f){var d,h,v,y,m,b,S,O,_,A,T,P,x,N=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(f=n.__h,s=t.__e=n.__e,t.__h=null,i=[s]),(d=vi.__b)&&d(t);try{e:if(typeof N=="function"){if(O=t.props,_=(d=N.contextType)&&r[d.__c],A=d?_?_.props.value:d.__:r,n.__c?S=(h=t.__c=n.__c).__=h.__E:("prototype"in N&&N.prototype.render?t.__c=h=new N(O,A):(t.__c=h=new Qv(O,A),h.constructor=N,h.render=gBe),_&&_.sub(h),h.props=O,h.state||(h.state={}),h.context=A,h.__n=r,v=h.__d=!0,h.__h=[]),h.__s==null&&(h.__s=h.state),N.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Hf({},h.__s)),Hf(h.__s,N.getDerivedStateFromProps(O,h.__s))),y=h.props,m=h.state,v)N.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(N.getDerivedStateFromProps==null&&O!==y&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(O,A),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(O,h.__s,A)===!1||t.__v===n.__v){h.props=O,h.state=h.__s,t.__v!==n.__v&&(h.__d=!1),h.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(L){L&&(L.__=t)}),h.__h.length&&a.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(O,h.__s,A),h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(y,m,b)})}if(h.context=A,h.props=O,h.__v=t,h.__P=e,T=vi.__r,P=0,"prototype"in N&&N.prototype.render)h.state=h.__s,h.__d=!1,T&&T(t),d=h.render(h.props,h.state,h.context);else do h.__d=!1,T&&T(t),d=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++P<25);h.state=h.__s,h.getChildContext!=null&&(r=Hf(Hf({},r),h.getChildContext())),v||h.getSnapshotBeforeUpdate==null||(b=h.getSnapshotBeforeUpdate(y,m)),x=d!=null&&d.type===KN&&d.key==null?d.props.children:d,HW(e,Array.isArray(x)?x:[x],t,n,r,o,i,a,s,f),h.base=t.__e,t.__h=null,h.__h.length&&a.push(h),S&&(h.__E=h.__=null),h.__e=!1}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=mBe(n.__e,t,n,r,o,i,a,f);(d=vi.diffed)&&d(t)}catch(L){t.__v=null,(f||i!=null)&&(t.__e=s,t.__h=!!f,i[i.indexOf(s)]=null),vi.__e(L,t,n)}}function yBe(e,t){vi.__c&&vi.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(r){r.call(n)})}catch(r){vi.__e(r,n.__v)}})}function mBe(e,t,n,r,o,i,a,s){var f,d,h,v=n.props,y=t.props,m=t.type,b=0;if(m==="svg"&&(o=!0),i!=null){for(;b<i.length;b++)if((f=i[b])&&"setAttribute"in f==!!m&&(m?f.localName===m:f.nodeType===3)){e=f,i[b]=null;break}}if(e==null){if(m===null)return document.createTextNode(y);e=o?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,y.is&&y),i=null,s=!1}if(m===null)v===y||s&&e.data===y||(e.data=y);else{if(i=i&&WN.call(e.childNodes),d=(v=n.props||FW).dangerouslySetInnerHTML,h=y.dangerouslySetInnerHTML,!s){if(i!=null)for(v={},b=0;b<e.attributes.length;b++)v[e.attributes[b].name]=e.attributes[b].value;(h||d)&&(h&&(d&&h.__html==d.__html||h.__html===e.innerHTML)||(e.innerHTML=h&&h.__html||""))}if(vBe(e,y,v,o,s),h)t.__k=[];else if(b=t.props.children,HW(e,Array.isArray(b)?b:[b],t,n,r,o&&m!=="foreignObject",i,a,i?i[0]:n.__k&&_y(n,0),s),i!=null)for(b=i.length;b--;)i[b]!=null&&UW(i[b]);s||("value"in y&&(b=y.value)!==void 0&&(b!==e.value||m==="progress"&&!b||m==="option"&&b!==v.value)&&DO(e,"value",b,v.value,!1),"checked"in y&&(b=y.checked)!==void 0&&b!==e.checked&&DO(e,"checked",b,v.checked,!1))}return e}function XW(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){vi.__e(r,n)}}function YW(e,t,n){var r,o;if(vi.unmount&&vi.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||XW(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){vi.__e(i,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&YW(r[o],t,typeof e.type!="function");n||e.__e==null||UW(e.__e),e.__=e.__e=e.__d=void 0}function gBe(e,t,n){return this.constructor(e,n)}WN=zW.slice,vi={__e:function(e,t,n,r){for(var o,i,a;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),a=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),a=o.__d),a)return o.__E=o}catch(s){e=s}throw e}},jW=0,Qv.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Hf({},this.state),typeof e=="function"&&(e=e(Hf({},n),this.props)),e&&Hf(n,e),e!=null&&this.__v&&(t&&this.__h.push(t),JB(this))},Qv.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),JB(this))},Qv.prototype.render=KN,Yg=[],IO.__r=0;var Jg=globalThis&&globalThis.__assign||function(){return Jg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Jg.apply(this,arguments)};function XN(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=e.radius,a=e.className,s=t-r/2,f=n-o/2,d=Jg(Jg({width:10,height:10,cx:0,cy:0,rx:i||0,ry:i||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+a},e),{x:s,y:f});return Un.exports.h("rect",Jg({},d))}XN.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Uv;(function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.HTML_NODE="html-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"})(Uv||(Uv={}));function Zw(e){var t=e.x,n=e.y,r=e.width,o=e.height;return{minX:t-r/2,minY:n-o/2,maxX:t+r/2,maxY:n+o/2}}function tj(e){var t=Zw(e),n=e.radius,r=t.minX,o=t.minY,i=t.maxX,a=t.maxY;return[{x:r+n,y:o+n},{x:i-n,y:o+n},{x:i-n,y:a-n},{x:r+n,y:a-n}]}function nj(e){var t=e.point,n=e.beforeNode,r=e.afterNode,o=t.x,i=t.y,a={x:o,y:i},s=n.radius,f=Zw(n),d=Zw(r);if(o===f.minX){a.x=d.minX;var h=(i-n.y)/(n.height/2-s);h?a.y=r.y+(r.height/2-s)*h:a.y=r.y}else if(o===f.maxX){a.x=d.maxX;var h=(i-n.y)/(n.height/2-s);h?a.y=r.y+(r.height/2-s)*h:a.y=r.y}else if(i===f.minY){a.y=d.minY;var h=(o-n.x)/(n.width/2-s);h?a.x=r.x+(r.width/2-s)*h:a.x=r.x}else if(i===f.maxY){a.y=d.maxY;var h=(o-n.x)/(n.width/2-s);h?a.x=r.x+(r.width/2-s)*h:a.x=r.x}else{var v=tj(n),y=tj(r),m=Zw(n),b=m.minX,S=m.minY,O=m.maxX,_=m.maxY,A=-1;if(o-b<s&&i-S<s?A=0:O-o<s&&i-S<s?A=1:O-o<s&&_-i<s?A=2:o-b<s&&S-i<s&&(A=3),A>-1){var T=Math.atan2(i-v[A].y,o-v[A].x);a.x=y[A].x+s*Math.cos(T),a.y=y[A].y+s*Math.sin(T)}}return a}function rj(e){var t=e.point,n=e.beforeNode,r=e.afterNode,o=r.rx,i=r.ry,a=t,s=(t.y-n.y)/(t.x-n.x),f=o,d=i,h,v;return s>=1/0?(h=0,v=d):s<=-1/0?(h=0,v=-d):t.x-n.x>0?(h=f*d/Math.sqrt(d*d+f*f*s*s),v=f*d*s/Math.sqrt(d*d+f*f*s*s)):(h=-(f*d)/Math.sqrt(d*d+f*f*s*s),v=-(f*d*s)/Math.sqrt(d*d+f*f*s*s)),a={x:h+r.x,y:v+r.y},a}function oj(e){var t=e.point,n=e.beforeNode,r=e.afterNode,o=t,i,a,s=t.x-n.x,f=t.y-n.y,d=n.rx,h=n.ry,v=Math.sqrt((d-Math.abs(s))*(d-Math.abs(s))+f*f)/Math.sqrt(d*d+h*h),y=r.rx,m=r.ry,b=Math.sqrt((y*y+m*m)*v*v*(y*y/(y*y+m*m))),S=b*(m/y);return s>=0?i=y-b:i=b-y,f>0?a=S:a=-S,o={x:i+r.x,y:a+r.y},o}var bBe=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),mh=globalThis&&globalThis.__assign||function(){return mh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},mh.apply(this,arguments)},EBe=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},SBe=Un.exports.LogicFlowUtil.StepDrag,wBe=function(e){bBe(t,e);function t(n){var r=e.call(this)||this;return r.updatePosition=function(o){var i=o.deltaX,a=o.deltaY,s=r.nodeModel,f=s.x,d=s.y;r.nodeModel.x=f+i/2,r.nodeModel.y=d+a/2,r.nodeModel.moveText(i/2,a/2)},r.getResize=function(o){var i=o.index,a=o.deltaX,s=o.deltaY,f=o.width,d=o.height,h=o.pct,v=h===void 0?1:h,y={width:f,height:d};switch(i){case 0:y.width=f-a*v,y.height=d-s*v;break;case 1:y.width=f+a*v,y.height=d-s*v;break;case 2:y.width=f+a,y.height=d+s*v;break;case 3:y.width=f-a*v,y.height=d+s*v;break}return y},r.updateRect=function(o){var i=o.deltaX,a=o.deltaY,s=r.nodeModel,f=s.id,d=s.x,h=s.y,v=s.width,y=s.height,m=s.radius,b=r.index,S=r.getResize({index:b,deltaX:i,deltaY:a,width:v,height:y,pct:1}),O=r.nodeModel,_=O.minWidth,A=O.minHeight,T=O.maxWidth,P=O.maxHeight;if(S.width<_||S.width>T||S.height<A||S.height>P){r.dragHandler.cancelDrag();return}r.updatePosition({deltaX:i,deltaY:a}),r.nodeModel.width=S.width,r.nodeModel.height=S.height,r.nodeModel.setProperties({nodeSize:{width:S.width,height:S.height}});var x=r.getNodeEdges(f),N={x:d,y:h,width:v,height:y,radius:m},L={x:r.nodeModel.x,y:r.nodeModel.y,width:r.nodeModel.width,height:r.nodeModel.height,radius:m},j={point:"",beforeNode:N,afterNode:L},k;x.sourceEdges.forEach(function(F){j.point=F.startPoint,k=nj(j),F.updateStartPoint(k)}),x.targetEdges.forEach(function(F){j.point=F.endPoint,k=nj(j),F.updateEndPoint(k)}),r.eventEmit({beforeNode:N,afterNode:L})},r.updateEllipse=function(o){var i=o.deltaX,a=o.deltaY,s=r.nodeModel,f=s.id,d=s.rx,h=s.ry,v=s.x,y=s.y,m=r.index,b=d,S=h,O=r.getResize({index:m,deltaX:i,deltaY:a,width:b,height:S,pct:1/2}),_=r.nodeModel,A=_.minWidth,T=_.minHeight,P=_.maxWidth,x=_.maxHeight;if(O.width<A/2||O.width>P/2||O.height<T/2||O.height>x/2){r.dragHandler.cancelDrag();return}r.updatePosition({deltaX:i,deltaY:a}),r.nodeModel.rx=r.nodeModel.rx+i/2,r.nodeModel.ry=r.nodeModel.ry+a/2,r.nodeModel.setProperties({nodeSize:{rx:O.width,ry:O.height}});var N=r.getNodeEdges(f),L={x:v,y},j={rx:O.width,ry:O.height,x:r.nodeModel.x,y:r.nodeModel.y},k={point:{},beforeNode:L,afterNode:j},F;N.sourceEdges.forEach(function(z){k.point=z.startPoint,F=rj(k),z.updateStartPoint(F)}),N.targetEdges.forEach(function(z){k.point=z.endPoint,F=rj(k),z.updateEndPoint(F)}),r.eventEmit({beforeNode:mh(mh({},L),{rx:d,ry:h}),afterNode:j})},r.updateDiamond=function(o){var i=o.deltaX,a=o.deltaY,s=r.nodeModel,f=s.id,d=s.rx,h=s.ry,v=s.x,y=s.y,m=r.index,b=d,S=h,O=r.getResize({index:m,deltaX:i,deltaY:a,width:b,height:S,pct:1/2}),_=r.nodeModel,A=_.minWidth,T=_.minHeight,P=_.maxWidth,x=_.maxHeight;if(O.width<A/2||O.width>P/2||O.height<T/2||O.height>x/2){r.dragHandler.cancelDrag();return}r.updatePosition({deltaX:i,deltaY:a}),r.nodeModel.rx=r.nodeModel.rx+i/2,r.nodeModel.ry=r.nodeModel.ry+a/2,r.nodeModel.setProperties({nodeSize:{rx:O.width,ry:O.height}});var N={x:v,y,rx:d,ry:h},L={rx:O.width,ry:O.height,x:r.nodeModel.x,y:r.nodeModel.y},j={point:{},beforeNode:N,afterNode:L},k,F=r.getNodeEdges(f);F.sourceEdges.forEach(function(z){j.point=z.startPoint,k=oj(j),z.updateStartPoint(k)}),F.targetEdges.forEach(function(z){j.point=z.endPoint,k=oj(j),z.updateEndPoint(k)}),r.eventEmit({beforeNode:N,afterNode:L})},r.eventEmit=function(o){var i=o.beforeNode,a=o.afterNode,s=r.nodeModel,f=s.id,d=s.modelType,h=s.type,v=mh({id:f,modelType:d,type:h},i),y=mh({id:f,modelType:d,type:h},a);r.graphModel.eventCenter.emit("node:resize",{oldNodeSize:v,newNodeSize:y})},r.onDraging=function(o){var i,a=o.deltaX,s=o.deltaY,f=r.graphModel.transformModel,d=r.nodeModel.modelType;i=EBe(f.fixDeltaXY(a,s),2),a=i[0],s=i[1],d===Uv.RECT_NODE||d===Uv.HTML_NODE?r.updateRect({deltaX:a,deltaY:s}):d===Uv.ELLIPSE_NODE?r.updateEllipse({deltaX:a,deltaY:s}):d===Uv.DIAMOND_NODE&&r.updateDiamond({deltaX:a,deltaY:s})},r.onDragEnd=function(){var o=r.graphModel.gridSize,i=o===void 0?1:o,a=i*Math.round(r.nodeModel.x/i),s=i*Math.round(r.nodeModel.y/i);r.nodeModel.moveTo(a,s)},r.index=n.index,r.nodeModel=n.model,r.graphModel=n.graphModel,r.state={},r.dragHandler=new SBe({onDraging:r.onDraging,onDragEnd:r.onDragEnd,step:1}),r}return t.prototype.getNodeEdges=function(n){for(var r=this.graphModel,o=r.edges,i=[],a=[],s=0;s<o.length;s++){var f=o[s];f.sourceNodeId===n?i.push(f):o[s].targetNodeId===n&&a.push(f)}return{sourceEdges:i,targetEdges:a}},t.prototype.render=function(){var n=this.props,r=n.x,o=n.y,i=n.index,a=n.model,s=a.getControlPointStyle();return Zg("g",{className:"lf-resize-control-"+i},Zg(XN,mh({className:"lf-node-control"},{x:r,y:o},s,{onMouseDown:this.dragHandler.handleMouseDown})))},t}(Qv),OBe=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),kO=globalThis&&globalThis.__assign||function(){return kO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},kO.apply(this,arguments)},L_=function(e){OBe(t,e);function t(){var n=e.call(this)||this;return n.state={},n}return t.prototype.getResizeControl=function(){var n=this.props,r=n.model,o=n.graphModel,i=r.x,a=r.y,s=r.width,f=r.height,d={minX:i-s/2,minY:a-f/2,maxX:i+s/2,maxY:a+f/2},h=d.minX,v=d.minY,y=d.maxX,m=d.maxY,b=[{x:h,y:v},{x:y,y:v},{x:y,y:m},{x:h,y:m}];return b.map(function(S,O){return Zg(wBe,kO({index:O},S,{model:r,graphModel:o}))})},t.prototype.getGroupSolid=function(){var n=this.props.model,r=n.x,o=n.y,i=n.width,a=n.height,s=n.getResizeOutlineStyle();return Zg(XN,kO({fill:"none"},s,{x:r,y:o,width:i,height:a}))},t.prototype.render=function(){return Zg("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},t}(Qv),ZW=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_Be=function(e){ZW(t,e);function t(n,r){var o=e.call(this,n,r)||this,i=o.properties.nodeSize;return i&&(o.width=i.width,o.height=i.height),o}return t.prototype.initNodeData=function(n){e.prototype.initNodeData.call(this,n),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},t.prototype.getOutlineStyle=function(){var n=e.prototype.getOutlineStyle.call(this),r=this.graphModel.editConfigModel.isSilentMode;return r||(n.stroke="none",n.hover&&(n.hover.stroke="none")),n},t.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t.prototype.resize=function(n,r){console.log(n,r)},t}(Un.exports.RectNodeModel),TBe=function(e){ZW(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getControlGroup=function(){var n=this.props,r=n.model,o=n.graphModel;return Un.exports.h(L_,{model:r,graphModel:o})},t.prototype.getResizeShape=function(){return e.prototype.getShape.call(this)},t.prototype.getShape=function(){var n=this.props,r=n.model.isSelected,o=n.graphModel.editConfigModel.isSilentMode;return Un.exports.h("g",null,this.getResizeShape(),r&&!o?this.getControlGroup():"")},t}(Un.exports.RectNode),JW={type:"rect",view:TBe,model:_Be},QW=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(e){QW(t,e);function t(n,r){var o=e.call(this,n,r)||this,i=o.properties.nodeSize;return i&&(o.rx=i.rx,o.ry=i.ry),o}return t.prototype.initNodeData=function(n){e.prototype.initNodeData.call(this,n),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},t.prototype.getOutlineStyle=function(){var n=e.prototype.getOutlineStyle.call(this),r=this.graphModel.editConfigModel.isSilentMode;return r||(n.stroke="none",n.hover&&(n.hover.stroke="none")),n},t.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t})(Un.exports.EllipseNodeModel);(function(e){QW(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getControlGroup=function(){var n=this.props,r=n.model,o=n.graphModel;return Un.exports.h(L_,{model:r,graphModel:o})},t.prototype.getResizeShape=function(){return e.prototype.getShape.call(this)},t.prototype.getShape=function(){var n=this.props,r=n.model,o=n.graphModel.editConfigModel.isSilentMode;return Un.exports.h("g",null,this.getResizeShape(),r.isSelected&&!o?this.getControlGroup():"")},t})(Un.exports.EllipseNode);var Ox=globalThis&&globalThis.__assign||function(){return Ox=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ox.apply(this,arguments)};function CBe(e){var t=e.fillOpacity,n=t===void 0?1:t,r=e.strokeWidth,o=r===void 0?1:r,i=e.strokeOpacity,a=i===void 0?1:i,s=e.fill,f=s===void 0?"transparent":s,d=e.stroke,h=d===void 0?"#000":d,v=e.points,y=e.className,m=y===void 0?"lf-basic-shape":y,b={fill:f,fillOpacity:n,strokeWidth:o,stroke:h,strokeOpacity:a,points:"",className:m};return b.points=v.map(function(S){return S.join(",")}).join(" "),Un.exports.h("polygon",Ox({},b))}var qW=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_x=globalThis&&globalThis.__assign||function(){return _x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},_x.apply(this,arguments)};(function(e){qW(t,e);function t(n,r){var o=e.call(this,n,r)||this,i=o.properties.nodeSize;return i&&(o.rx=i.rx,o.ry=i.ry),o}return t.prototype.initNodeData=function(n){e.prototype.initNodeData.call(this,n),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},t.prototype.getOutlineStyle=function(){var n=e.prototype.getOutlineStyle.call(this),r=this.graphModel.editConfigModel.isSilentMode;return r||(n.stroke="none",n.hover&&(n.hover.stroke="none")),n},t.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t})(Un.exports.DiamondNodeModel);(function(e){qW(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getControlGroup=function(){var n=this.props,r=n.model,o=n.graphModel;return Un.exports.h(L_,{model:r,graphModel:o})},t.prototype.getResizeShape=function(){var n=this.props.model,r=n.points,o=n.getNodeStyle();return Un.exports.h("g",null,Un.exports.h(CBe,_x({},o,{points:r})))},t.prototype.getShape=function(){var n=this.props,r=n.model.isSelected,o=n.graphModel.editConfigModel.isSilentMode;return Un.exports.h("g",null,this.getResizeShape(),r&&!o?this.getControlGroup():"")},t})(Un.exports.DiamondNode);var eK=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(e){eK(t,e);function t(n,r){var o=e.call(this,n,r)||this,i=o.properties.nodeSize;return i&&(o.width=i.width,o.height=i.height),o}return t.prototype.initNodeData=function(n){e.prototype.initNodeData.call(this,n),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},t.prototype.getOutlineStyle=function(){var n=e.prototype.getOutlineStyle.call(this),r=this.graphModel.editConfigModel.isSilentMode;return r||(n.stroke="none",n.hover&&(n.hover.stroke="none")),n},t.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t})(Un.exports.HtmlNodeModel);(function(e){eK(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getControlGroup=function(){var n=this.props,r=n.model,o=n.graphModel;return Un.exports.h(L_,{model:r,graphModel:o})},t.prototype.getResizeShape=function(){return e.prototype.getShape.call(this)},t.prototype.getShape=function(){var n=this.props,r=n.model.isSelected,o=n.graphModel.editConfigModel.isSilentMode;return Un.exports.h("g",null,this.getResizeShape(),r&&!o?this.getControlGroup():"")},t})(Un.exports.HtmlNode);var tK=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),LO=globalThis&&globalThis.__assign||function(){return LO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},LO.apply(this,arguments)},ABe=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},ij=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ABe(arguments[t]));return e},aj=500,sj=300;(function(e){tK(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isGroup=!0,n.unfoldedWidth=aj,n.unfoldedHight=sj,n}return t.prototype.initNodeData=function(n){var r=this;e.prototype.initNodeData.call(this,n);var o=[];Array.isArray(n.children)&&(o=n.children),this.children=new Set(o),this.width=aj,this.height=sj,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){r.isFolded&&r.foldGroup(r.isFolded)})},t.prototype.getResizeOutlineStyle=function(){var n=e.prototype.getResizeOutlineStyle.call(this);return n.stroke="none",n},t.prototype.foldGroup=function(n){var r=this;this.setProperty("isFolded",n),this.isFolded=n,n?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var o=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(i){var a=r.graphModel.getElement(i);a.visible=!n,o=o.concat(a.incoming.edges.concat(a.outgoing.edges))}),this.foldEdge(n,o)},t.prototype.getAnchorStyle=function(n){var r=e.prototype.getAnchorStyle.call(this,n);return r.stroke="transparent",r.fill="transparent",r.hover.fill="transparent",r.hover.stroke="transparent",r},t.prototype.foldEdge=function(n,r){var o=this;r.forEach(function(i,a){var s=i.id,f=i.sourceNodeId,d=i.targetNodeId,h=i.startPoint,v=i.endPoint,y=i.type,m=i.properties,b=i.text,S={id:s+"__"+a,sourceNodeId:f,targetNodeId:d,startPoint:h,endPoint:v,type:y,properties:m,text:b==null?void 0:b.value};i.virtual&&o.graphModel.deleteEdgeById(i.id);var O=o.graphModel.group.getNodeGroup(d);O||(O=o.graphModel.getNodeModelById(d));var _=o.graphModel.group.getNodeGroup(f);_||(_=o.graphModel.getNodeModelById(f)),n&&i.visible!==!1&&(o.children.has(f)||o.id===f?(S.startPoint=void 0,S.sourceNodeId=o.id):(S.endPoint=void 0,S.targetNodeId=o.id),(O.id!==o.id||_.id!==o.id)&&o.createVirtualEdge(S),i.visible=!1),!n&&i.visible===!1&&(O&&O.isGroup&&O.isFolded?(S.targetNodeId=O.id,S.endPoint=void 0,o.createVirtualEdge(S)):_&&_.isGroup&&_.isFolded?(S.sourceNodeId=_.id,S.startPoint=void 0,o.createVirtualEdge(S)):i.visible=!0)})},t.prototype.createVirtualEdge=function(n){n.pointsList=void 0;var r=this.graphModel.addEdge(n);r.virtual=!0,r.text.editable=!1,r.isFoldedEdge=!0},t.prototype.isInRange=function(n){var r=n.x1,o=n.y1,i=n.x2,a=n.y2;return r>=this.x-this.width/2&&i<=this.x+this.width/2&&o>=this.y-this.height/2&&a<=this.y+this.height/2},t.prototype.isAllowMoveTo=function(n){var r=n.x1,o=n.y1,i=n.x2,a=n.y2;return{x:r>=this.x-this.width/2&&i<=this.x+this.width/2,y:o>=this.y-this.height/2&&a<=this.y+this.height/2}},t.prototype.setAllowAppendChild=function(n){this.setProperty("groupAddable",n)},t.prototype.addChild=function(n){this.children.add(n)},t.prototype.removeChild=function(n){this.children.delete(n)},t.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},t.prototype.getData=function(){var n=e.prototype.getData.call(this);n.children=ij(this.children);var r=n.properties;return delete r.groupAddable,delete r.isFolded,n},t.prototype.getHistoryData=function(){var n=e.prototype.getData.call(this);n.children=ij(this.children);var r=n.properties;return delete r.groupAddable,r.isFolded&&(n.x=n.x+this.unfoldedWidth/2-this.foldedWidth/2,n.y=n.y+this.unfoldedHight/2-this.foldedHeight/2),n},t.prototype.isAllowAppendIn=function(n){return!0},t})(JW.model);(function(e){tK(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getControlGroup=function(){var n=this.props.model,r=n.resizable,o=n.properties;return r&&!o.isFolded?e.prototype.getControlGroup.call(this):null},t.prototype.getAddedableShape=function(){var n=this.props.model,r=n.width,o=n.height,i=n.x,a=n.y,s=n.radius,f=n.properties;if(!f.groupAddable)return null;var d=this.props.model.getNodeStyle().strokeWidth,h=this.props.model.getAddableOutlineStyle(),v=r+d+8,y=o+d+8;return Un.exports.h("rect",LO(LO({},h),{width:v,height:y,x:i-v/2,y:a-y/2,rx:s,ry:s}))},t.prototype.getFoldIcon=function(){var n=this.props.model,r=n.x-n.width/2+5,o=n.y-n.height/2+5;if(!n.foldable)return null;var i=Un.exports.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:n.properties.isFolded?"M "+(r+3)+","+(o+6)+" "+(r+11)+","+(o+6)+" M"+(r+7)+","+(o+2)+" "+(r+7)+","+(o+10):"M "+(r+3)+","+(o+6)+" "+(r+11)+","+(o+6)+" "});return Un.exports.h("g",{},[Un.exports.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:n.x-n.width/2+5,y:n.y-n.height/2+5,onClick:function(){n.foldGroup(!n.properties.isFolded)}}),i])},t.prototype.getResizeShape=function(){return Un.exports.h("g",{},[this.getAddedableShape(),e.prototype.getResizeShape.call(this),this.getFoldIcon()])},t})(JW.view);var PBe=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};globalThis&&globalThis.__spread;var lj=globalThis&&globalThis.__assign||function(){return lj=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},lj.apply(this,arguments)},uj=globalThis&&globalThis.__assign||function(){return uj=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},uj.apply(this,arguments)},xBe=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};globalThis&&globalThis.__spread;function cj(e){return window.getComputedStyle(document.body,null).getPropertyValue(e)}function MBe(e){const t=e+"px"||cj("font-size"),n=cj("font-family");return`${t} ${n}`}const YN=(e,t)=>{const n=document.createElement("canvas"),r=n.getContext("2d");r.font=MBe(t);const o=String(e).split(/[\r\n]/g);let i=0;return o&&o.forEach(a=>{r.clearRect(0,0,n.width,n.height);const{width:s}=r.measureText(a);i=i>s?i:s}),{width:i,height:o.length*t*1.5}},fj=e=>{const t=e;let n=1;for(;n<t.length-1;){const r=t[n-1],o=t[n],i=t[n+1];r.x===o.x&&o.x===i.x||r.y===o.y&&o.y===i.y?t.splice(n,1):n++}return t};var NBe=Object.defineProperty,RBe=Object.defineProperties,IBe=Object.getOwnPropertyDescriptors,dj=Object.getOwnPropertySymbols,DBe=Object.prototype.hasOwnProperty,kBe=Object.prototype.propertyIsEnumerable,hj=(e,t,n)=>t in e?NBe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,LBe=(e,t)=>{for(var n in t||(t={}))DBe.call(t,n)&&hj(e,n,t[n]);if(dj)for(var n of dj(t))kBe.call(t,n)&&hj(e,n,t[n]);return e},$Be=(e,t)=>RBe(e,IBe(t));const YS=12,ZS=16,pj=16,BBe=16,JS=30;class jBe extends Un.exports.PolylineEdge{getText(){const{pointsList:t,text:n,id:r}=this.props.model;if(!t||t.length===0)return null;const o=t[t.length-1],i=t[t.length-2],a={};let s=Math.abs(o.x-i.x),f=Math.abs(o.y-i.y),d="";return o.x<i.x?(d="row",a.x=o.x+YS,a.y=o.y-ZS/2):o.y<i.y?(d="column",a.x=o.x-pj/2,a.y=o.y+YS+ZS/2):o.y>i.y?(d="column-reverse",a.x=o.x-pj/2,a.y=o.y-YS-ZS/2-BBe):(d="row-reverse",a.x=o.x-YS-s,a.y=o.y-ZS/2),this.props,Un.exports.h("foreignObject",$Be(LBe({},a),{id:"line_"+r,style:`z-index: 20; width: ${s||f}px`}),[Un.exports.h("div",{style:`display:flex;width: 100%;flex-direction: ${d};`},[Un.exports.h("div",{className:"add-wrapper"})])])}}class FBe extends Un.exports.PolylineEdgeModel{initEdgeData(t){super.initEdgeData(t),this.offset=30}setAttributes(){this.properties.executeStatus==="executed"?this.setZIndex(999):this.setZIndex(0)}getOutlineStyle(){const t=super.getOutlineStyle();return t.stroke="none",t}getEdgeStyle(){const t=super.getEdgeStyle();return t.stroke="#BAC1D0",t.strokeDasharray="3 2",t.strokeWidth=1,(this.isHovered||this.isSelected)&&(t.stroke="#33DD89"),t}getEdgeAnimationStyle(){const t=super.getEdgeAnimationStyle();t.animationDuration="20s";const{executeStatus:n}=this.properties;return n?(t.strokeDasharray="8 3",t.stroke=n==="executed"?"rgb(79 235 151 / 80%)":"red",n==="execute-failed"&&(t.strokeDasharray=null)):(t.strokeDasharray="3 2",t.stroke="#33DD89"),t}setHovered(t){super.setHovered(t),this.setZIndex(t?999:0)}setSelected(t){super.setSelected(t),this.setZIndex(t?999:0)}setZIndex(t){this.isHovered||this.isSelected||this.properties.executeStatus?(super.setZIndex(999),this.openEdgeAnimation()):(this.closeEdgeAnimation(),super.setZIndex(t))}initPoints(){if(this.pointsList&&this.pointsList.length>0){this.points=this.pointsList.map(f=>`${f.x},${f.y}`).join(" ");return}const{startPoint:t,endPoint:n}=this,{x:r,y:o}=t,{x:i,y:a}=n,s=this.offset*2;r-i<-s?(this.pointsList=fj([{x:r,y:o},{x:r+this.offset,y:o},{x:r+this.offset,y:a},{x:i,y:a}]),this.points=this.pointsList.map(f=>`${f.x},${f.y}`).join(" ")):r-i>s?(this.pointsList=fj([{x:r,y:o},{x:r+this.offset,y:o},{x:r+this.offset,y:a+JS},{x:i-JS/2,y:a+JS},{x:i-JS/2,y:a},{x:i,y:a}]),this.points=this.pointsList.map(f=>`${f.x},${f.y}`).join(" ")):super.initPoints()}}const vj={type:"beautify-line",model:FBe,view:jBe};var zBe=Object.defineProperty,UBe=Object.defineProperties,VBe=Object.getOwnPropertyDescriptors,yj=Object.getOwnPropertySymbols,HBe=Object.prototype.hasOwnProperty,GBe=Object.prototype.propertyIsEnumerable,mj=(e,t,n)=>t in e?zBe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WBe=(e,t)=>{for(var n in t||(t={}))HBe.call(t,n)&&mj(e,n,t[n]);if(yj)for(var n of yj(t))GBe.call(t,n)&&mj(e,n,t[n]);return e},KBe=(e,t)=>UBe(e,VBe(t));class XBe extends Un.exports.RectNodeModel{initNodeData(t){super.initNodeData(t),this.width=120,this.height=40,this.radius=5,this.text.x=this.x+10,this.text.y=this.y,this.iconPosition="",this.defaultFill="#a6bbcf"}getData(){const t=super.getData();return t.properties.ui="node-red",t}setAttributes(){if(this.text.value){let t=30+YN(this.text.value,12).width;t=Math.ceil(t/20)*20,t<100&&(t=100),this.width=t}}updateText(t){super.updateText(t),this.setAttributes()}getNodeStyle(){const t=super.getNodeStyle(),n=this.properties.style||{};return this.isSelected?(t.strokeWidth=Number(n.borderWidth)||2,t.stroke=n.borderColor||"#ff7f0e"):(t.strokeWidth=Number(n.borderWidth)||1,t.stroke=n.borderColor||"#999"),t.fill=n.backgroundColor||this.defaultFill,t}getDefaultAnchor(){const{x:t,y:n,id:r,width:o,height:i}=this;return[{x:t+o/2,y:n,id:`${r}_right`,type:"right"},{x:t-o/2,y:n,id:`${r}_left`,type:"left"}]}getOutlineStyle(){const t=super.getOutlineStyle();return t.stroke="transparent",t.hover.stroke="transparent",t}}class YBe extends Un.exports.RectNode{getAnchorShape(t){const{x:n,y:r,type:o}=t;return Un.exports.h("rect",{x:n-5,y:r-5,width:10,height:10,className:"custom-anchor"})}getIcon(){const{width:t,height:n}=this.props.model;return Un.exports.h("image",{width:30,height:40,x:-t/2,y:-n/2,href:"./images/delay.svg"})}getShape(){const{text:t,x:n,y:r,width:o,height:i,radius:a}=this.props.model,s=this.props.model.getNodeStyle();return Un.exports.h("g",{className:"lf-red-node"},[Un.exports.h("rect",KBe(WBe({},s),{x:n-o/2,y:r-i/2,width:o,height:i,rx:a,ry:a})),Un.exports.h("g",{style:"pointer-events: none;",transform:`translate(${n}, ${r})`},[Un.exports.h("rect",{x:-o/2,y:-i/2,width:30,height:40,fill:"#000",fillOpacity:.05,stroke:"none"}),this.getIcon(),Un.exports.h("path",{d:`M ${30-o/2} ${1-i/2} l 0 38`,stroke:"#000",strokeOpacity:.1,strokeWidth:1})])])}}const ZBe={type:"beautify-node",model:XBe,view:YBe},nK=e=>(dM("data-v-4c2ce02b"),e=e(),hM(),e),JBe={class:"demo-collapse"},QBe=["onMousedown"],qBe={class:"red-ui-palette-label"},eje={class:"red-ui-palette-icon-container"},tje=nK(()=>ve("div",{class:"red-ui-palette-port red-ui-palette-port-input"},null,-1)),nje=nK(()=>ve("div",{class:"red-ui-palette-port red-ui-palette-port-output"},null,-1)),rje=St({__name:"Palette",props:{lf:{type:HN,required:!0}},setup(e){const t=e;re(["base"]);const n=o=>{const{lf:i}=t;i.dnd.startDrag({type:o.type,text:o.text,properties:{style:{backgroundColor:o.background}}})},r=re([{type:"beautify-node",text:"fetch",background:"rgb(231, 231, 174)",icon:"../images/delay.svg"},{type:"beautify-node",text:"function",background:"rgb(253, 208, 162)",icon:"../images/delay.svg"},{type:"beautify-node",text:"switch",background:"rgb(226, 217, 110)",icon:"../images/delay.svg"},{type:"beautify-node",text:"delay",background:"rgb(230, 224, 248)",icon:"../images/delay.svg"}]);return(o,i)=>(H(),le("div",JBe,[(H(!0),le(wn,null,_r(r.value,(a,s)=>(H(),le("div",{class:"red-ui-palette-node ui-draggable ui-draggable-handle",onMousedown:f=>n(a),key:s,style:gn({backgroundColor:a.background})},[ve("div",qBe,Bt(a.text),1),ve("div",eje,[ve("div",{class:"red-ui-palette-icon",style:gn({backgroundImage:`url(${a.icon})`})},null,4)]),tje,nje],44,QBe))),128))]))}}),cd=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},oje=cd(rje,[["__scopeId","data-v-4c2ce02b"]]);class rK{constructor({lf:t,LogicFlow:n}){t.register(vj),t.register(ZBe),this.app=Wb(oje,{lf:t}),t.setDefaultEdgeType(vj.type)}render(t,n){const r=document.createElement("div");r.className="node-red-palette",n.appendChild(r),this.app.mount(r)}}rK.pluginName="BeautifyFlowExtension";class ije{constructor(){this.nodes=[],this.edges=[],this.combos=[],this.comboEdges=[],this.hiddenNodes=[],this.hiddenEdges=[],this.hiddenCombos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=()=>{}}layout(t){return this.init(t),this.execute(!0)}init(t){this.nodes=t.nodes||[],this.edges=t.edges||[],this.combos=t.combos||[],this.comboEdges=t.comboEdges||[],this.hiddenNodes=t.hiddenNodes||[],this.hiddenEdges=t.hiddenEdges||[],this.hiddenCombos=t.hiddenCombos||[]}execute(t){}executeWithWorker(){}getDefaultCfg(){return{}}updateCfg(t){t&&Object.assign(this,t)}getType(){return"base"}destroy(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0}}const aje=e=>typeof e=="string",gj=Array.isArray,$O=e=>typeof e=="number",oK=e=>e!==null&&typeof e=="object",BO=e=>{if(e===null)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof Array){const t=[];return e.forEach(n=>{t.push(n)}),t.map(n=>BO(n))}if(typeof e=="object"&&e!=={}){const t=Object.assign({},e);return Object.keys(t).forEach(n=>{t[n]=BO(t[n])}),t}return e},gv=(e,t)=>{const n=e[t];return oK(n)?n.cell:n},bj=(e,t,n)=>{let r;return n?r=n:$O(e)?r=()=>e:r=()=>t,r},sje=(e,t)=>{if(e!=="next"&&e!=="prev")return t},Ej=e=>{e.prev.next=e.next,e.next.prev=e.prev,delete e.next,delete e.prev};class lje{constructor(){const t={};t.prev=t,t.next=t.prev,this.shortcut=t}dequeue(){const t=this.shortcut,n=t.prev;if(n&&n!==t)return Ej(n),n}enqueue(t){const n=this.shortcut;t.prev&&t.next&&Ej(t),t.next=n.next,n.next.prev=t,n.next=t,t.prev=n}toString(){const t=[],n=this.shortcut;let r=n.prev;for(;r!==n;)t.push(JSON.stringify(r,sje)),r=r==null?void 0:r.prev;return`[${t.join(", ")}]`}}var qv;(function(e){e.DEFAULT_EDGE_NAME="\0",e.GRAPH_NODE="\0",e.EDGE_KEY_DELIM=""})(qv||(qv={}));function Sj(e,t){var n=e.get(t)||0;e.set(t,n+1)}function wj(e,t){var n=e.get(t);n!==void 0&&(n=n-1,n>0?e.set(t,n):e.delete(t))}function iK(e,t,n,r){var o=String(t),i=String(n);if(!e&&o>i){var a=o;o=i,i=a}return o+qv.EDGE_KEY_DELIM+i+qv.EDGE_KEY_DELIM+(r===void 0?qv.DEFAULT_EDGE_NAME:r)}function Oj(e,t,n,r){var o=String(t),i=String(n),a={v:t,w:n};if(!e&&o>i){var s=a.v;a.v=a.w,a.w=s}return r!==void 0&&(a.name=r),a}function DA(e,t){return iK(e,t.v,t.w,t.name)}function _j(e){return typeof e=="function"}var uje=function(t){return t.nodes().map(function(n){var r=t.node(n),o=t.parent(n),i={id:n,value:r,parent:o};return i.value===void 0&&delete i.value,i.parent===void 0&&delete i.parent,i})},cje=function(t){return t.edges().map(function(n){var r=t.edge(n),o={v:n.v,w:n.w,value:r,name:n.name};return o.name===void 0&&delete o.name,o.value===void 0&&delete o.value,o})},fje=function(t){var n={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:uje(t),edges:cje(t),value:t.graph()};return n.value===void 0&&delete n.value,n},dje=function(t){var n=new Iy(t.options);return t.value!==void 0&&n.setGraph(t.value),t.nodes.forEach(function(r){n.setNode(r.id,r.value),r.parent&&n.setParent(r.id,r.parent)}),t.edges.forEach(function(r){n.setEdge(r.v,r.w,r.value,r.name)}),n};function Tj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Cj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(n),!0).forEach(function(r){hje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hje(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vje(e,t,n){return t&&Aj(e.prototype,t),n&&Aj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var yje={compound:!1,multigraph:!1,directed:!0},Iy=function(){function e(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};pje(this,e),this.directed=!0,this.multigraph=!1,this.compound=!1,this.GRAPH_NODE=qv.GRAPH_NODE,this.label=void 0,this.nodeCountNum=0,this.edgeCountNum=0,this.defaultNodeLabelFn=function(){},this.defaultEdgeLabelFn=function(){},this.parentMap=void 0,this.childrenMap=void 0,this.nodesLabelMap=new Map,this.inEdgesMap=new Map,this.outEdgesMap=new Map,this.predecessorsMap=new Map,this.successorsMap=new Map,this.edgesMap=new Map,this.edgesLabelsMap=new Map,this.isDirected=function(){return t.directed},this.isMultigraph=function(){return t.multigraph},this.isCompound=function(){return t.compound},this.setGraph=function(o){return t.label=o,t},this.graph=function(){return t.label},this.setDefaultNodeLabel=function(o){return _j(o)?t.defaultNodeLabelFn=o:t.defaultNodeLabelFn=function(){return o},t},this.nodeCount=function(){return t.nodeCountNum},this.node=function(o){return t.nodesLabelMap.get(o)},this.nodes=function(){return Array.from(t.nodesLabelMap.keys())},this.sources=function(){return t.nodes().filter(function(o){var i;return!(!((i=t.inEdgesMap.get(o))===null||i===void 0)&&i.size)})},this.sinks=function(){return t.nodes().filter(function(o){var i;return!(!((i=t.outEdgesMap.get(o))===null||i===void 0)&&i.size)})},this.setNodes=function(o,i){return o.map(function(a){return t.setNode(a,i)}),t},this.hasNode=function(o){return t.nodesLabelMap.has(o)},this.checkCompound=function(){if(!t.isCompound())throw new Error("Cannot construct parent-children relations in a non-compound graph")},this.parent=function(o){if(t.isCompound()){var i,a=(i=t.parentMap)===null||i===void 0?void 0:i.get(o);if(a!==t.GRAPH_NODE)return a}},this.removeFromParentsChildList=function(o){var i=t.parentMap.get(o);t.childrenMap.get(i).delete(o)},this.setParent=function(o,i){var a,s;t.checkCompound();for(var f=i===void 0?t.GRAPH_NODE:i,d=t.parent(f);d;){if(o===d)throw new Error("Setting "+i+" as parent of "+o+" would create a cycle");d=t.parent(d)}i&&t.setNode(i),t.setNode(o),t.removeFromParentsChildList(o),(a=t.parentMap)===null||a===void 0||a.set(o,f);var h=t.childrenMap.get(f);return h.set(o,!0),(s=t.childrenMap)===null||s===void 0||s.set(f,h),t},this.children=function(o){var i=o===void 0?t.GRAPH_NODE:o;if(t.isCompound()){var a,s=(a=t.childrenMap)===null||a===void 0?void 0:a.get(i);return s?Array.from(s.keys()):void 0}if(i===t.GRAPH_NODE)return t.nodes();if(o&&t.hasNode(o))return[]},this.predecessors=function(o){var i=t.predecessorsMap.get(o);return i?Array.from(i.keys()):void 0},this.successors=function(o){var i=t.successorsMap.get(o);return i?Array.from(i.keys()):void 0},this.neighbors=function(o){var i;if(!!t.hasNode(o))return Array.from(new Set((i=t.predecessors(o))===null||i===void 0?void 0:i.concat(t.successors(o))))},this.isLeaf=function(o){var i;if(t.isDirected()){var a;return!(!((a=t.successors(o))===null||a===void 0)&&a.length)}return!(!((i=t.neighbors(o))===null||i===void 0)&&i.length)},this.filterNodes=function(o){var i=t.directed,a=t.multigraph,s=t.compound,f=new e({directed:i,multigraph:a,compound:s});if(f.setGraph(t.graph()),t.nodes().forEach(function(h){o(h)&&f.setNode(h,t.node(h))}),t.edges().forEach(function(h){f.hasNode(h.v)&&f.hasNode(h.w)&&f.setEdgeObj(h,t.edge(h))}),s){var d=function(v){for(var y=t.parent(v);y!==void 0&&!f.hasNode(y);)y=t.parent(y);return y};f.nodes().forEach(function(h){f.setParent(h,d(h))})}return f},this.setDefaultEdgeLabel=function(o){return _j(o)?t.defaultEdgeLabelFn=o:t.defaultEdgeLabelFn=function(){return o},t},this.edgeCount=function(){return t.edgeCountNum},this.setEdgeObj=function(o,i){return t.setEdge(o.v,o.w,i,o.name)},this.setPath=function(o,i){return o.reduce(function(a,s){return t.setEdge(a,s,i),s}),t},this.edgeFromArgs=function(o,i,a){return t.edge({v:o,w:i,name:a})},this.edge=function(o){return t.edgesLabelsMap.get(DA(t.isDirected(),o))},this.hasEdge=function(o,i,a){return t.edgesLabelsMap.has(DA(t.isDirected(),{v:o,w:i,name:a}))},this.removeEdgeObj=function(o){var i=o.v,a=o.w,s=o.name;return t.removeEdge(i,a,s)},this.edges=function(){return Array.from(t.edgesMap.values())},this.inEdges=function(o,i){var a=t.inEdgesMap.get(o);if(a)return Array.from(a.values()).filter(function(s){return!i||s.v===i})},this.outEdges=function(o,i){var a=t.outEdgesMap.get(o);if(a)return Array.from(a.values()).filter(function(s){return!i||s.w===i})},this.nodeEdges=function(o,i){var a;if(!!t.hasNode(o))return(a=t.inEdges(o,i))===null||a===void 0?void 0:a.concat(t.outEdges(o,i))},this.toJSON=function(){return fje(t)},this.nodeInDegree=function(o){var i=t.inEdgesMap.get(o);return i?i.size:0},this.nodeOutDegree=function(o){var i=t.outEdgesMap.get(o);return i?i.size:0},this.nodeDegree=function(o){return t.nodeInDegree(o)+t.nodeOutDegree(o)},this.source=function(o){return o.v},this.target=function(o){return o.w};var r=Cj(Cj({},yje),n);this.compound=r.compound,this.directed=r.directed,this.multigraph=r.multigraph,this.compound&&(this.parentMap=new Map,this.childrenMap=new Map)}return vje(e,[{key:"setNode",value:function(n,r){var o=this.nodesLabelMap,i=this.defaultNodeLabelFn,a=this.isCompound,s=this.parentMap,f=this.childrenMap,d=this.inEdgesMap,h=this.outEdgesMap,v=this.predecessorsMap,y=this.successorsMap;if(o.has(n))return r!==void 0&&o.set(n,r),this;if(o.set(n,r||i(n)),a()){var m;s==null||s.set(n,this.GRAPH_NODE),f==null||f.set(n,new Map),f!=null&&f.has(this.GRAPH_NODE)||f==null||f.set(this.GRAPH_NODE,new Map),f==null||(m=f.get(this.GRAPH_NODE))===null||m===void 0||m.set(n,!0)}return[d,h,v,y].forEach(function(b){return b.set(n,new Map)}),this.nodeCountNum+=1,this}},{key:"removeNode",value:function(n){var r=this;if(this.hasNode(n)){var o=function(O){r.removeEdge(O.v,O.w,O.name)},i=this.inEdgesMap,a=this.outEdgesMap,s=this.predecessorsMap,f=this.successorsMap,d=this.nodesLabelMap;if(this.isCompound()){var h,v,y;this.removeFromParentsChildList(n),(h=this.parentMap)===null||h===void 0||h.delete(n),(v=this.children(n))===null||v===void 0||v.forEach(function(S){return r.setParent(S)}),(y=this.childrenMap)===null||y===void 0||y.delete(n)}var m=i.get(n),b=a.get(n);Array.from(m.values()).forEach(function(S){return o(S)}),Array.from(b.values()).forEach(function(S){return o(S)}),d.delete(n),i.delete(n),a.delete(n),s.delete(n),f.delete(n),this.nodeCountNum-=1}return this}},{key:"setEdge",value:function(n,r,o,i){var a,s,f=Oj(this.isDirected(),n,r,i),d=DA(this.isDirected(),f),h=f.v,v=f.w;if(this.edgesLabelsMap.has(d))return this.edgesLabelsMap.set(d,o),this;if(i!==void 0&&!this.isMultigraph())throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(h),this.setNode(v),this.edgesLabelsMap.set(d,o||this.defaultEdgeLabelFn(h,v,i)),Object.freeze(f),this.edgesMap.set(d,f);var y=this.predecessorsMap.get(v),m=this.successorsMap.get(h);return Sj(y,h),Sj(m,v),(a=this.inEdgesMap.get(v))===null||a===void 0||a.set(d,f),(s=this.outEdgesMap.get(h))===null||s===void 0||s.set(d,f),this.edgeCountNum+=1,this}},{key:"removeEdge",value:function(n,r,o){var i=iK(this.isDirected(),n,r,o),a=this.edgesMap.get(i);if(a){var s=Oj(this.isDirected(),n,r,o),f=s.v,d=s.w;this.edgesLabelsMap.delete(i),this.edgesMap.delete(i);var h=this.predecessorsMap.get(d),v=this.successorsMap.get(f);wj(h,f),wj(v,d),this.inEdgesMap.get(d).delete(i),this.outEdgesMap.get(f).delete(i),this.edgeCountNum-=1}return this}}]),e}();Iy.fromJSON=dje;function Pj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mje(e,t,n){return t&&Pj(e.prototype,t),n&&Pj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var aK=mje(function e(){var t=this;gje(this,e),this.arr=[],this.keyIndice=new Map,this.size=function(){return t.arr.length},this.keys=function(){return t.arr.map(function(n){return n.key})},this.has=function(n){return t.keyIndice.has(n)},this.priority=function(n){var r=t.keyIndice.get(n);if(r!==void 0)return t.arr[r].priority},this.swap=function(n,r){var o=t.arr,i=t.keyIndice,a=[o[n],o[r]],s=a[0],f=a[1];o[n]=f,o[r]=s,i.set(s.key,r),i.set(f.key,n)},this.innerDecrease=function(n){for(var r=t.arr,o=r[n].priority,i,a=n;a!==0;){var s;if(i=a>>1,((s=r[i])===null||s===void 0?void 0:s.priority)<o)break;t.swap(a,i),a=i}},this.heapify=function(n){var r=t.arr,o=n<<1,i=o+1,a=n;o<r.length&&(a=r[o].priority<r[a].priority?o:a,i<r.length&&(a=r[i].priority<r[a].priority?i:a),a!==n&&(t.swap(n,a),t.heapify(a)))},this.min=function(){if(t.size()===0)throw new Error("Queue underflow");return t.arr[0].key},this.add=function(n,r){var o=t.keyIndice,i=t.arr;if(!o.has(n)){var a=i.length;return o.set(n,a),i.push({key:n,priority:r}),t.innerDecrease(a),!0}return!1},this.removeMin=function(){t.swap(0,t.arr.length-1);var n=t.arr.pop();return t.keyIndice.delete(n.key),t.heapify(0),n.key},this.decrease=function(n,r){if(!t.has(n))throw new Error("There's no key named ".concat(n));var o=t.keyIndice.get(n);if(r>t.arr[o].priority)throw new Error("New priority is greater than current priority.Key: ".concat(n," Old: + ").concat(t.arr[o].priority," New: ").concat(r));t.arr[o].priority=r,t.innerDecrease(o)}}),bje=function(t,n){var r=new Iy,o=new Map,i=new aK,a;function s(h){var v=h.v===a?h.w:h.v,y=i.priority(v);if(y!==void 0){var m=n(h);m<y&&(o.set(v,a),i.decrease(v,m))}}if(t.nodeCount()===0)return r;t.nodes().forEach(function(h){i.add(h,Number.POSITIVE_INFINITY),r.setNode(h)}),i.decrease(t.nodes()[0],0);for(var f=!1;i.size()>0;){var d;if(a=i.removeMin(),o.has(a))r.setEdge(a,o.get(a));else{if(f)throw new Error("Input graph is not connected: "+t.graph());f=!0}(d=t.nodeEdges(a))===null||d===void 0||d.forEach(s)}return r},Eje=function(t){var n=new Set,r=[],o=t.nodes();return o.forEach(function(i){for(var a=[],s=[i];s.length>0;){var f=s.pop();if(!n.has(f)){var d,h;n.add(f),a.push(f),(d=t.successors(f))===null||d===void 0||d.forEach(function(v){return s.push(v)}),(h=t.predecessors(f))===null||h===void 0||h.forEach(function(v){return s.push(v)})}}a.length&&r.push(a)}),r},Sje=function e(t,n,r,o,i,a){o.includes(n)||(o.push(n),r||a.push(n),i(n).forEach(function(s){return e(t,s,r,o,i,a)}),r&&a.push(n))},ZN=function(t,n,r){var o=Array.isArray(n)?n:[n],i=function(d){return t.isDirected()?t.successors(d):t.neighbors(d)},a=[],s=[];return o.forEach(function(f){if(t.hasNode(f))Sje(t,f,r==="post",s,i,a);else throw new Error("Graph does not have node: "+f)}),a};function wje(e,t){return Cje(e)||Tje(e,t)||_je(e,t)||Oje()}function Oje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _je(e,t){if(!!e){if(typeof e=="string")return xj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xj(e,t)}}function xj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tje(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],o=!0,i=!1,a,s;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));o=!0);}catch(f){i=!0,s=f}finally{try{!o&&n.return!=null&&n.return()}finally{if(i)throw s}}return r}}function Cje(e){if(Array.isArray(e))return e}var Aje=function(){return 1},sK=function(t,n,r,o){return Pje(t,n,r||Aje,o||function(i){return t.outEdges(i)})},Pje=function(t,n,r,o){var i=new Map,a=new aK,s,f,d=function(y){var m=y.v!==s?y.v:y.w,b=i.get(m),S=r(y),O=f.distance+S;if(S<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+y+" Weight: "+S);O<b.distance&&(b.distance=O,b.predecessor=s,a.decrease(m,O))};for(t.nodes().forEach(function(v){var y=v===n?0:Number.POSITIVE_INFINITY;i.set(v,{distance:y}),a.add(v,y)});a.size()>0&&(s=a.removeMin(),f=i.get(s),!(f&&f.distance===Number.POSITIVE_INFINITY));)o(s).forEach(d);var h={};return Array.from(i.entries()).forEach(function(v){var y=wje(v,2),m=y[0],b=y[1];return h[String(m)]=b,h}),h},xje=function(t,n,r){var o={};return t.nodes().forEach(function(i){return o[String(i)]=sK(t,i,n,r),o}),o},lK=function(t){var n=0,r=[],o=new Map,i=[];function a(s){var f,d={onStack:!0,lowlink:n,index:n};if(o.set(s,d),n+=1,r.push(s),(f=t.successors(s))===null||f===void 0||f.forEach(function(m){var b;if(o.has(m)){if(!((b=o.get(m))===null||b===void 0)&&b.onStack){var O=o.get(m);d.lowlink=Math.min(d.lowlink,O.index)}}else{a(m);var S=o.get(m);d.lowlink=Math.min(d.lowlink,S.lowlink)}}),d.lowlink===d.index){var h=[],v;do{v=r.pop();var y=o.get(v);y.onStack=!1,h.push(v)}while(s!==v);i.push(h)}}return t.nodes().forEach(function(s){o.has(s)||a(s)}),i},Mje=function(t){return lK(t).filter(function(n){return n.length>1||n.length===1&&t.hasEdge(n[0],n[0])})};function Tx(e){return Tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tx(e)}function Mj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nje(e,t,n){return t&&Mj(e.prototype,t),n&&Mj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ije(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nb(e,t)}function Dje(e){var t=uK();return function(){var r=Rb(e),o;if(t){var i=Rb(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return kje(this,o)}}function kje(e,t){if(t&&(Tx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lje(e)}function Lje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cx(e){var t=typeof Map=="function"?new Map:void 0;return Cx=function(r){if(r===null||!$je(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return Jw(r,arguments,Rb(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Nb(o,r)},Cx(e)}function Jw(e,t,n){return uK()?Jw=Reflect.construct:Jw=function(o,i,a){var s=[null];s.push.apply(s,i);var f=Function.bind.apply(o,s),d=new f;return a&&Nb(d,a.prototype),d},Jw.apply(null,arguments)}function uK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $je(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Nb(e,t){return Nb=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},Nb(e,t)}function Rb(e){return Rb=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Rb(e)}var Ax=function(e){Ije(n,e);var t=Dje(n);function n(){return Rje(this,n),t.apply(this,arguments)}return Nje(n)}(Cx(Error));function cK(e){var t=new Set,n=new Set,r=[];function o(i){if(n.has(i))throw new Ax;if(!t.has(i)){var a;n.add(i),t.add(i),(a=e.predecessors(i))===null||a===void 0||a.forEach(o),n.delete(i),r.push(i)}}if(e.sinks().forEach(o),t.size!==e.nodeCount())throw new Ax;return r}var Bje=function(t){try{cK(t)}catch(n){if(n instanceof Ax)return!1;throw n}return!0},jje=function(t,n){return ZN(t,n,"post")},Fje=function(t,n){return ZN(t,n,"pre")},zje=function(){return 1};function Uje(e,t,n){return Vje(e,t||zje,n||function(r){return e.outEdges(r)})}function Vje(e,t,n){var r={},o=e.nodes();return o.forEach(function(i){var a=String(i);r[a]={},r[a][a]={distance:0},o.forEach(function(s){i!==s&&(r[a][String(s)]={distance:Number.POSITIVE_INFINITY})}),n(i).forEach(function(s){var f=s.v===i?s.w:s.v,d=t(s);r[a][String(f)]={distance:d,predecessor:i}})}),o.forEach(function(i){var a=String(i),s=r[a];o.forEach(function(f){var d=String(f),h=r[d];o.forEach(function(v){var y=String(v),m=h[a],b=s[y],S=h[y],O=m.distance+b.distance;O<S.distance&&(S.distance=O,S.predecessor=b.predecessor)})})}),r}const Hje=Object.freeze(Object.defineProperty({__proto__:null,components:Eje,dfs:ZN,dijkstra:sK,dijkstraAll:xje,findCycles:Mje,tarjan:lK,isAcyclic:Bje,postorder:jje,preorder:Fje,prim:bje,topsort:cK,floydWarshall:Uje},Symbol.toStringTag,{value:"Module"}));class Gje extends lje{}class Wje extends Iy{}const Kje=()=>1,Xje=(e,t)=>{var n;if(e.nodeCount()<=1)return[];const r=Zje(e,t||Kje);return(n=Yje(r.graph,r.buckets,r.zeroIdx).map(i=>e.outEdges(i.v,i.w)))===null||n===void 0?void 0:n.flat()},Yje=(e,t,n)=>{let r=[];const o=t[t.length-1],i=t[0];let a;for(;e.nodeCount();){for(;a=i.dequeue();)kA(e,t,n,a);for(;a=o.dequeue();)kA(e,t,n,a);if(e.nodeCount()){for(let s=t.length-2;s>0;--s)if(a=t[s].dequeue(),a){r=r.concat(kA(e,t,n,a,!0));break}}}return r},kA=(e,t,n,r,o)=>{var i,a;const s=[];return(i=e.inEdges(r.v))===null||i===void 0||i.forEach(f=>{const d=e.edge(f),h=e.node(f.v);o&&s.push({v:f.v,w:f.w,in:0,out:0}),h.out===void 0&&(h.out=0),h.out-=d,Px(t,n,h)}),(a=e.outEdges(r.v))===null||a===void 0||a.forEach(f=>{const d=e.edge(f),h=f.w,v=e.node(h);v.in===void 0&&(v.in=0),v.in-=d,Px(t,n,v)}),e.removeNode(r.v),o?s:void 0},Zje=(e,t)=>{const n=new Wje;let r=0,o=0;e.nodes().forEach(f=>{n.setNode(f,{v:f,in:0,out:0})}),e.edges().forEach(f=>{const d=n.edge(f)||0,h=(t==null?void 0:t(f))||1,v=d+h;n.setEdge(f.v,f.w,v),o=Math.max(o,n.node(f.v).out+=h),r=Math.max(r,n.node(f.w).in+=h)});const i=[],a=o+r+3;for(let f=0;f<a;f++)i.push(new Gje);const s=r+1;return n.nodes().forEach(f=>{Px(i,s,n.node(f))}),{buckets:i,zeroIdx:s,graph:n}},Px=(e,t,n)=>{n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)},Jje=e=>{const t=r=>o=>{var i;return((i=r.edge(o))===null||i===void 0?void 0:i.weight)||1},n=e.graph().acyclicer==="greedy"?Xje(e,t(e)):Qje(e);n==null||n.forEach(r=>{const o=e.edge(r);e.removeEdgeObj(r),o.forwardName=r.name,o.reversed=!0,e.setEdge(r.w,r.v,o,`rev-${Math.random()}`)})},Qje=e=>{const t=[],n={},r={},o=i=>{var a;r[i]||(r[i]=!0,n[i]=!0,(a=e.outEdges(i))===null||a===void 0||a.forEach(s=>{n[s.w]?t.push(s):o(s.w)}),delete n[i])};return e.nodes().forEach(o),t},qje=e=>{e.edges().forEach(t=>{const n=e.edge(t);if(n.reversed){e.removeEdgeObj(t);const r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})},Nj={run:Jje,undo:qje};class Sc extends Iy{}const e8e=(e,t)=>Number(e)-Number(t),Dy=(e,t,n,r)=>{let o;do o=`${r}${Math.random()}`;while(e.hasNode(o));return n.dummy=t,e.setNode(o,n),o},t8e=e=>{const t=new Sc().setGraph(e.graph());return e.nodes().forEach(n=>{t.setNode(n,e.node(n))}),e.edges().forEach(n=>{const r=t.edgeFromArgs(n.v,n.w)||{weight:0,minlen:1},o=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})}),t},fK=e=>{const t=new Sc({multigraph:e.isMultigraph()}).setGraph(e.graph());return e.nodes().forEach(n=>{var r;!((r=e.children(n))===null||r===void 0)&&r.length||t.setNode(n,e.node(n))}),e.edges().forEach(n=>{t.setEdgeObj(n,e.edge(n))}),t},n8e=(e,t)=>e==null?void 0:e.reduce((n,r,o)=>(n[r]=t[o],n),{}),Rj=(e,t)=>{const n=Number(e.x),r=Number(e.y),o=Number(t.x)-n,i=Number(t.y)-r;let a=Number(e.width)/2,s=Number(e.height)/2;if(!o&&!i)return{x:0,y:0};let f,d;return Math.abs(i)*a>Math.abs(o)*s?(i<0&&(s=-s),f=s*o/i,d=s):(o<0&&(a=-a),f=a,d=a*i/o),{x:n+f,y:r+d}},Ib=e=>{const t=[],n=dK(e)+1;for(let r=0;r<n;r++)t.push([]);e.nodes().forEach(r=>{const i=e.node(r).rank;i!==void 0&&t[i]&&t[i].push(r)});for(let r=0;r<n;r++)t[r]=t[r].sort((o,i)=>{var a,s;return e8e((a=e.node(o))===null||a===void 0?void 0:a.order,(s=e.node(i))===null||s===void 0?void 0:s.order)});return t},r8e=e=>{const t=e.nodes().filter(r=>{var o;return((o=e.node(r))===null||o===void 0?void 0:o.rank)!==void 0}).map(r=>e.node(r).rank),n=Math.min(...t);e.nodes().forEach(r=>{const o=e.node(r);o.hasOwnProperty("rank")&&n!==1/0&&(o.rank-=n)})},o8e=e=>{const t=e.nodes(),n=t.filter(s=>{var f;return((f=e.node(s))===null||f===void 0?void 0:f.rank)!==void 0}).map(s=>e.node(s).rank),r=Math.min(...n),o=[];t.forEach(s=>{var f;const d=(((f=e.node(s))===null||f===void 0?void 0:f.rank)||0)-r;o[d]||(o[d]=[]),o[d].push(s)});let i=0;const a=e.graph().nodeRankFactor||0;for(let s=0;s<o.length;s++){const f=o[s];f===void 0?s%a!==0&&(i-=1):i&&(f==null||f.forEach(d=>{const h=e.node(d);h&&(h.rank=h.rank||0,h.rank+=i)}))}},Ij=(e,t,n,r)=>{const o={width:0,height:0};return $O(n)&&$O(r)&&(o.rank=n,o.order=r),Dy(e,"border",o,t)},dK=e=>{let t;return e.nodes().forEach(n=>{var r;const o=(r=e.node(n))===null||r===void 0?void 0:r.rank;o!==void 0&&(t===void 0||o>t)&&(t=o)}),t||(t=0),t},i8e=(e,t)=>{const n={lhs:[],rhs:[]};return e==null||e.forEach(r=>{t(r)?n.lhs.push(r):n.rhs.push(r)}),n},hK=(e,t)=>{const n=Date.now();try{return t()}finally{console.log(`${e} time: ${Date.now()-n}ms`)}},pK=(e,t)=>t(),JN=(e,t)=>e.reduce((n,r)=>{const o=t(n),i=t(r);return o>i?r:n}),a8e=e=>{e.graph().dummyChains=[],e.edges().forEach(t=>s8e(e,t))},s8e=(e,t)=>{let n=t.v,r=e.node(n).rank;const o=t.w,i=e.node(o).rank,a=t.name,s=e.edge(t),f=s.labelRank;if(i===r+1)return;e.removeEdgeObj(t);const d=e.graph();let h,v,y;for(y=0,++r;r<i;++y,++r)s.points=[],v={edgeLabel:s,width:0,height:0,edgeObj:t,rank:r},h=Dy(e,"edge",v,"_d"),r===f&&(v.width=s.width,v.height=s.height,v.dummy="edge-label",v.labelpos=s.labelpos),e.setEdge(n,h,{weight:s.weight},a),y===0&&(d.dummyChains||(d.dummyChains=[]),d.dummyChains.push(h)),n=h;e.setEdge(n,o,{weight:s.weight},a)},l8e=e=>{var t;(t=e.graph().dummyChains)===null||t===void 0||t.forEach(n=>{let r=e.node(n);const o=r.edgeLabel;let i;r.edgeObj&&e.setEdgeObj(r.edgeObj,o);let a=n;for(;r.dummy;)i=e.successors(a)[0],e.removeNode(a),o.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(o.x=r.x,o.y=r.y,o.width=r.width,o.height=r.height),a=i,r=e.node(a)})},Dj={run:a8e,undo:l8e},vK=e=>{var t;const n={},r=o=>{var i;const a=e.node(o);if(n[o])return a.rank;n[o]=!0;let s;return(i=e.outEdges(o))===null||i===void 0||i.forEach(f=>{const d=r(f.w),h=e.edge(f).minlen,v=d-h;v&&(s===void 0||v<s)&&(s=v)}),s||(s=0),a.rank=s,s};(t=e.sources())===null||t===void 0||t.forEach(o=>r(o))},u8e=e=>{var t;const n={};let r;const o=a=>{var s;const f=e.node(a);if(n[a])return f.rank;n[a]=!0;let d;return(s=e.outEdges(a))===null||s===void 0||s.forEach(h=>{const v=o(h.w),y=e.edge(h).minlen,m=v-y;m&&(d===void 0||m<d)&&(d=m)}),d||(d=0),(r===void 0||d<r)&&(r=d),f.rank=d,d};(t=e.sources())===null||t===void 0||t.forEach(a=>o(a)),r===void 0&&(r=0);const i=(a,s)=>{var f;const d=e.node(a),h=isNaN(d.layer)?s:d.layer;(d.rank===void 0||d.rank<h)&&(d.rank=h),(f=e.outEdges(a))===null||f===void 0||f.map(v=>{i(v.w,h+e.edge(v).minlen)})};e.nodes().forEach(a=>{const s=e.node(a);isNaN(s.layer)?s.rank-=r:i(a,s.layer)})},ed=(e,t)=>e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen,c8e=e=>{const t=new Sc({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});let o,i;for(;f8e(t,e)<r;)o=yK(t,e),i=t.hasNode(o.v)?ed(e,o):-ed(e,o),mK(t,e,i);return t},f8e=(e,t)=>{const n=r=>{t.nodeEdges(r).forEach(o=>{const i=o.v,a=r===i?o.w:i;!e.hasNode(a)&&!ed(t,o)&&(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))})};return e.nodes().forEach(n),e.nodeCount()},d8e=e=>{const t=new Sc({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});let o,i;for(;h8e(t,e)<r;)o=yK(t,e),i=t.hasNode(o.v)?ed(e,o):-ed(e,o),mK(t,e,i);return t},h8e=(e,t)=>{const n=r=>{var o;(o=t.nodeEdges(r))===null||o===void 0||o.forEach(i=>{const a=i.v,s=r===a?i.w:a;!e.hasNode(s)&&(t.node(s).layer!==void 0||!ed(t,i))&&(e.setNode(s,{}),e.setEdge(r,s,{}),n(s))})};return e.nodes().forEach(n),e.nodeCount()},yK=(e,t)=>JN(t.edges(),n=>e.hasNode(n.v)!==e.hasNode(n.w)?ed(t,n):1/0),mK=(e,t,n)=>{e.nodes().forEach(r=>{t.node(r).rank||(t.node(r).rank=0),t.node(r).rank+=n})},{preorder:p8e,postorder:v8e}=Hje,y8e=e=>{const t=t8e(e);vK(t);const n=c8e(t);bK(n),gK(n,t);let r,o;for(;r=b8e(n);)o=E8e(n,t,r),S8e(n,t,r,o)},gK=(e,t)=>{let n=v8e(e,e.nodes());n=n==null?void 0:n.slice(0,(n==null?void 0:n.length)-1),n==null||n.forEach(r=>{m8e(e,t,r)})},m8e=(e,t,n)=>{const o=e.node(n).parent;e.edgeFromArgs(n,o).cutvalue=g8e(e,t,n)},g8e=(e,t,n)=>{var r;const i=e.node(n).parent;let a=!0,s=t.edgeFromArgs(n,i),f=0;return s||(a=!1,s=t.edgeFromArgs(i,n)),f=s.weight,(r=t.nodeEdges(n))===null||r===void 0||r.forEach(d=>{const h=d.v===n,v=h?d.w:d.v;if(v!==i){const y=h===a,m=t.edge(d).weight;if(f+=y?m:-m,O8e(e,n,v)){const b=e.edgeFromArgs(n,v).cutvalue;f+=y?-b:b}}}),f},bK=(e,t=e.nodes()[0])=>{EK(e,{},1,t)},EK=(e,t,n,r,o)=>{var i;const a=n;let s=n;const f=e.node(r);return t[r]=!0,(i=e.neighbors(r))===null||i===void 0||i.forEach(d=>{t[d]||(s=EK(e,t,s,d,r))}),f.low=a,f.lim=s++,o?f.parent=o:delete f.parent,s},b8e=e=>e.edges().find(t=>e.edge(t).cutvalue<0),E8e=(e,t,n)=>{let r=n.v,o=n.w;t.hasEdge(r,o)||(r=n.w,o=n.v);const i=e.node(r),a=e.node(o);let s=i,f=!1;i.lim>a.lim&&(s=a,f=!0);const d=t.edges().filter(h=>f===kj(e,e.node(h.v),s)&&f!==kj(e,e.node(h.w),s));return JN(d,h=>ed(t,h))},S8e=(e,t,n,r)=>{const o=n.v,i=n.w;e.removeEdge(o,i),e.setEdge(r.v,r.w,{}),bK(e),gK(e,t),w8e(e,t)},w8e=(e,t)=>{const n=e.nodes().find(o=>{var i;return!(!((i=t.node(o))===null||i===void 0)&&i.parent)});let r=p8e(e,n);r=r==null?void 0:r.slice(1),r==null||r.forEach(o=>{const i=e.node(o).parent;let a=t.edgeFromArgs(o,i),s=!1;a||(a=t.edgeFromArgs(i,o),s=!0),t.node(o).rank=t.node(i).rank+(s?a.minlen:-a.minlen)})},O8e=(e,t,n)=>e.hasEdge(t,n),kj=(e,t,n)=>n.low<=t.lim&&t.lim<=n.lim,_8e=e=>{switch(e.graph().ranker){case"network-simplex":C8e(e);break;case"tight-tree":Lj(e);break;case"longest-path":T8e(e);break;default:Lj(e)}},T8e=vK,Lj=e=>{u8e(e),d8e(e)},C8e=e=>{y8e(e)},A8e=e=>{var t;const n={};let r=0;const o=i=>{var a;const s=r;(a=e.children(i))===null||a===void 0||a.forEach(o),n[i]={low:s,lim:r++}};return(t=e.children())===null||t===void 0||t.forEach(o),n},P8e=(e,t,n,r)=>{const o=[],i=[],a=Math.min(t[n].low,t[r].low),s=Math.max(t[n].lim,t[r].lim);let f,d;f=n;do f=e.parent(f),o.push(f);while(f&&(t[f].low>a||s>t[f].lim));for(d=f,f=r;f&&f!==d;)i.push(f),f=e.parent(f);return{lca:d,path:o.concat(i.reverse())}},x8e=e=>{var t;const n=A8e(e);(t=e.graph().dummyChains)===null||t===void 0||t.forEach(r=>{var o,i;let a=r,s=e.node(a);const f=s.edgeObj;if(!f)return;const d=P8e(e,n,f.v,f.w),h=d.path,v=d.lca;let y=0,m=h[y],b=!0;for(;a!==f.w;){if(s=e.node(a),b){for(;m!==v&&((o=e.node(m))===null||o===void 0?void 0:o.maxRank)<s.rank;)y++,m=h[y];m===v&&(b=!1)}if(!b){for(;y<h.length-1&&((i=e.node(h[y+1]))===null||i===void 0?void 0:i.minRank)<=s.rank;)y++;m=h[y]}e.setParent(a,m),a=e.successors(a)[0]}})},M8e=e=>{var t;const n=Dy(e,"root",{},"_root"),r=N8e(e);let o=Math.max(...Object.values(r));Math.abs(o)===1/0&&(o=1);const i=o-1,a=2*i+1;e.graph().nestingRoot=n,e.edges().forEach(f=>{e.edge(f).minlen*=a});const s=R8e(e)+1;(t=e.children())===null||t===void 0||t.forEach(f=>{SK(e,n,a,s,i,r,f)}),e.graph().nodeRankFactor=a},SK=(e,t,n,r,o,i,a)=>{const s=e.children(a);if(!(s!=null&&s.length)){a!==t&&e.setEdge(t,a,{weight:0,minlen:n});return}const f=Ij(e,"_bt"),d=Ij(e,"_bb"),h=e.node(a);e.setParent(f,a),h.borderTop=f,e.setParent(d,a),h.borderBottom=d,s==null||s.forEach(v=>{SK(e,t,n,r,o,i,v);const y=e.node(v),m=y.borderTop?y.borderTop:v,b=y.borderBottom?y.borderBottom:v,S=y.borderTop?r:2*r,O=m!==b?1:o-i[a]+1;e.setEdge(f,m,{minlen:O,weight:S,nestingEdge:!0}),e.setEdge(b,d,{minlen:O,weight:S,nestingEdge:!0})}),e.parent(a)||e.setEdge(t,f,{weight:0,minlen:o+i[a]})},N8e=e=>{var t;const n={},r=(o,i)=>{const a=e.children(o);a==null||a.forEach(s=>r(s,i+1)),n[o]=i};return(t=e.children())===null||t===void 0||t.forEach(o=>r(o,1)),n},R8e=e=>{let t=0;return e.edges().forEach(n=>{t+=e.edge(n).weight}),t},I8e=e=>{const t=e.graph();t.nestingRoot&&e.removeNode(t.nestingRoot),delete t.nestingRoot,e.edges().forEach(n=>{e.edge(n).nestingEdge&&e.removeEdgeObj(n)})},$j={run:M8e,cleanup:I8e},D8e=e=>{var t;const n=r=>{const o=e.children(r),i=e.node(r);if(o!=null&&o.length&&o.forEach(a=>n(a)),i.hasOwnProperty("minRank")){i.borderLeft=[],i.borderRight=[];for(let a=i.minRank,s=i.maxRank+1;a<s;a+=1)Bj(e,"borderLeft","_bl",r,i,a),Bj(e,"borderRight","_br",r,i,a)}};(t=e.children())===null||t===void 0||t.forEach(r=>n(r))},Bj=(e,t,n,r,o,i)=>{const a={rank:i,borderType:t,width:0,height:0},s=o[t][i-1],f=Dy(e,"border",a,n);o[t][i]=f,e.setParent(f,r),s&&e.setEdge(s,f,{weight:1})},k8e=e=>{var t;const n=(t=e.graph().rankdir)===null||t===void 0?void 0:t.toLowerCase();(n==="lr"||n==="rl")&&wK(e)},L8e=e=>{var t;const n=(t=e.graph().rankdir)===null||t===void 0?void 0:t.toLowerCase();(n==="bt"||n==="rl")&&$8e(e),(n==="lr"||n==="rl")&&(B8e(e),wK(e))},wK=e=>{e.nodes().forEach(t=>{jj(e.node(t))}),e.edges().forEach(t=>{jj(e.edge(t))})},jj=e=>{const t=e.width;e.width=e.height,e.height=t},$8e=e=>{e.nodes().forEach(t=>{LA(e.node(t))}),e.edges().forEach(t=>{var n;const r=e.edge(t);(n=r.points)===null||n===void 0||n.forEach(o=>LA(o)),r.hasOwnProperty("y")&&LA(r)})},LA=e=>{e!=null&&e.y&&(e.y=-e.y)},B8e=e=>{e.nodes().forEach(t=>{$A(e.node(t))}),e.edges().forEach(t=>{var n;const r=e.edge(t);(n=r.points)===null||n===void 0||n.forEach(o=>$A(o)),r.hasOwnProperty("x")&&$A(r)})},$A=e=>{const t=e.x;e.x=e.y,e.y=t},Fj={adjust:k8e,undo:L8e},zj=e=>{const t={},n=e.nodes().filter(h=>{var v;return!(!((v=e.children(h))===null||v===void 0)&&v.length)}),r=n.map(h=>e.node(h).rank),o=Math.max(...r),i=[];for(let h=0;h<o+1;h++)i.push([]);const a=h=>{var v;if(t.hasOwnProperty(h))return;t[h]=!0;const y=e.node(h);isNaN(y.rank)||i[y.rank].push(h),(v=e.successors(h))===null||v===void 0||v.forEach(m=>a(m))},s=n.sort((h,v)=>e.node(h).rank-e.node(v).rank),d=s.filter(h=>e.node(h).fixorder!==void 0).sort((h,v)=>e.node(h).fixorder-e.node(v).fixorder);return d==null||d.forEach(h=>{isNaN(e.node(h).rank)||i[e.node(h).rank].push(h),t[h]=!0}),s==null||s.forEach(a),i},j8e=(e,t,n)=>{const r=n8e(n,n.map((h,v)=>v)),i=t.map(h=>{var v;const y=(v=e.outEdges(h))===null||v===void 0?void 0:v.map(m=>({pos:r[m.w]||0,weight:e.edge(m).weight}));return y==null?void 0:y.sort((m,b)=>m.pos-b.pos)}).flat().filter(h=>h!==void 0);let a=1;for(;a<n.length;)a<<=1;const s=2*a-1;a-=1;const f=Array(s).fill(0,0,s);let d=0;return i==null||i.forEach(h=>{if(h){let v=h.pos+a;f[v]+=h.weight;let y=0;for(;v>0;)v%2&&(y+=f[v+1]),v=v-1>>1,f[v]+=h.weight;d+=h.weight*y}}),d},Uj=(e,t)=>{let n=0;for(let r=1;r<(t==null?void 0:t.length);r+=1)n+=j8e(e,t[r-1],t[r]);return n},F8e=(e,t,n)=>{const r=z8e(e),o=new Sc({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(i=>e.node(i));return e.nodes().forEach(i=>{var a;const s=e.node(i),f=e.parent(i);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(o.setNode(i),o.setParent(i,f||r),(a=e[n](i))===null||a===void 0||a.forEach(d=>{const h=d.v===i?d.w:d.v,v=o.edgeFromArgs(h,i),y=v!==void 0?v.weight:0;o.setEdge(h,i,{weight:e.edge(d).weight+y})}),s.hasOwnProperty("minRank")&&o.setNode(i,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),o},z8e=e=>{let t;for(;e.hasNode(t=`_root${Math.random()}`););return t},U8e=(e,t,n)=>{const r={};let o;n==null||n.forEach(i=>{let a=e.parent(i),s,f;for(;a;){if(s=e.parent(a),s?(f=r[s],r[s]=a):(f=o,o=a),f&&f!==a){t.setEdge(f,a);return}a=s}})},V8e=(e,t)=>t.map(n=>{const r=e.inEdges(n);if(!(r!=null&&r.length))return{v:n};{const o={sum:0,weight:0};return r==null||r.forEach(i=>{const a=e.edge(i),s=e.node(i.v);o.sum+=a.weight*s.order,o.weight+=a.weight}),{v:n,barycenter:o.sum/o.weight,weight:o.weight}}}),H8e=(e,t)=>{var n,r,o;const i={};e==null||e.forEach((s,f)=>{i[s.v]={i:f,indegree:0,in:[],out:[],vs:[s.v]};const d=i[s.v];s.barycenter!==void 0&&(d.barycenter=s.barycenter,d.weight=s.weight)}),(n=t.edges())===null||n===void 0||n.forEach(s=>{const f=i[s.v],d=i[s.w];f!==void 0&&d!==void 0&&(d.indegree++,f.out.push(i[s.w]))});const a=(o=(r=Object.values(i)).filter)===null||o===void 0?void 0:o.call(r,s=>!s.indegree);return G8e(a)},G8e=e=>{var t,n;const r=[],o=f=>d=>{d.merged||(d.barycenter===void 0||f.barycenter===void 0||d.barycenter>=f.barycenter)&&W8e(f,d)},i=f=>d=>{d.in.push(f),--d.indegree===0&&e.push(d)};for(;e!=null&&e.length;){const f=e.pop();r.push(f),(t=f.in.reverse())===null||t===void 0||t.forEach(d=>o(f)(d)),(n=f.out)===null||n===void 0||n.forEach(d=>i(f)(d))}const a=r.filter(f=>!f.merged),s=["vs","i","barycenter","weight"];return a.map(f=>{const d={};return s==null||s.forEach(h=>{f[h]!==void 0&&(d[h]=f[h])}),d})},W8e=(e,t)=>{var n;let r=0,o=0;e.weight&&(r+=e.barycenter*e.weight,o+=e.weight),t.weight&&(r+=t.barycenter*t.weight,o+=t.weight),e.vs=(n=t.vs)===null||n===void 0?void 0:n.concat(e.vs),e.barycenter=r/o,e.weight=o,e.i=Math.min(t.i,e.i),t.merged=!0},K8e=(e,t,n)=>{const r=i8e(e,v=>v.hasOwnProperty("fixorder")&&!isNaN(v.fixorder)||v.hasOwnProperty("barycenter")),o=r.lhs,i=r.rhs.sort((v,y)=>-v.i- -y.i),a=[];let s=0,f=0,d=0;o==null||o.sort(X8e(!!t,!!n)),d=Vj(a,i,d),o==null||o.forEach(v=>{var y;d+=(y=v.vs)===null||y===void 0?void 0:y.length,a.push(v.vs),s+=v.barycenter*v.weight,f+=v.weight,d=Vj(a,i,d)});const h={vs:a.flat()};return f&&(h.barycenter=s/f,h.weight=f),h},Vj=(e,t,n)=>{let r=n,o;for(;t.length&&(o=t[t.length-1]).i<=r;)t.pop(),e==null||e.push(o.vs),r++;return r},X8e=(e,t)=>(n,r)=>{if(n.fixorder!==void 0&&r.fixorder!==void 0)return n.fixorder-r.fixorder;if(n.barycenter<r.barycenter)return-1;if(n.barycenter>r.barycenter)return 1;if(t&&n.order!==void 0&&r.order!==void 0){if(n.order<r.order)return-1;if(n.order>r.order)return 1}return e?r.i-n.i:n.i-r.i},OK=(e,t,n,r,o)=>{var i,a,s,f;let d=e.children(t);const h=e.node(t),v=h?h.borderLeft:void 0,y=h?h.borderRight:void 0,m={};v&&(d=d==null?void 0:d.filter(_=>_!==v&&_!==y));const b=V8e(e,d||[]);b==null||b.forEach(_=>{var A;if(!((A=e.children(_.v))===null||A===void 0)&&A.length){const T=OK(e,_.v,n,r);m[_.v]=T,T.hasOwnProperty("barycenter")&&Z8e(_,T)}});const S=H8e(b,n);Y8e(S,m),(i=S.filter(_=>_.vs.length>0))===null||i===void 0||i.forEach(_=>{const A=e.node(_.vs[0]);A&&(_.fixorder=A.fixorder,_.order=A.order)});const O=K8e(S,r,o);if(v&&(O.vs=[v,O.vs,y].flat(),!((a=e.predecessors(v))===null||a===void 0)&&a.length)){const _=e.node(((s=e.predecessors(v))===null||s===void 0?void 0:s[0])||""),A=e.node(((f=e.predecessors(y))===null||f===void 0?void 0:f[0])||"");O.hasOwnProperty("barycenter")||(O.barycenter=0,O.weight=0),O.barycenter=(O.barycenter*O.weight+_.order+A.order)/(O.weight+2),O.weight+=2}return O},Y8e=(e,t)=>{e==null||e.forEach(n=>{var r;const o=(r=n.vs)===null||r===void 0?void 0:r.map(i=>t[i]?t[i].vs:i);n.vs=o.flat()})},Z8e=(e,t)=>{e.barycenter!==void 0?(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight):(e.barycenter=t.barycenter,e.weight=t.weight)},J8e=e=>{const t=dK(e),n=[],r=[];for(let d=1;d<t+1;d++)n.push(d);for(let d=t-1;d>-1;d--)r.push(d);const o=Hj(e,n,"inEdges"),i=Hj(e,r,"outEdges");let a=zj(e);BA(e,a);let s=Number.POSITIVE_INFINITY,f;for(let d=0,h=0;h<4;++d,++h){Gj(d%2?o:i,d%4>=2),a=Ib(e);const v=Uj(e,a);v<s&&(h=0,f=BO(a),s=v)}a=zj(e),BA(e,a);for(let d=0,h=0;h<4;++d,++h){Gj(d%2?o:i,d%4>=2,!0),a=Ib(e);const v=Uj(e,a);v<s&&(h=0,f=BO(a),s=v)}BA(e,f)},Hj=(e,t,n)=>t.map(r=>F8e(e,r,n)),Gj=(e,t,n)=>{const r=new Sc;e==null||e.forEach(o=>{var i;const a=o.graph().root,s=OK(o,a,r,t,n);for(let f=0;f<((i=s.vs)===null||i===void 0?void 0:i.length);f++){const d=o.node(s.vs[f]);d&&(d.order=f)}U8e(o,r,s.vs)})},BA=(e,t)=>{t==null||t.forEach(n=>{n==null||n.forEach((r,o)=>{e.node(r).order=o})})};class Q8e extends Iy{}const q8e=(e,t)=>{const n={},r=(o,i)=>{let a=0,s=0;const f=o.length,d=i==null?void 0:i[(i==null?void 0:i.length)-1];return i==null||i.forEach((h,v)=>{var y;const m=tFe(e,h),b=m?e.node(m).order:f;(m||h===d)&&((y=i.slice(s,v+1))===null||y===void 0||y.forEach(S=>{var O;(O=e.predecessors(S))===null||O===void 0||O.forEach(_=>{var A;const T=e.node(_),P=T.order;(P<a||b<P)&&!(T.dummy&&((A=e.node(S))===null||A===void 0?void 0:A.dummy))&&_K(n,_,S)})}),s=v+1,a=b)}),i};return t!=null&&t.length&&t.reduce(r),n},eFe=(e,t)=>{const n={},r=(i,a,s,f,d)=>{let h;const v=[];for(let y=a;y<s;y++)v.push(y);v.forEach(y=>{var m,b;h=i[y],!((m=e.node(h))===null||m===void 0)&&m.dummy&&((b=e.predecessors(h))===null||b===void 0||b.forEach(S=>{const O=e.node(S);O.dummy&&(O.order<f||O.order>d)&&_K(n,S,h)}))})},o=(i,a)=>{let s=-1,f,d=0;return a==null||a.forEach((h,v)=>{var y;if(((y=e.node(h))===null||y===void 0?void 0:y.dummy)==="border"){const m=e.predecessors(h)||[];m.length&&(f=e.node(m[0]).order,r(a,d,v,s,f),d=v,s=f)}r(a,d,a.length,f,i.length)}),a};return t!=null&&t.length&&t.reduce(o),n},tFe=(e,t)=>{var n,r;if(!((n=e.node(t))===null||n===void 0)&&n.dummy)return(r=e.predecessors(t))===null||r===void 0?void 0:r.find(o=>e.node(o).dummy)},_K=(e,t,n)=>{let r=t,o=n;if(r>o){const a=r;r=o,o=a}let i=e[r];i||(e[r]=i={}),i[o]=!0},nFe=(e,t,n)=>{let r=t,o=n;if(r>o){const i=t;r=o,o=i}return!!e[r]},rFe=(e,t,n,r)=>{const o={},i={},a={};return t==null||t.forEach(s=>{s==null||s.forEach((f,d)=>{o[f]=f,i[f]=f,a[f]=d})}),t==null||t.forEach(s=>{let f=-1;s==null||s.forEach(d=>{let h=r(d);if(h.length){h=h.sort((y,m)=>a[y]-a[m]);const v=(h.length-1)/2;for(let y=Math.floor(v),m=Math.ceil(v);y<=m;++y){const b=h[y];i[d]===d&&f<a[b]&&!nFe(n,d,b)&&(i[b]=d,i[d]=o[d]=o[b],f=a[b])}}})}),{root:o,align:i}},oFe=(e,t,n,r,o)=>{var i;const a={},s=iFe(e,t,n,o),f=o?"borderLeft":"borderRight",d=(y,m)=>{let b=s.nodes(),S=b.pop();const O={};for(;S;)O[S]?y(S):(O[S]=!0,b.push(S),b=b.concat(m(S))),S=b.pop()},h=y=>{a[y]=(s.inEdges(y)||[]).reduce((m,b)=>Math.max(m,(a[b.v]||0)+s.edge(b)),0)},v=y=>{const m=(s.outEdges(y)||[]).reduce((S,O)=>Math.min(S,(a[O.w]||0)-s.edge(O)),Number.POSITIVE_INFINITY),b=e.node(y);m!==Number.POSITIVE_INFINITY&&b.borderType!==f&&(a[y]=Math.max(a[y],m))};return d(h,s.predecessors.bind(s)),d(v,s.successors.bind(s)),(i=Object.values(r))===null||i===void 0||i.forEach(y=>{a[y]=a[n[y]]}),a},iFe=(e,t,n,r)=>{const o=new Q8e,i=e.graph(),a=uFe(i.nodesep,i.edgesep,r);return t==null||t.forEach(s=>{let f;s==null||s.forEach(d=>{const h=n[d];if(o.setNode(h),f){const v=n[f],y=o.edgeFromArgs(v,h);o.setEdge(v,h,Math.max(a(e,d,f),y||0))}f=d})}),o},aFe=(e,t)=>JN(Object.values(t),n=>{var r;let o=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return(r=Object.keys(n))===null||r===void 0||r.forEach(a=>{const s=n[a],f=cFe(e,a)/2;o=Math.max(s+f,o),i=Math.min(s-f,i)}),o-i});function sFe(e,t){const n=Object.values(t),r=Math.min(...n),o=Math.max(...n);["u","d"].forEach(i=>{["l","r"].forEach(a=>{const s=i+a,f=e[s];let d;if(f===t)return;const h=Object.values(f);d=a==="l"?r-Math.min(...h):o-Math.max(...h),d&&(e[s]={},Object.keys(f).forEach(v=>{e[s][v]=f[v]+d}))})})}const lFe=(e,t)=>{const n={};return Object.keys(e.ul).forEach(r=>{if(t)n[r]=e[t.toLowerCase()][r];else{const o=Object.values(e).map(i=>i[r]);n[r]=(o[0]+o[1])/2}}),n},uFe=(e,t,n)=>(r,o,i)=>{const a=r.node(o),s=r.node(i);let f=0,d;if(f+=a.width/2,a.hasOwnProperty("labelpos"))switch((a.labelpos||"").toLowerCase()){case"l":d=-a.width/2;break;case"r":d=a.width/2;break}if(d&&(f+=n?d:-d),d=0,f+=(a.dummy?t:e)/2,f+=(s.dummy?t:e)/2,f+=s.width/2,s.labelpos)switch((s.labelpos||"").toLowerCase()){case"l":d=s.width/2;break;case"r":d=-s.width/2;break}return d&&(f+=n?d:-d),d=0,f},cFe=(e,t)=>e.node(t).width||0,fFe=e=>{const t=Ib(e),n=e.graph().ranksep;let r=0;t==null||t.forEach(o=>{const i=o.map(s=>e.node(s).height),a=Math.max(...i);o==null||o.forEach(s=>{e.node(s).y=r+a/2}),r+=a+n})},dFe=e=>{const t=Ib(e),n=Object.assign(q8e(e,t),eFe(e,t)),r={};let o=[];["u","d"].forEach(a=>{o=a==="u"?t:Object.values(t).reverse(),["l","r"].forEach(s=>{s==="r"&&(o=o.map(v=>Object.values(v).reverse()));const f=(a==="u"?e.predecessors:e.successors).bind(e),d=rFe(e,o,n,f),h=oFe(e,o,d.root,d.align,s==="r");s==="r"&&Object.keys(h).forEach(v=>h[v]=-h[v]),r[a+s]=h})});const i=aFe(e,r);return i&&sFe(r,i),lFe(r,e.graph().align)},hFe=e=>{var t;const n=fK(e);fFe(n);const r=dFe(n);(t=Object.keys(r))===null||t===void 0||t.forEach(o=>{n.node(o).x=r[o]})},pFe=(e,t)=>{const r=e.nodes().filter(a=>{var s;return!(!((s=e.children(a))===null||s===void 0)&&s.length)}).map(a=>e.node(a).rank),o=Math.max(...r),i=Array(o+1).fill([]);t==null||t.forEach(a=>{const s=e.node(a);!s||(s==null?void 0:s.dummy)||isNaN(s.rank)||(s.fixorder=i[s.rank].length,i[s.rank].push(a))})},vFe=(e,t)=>{const n=t&&t.debugTiming?hK:pK;n("layout",()=>{t&&!t.keepNodeOrder&&t.prevGraph&&n("  inheritOrder",()=>{mFe(e,t.prevGraph)});const r=n("  buildLayoutGraph",()=>TFe(e));t&&t.edgeLabelSpace===!1||n("  makeSpaceForEdgeLabels",()=>{CFe(r)});try{n("  runLayout",()=>{yFe(r,n,t)})}catch(o){if(o.message==="Not possible to find intersection inside of the rectangle"){console.error(`The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:
`,o);return}throw o}n("  updateInputGraph",()=>{gFe(e,r)})})},yFe=(e,t,n)=>{t("    removeSelfEdges",()=>{kFe(e)}),t("    acyclic",()=>{Nj.run(e)}),t("    nestingGraph.run",()=>{$j.run(e)}),t("    rank",()=>{_8e(fK(e))}),t("    injectEdgeLabelProxies",()=>{AFe(e)}),t("    removeEmptyRanks",()=>{o8e(e)}),t("    nestingGraph.cleanup",()=>{$j.cleanup(e)}),t("    normalizeRanks",()=>{r8e(e)}),t("    assignRankMinMax",()=>{PFe(e)}),t("    removeEdgeLabelProxies",()=>{xFe(e)}),t("    normalize.run",()=>{Dj.run(e)}),t("    parentDummyChains",()=>{x8e(e)}),t("    addBorderSegments",()=>{D8e(e)}),n&&n.keepNodeOrder&&t("    initDataOrder",()=>{pFe(e,n.nodeOrder)}),t("    order",()=>{J8e(e)}),t("    insertSelfEdges",()=>{LFe(e)}),t("    adjustCoordinateSystem",()=>{Fj.adjust(e)}),t("    position",()=>{hFe(e)}),t("    positionSelfEdges",()=>{$Fe(e)}),t("    removeBorderNodes",()=>{DFe(e)}),t("    normalize.undo",()=>{Dj.undo(e)}),t("    fixupEdgeLabelCoords",()=>{RFe(e)}),t("    undoCoordinateSystem",()=>{Fj.undo(e)}),t("    translateGraph",()=>{MFe(e)}),t("    assignNodeIntersects",()=>{NFe(e)}),t("    reversePoints",()=>{IFe(e)}),t("    acyclic.undo",()=>{Nj.undo(e)})},mFe=(e,t)=>{e.nodes().forEach(n=>{const r=e.node(n),o=t.node(n);o!==void 0?(r.fixorder=o._order,delete o._order):delete r.fixorder})},gFe=(e,t)=>{e.nodes().forEach(n=>{var r;const o=e.node(n);if(o){const i=t.node(n);o.x=i.x,o.y=i.y,o._order=i.order,o._rank=i.rank,!((r=t.children(n))===null||r===void 0)&&r.length&&(o.width=i.width,o.height=i.height)}}),e.edges().forEach(n=>{const r=e.edge(n),o=t.edge(n);r.points=o.points,o.hasOwnProperty("x")&&(r.x=o.x,r.y=o.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height},bFe=["nodesep","edgesep","ranksep","marginx","marginy"],EFe={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},jA=["acyclicer","ranker","rankdir","align"],SFe=["width","height","layer","fixorder"],wFe={width:0,height:0},OFe=["minlen","weight","width","height","labeloffset"],_Fe={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},FA=["labelpos"],TFe=e=>{const t=new Sc({multigraph:!0,compound:!0}),n=UA(e.graph()),r={};return jA==null||jA.forEach(o=>{n[o]!==void 0&&(r[o]=n[o])}),t.setGraph(Object.assign({},EFe,zA(n,bFe),r)),e.nodes().forEach(o=>{const i=UA(e.node(o)),a=Object.assign(Object.assign({},wFe),i),s=zA(a,SFe);t.setNode(o,s),t.setParent(o,e.parent(o))}),e.edges().forEach(o=>{const i=UA(e.edge(o)),a={};FA==null||FA.forEach(s=>{i[s]!==void 0&&(a[s]=i[s])}),t.setEdgeObj(o,Object.assign({},_Fe,zA(i,OFe),a))}),t},CFe=e=>{const t=e.graph();t.ranksep||(t.ranksep=0),t.ranksep/=2,e.nodes().forEach(n=>{const r=e.node(n);isNaN(r.layer)||r.layer||(r.layer=0)}),e.edges().forEach(n=>{var r;const o=e.edge(n);o.minlen*=2,((r=o.labelpos)===null||r===void 0?void 0:r.toLowerCase())!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?o.width+=o.labeloffset:o.height+=o.labeloffset)})},AFe=e=>{e.edges().forEach(t=>{const n=e.edge(t);if(n.width&&n.height){const r=e.node(t.v),o=e.node(t.w),i={e:t,rank:(o.rank-r.rank)/2+r.rank};Dy(e,"edge-proxy",i,"_ep")}})},PFe=e=>{let t=0;e.nodes().forEach(n=>{var r,o;const i=e.node(n);i.borderTop&&(i.minRank=(r=e.node(i.borderTop))===null||r===void 0?void 0:r.rank,i.maxRank=(o=e.node(i.borderBottom))===null||o===void 0?void 0:o.rank,t=Math.max(t,i.maxRank||-1/0))}),e.graph().maxRank=t},xFe=e=>{e.nodes().forEach(t=>{const n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})},MFe=e=>{let t,n=0,r,o=0;const i=e.graph(),a=i.marginx||0,s=i.marginy||0,f=d=>{if(!d)return;const h=d.x,v=d.y,y=d.width,m=d.height;!isNaN(h)&&!isNaN(y)&&(t===void 0&&(t=h-y/2),t=Math.min(t,h-y/2),n=Math.max(n,h+y/2)),!isNaN(v)&&!isNaN(m)&&(r===void 0&&(r=v-m/2),r=Math.min(r,v-m/2),o=Math.max(o,v+m/2))};e.nodes().forEach(d=>{f(e.node(d))}),e.edges().forEach(d=>{const h=e.edge(d);h!=null&&h.hasOwnProperty("x")&&f(h)}),t-=a,r-=s,e.nodes().forEach(d=>{const h=e.node(d);h&&(h.x-=t,h.y-=r)}),e.edges().forEach(d=>{var h;const v=e.edge(d);(h=v.points)===null||h===void 0||h.forEach(y=>{y.x-=t,y.y-=r}),v.hasOwnProperty("x")&&(v.x-=t),v.hasOwnProperty("y")&&(v.y-=r)}),i.width=n-t+a,i.height=o-r+s},NFe=e=>{e.edges().forEach(t=>{const n=e.edge(t),r=e.node(t.v),o=e.node(t.w);let i,a;n.points?(i=n.points[0],a=n.points[n.points.length-1]):(n.points=[],i=o,a=r),n.points.unshift(Rj(r,i)),n.points.push(Rj(o,a))})},RFe=e=>{e.edges().forEach(t=>{const n=e.edge(t);if(n!=null&&n.hasOwnProperty("x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})},IFe=e=>{e.edges().forEach(t=>{var n;const r=e.edge(t);r.reversed&&((n=r.points)===null||n===void 0||n.reverse())})},DFe=e=>{e.nodes().forEach(t=>{var n,r,o;if(!((n=e.children(t))===null||n===void 0)&&n.length){const i=e.node(t),a=e.node(i.borderTop),s=e.node(i.borderBottom),f=e.node(i.borderLeft[((r=i.borderLeft)===null||r===void 0?void 0:r.length)-1]),d=e.node(i.borderRight[((o=i.borderRight)===null||o===void 0?void 0:o.length)-1]);i.width=Math.abs((d==null?void 0:d.x)-(f==null?void 0:f.x))||10,i.height=Math.abs((s==null?void 0:s.y)-(a==null?void 0:a.y))||10,i.x=((f==null?void 0:f.x)||0)+i.width/2,i.y=((a==null?void 0:a.y)||0)+i.height/2}}),e.nodes().forEach(t=>{var n;((n=e.node(t))===null||n===void 0?void 0:n.dummy)==="border"&&e.removeNode(t)})},kFe=e=>{e.edges().forEach(t=>{if(t.v===t.w){const n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdgeObj(t)}})},LFe=e=>{const t=Ib(e);t==null||t.forEach(n=>{let r=0;n==null||n.forEach((o,i)=>{var a;const s=e.node(o);s.order=i+r,(a=s.selfEdges)===null||a===void 0||a.forEach(f=>{Dy(e,"selfedge",{width:f.label.width,height:f.label.height,rank:s.rank,order:i+ ++r,e:f.e,label:f.label},"_se")}),delete s.selfEdges})})},$Fe=e=>{e.nodes().forEach(t=>{const n=e.node(t);if(n.dummy==="selfedge"){const r=e.node(n.e.v),o=r.x+r.width/2,i=r.y,a=n.x-o,s=r.height/2;e.setEdgeObj(n.e,n.label),e.removeNode(t),n.label.points=[{x:o+2*a/3,y:i-s},{x:o+5*a/6,y:i-s},{y:i,x:o+a},{x:o+5*a/6,y:i+s},{x:o+2*a/3,y:i+s}],n.label.x=n.x,n.label.y=n.y}})},zA=(e,t)=>{const n={};return t==null||t.forEach(r=>{e[r]!==void 0&&(n[r]=+e[r])}),n},UA=(e={})=>{const t={};return Object.keys(e).forEach(n=>{t[n.toLowerCase()]=e[n]}),t},BFe={layout:vFe,util:{time:hK,notime:pK}};class jFe extends ije{constructor(t){super(),this.rankdir="TB",this.nodesep=50,this.ranksep=50,this.controlPoints=!1,this.sortByCombo=!1,this.edgeLabelSpace=!0,this.radial=!1,this.nodes=[],this.edges=[],this.onLayoutEnd=()=>{},this.layoutNode=n=>{const r=this,{nodes:o}=r,i=o.find(a=>a.id===n);return i?i.layout!==!1:!0},this.updateCfg(t)}getDefaultCfg(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1,radial:!1,focusNode:null}}execute(){var t,n;const r=this,{nodes:o,nodeSize:i,rankdir:a,combos:s,begin:f,radial:d}=r;if(!o)return;const h=r.edges||[],v=new Sc({multigraph:!0,compound:!0});let y;i?gj(i)?y=()=>i:y=()=>[i,i]:y=P=>P.size?gj(P.size)?P.size:oK(P.size)?[P.size.width||40,P.size.height||40]:[P.size,P.size]:[40,40];const m=bj(r.ranksep,50,r.ranksepFunc),b=bj(r.nodesep,50,r.nodesepFunc);let S=b,O=m;(a==="LR"||a==="RL")&&(S=m,O=b),v.setDefaultEdgeLabel(()=>({})),v.setGraph(r);const _={};this.sortByCombo&&s&&s.forEach(P=>{!P.parentId||(_[P.parentId]||(_[P.parentId]=!0,v.setNode(P.parentId,{})),v.setParent(P.id,P.parentId))}),o.filter(P=>P.layout!==!1).forEach(P=>{const x=y(P),N=O(P),L=S(P),j=x[0]+2*L,k=x[1]+2*N,F=P.layer;$O(F)?v.setNode(P.id,{width:j,height:k,layer:F}):v.setNode(P.id,{width:j,height:k}),this.sortByCombo&&P.comboId&&(_[P.comboId]||(_[P.comboId]=!0,v.setNode(P.comboId,{})),v.setParent(P.id,P.comboId))}),h.forEach(P=>{const x=gv(P,"source"),N=gv(P,"target");this.layoutNode(x)&&this.layoutNode(N)&&v.setEdge(x,N,{weight:P.weight||1})});let A;!((t=r.preset)===null||t===void 0)&&t.nodes&&(A=new Sc({multigraph:!0,compound:!0}),r.preset.nodes.forEach(P=>{A==null||A.setNode(P.id,P)})),BFe.layout(v,{prevGraph:A,edgeLabelSpace:r.edgeLabelSpace,keepNodeOrder:Boolean(!!r.nodeOrder),nodeOrder:r.nodeOrder});const T=[0,0];if(f){let P=1/0,x=1/0;v.nodes().forEach(N=>{const L=v.node(N);P>L.x&&(P=L.x),x>L.y&&(x=L.y)}),v.edges().forEach(N=>{var L;(L=v.edge(N).points)===null||L===void 0||L.forEach(k=>{P>k.x&&(P=k.x),x>k.y&&(x=k.y)})}),T[0]=f[0]-P,T[1]=f[1]-x}if(d){const{focusNode:P,ranksep:x,getRadialPos:N}=this,L=aje(P)?P:P==null?void 0:P.id,j=L?(n=v.node(L))===null||n===void 0?void 0:n._rank:0,k=[],F=a==="LR"||a==="RL",z=F?"y":"x",M=F?"height":"width";let D=1/0,B=-1/0;v.nodes().forEach(ee=>{const ue=v.node(ee),Ne=o.findIndex(he=>he.id===ee);if(!o[Ne])return;const $e=b(o[Ne]);if(j===0)k[ue._rank]||(k[ue._rank]={nodes:[],totalWidth:0,maxSize:-1/0}),k[ue._rank].nodes.push(ee),k[ue._rank].totalWidth+=$e*2+ue[M],k[ue._rank].maxSize<Math.max(ue.width,ue.height)&&(k[ue._rank].maxSize=Math.max(ue.width,ue.height));else{const he=ue._rank-j;if(he===0)k[he]||(k[he]={nodes:[],totalWidth:0,maxSize:-1/0}),k[he].nodes.push(ee),k[he].totalWidth+=$e*2+ue[M],k[he].maxSize<Math.max(ue.width,ue.height)&&(k[he].maxSize=Math.max(ue.width,ue.height));else{const te=Math.abs(he);k[te]||(k[te]={left:[],right:[],totalWidth:0,maxSize:-1/0}),k[te].totalWidth+=$e*2+ue[M],k[te].maxSize<Math.max(ue.width,ue.height)&&(k[te].maxSize=Math.max(ue.width,ue.height)),he<0?k[te].left.push(ee):k[te].right.push(ee)}}const Ie=ue[z]-ue[M]/2-$e,Le=ue[z]+ue[M]/2+$e;Ie<D&&(D=Ie),Le>B&&(B=Le)});let V=x||50;const Y={},K=(B-D)/.9,X=[(D+B-K)*.5,(D+B+K)*.5],W=(ee,ue,Ne=-1/0,$e=[0,1])=>{let Ie=Ne;return ee.forEach(Le=>{const he=v.node(Le);Y[Le]=ue;const{x:te,y:ae}=N(he[z],X,K,ue,$e),Ce=o.findIndex(se=>se.id===Le);if(!o[Ce])return;o[Ce].x=te+T[0],o[Ce].y=ae+T[1],o[Ce]._order=he._order;const Ze=m(o[Ce]);Ie<Ze&&(Ie=Ze)}),Ie};let ie=!0;const oe=0;k.forEach(ee=>{var ue,Ne,$e,Ie,Le,he,te;if(!(!((ue=ee==null?void 0:ee.nodes)===null||ue===void 0)&&ue.length)&&!(!((Ne=ee==null?void 0:ee.left)===null||Ne===void 0)&&Ne.length)&&!(!(($e=ee==null?void 0:ee.right)===null||$e===void 0)&&$e.length))return;if(ie&&ee.nodes.length===1){const Ce=o.findIndex(Ze=>Ze.id===ee.nodes[0]);o[Ce].x=T[0],o[Ce].y=T[1],Y[ee.nodes[0]]=0,V=m(o[Ce]),ie=!1;return}V=Math.max(V,ee.totalWidth/(2*Math.PI));let ae=-1/0;if(j===0||((Ie=ee.nodes)===null||Ie===void 0?void 0:Ie.length))ae=W(ee.nodes,V,ae,[0,1]);else{const Ce=((Le=ee.left)===null||Le===void 0?void 0:Le.length)/(((he=ee.left)===null||he===void 0?void 0:he.length)+((te=ee.right)===null||te===void 0?void 0:te.length));ae=W(ee.left,V,ae,[0,Ce]),ae=W(ee.right,V,ae,[Ce+.05,1])}V+=ae,ie=!1,oe-ee.maxSize}),v.edges().forEach(ee=>{var ue,Ne,$e;const Ie=v.edge(ee),Le=h.findIndex(he=>{const te=gv(he,"source"),ae=gv(he,"target");return te===ee.v&&ae===ee.w});if(r.edgeLabelSpace&&r.controlPoints&&h[Le].type!=="loop"){const he=z==="x"?"y":"x",te=(ue=Ie==null?void 0:Ie.points)===null||ue===void 0?void 0:ue.slice(1,Ie.points.length-1),ae=[],Ce=(Ne=v.node(ee.v))===null||Ne===void 0?void 0:Ne[he],Ze=Ce-(($e=v.node(ee.w))===null||$e===void 0?void 0:$e[he]),se=Y[ee.v],de=se-Y[ee.w];te==null||te.forEach(ze=>{const lt=(ze[he]-Ce)/Ze*de+se,Re=N(ze[z],X,K,lt);ae.push({x:Re.x+T[0],y:Re.y+T[1]})}),h[Le].controlPoints=ae}})}else v.nodes().forEach(P=>{const x=v.node(P),N=o.findIndex(L=>L.id===P);!o[N]||(o[N].x=x.x+T[0],o[N].y=x.y+T[1],o[N]._order=x._order)}),v.edges().forEach(P=>{var x;const N=v.edge(P),L=h.findIndex(j=>{const k=gv(j,"source"),F=gv(j,"target");return k===P.v&&F===P.w});r.edgeLabelSpace&&r.controlPoints&&h[L].type!=="loop"&&(h[L].controlPoints=(x=N==null?void 0:N.points)===null||x===void 0?void 0:x.slice(1,N.points.length-1),h[L].controlPoints.forEach(j=>{j.x+=T[0],j.y+=T[1]}))});return r.onLayoutEnd&&r.onLayoutEnd(),{nodes:o,edges:h}}getRadialPos(t,n,r,o,i=[0,1]){let a=(t-n[0])/r;a=a*(i[1]-i[0])+i[0];const s=a*2*Math.PI;return{x:Math.cos(s)*o,y:Math.sin(s)*o}}getType(){return"dagre"}}var Wj,Kj,Xj,Yj;(function(e){e[e.META=0]="META",e[e.NODE=1]="NODE",e[e.BRIDGE=2]="BRIDGE"})(Wj||(Wj={})),function(e){e[e.INCLUDE=0]="INCLUDE",e[e.EXCLUDE=1]="EXCLUDE",e[e.UNSPECIFIED=2]="UNSPECIFIED"}(Kj||(Kj={})),function(e){e[e.META=0]="META",e[e.CORE=1]="CORE",e[e.BRIDGE=2]="BRIDGE"}(Xj||(Xj={})),function(e){e[e.META=0]="META",e[e.OP=1]="OP",e[e.SERIES=2]="SERIES"}(Yj||(Yj={}));var QS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function QN(e,t){return e(t={exports:{}},t.exports),t.exports}var FFe=function(){this.__data__=[],this.size=0},ky=function(e,t){return e===t||e!=e&&t!=t},$_=function(e,t){for(var n=e.length;n--;)if(ky(e[n][0],t))return n;return-1},zFe=Array.prototype.splice,UFe=function(e){var t=this.__data__,n=$_(t,e);return!(n<0)&&(n==t.length-1?t.pop():zFe.call(t,n,1),--this.size,!0)},VFe=function(e){var t=this.__data__,n=$_(t,e);return n<0?void 0:t[n][1]},HFe=function(e){return $_(this.__data__,e)>-1},GFe=function(e,t){var n=this.__data__,r=$_(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Rv(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Rv.prototype.clear=FFe,Rv.prototype.delete=UFe,Rv.prototype.get=VFe,Rv.prototype.has=HFe,Rv.prototype.set=GFe;var B_=Rv,WFe=function(){this.__data__=new B_,this.size=0},KFe=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},XFe=function(e){return this.__data__.get(e)},YFe=function(e){return this.__data__.has(e)},TK=typeof QS=="object"&&QS&&QS.Object===Object&&QS,ZFe=typeof self=="object"&&self&&self.Object===Object&&self,Ol=TK||ZFe||Function("return this")(),js=Ol.Symbol,CK=Object.prototype,JFe=CK.hasOwnProperty,QFe=CK.toString,dg=js?js.toStringTag:void 0,qFe=function(e){var t=JFe.call(e,dg),n=e[dg];try{e[dg]=void 0;var r=!0}catch{}var o=QFe.call(e);return r&&(t?e[dg]=n:delete e[dg]),o},e6e=Object.prototype.toString,t6e=function(e){return e6e.call(e)},Zj=js?js.toStringTag:void 0,fd=function(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Zj&&Zj in Object(e)?qFe(e):t6e(e)},za=function(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")},Jj,t0=function(e){if(!za(e))return!1;var t=fd(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},VA=Ol["__core-js_shared__"],Qj=(Jj=/[^.]+$/.exec(VA&&VA.keys&&VA.keys.IE_PROTO||""))?"Symbol(src)_1."+Jj:"",n6e=function(e){return!!Qj&&Qj in e},r6e=Function.prototype.toString,rp=function(e){if(e!=null){try{return r6e.call(e)}catch{}try{return e+""}catch{}}return""},o6e=/^\[object .+?Constructor\]$/,i6e=Function.prototype,a6e=Object.prototype,s6e=i6e.toString,l6e=a6e.hasOwnProperty,u6e=RegExp("^"+s6e.call(l6e).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),c6e=function(e){return!(!za(e)||n6e(e))&&(t0(e)?u6e:o6e).test(rp(e))},f6e=function(e,t){return e==null?void 0:e[t]},op=function(e,t){var n=f6e(e,t);return c6e(n)?n:void 0},Db=op(Ol,"Map"),kb=op(Object,"create"),d6e=function(){this.__data__=kb?kb(null):{},this.size=0},h6e=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},p6e=Object.prototype.hasOwnProperty,v6e=function(e){var t=this.__data__;if(kb){var n=t[e];return n==="__lodash_hash_undefined__"?void 0:n}return p6e.call(t,e)?t[e]:void 0},y6e=Object.prototype.hasOwnProperty,m6e=function(e){var t=this.__data__;return kb?t[e]!==void 0:y6e.call(t,e)},g6e=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=kb&&t===void 0?"__lodash_hash_undefined__":t,this};function Iv(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Iv.prototype.clear=d6e,Iv.prototype.delete=h6e,Iv.prototype.get=v6e,Iv.prototype.has=m6e,Iv.prototype.set=g6e;var qj=Iv,b6e=function(){this.size=0,this.__data__={hash:new qj,map:new(Db||B_),string:new qj}},E6e=function(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null},j_=function(e,t){var n=e.__data__;return E6e(t)?n[typeof t=="string"?"string":"hash"]:n.map},S6e=function(e){var t=j_(this,e).delete(e);return this.size-=t?1:0,t},w6e=function(e){return j_(this,e).get(e)},O6e=function(e){return j_(this,e).has(e)},_6e=function(e,t){var n=j_(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Dv(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Dv.prototype.clear=b6e,Dv.prototype.delete=S6e,Dv.prototype.get=w6e,Dv.prototype.has=O6e,Dv.prototype.set=_6e;var F_=Dv,T6e=function(e,t){var n=this.__data__;if(n instanceof B_){var r=n.__data__;if(!Db||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new F_(r)}return n.set(e,t),this.size=n.size,this};function kv(e){var t=this.__data__=new B_(e);this.size=t.size}kv.prototype.clear=WFe,kv.prototype.delete=KFe,kv.prototype.get=XFe,kv.prototype.has=YFe,kv.prototype.set=T6e;var ey=kv,qN=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e},jO=function(){try{var e=op(Object,"defineProperty");return e({},"",{}),e}catch{}}(),z_=function(e,t,n){t=="__proto__"&&jO?jO(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},C6e=Object.prototype.hasOwnProperty,U_=function(e,t,n){var r=e[t];C6e.call(e,t)&&ky(r,n)&&(n!==void 0||t in e)||z_(e,t,n)},n0=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],f=r?r(n[s],e[s],s,n,e):void 0;f===void 0&&(f=e[s]),o?z_(n,s,f):U_(n,s,f)}return n},A6e=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},bl=function(e){return e!=null&&typeof e=="object"},e8=function(e){return bl(e)&&fd(e)=="[object Arguments]"},AK=Object.prototype,P6e=AK.hasOwnProperty,x6e=AK.propertyIsEnumerable,Ty=e8(function(){return arguments}())?e8:function(e){return bl(e)&&P6e.call(e,"callee")&&!x6e.call(e,"callee")},ii=Array.isArray,M6e=function(){return!1},Uh=QN(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?Ol.Buffer:void 0,i=(o?o.isBuffer:void 0)||M6e;e.exports=i}),N6e=/^(?:0|[1-9]\d*)$/,V_=function(e,t){var n=typeof e;return!!(t=t==null?9007199254740991:t)&&(n=="number"||n!="symbol"&&N6e.test(e))&&e>-1&&e%1==0&&e<t},eR=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991},jo={};jo["[object Float32Array]"]=jo["[object Float64Array]"]=jo["[object Int8Array]"]=jo["[object Int16Array]"]=jo["[object Int32Array]"]=jo["[object Uint8Array]"]=jo["[object Uint8ClampedArray]"]=jo["[object Uint16Array]"]=jo["[object Uint32Array]"]=!0,jo["[object Arguments]"]=jo["[object Array]"]=jo["[object ArrayBuffer]"]=jo["[object Boolean]"]=jo["[object DataView]"]=jo["[object Date]"]=jo["[object Error]"]=jo["[object Function]"]=jo["[object Map]"]=jo["[object Number]"]=jo["[object Object]"]=jo["[object RegExp]"]=jo["[object Set]"]=jo["[object String]"]=jo["[object WeakMap]"]=!1;var R6e=function(e){return bl(e)&&eR(e.length)&&!!jo[fd(e)]},H_=function(e){return function(t){return e(t)}},Cy=QN(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n&&TK.process,i=function(){try{var a=r&&r.require&&r.require("util").types;return a||o&&o.binding&&o.binding("util")}catch{}}();e.exports=i}),t8=Cy&&Cy.isTypedArray,r0=t8?H_(t8):R6e,I6e=Object.prototype.hasOwnProperty,PK=function(e,t){var n=ii(e),r=!n&&Ty(e),o=!n&&!r&&Uh(e),i=!n&&!r&&!o&&r0(e),a=n||r||o||i,s=a?A6e(e.length,String):[],f=s.length;for(var d in e)!t&&!I6e.call(e,d)||a&&(d=="length"||o&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||V_(d,f))||s.push(d);return s},D6e=Object.prototype,G_=function(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||D6e)},xK=function(e,t){return function(n){return e(t(n))}},k6e=xK(Object.keys,Object),L6e=Object.prototype.hasOwnProperty,tR=function(e){if(!G_(e))return k6e(e);var t=[];for(var n in Object(e))L6e.call(e,n)&&n!="constructor"&&t.push(n);return t},Nc=function(e){return e!=null&&eR(e.length)&&!t0(e)},dd=function(e){return Nc(e)?PK(e):tR(e)},$6e=function(e,t){return e&&n0(t,dd(t),e)},B6e=function(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t},j6e=Object.prototype.hasOwnProperty,F6e=function(e){if(!za(e))return B6e(e);var t=G_(e),n=[];for(var r in e)(r!="constructor"||!t&&j6e.call(e,r))&&n.push(r);return n},ip=function(e){return Nc(e)?PK(e,!0):F6e(e)},z6e=function(e,t){return e&&n0(t,ip(t),e)},MK=QN(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?Ol.Buffer:void 0,i=o?o.allocUnsafe:void 0;e.exports=function(a,s){if(s)return a.slice();var f=a.length,d=i?i(f):new a.constructor(f);return a.copy(d),d}}),NK=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},RK=function(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i},IK=function(){return[]},U6e=Object.prototype.propertyIsEnumerable,n8=Object.getOwnPropertySymbols,nR=n8?function(e){return e==null?[]:(e=Object(e),RK(n8(e),function(t){return U6e.call(e,t)}))}:IK,V6e=function(e,t){return n0(e,nR(e),t)},rR=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},W_=xK(Object.getPrototypeOf,Object),DK=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)rR(t,nR(e)),e=W_(e);return t}:IK,H6e=function(e,t){return n0(e,DK(e),t)},kK=function(e,t,n){var r=t(e);return ii(e)?r:rR(r,n(e))},xx=function(e){return kK(e,dd,nR)},G6e=function(e){return kK(e,ip,DK)},Mx=op(Ol,"DataView"),Nx=op(Ol,"Promise"),ty=op(Ol,"Set"),Rx=op(Ol,"WeakMap"),W6e=rp(Mx),K6e=rp(Db),X6e=rp(Nx),Y6e=rp(ty),Z6e=rp(Rx),ch=fd;(Mx&&ch(new Mx(new ArrayBuffer(1)))!="[object DataView]"||Db&&ch(new Db)!="[object Map]"||Nx&&ch(Nx.resolve())!="[object Promise]"||ty&&ch(new ty)!="[object Set]"||Rx&&ch(new Rx)!="[object WeakMap]")&&(ch=function(e){var t=fd(e),n=t=="[object Object]"?e.constructor:void 0,r=n?rp(n):"";if(r)switch(r){case W6e:return"[object DataView]";case K6e:return"[object Map]";case X6e:return"[object Promise]";case Y6e:return"[object Set]";case Z6e:return"[object WeakMap]"}return t});var Vh=ch,J6e=Object.prototype.hasOwnProperty,Q6e=function(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&J6e.call(e,"index")&&(n.index=e.index,n.input=e.input),n},FO=Ol.Uint8Array,oR=function(e){var t=new e.constructor(e.byteLength);return new FO(t).set(new FO(e)),t},q6e=function(e,t){var n=t?oR(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},e5e=/\w*$/,t5e=function(e){var t=new e.constructor(e.source,e5e.exec(e));return t.lastIndex=e.lastIndex,t},r8=js?js.prototype:void 0,o8=r8?r8.valueOf:void 0,n5e=function(e){return o8?Object(o8.call(e)):{}},LK=function(e,t){var n=t?oR(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},r5e=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return oR(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return q6e(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return LK(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return t5e(e);case"[object Set]":return new r;case"[object Symbol]":return n5e(e)}},i8=Object.create,$K=function(){function e(){}return function(t){if(!za(t))return{};if(i8)return i8(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),BK=function(e){return typeof e.constructor!="function"||G_(e)?{}:$K(W_(e))},o5e=function(e){return bl(e)&&Vh(e)=="[object Map]"},a8=Cy&&Cy.isMap,i5e=a8?H_(a8):o5e,a5e=function(e){return bl(e)&&Vh(e)=="[object Set]"},s8=Cy&&Cy.isSet,s5e=s8?H_(s8):a5e,No={};No["[object Arguments]"]=No["[object Array]"]=No["[object ArrayBuffer]"]=No["[object DataView]"]=No["[object Boolean]"]=No["[object Date]"]=No["[object Float32Array]"]=No["[object Float64Array]"]=No["[object Int8Array]"]=No["[object Int16Array]"]=No["[object Int32Array]"]=No["[object Map]"]=No["[object Number]"]=No["[object Object]"]=No["[object RegExp]"]=No["[object Set]"]=No["[object String]"]=No["[object Symbol]"]=No["[object Uint8Array]"]=No["[object Uint8ClampedArray]"]=No["[object Uint16Array]"]=No["[object Uint32Array]"]=!0,No["[object Error]"]=No["[object Function]"]=No["[object WeakMap]"]=!1;var jK=function e(t,n,r,o,i,a){var s,f=1&n,d=2&n,h=4&n;if(r&&(s=i?r(t,o,i,a):r(t)),s!==void 0)return s;if(!za(t))return t;var v=ii(t);if(v){if(s=Q6e(t),!f)return NK(t,s)}else{var y=Vh(t),m=y=="[object Function]"||y=="[object GeneratorFunction]";if(Uh(t))return MK(t,f);if(y=="[object Object]"||y=="[object Arguments]"||m&&!i){if(s=d||m?{}:BK(t),!f)return d?H6e(t,z6e(s,t)):V6e(t,$6e(s,t))}else{if(!No[y])return i?t:{};s=r5e(t,y,f)}}a||(a=new ey);var b=a.get(t);if(b)return b;a.set(t,s),s5e(t)?t.forEach(function(O){s.add(e(O,n,r,O,t,a))}):i5e(t)&&t.forEach(function(O,_){s.set(_,e(O,n,r,_,t,a))});var S=v?void 0:(h?d?G6e:xx:d?ip:dd)(t);return qN(S||t,function(O,_){S&&(O=t[_=O]),U_(s,_,e(O,n,r,_,t,a))}),s},l5e=function(e){return jK(e,4)},iR=function(e){return function(){return e}},aR=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var f=a[e?s:++o];if(n(i[f],f,i)===!1)break}return t}}(),sR=function(e,t){return e&&aR(e,t,dd)},K_=function(e,t){return function(n,r){if(n==null)return n;if(!Nc(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&r(a[i],i,a)!==!1;);return n}}(sR),ap=function(e){return e},FK=function(e){return typeof e=="function"?e:ap},zK=function(e,t){return(ii(e)?qN:K_)(e,FK(t))},UK=zK,u5e=function(e,t){var n=[];return K_(e,function(r,o,i){t(r,o,i)&&n.push(r)}),n},c5e=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},f5e=function(e){return this.__data__.has(e)};function Qw(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new F_;++t<n;)this.add(e[t])}Qw.prototype.add=Qw.prototype.push=c5e,Qw.prototype.has=f5e;var VK=Qw,d5e=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},HK=function(e,t){return e.has(t)},GK=function(e,t,n,r,o,i){var a=1&n,s=e.length,f=t.length;if(s!=f&&!(a&&f>s))return!1;var d=i.get(e),h=i.get(t);if(d&&h)return d==t&&h==e;var v=-1,y=!0,m=2&n?new VK:void 0;for(i.set(e,t),i.set(t,e);++v<s;){var b=e[v],S=t[v];if(r)var O=a?r(S,b,v,t,e,i):r(b,S,v,e,t,i);if(O!==void 0){if(O)continue;y=!1;break}if(m){if(!d5e(t,function(_,A){if(!HK(m,A)&&(b===_||o(b,_,n,r,i)))return m.push(A)})){y=!1;break}}else if(b!==S&&!o(b,S,n,r,i)){y=!1;break}}return i.delete(e),i.delete(t),y},h5e=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n},lR=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n},l8=js?js.prototype:void 0,HA=l8?l8.valueOf:void 0,p5e=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new FO(e),new FO(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ky(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=h5e;case"[object Set]":var f=1&r;if(s||(s=lR),e.size!=t.size&&!f)return!1;var d=a.get(e);if(d)return d==t;r|=2,a.set(e,t);var h=GK(s(e),s(t),r,o,i,a);return a.delete(e),h;case"[object Symbol]":if(HA)return HA.call(e)==HA.call(t)}return!1},v5e=Object.prototype.hasOwnProperty,y5e=function(e,t,n,r,o,i){var a=1&n,s=xx(e),f=s.length;if(f!=xx(t).length&&!a)return!1;for(var d=f;d--;){var h=s[d];if(!(a?h in t:v5e.call(t,h)))return!1}var v=i.get(e),y=i.get(t);if(v&&y)return v==t&&y==e;var m=!0;i.set(e,t),i.set(t,e);for(var b=a;++d<f;){var S=e[h=s[d]],O=t[h];if(r)var _=a?r(O,S,h,t,e,i):r(S,O,h,e,t,i);if(!(_===void 0?S===O||o(S,O,n,r,i):_)){m=!1;break}b||(b=h=="constructor")}if(m&&!b){var A=e.constructor,T=t.constructor;A==T||!("constructor"in e)||!("constructor"in t)||typeof A=="function"&&A instanceof A&&typeof T=="function"&&T instanceof T||(m=!1)}return i.delete(e),i.delete(t),m},u8=Object.prototype.hasOwnProperty,m5e=function(e,t,n,r,o,i){var a=ii(e),s=ii(t),f=a?"[object Array]":Vh(e),d=s?"[object Array]":Vh(t),h=(f=f=="[object Arguments]"?"[object Object]":f)=="[object Object]",v=(d=d=="[object Arguments]"?"[object Object]":d)=="[object Object]",y=f==d;if(y&&Uh(e)){if(!Uh(t))return!1;a=!0,h=!1}if(y&&!h)return i||(i=new ey),a||r0(e)?GK(e,t,n,r,o,i):p5e(e,t,f,n,r,o,i);if(!(1&n)){var m=h&&u8.call(e,"__wrapped__"),b=v&&u8.call(t,"__wrapped__");if(m||b){var S=m?e.value():e,O=b?t.value():t;return i||(i=new ey),o(S,O,n,r,i)}}return!!y&&(i||(i=new ey),y5e(e,t,n,r,o,i))},WK=function e(t,n,r,o,i){return t===n||(t==null||n==null||!bl(t)&&!bl(n)?t!=t&&n!=n:m5e(t,n,r,o,e,i))},g5e=function(e,t,n,r){var o=n.length,i=o,a=!r;if(e==null)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var f=(s=n[o])[0],d=e[f],h=s[1];if(a&&s[2]){if(d===void 0&&!(f in e))return!1}else{var v=new ey;if(r)var y=r(d,h,f,e,t,v);if(!(y===void 0?WK(h,d,3,r,v):y))return!1}}return!0},KK=function(e){return e==e&&!za(e)},b5e=function(e){for(var t=dd(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,KK(o)]}return t},XK=function(e,t){return function(n){return n!=null&&n[e]===t&&(t!==void 0||e in Object(n))}},E5e=function(e){var t=b5e(e);return t.length==1&&t[0][2]?XK(t[0][0],t[0][1]):function(n){return n===e||g5e(n,e,t)}},Hh=function(e){return typeof e=="symbol"||bl(e)&&fd(e)=="[object Symbol]"},S5e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,w5e=/^\w*$/,uR=function(e,t){if(ii(e))return!1;var n=typeof e;return!(n!="number"&&n!="symbol"&&n!="boolean"&&e!=null&&!Hh(e))||w5e.test(e)||!S5e.test(e)||t!=null&&e in Object(t)};function cR(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(cR.Cache||F_),n}cR.Cache=F_;var O5e=cR,_5e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,T5e=/\\(\\)?/g,C5e=function(e){var t=O5e(e,function(r){return n.size===500&&n.clear(),r}),n=t.cache;return t}(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(_5e,function(n,r,o,i){t.push(o?i.replace(T5e,"$1"):r||n)}),t}),ny=function(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},c8=js?js.prototype:void 0,f8=c8?c8.toString:void 0,A5e=function e(t){if(typeof t=="string")return t;if(ii(t))return ny(t,e)+"";if(Hh(t))return f8?f8.call(t):"";var n=t+"";return n=="0"&&1/t==-1/0?"-0":n},YK=function(e){return e==null?"":A5e(e)},X_=function(e,t){return ii(e)?e:uR(e,t)?[e]:C5e(YK(e))},o0=function(e){if(typeof e=="string"||Hh(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},Y_=function(e,t){for(var n=0,r=(t=X_(t,e)).length;e!=null&&n<r;)e=e[o0(t[n++])];return n&&n==r?e:void 0},P5e=function(e,t,n){var r=e==null?void 0:Y_(e,t);return r===void 0?n:r},x5e=function(e,t){return e!=null&&t in Object(e)},ZK=function(e,t,n){for(var r=-1,o=(t=X_(t,e)).length,i=!1;++r<o;){var a=o0(t[r]);if(!(i=e!=null&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=e==null?0:e.length)&&eR(o)&&V_(a,o)&&(ii(e)||Ty(e))},JK=function(e,t){return e!=null&&ZK(e,t,x5e)},M5e=function(e,t){return uR(e)&&KK(t)?XK(o0(e),t):function(n){var r=P5e(n,e);return r===void 0&&r===t?JK(n,e):WK(t,r,3)}},QK=function(e){return function(t){return t==null?void 0:t[e]}},N5e=function(e){return function(t){return Y_(t,e)}},R5e=function(e){return uR(e)?QK(o0(e)):N5e(e)},Rc=function(e){return typeof e=="function"?e:e==null?ap:typeof e=="object"?ii(e)?M5e(e[0],e[1]):E5e(e):R5e(e)},qK=function(e,t){return(ii(e)?RK:u5e)(e,Rc(t))},I5e=Object.prototype.hasOwnProperty,D5e=function(e,t){return e!=null&&I5e.call(e,t)},eX=function(e,t){return e!=null&&ZK(e,t,D5e)},k5e=Object.prototype.hasOwnProperty,L5e=function(e){if(e==null)return!0;if(Nc(e)&&(ii(e)||typeof e=="string"||typeof e.splice=="function"||Uh(e)||r0(e)||Ty(e)))return!e.length;var t=Vh(e);if(t=="[object Map]"||t=="[object Set]")return!e.size;if(G_(e))return!tR(e).length;for(var n in e)if(k5e.call(e,n))return!1;return!0},tX=function(e){return e===void 0},nX=function(e,t){var n=-1,r=Nc(e)?Array(e.length):[];return K_(e,function(o,i,a){r[++n]=t(o,i,a)}),r},rX=function(e,t){return(ii(e)?ny:nX)(e,Rc(t))},$5e=function(e,t,n,r){var o=-1,i=e==null?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n},B5e=function(e,t,n,r,o){return o(e,function(i,a,s){n=r?(r=!1,i):t(n,i,a,s)}),n},oX=function(e,t,n){var r=ii(e)?$5e:B5e,o=arguments.length<3;return r(e,Rc(t),n,o,K_)},j5e=function(e){return typeof e=="string"||!ii(e)&&bl(e)&&fd(e)=="[object String]"},F5e=QK("length"),z5e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),U5e=function(e){return z5e.test(e)},V5e="[\\ud800-\\udfff]",Ix="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Dx="\\ud83c[\\udffb-\\udfff]",iX="[^\\ud800-\\udfff]",aX="(?:\\ud83c[\\udde6-\\uddff]){2}",sX="[\\ud800-\\udbff][\\udc00-\\udfff]",d8="(?:"+Ix+"|"+Dx+")?",H5e="[\\ufe0e\\ufe0f]?"+d8+("(?:\\u200d(?:"+[iX,aX,sX].join("|")+")[\\ufe0e\\ufe0f]?"+d8+")*"),G5e="(?:"+[iX+Ix+"?",Ix,aX,sX,V5e].join("|")+")",h8=RegExp(Dx+"(?="+Dx+")|"+G5e+H5e,"g"),W5e=function(e){for(var t=h8.lastIndex=0;h8.test(e);)++t;return t},K5e=function(e){return U5e(e)?W5e(e):F5e(e)},X5e=function(e){if(e==null)return 0;if(Nc(e))return j5e(e)?K5e(e):e.length;var t=Vh(e);return t=="[object Map]"||t=="[object Set]"?e.size:tR(e).length},Y5e=function(e,t,n){var r=ii(e),o=r||Uh(e)||r0(e);if(t=Rc(t),n==null){var i=e&&e.constructor;n=o?r?new i:[]:za(e)&&t0(i)?$K(W_(e)):{}}return(o?qN:sR)(e,function(a,s,f){return t(n,a,s,f)}),n},p8=js?js.isConcatSpreadable:void 0,Z5e=function(e){return ii(e)||Ty(e)||!!(p8&&e&&e[p8])},fR=function e(t,n,r,o,i){var a=-1,s=t.length;for(r||(r=Z5e),i||(i=[]);++a<s;){var f=t[a];n>0&&r(f)?n>1?e(f,n-1,r,o,i):rR(i,f):o||(i[i.length]=f)}return i},J5e=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},v8=Math.max,lX=function(e,t,n){return t=v8(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=v8(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),J5e(e,this,s)}},Q5e=jO?function(e,t){return jO(e,"toString",{configurable:!0,enumerable:!1,value:iR(t),writable:!0})}:ap,q5e=Date.now,uX=function(e){var t=0,n=0;return function(){var r=q5e(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Q5e),Z_=function(e,t){return uX(lX(e,t,ap),e+"")},cX=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1},eze=function(e){return e!=e},tze=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1},nze=function(e,t,n){return t==t?tze(e,t,n):cX(e,eze,n)},rze=function(e,t){return!!(e!=null&&e.length)&&nze(e,t,0)>-1},oze=function(e,t,n){for(var r=-1,o=e==null?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1},ize=function(){},aze=ty&&1/lR(new ty([,-0]))[1]==1/0?function(e){return new ty(e)}:ize,sze=function(e,t,n){var r=-1,o=rze,i=e.length,a=!0,s=[],f=s;if(n)a=!1,o=oze;else if(i>=200){var d=t?null:aze(e);if(d)return lR(d);a=!1,o=HK,f=new VK}else f=t?[]:s;e:for(;++r<i;){var h=e[r],v=t?t(h):h;if(h=n||h!==0?h:0,a&&v==v){for(var y=f.length;y--;)if(f[y]===v)continue e;t&&f.push(v),s.push(h)}else o(f,v,n)||(f!==s&&f.push(v),s.push(h))}return s},fX=function(e){return bl(e)&&Nc(e)},lze=Z_(function(e){return sze(fR(e,1,fX,!0))}),uze=function(e,t){return ny(t,function(n){return e[n]})},zO,dX=function(e){return e==null?[]:uze(e,dd(e))};try{zO={clone:l5e,constant:iR,each:UK,filter:qK,has:eX,isArray:ii,isEmpty:L5e,isFunction:t0,isUndefined:tX,keys:dd,map:rX,reduce:oX,size:X5e,transform:Y5e,union:lze,values:dX}}catch{}zO||(zO=window._);var zn=zO,dR=qr;function qr(e){this._isDirected=!zn.has(e,"directed")||e.directed,this._isMultigraph=!!zn.has(e,"multigraph")&&e.multigraph,this._isCompound=!!zn.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=zn.constant(void 0),this._defaultEdgeLabelFn=zn.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function y8(e,t){e[t]?e[t]++:e[t]=1}function m8(e,t){--e[t]||delete e[t]}function Ig(e,t,n,r){var o=""+t,i=""+n;if(!e&&o>i){var a=o;o=i,i=a}return o+""+i+""+(zn.isUndefined(r)?"\0":r)}function cze(e,t,n,r){var o=""+t,i=""+n;if(!e&&o>i){var a=o;o=i,i=a}var s={v:o,w:i};return r&&(s.name=r),s}function GA(e,t){return Ig(e,t.v,t.w,t.name)}qr.prototype._nodeCount=0,qr.prototype._edgeCount=0,qr.prototype.isDirected=function(){return this._isDirected},qr.prototype.isMultigraph=function(){return this._isMultigraph},qr.prototype.isCompound=function(){return this._isCompound},qr.prototype.setGraph=function(e){return this._label=e,this},qr.prototype.graph=function(){return this._label},qr.prototype.setDefaultNodeLabel=function(e){return zn.isFunction(e)||(e=zn.constant(e)),this._defaultNodeLabelFn=e,this},qr.prototype.nodeCount=function(){return this._nodeCount},qr.prototype.nodes=function(){return zn.keys(this._nodes)},qr.prototype.sources=function(){var e=this;return zn.filter(this.nodes(),function(t){return zn.isEmpty(e._in[t])})},qr.prototype.sinks=function(){var e=this;return zn.filter(this.nodes(),function(t){return zn.isEmpty(e._out[t])})},qr.prototype.setNodes=function(e,t){var n=arguments,r=this;return zn.each(e,function(o){n.length>1?r.setNode(o,t):r.setNode(o)}),this},qr.prototype.setNode=function(e,t){return zn.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]="\0",this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},qr.prototype.node=function(e){return this._nodes[e]},qr.prototype.hasNode=function(e){return zn.has(this._nodes,e)},qr.prototype.removeNode=function(e){var t=this;if(zn.has(this._nodes,e)){var n=function(r){t.removeEdge(t._edgeObjs[r])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],zn.each(this.children(e),function(r){t.setParent(r)}),delete this._children[e]),zn.each(zn.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],zn.each(zn.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},qr.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(zn.isUndefined(t))t="\0";else{for(var n=t+="";!zn.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},qr.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},qr.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!=="\0")return t}},qr.prototype.children=function(e){if(zn.isUndefined(e)&&(e="\0"),this._isCompound){var t=this._children[e];if(t)return zn.keys(t)}else{if(e==="\0")return this.nodes();if(this.hasNode(e))return[]}},qr.prototype.predecessors=function(e){var t=this._preds[e];if(t)return zn.keys(t)},qr.prototype.successors=function(e){var t=this._sucs[e];if(t)return zn.keys(t)},qr.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return zn.union(t,this.successors(e))},qr.prototype.isLeaf=function(e){return(this.isDirected()?this.successors(e):this.neighbors(e)).length===0},qr.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;zn.each(this._nodes,function(i,a){e(a)&&t.setNode(a,i)}),zn.each(this._edgeObjs,function(i){t.hasNode(i.v)&&t.hasNode(i.w)&&t.setEdge(i,n.edge(i))});var r={};function o(i){var a=n.parent(i);return a===void 0||t.hasNode(a)?(r[i]=a,a):a in r?r[a]:o(a)}return this._isCompound&&zn.each(t.nodes(),function(i){t.setParent(i,o(i))}),t},qr.prototype.setDefaultEdgeLabel=function(e){return zn.isFunction(e)||(e=zn.constant(e)),this._defaultEdgeLabelFn=e,this},qr.prototype.edgeCount=function(){return this._edgeCount},qr.prototype.edges=function(){return zn.values(this._edgeObjs)},qr.prototype.setPath=function(e,t){var n=this,r=arguments;return zn.reduce(e,function(o,i){return r.length>1?n.setEdge(o,i,t):n.setEdge(o,i),i}),this},qr.prototype.setEdge=function(){var e,t,n,r,o=!1,i=arguments[0];typeof i=="object"&&i!==null&&"v"in i?(e=i.v,t=i.w,n=i.name,arguments.length===2&&(r=arguments[1],o=!0)):(e=i,t=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],o=!0)),e=""+e,t=""+t,zn.isUndefined(n)||(n=""+n);var a=Ig(this._isDirected,e,t,n);if(zn.has(this._edgeLabels,a))return o&&(this._edgeLabels[a]=r),this;if(!zn.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[a]=o?r:this._defaultEdgeLabelFn(e,t,n);var s=cze(this._isDirected,e,t,n);return e=s.v,t=s.w,Object.freeze(s),this._edgeObjs[a]=s,y8(this._preds[t],e),y8(this._sucs[e],t),this._in[t][a]=s,this._out[e][a]=s,this._edgeCount++,this},qr.prototype.edge=function(e,t,n){var r=arguments.length===1?GA(this._isDirected,arguments[0]):Ig(this._isDirected,e,t,n);return this._edgeLabels[r]},qr.prototype.hasEdge=function(e,t,n){var r=arguments.length===1?GA(this._isDirected,arguments[0]):Ig(this._isDirected,e,t,n);return zn.has(this._edgeLabels,r)},qr.prototype.removeEdge=function(e,t,n){var r=arguments.length===1?GA(this._isDirected,arguments[0]):Ig(this._isDirected,e,t,n),o=this._edgeObjs[r];return o&&(e=o.v,t=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],m8(this._preds[t],e),m8(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},qr.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var r=zn.values(n);return t?zn.filter(r,function(o){return o.v===t}):r}},qr.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var r=zn.values(n);return t?zn.filter(r,function(o){return o.w===t}):r}},qr.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))};var g8={Graph:dR,version:"2.1.8"},fze={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:dze(e),edges:hze(e)};return zn.isUndefined(e.graph())||(t.value=zn.clone(e.graph())),t},read:function(e){var t=new dR(e.options).setGraph(e.value);return zn.each(e.nodes,function(n){t.setNode(n.v,n.value),n.parent&&t.setParent(n.v,n.parent)}),zn.each(e.edges,function(n){t.setEdge({v:n.v,w:n.w,name:n.name},n.value)}),t}};function dze(e){return zn.map(e.nodes(),function(t){var n=e.node(t),r=e.parent(t),o={v:t};return zn.isUndefined(n)||(o.value=n),zn.isUndefined(r)||(o.parent=r),o})}function hze(e){return zn.map(e.edges(),function(t){var n=e.edge(t),r={v:t.v,w:t.w};return zn.isUndefined(t.name)||(r.name=t.name),zn.isUndefined(n)||(r.value=n),r})}var pze=function(e){var t,n={},r=[];function o(i){zn.has(n,i)||(n[i]=!0,t.push(i),zn.each(e.successors(i),o),zn.each(e.predecessors(i),o))}return zn.each(e.nodes(),function(i){t=[],o(i),t.length&&r.push(t)}),r},hX=_s;function _s(){this._arr=[],this._keyIndices={}}_s.prototype.size=function(){return this._arr.length},_s.prototype.keys=function(){return this._arr.map(function(e){return e.key})},_s.prototype.has=function(e){return zn.has(this._keyIndices,e)},_s.prototype.priority=function(e){var t=this._keyIndices[e];if(t!==void 0)return this._arr[t].priority},_s.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},_s.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!zn.has(n,e)){var r=this._arr,o=r.length;return n[e]=o,r.push({key:e,priority:t}),this._decrease(o),!0}return!1},_s.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},_s.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},_s.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,o=e;n<t.length&&(o=t[n].priority<t[o].priority?n:o,r<t.length&&(o=t[r].priority<t[o].priority?r:o),o!==e&&(this._swap(e,o),this._heapify(o)))},_s.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;e!==0&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},_s.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,o=n[e],i=n[t];n[e]=i,n[t]=o,r[i.key]=e,r[o.key]=t};var pX=function(e,t,n,r){return function(o,i,a,s){var f,d,h={},v=new hX,y=function(m){var b=m.v!==f?m.v:m.w,S=h[b],O=a(m),_=d.distance+O;if(O<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+m+" Weight: "+O);_<S.distance&&(S.distance=_,S.predecessor=f,v.decrease(b,_))};for(o.nodes().forEach(function(m){var b=m===i?0:Number.POSITIVE_INFINITY;h[m]={distance:b},v.add(m,b)});v.size()>0&&(f=v.removeMin(),(d=h[f]).distance!==Number.POSITIVE_INFINITY);)s(f).forEach(y);return h}(e,String(t),n||vze,r||function(o){return e.outEdges(o)})},vze=zn.constant(1),yze=function(e,t,n){return zn.transform(e.nodes(),function(r,o){r[o]=pX(e,o,t,n)},{})},vX=function(e){var t=0,n=[],r={},o=[];function i(a){var s=r[a]={onStack:!0,lowlink:t,index:t++};if(n.push(a),e.successors(a).forEach(function(h){zn.has(r,h)?r[h].onStack&&(s.lowlink=Math.min(s.lowlink,r[h].index)):(i(h),s.lowlink=Math.min(s.lowlink,r[h].lowlink))}),s.lowlink===s.index){var f,d=[];do f=n.pop(),r[f].onStack=!1,d.push(f);while(a!==f);o.push(d)}}return e.nodes().forEach(function(a){zn.has(r,a)||i(a)}),o},mze=function(e){return zn.filter(vX(e),function(t){return t.length>1||t.length===1&&e.hasEdge(t[0],t[0])})},gze=function(e,t,n){return function(r,o,i){var a={},s=r.nodes();return s.forEach(function(f){a[f]={},a[f][f]={distance:0},s.forEach(function(d){f!==d&&(a[f][d]={distance:Number.POSITIVE_INFINITY})}),i(f).forEach(function(d){var h=d.v===f?d.w:d.v,v=o(d);a[f][h]={distance:v,predecessor:f}})}),s.forEach(function(f){var d=a[f];s.forEach(function(h){var v=a[h];s.forEach(function(y){var m=v[f],b=d[y],S=v[y],O=m.distance+b.distance;O<S.distance&&(S.distance=O,S.predecessor=b.predecessor)})})}),a}(e,t||bze,n||function(r){return e.outEdges(r)})},bze=zn.constant(1),WA=yX;function yX(e){var t={},n={},r=[];if(zn.each(e.sinks(),function o(i){if(zn.has(n,i))throw new UO;zn.has(t,i)||(n[i]=!0,t[i]=!0,zn.each(e.predecessors(i),o),delete n[i],r.push(i))}),zn.size(t)!==e.nodeCount())throw new UO;return r}function UO(){}yX.CycleException=UO,UO.prototype=new Error;var b8=function(e,t,n){zn.isArray(t)||(t=[t]);var r=(e.isDirected()?e.successors:e.neighbors).bind(e),o=[],i={};return zn.each(t,function(a){if(!e.hasNode(a))throw new Error("Graph does not have node: "+a);mX(e,a,n==="post",i,r,o)}),o};function mX(e,t,n,r,o,i){zn.has(r,t)||(r[t]=!0,n||i.push(t),zn.each(o(t),function(a){mX(e,a,n,r,o,i)}),n&&i.push(t))}var VO,Eze={Graph:g8.Graph,json:fze,alg:{components:pze,dijkstra:pX,dijkstraAll:yze,findCycles:mze,floydWarshall:gze,isAcyclic:function(e){try{WA(e)}catch(t){if(t instanceof WA.CycleException)return!1;throw t}return!0},postorder:function(e,t){return b8(e,t,"post")},preorder:function(e,t){return b8(e,t,"pre")},prim:function(e,t){var n,r=new dR,o={},i=new hX;function a(f){var d=f.v===n?f.w:f.v,h=i.priority(d);if(h!==void 0){var v=t(f);v<h&&(o[d]=n,i.decrease(d,v))}}if(e.nodeCount()===0)return r;zn.each(e.nodes(),function(f){i.add(f,Number.POSITIVE_INFINITY),r.setNode(f)}),i.decrease(e.nodes()[0],0);for(var s=!1;i.size()>0;){if(n=i.removeMin(),zn.has(o,n))r.setEdge(n,o[n]);else{if(s)throw new Error("Input graph is not connected: "+e);s=!0}e.nodeEdges(n).forEach(a)}return r},tarjan:vX,topsort:WA},version:g8.version};try{VO=Eze}catch{}VO||(VO=window.graphlib);var Eu=VO,Sze=function(e){return jK(e,5)},Lb=function(e,t,n){if(!za(n))return!1;var r=typeof t;return!!(r=="number"?Nc(n)&&V_(t,n.length):r=="string"&&t in n)&&ky(n[t],e)},gX=Object.prototype,wze=gX.hasOwnProperty,Oze=Z_(function(e,t){e=Object(e);var n=-1,r=t.length,o=r>2?t[2]:void 0;for(o&&Lb(t[0],t[1],o)&&(r=1);++n<r;)for(var i=t[n],a=ip(i),s=-1,f=a.length;++s<f;){var d=a[s],h=e[d];(h===void 0||ky(h,gX[d])&&!wze.call(e,d))&&(e[d]=i[d])}return e}),_ze=function(e){return function(t,n,r){var o=Object(t);if(!Nc(t)){var i=Rc(n);t=dd(t),n=function(s){return i(o[s],s,o)}}var a=e(t,n,r);return a>-1?o[i?t[a]:a]:void 0}},Tze=/^\s+|\s+$/g,Cze=/^[-+]0x[0-9a-f]+$/i,Aze=/^0b[01]+$/i,Pze=/^0o[0-7]+$/i,xze=parseInt,Mze=function(e){if(typeof e=="number")return e;if(Hh(e))return NaN;if(za(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=za(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Tze,"");var n=Aze.test(e);return n||Pze.test(e)?xze(e.slice(2),n?2:8):Cze.test(e)?NaN:+e},qw=function(e){return e?(e=Mze(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:e===0?e:0},Nze=function(e){var t=qw(e),n=t%1;return t==t?n?t-n:t:0},Rze=Math.max,Ize=_ze(function(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:Nze(n);return o<0&&(o=Rze(r+o,0)),cX(e,Rc(t),o)}),bX=function(e){return e!=null&&e.length?fR(e,1):[]},Dze=function(e,t){return e==null?e:aR(e,FK(t),ip)},kze=function(e){var t=e==null?0:e.length;return t?e[t-1]:void 0},Lze=function(e,t){var n={};return t=Rc(t),sR(e,function(r,o,i){z_(n,o,t(r,o,i))}),n},hR=function(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],a=t(i);if(a!=null&&(s===void 0?a==a&&!Hh(a):n(a,s)))var s=a,f=i}return f},$ze=function(e,t){return e>t},Bze=function(e){return e&&e.length?hR(e,ap,$ze):void 0},kx=function(e,t,n){(n!==void 0&&!ky(e[t],n)||n===void 0&&!(t in e))&&z_(e,t,n)},jze=Function.prototype,Fze=Object.prototype,EX=jze.toString,zze=Fze.hasOwnProperty,Uze=EX.call(Object),Vze=function(e){if(!bl(e)||fd(e)!="[object Object]")return!1;var t=W_(e);if(t===null)return!0;var n=zze.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&EX.call(n)==Uze},Lx=function(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]},Hze=function(e){return n0(e,ip(e))},Gze=function(e,t,n,r,o,i,a){var s=Lx(e,n),f=Lx(t,n),d=a.get(f);if(d)kx(e,n,d);else{var h=i?i(s,f,n+"",e,t,a):void 0,v=h===void 0;if(v){var y=ii(f),m=!y&&Uh(f),b=!y&&!m&&r0(f);h=f,y||m||b?ii(s)?h=s:fX(s)?h=NK(s):m?(v=!1,h=MK(f,!0)):b?(v=!1,h=LK(f,!0)):h=[]:Vze(f)||Ty(f)?(h=s,Ty(s)?h=Hze(s):za(s)&&!t0(s)||(h=BK(f))):v=!1}v&&(a.set(f,h),o(h,f,r,i,a),a.delete(f)),kx(e,n,h)}},Wze=function e(t,n,r,o,i){t!==n&&aR(n,function(a,s){if(i||(i=new ey),za(a))Gze(t,n,s,r,e,o,i);else{var f=o?o(Lx(t,s),a,s+"",t,n,i):void 0;f===void 0&&(f=a),kx(t,s,f)}},ip)},Kze=function(e){return Z_(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(o--,i):void 0,a&&Lb(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var s=n[r];s&&e(t,s,r,i)}return t})}(function(e,t,n){Wze(e,t,n)}),SX=function(e,t){return e<t},Xze=function(e){return e&&e.length?hR(e,ap,SX):void 0},Yze=function(e,t){return e&&e.length?hR(e,Rc(t),SX):void 0},Zze=function(){return Ol.Date.now()},Jze=function(e,t,n,r){if(!za(e))return e;for(var o=-1,i=(t=X_(t,e)).length,a=i-1,s=e;s!=null&&++o<i;){var f=o0(t[o]),d=n;if(f==="__proto__"||f==="constructor"||f==="prototype")return e;if(o!=a){var h=s[f];(d=r?r(h,f,s):void 0)===void 0&&(d=za(h)?h:V_(t[o+1])?[]:{})}U_(s,f,d),s=s[f]}return e},Qze=function(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=Y_(e,a);n(s,a)&&Jze(i,X_(a,e),s)}return i},qze=function(e,t){return Qze(e,t,function(n,r){return JK(e,r)})},eUe=function(e){return uX(lX(e,void 0,bX),e+"")}(function(e,t){return e==null?{}:qze(e,t)}),tUe=Math.ceil,nUe=Math.max,rUe=function(e,t,n,r){for(var o=-1,i=nUe(tUe((t-e)/(n||1)),0),a=Array(i);i--;)a[r?i:++o]=e,e+=n;return a},oUe=function(e){return function(t,n,r){return r&&typeof r!="number"&&Lb(t,n,r)&&(n=r=void 0),t=qw(t),n===void 0?(n=t,t=0):n=qw(n),r=r===void 0?t<n?1:-1:qw(r),rUe(t,n,r,e)}}(),iUe=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e},aUe=function(e,t){if(e!==t){var n=e!==void 0,r=e===null,o=e==e,i=Hh(e),a=t!==void 0,s=t===null,f=t==t,d=Hh(t);if(!s&&!d&&!i&&e>t||i&&a&&f&&!s&&!d||r&&a&&f||!n&&f||!o)return 1;if(!r&&!i&&!d&&e<t||d&&n&&o&&!r&&!i||s&&n&&o||!a&&o||!f)return-1}return 0},sUe=function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;++r<a;){var f=aUe(o[r],i[r]);if(f)return r>=s?f:f*(n[r]=="desc"?-1:1)}return e.index-t.index},lUe=function(e,t,n){t=t.length?ny(t,function(i){return ii(i)?function(a){return Y_(a,i.length===1?i[0]:i)}:i}):[ap];var r=-1;t=ny(t,H_(Rc));var o=nX(e,function(i,a,s){return{criteria:ny(t,function(f){return f(i)}),index:++r,value:i}});return iUe(o,function(i,a){return sUe(i,a,n)})},uUe=Z_(function(e,t){if(e==null)return[];var n=t.length;return n>1&&Lb(e,t[0],t[1])?t=[]:n>2&&Lb(t[0],t[1],t[2])&&(t=[t[0]]),lUe(e,fR(t,1),[])}),cUe=0,fUe=function(e){var t=++cUe;return YK(e)+t},dUe=function(e,t,n){for(var r=-1,o=e.length,i=t.length,a={};++r<o;){var s=r<i?t[r]:void 0;n(a,e[r],s)}return a},HO,hUe=function(e,t){return dUe(e||[],t||[],U_)};try{HO={cloneDeep:Sze,constant:iR,defaults:Oze,each:UK,filter:qK,find:Ize,flatten:bX,forEach:zK,forIn:Dze,has:eX,isUndefined:tX,last:kze,map:rX,mapValues:Lze,max:Bze,merge:Kze,min:Xze,minBy:Yze,now:Zze,pick:eUe,range:oUe,reduce:oX,sortBy:uUe,uniqueId:fUe,values:dX,zipObject:hUe}}catch{}HO||(HO=window._);var pUe=HO;Eu.Graph;pUe.constant(1);Eu.Graph;Eu.Graph;Eu.alg.preorder;Eu.alg.postorder;Eu.Graph;Eu.Graph;Eu.Graph;Eu.Graph;Eu.Graph;function ar(e,t,n,r){!n||Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Qn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vr(e,t,n){return t&&E8(e.prototype,t),n&&E8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sr(e,t,n,r,o){var i={};return Object.keys(r).forEach(function(a){i[a]=r[a]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(a,s){return s(e,t,a)||a},i),o&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var S8;(function(e){(function(t){var n=typeof is=="object"?is:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),r=o(e);typeof n.Reflect>"u"?n.Reflect=e:r=o(n.Reflect,r),t(r);function o(i,a){return function(s,f){typeof i[s]!="function"&&Object.defineProperty(i,s,{configurable:!0,writable:!0,value:f}),a&&a(s,f)}}})(function(t){var n=Object.prototype.hasOwnProperty,r=typeof Symbol=="function",o=r&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",i=r&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",a=typeof Object.create=="function",s={__proto__:[]}instanceof Array,f=!a&&!s,d={create:a?function(){return ne(Object.create(null))}:s?function(){return ne({__proto__:null})}:function(){return ne({})},has:f?function(fe,Me){return n.call(fe,Me)}:function(fe,Me){return Me in fe},get:f?function(fe,Me){return n.call(fe,Me)?fe[Me]:void 0}:function(fe,Me){return fe[Me]}},h=Object.getPrototypeOf(Function),v=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",y=!v&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Ue(),m=!v&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Ke(),b=!v&&typeof WeakMap=="function"?WeakMap:Ve(),S=new b;function O(fe,Me,it,Oe){if(oe(it)){if(!ae(fe))throw new TypeError;if(!Ze(Me))throw new TypeError;return F(fe,Me)}else{if(!ae(fe))throw new TypeError;if(!Ne(Me))throw new TypeError;if(!Ne(Oe)&&!oe(Oe)&&!ee(Oe))throw new TypeError;return ee(Oe)&&(Oe=void 0),it=te(it),z(fe,Me,it,Oe)}}t("decorate",O);function _(fe,Me){function it(Oe,_e){if(!Ne(Oe))throw new TypeError;if(!oe(_e)&&!se(_e))throw new TypeError;K(fe,Me,Oe,_e)}return it}t("metadata",_);function A(fe,Me,it,Oe){if(!Ne(it))throw new TypeError;return oe(Oe)||(Oe=te(Oe)),K(fe,Me,it,Oe)}t("defineMetadata",A);function T(fe,Me,it){if(!Ne(Me))throw new TypeError;return oe(it)||(it=te(it)),D(fe,Me,it)}t("hasMetadata",T);function P(fe,Me,it){if(!Ne(Me))throw new TypeError;return oe(it)||(it=te(it)),B(fe,Me,it)}t("hasOwnMetadata",P);function x(fe,Me,it){if(!Ne(Me))throw new TypeError;return oe(it)||(it=te(it)),V(fe,Me,it)}t("getMetadata",x);function N(fe,Me,it){if(!Ne(Me))throw new TypeError;return oe(it)||(it=te(it)),Y(fe,Me,it)}t("getOwnMetadata",N);function L(fe,Me){if(!Ne(fe))throw new TypeError;return oe(Me)||(Me=te(Me)),X(fe,Me)}t("getMetadataKeys",L);function j(fe,Me){if(!Ne(fe))throw new TypeError;return oe(Me)||(Me=te(Me)),W(fe,Me)}t("getOwnMetadataKeys",j);function k(fe,Me,it){if(!Ne(Me))throw new TypeError;oe(it)||(it=te(it));var Oe=M(Me,it,!1);if(oe(Oe)||!Oe.delete(fe))return!1;if(Oe.size>0)return!0;var _e=S.get(Me);return _e.delete(it),_e.size>0||S.delete(Me),!0}t("deleteMetadata",k);function F(fe,Me){for(var it=fe.length-1;it>=0;--it){var Oe=fe[it],_e=Oe(Me);if(!oe(_e)&&!ee(_e)){if(!Ze(_e))throw new TypeError;Me=_e}}return Me}function z(fe,Me,it,Oe){for(var _e=fe.length-1;_e>=0;--_e){var nt=fe[_e],Se=nt(Me,it,Oe);if(!oe(Se)&&!ee(Se)){if(!Ne(Se))throw new TypeError;Oe=Se}}return Oe}function M(fe,Me,it){var Oe=S.get(fe);if(oe(Oe)){if(!it)return;Oe=new y,S.set(fe,Oe)}var _e=Oe.get(Me);if(oe(_e)){if(!it)return;_e=new y,Oe.set(Me,_e)}return _e}function D(fe,Me,it){var Oe=B(fe,Me,it);if(Oe)return!0;var _e=pe(Me);return ee(_e)?!1:D(fe,_e,it)}function B(fe,Me,it){var Oe=M(Me,it,!1);return oe(Oe)?!1:Le(Oe.has(fe))}function V(fe,Me,it){var Oe=B(fe,Me,it);if(Oe)return Y(fe,Me,it);var _e=pe(Me);if(!ee(_e))return V(fe,_e,it)}function Y(fe,Me,it){var Oe=M(Me,it,!1);if(!oe(Oe))return Oe.get(fe)}function K(fe,Me,it,Oe){var _e=M(it,Oe,!0);_e.set(fe,Me)}function X(fe,Me){var it=W(fe,Me),Oe=pe(fe);if(Oe===null)return it;var _e=X(Oe,Me);if(_e.length<=0)return it;if(it.length<=0)return _e;for(var nt=new m,Se=[],tt=0,we=it;tt<we.length;tt++){var ht=we[tt],yt=nt.has(ht);yt||(nt.add(ht),Se.push(ht))}for(var Et=0,Wt=_e;Et<Wt.length;Et++){var ht=Wt[Et],yt=nt.has(ht);yt||(nt.add(ht),Se.push(ht))}return Se}function W(fe,Me){var it=[],Oe=M(fe,Me,!1);if(oe(Oe))return it;for(var _e=Oe.keys(),nt=ze(_e),Se=0;;){var tt=Re(nt);if(!tt)return it.length=Se,it;var we=lt(tt);try{it[Se]=we}catch(ht){try{qe(nt)}finally{throw ht}}Se++}}function ie(fe){if(fe===null)return 1;switch(typeof fe){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return fe===null?1:6;default:return 6}}function oe(fe){return fe===void 0}function ee(fe){return fe===null}function ue(fe){return typeof fe=="symbol"}function Ne(fe){return typeof fe=="object"?fe!==null:typeof fe=="function"}function $e(fe,Me){switch(ie(fe)){case 0:return fe;case 1:return fe;case 2:return fe;case 3:return fe;case 4:return fe;case 5:return fe}var it=Me===3?"string":Me===5?"number":"default",Oe=de(fe,o);if(Oe!==void 0){var _e=Oe.call(fe,it);if(Ne(_e))throw new TypeError;return _e}return Ie(fe,it==="default"?"number":it)}function Ie(fe,Me){if(Me==="string"){var it=fe.toString;if(Ce(it)){var Oe=it.call(fe);if(!Ne(Oe))return Oe}var _e=fe.valueOf;if(Ce(_e)){var Oe=_e.call(fe);if(!Ne(Oe))return Oe}}else{var _e=fe.valueOf;if(Ce(_e)){var Oe=_e.call(fe);if(!Ne(Oe))return Oe}var nt=fe.toString;if(Ce(nt)){var Oe=nt.call(fe);if(!Ne(Oe))return Oe}}throw new TypeError}function Le(fe){return!!fe}function he(fe){return""+fe}function te(fe){var Me=$e(fe,3);return ue(Me)?Me:he(Me)}function ae(fe){return Array.isArray?Array.isArray(fe):fe instanceof Object?fe instanceof Array:Object.prototype.toString.call(fe)==="[object Array]"}function Ce(fe){return typeof fe=="function"}function Ze(fe){return typeof fe=="function"}function se(fe){switch(ie(fe)){case 3:return!0;case 4:return!0;default:return!1}}function de(fe,Me){var it=fe[Me];if(it!=null){if(!Ce(it))throw new TypeError;return it}}function ze(fe){var Me=de(fe,i);if(!Ce(Me))throw new TypeError;var it=Me.call(fe);if(!Ne(it))throw new TypeError;return it}function lt(fe){return fe.value}function Re(fe){var Me=fe.next();return Me.done?!1:Me}function qe(fe){var Me=fe.return;Me&&Me.call(fe)}function pe(fe){var Me=Object.getPrototypeOf(fe);if(typeof fe!="function"||fe===h||Me!==h)return Me;var it=fe.prototype,Oe=it&&Object.getPrototypeOf(it);if(Oe==null||Oe===Object.prototype)return Me;var _e=Oe.constructor;return typeof _e!="function"||_e===fe?Me:_e}function Ue(){var fe={},Me=[],it=function(){function Se(tt,we,ht){this._index=0,this._keys=tt,this._values=we,this._selector=ht}return Se.prototype["@@iterator"]=function(){return this},Se.prototype[i]=function(){return this},Se.prototype.next=function(){var tt=this._index;if(tt>=0&&tt<this._keys.length){var we=this._selector(this._keys[tt],this._values[tt]);return tt+1>=this._keys.length?(this._index=-1,this._keys=Me,this._values=Me):this._index++,{value:we,done:!1}}return{value:void 0,done:!0}},Se.prototype.throw=function(tt){throw this._index>=0&&(this._index=-1,this._keys=Me,this._values=Me),tt},Se.prototype.return=function(tt){return this._index>=0&&(this._index=-1,this._keys=Me,this._values=Me),{value:tt,done:!0}},Se}();return function(){function Se(){this._keys=[],this._values=[],this._cacheKey=fe,this._cacheIndex=-2}return Object.defineProperty(Se.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Se.prototype.has=function(tt){return this._find(tt,!1)>=0},Se.prototype.get=function(tt){var we=this._find(tt,!1);return we>=0?this._values[we]:void 0},Se.prototype.set=function(tt,we){var ht=this._find(tt,!0);return this._values[ht]=we,this},Se.prototype.delete=function(tt){var we=this._find(tt,!1);if(we>=0){for(var ht=this._keys.length,yt=we+1;yt<ht;yt++)this._keys[yt-1]=this._keys[yt],this._values[yt-1]=this._values[yt];return this._keys.length--,this._values.length--,tt===this._cacheKey&&(this._cacheKey=fe,this._cacheIndex=-2),!0}return!1},Se.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=fe,this._cacheIndex=-2},Se.prototype.keys=function(){return new it(this._keys,this._values,Oe)},Se.prototype.values=function(){return new it(this._keys,this._values,_e)},Se.prototype.entries=function(){return new it(this._keys,this._values,nt)},Se.prototype["@@iterator"]=function(){return this.entries()},Se.prototype[i]=function(){return this.entries()},Se.prototype._find=function(tt,we){return this._cacheKey!==tt&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=tt)),this._cacheIndex<0&&we&&(this._cacheIndex=this._keys.length,this._keys.push(tt),this._values.push(void 0)),this._cacheIndex},Se}();function Oe(Se,tt){return Se}function _e(Se,tt){return tt}function nt(Se,tt){return[Se,tt]}}function Ke(){return function(){function fe(){this._map=new y}return Object.defineProperty(fe.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),fe.prototype.has=function(Me){return this._map.has(Me)},fe.prototype.add=function(Me){return this._map.set(Me,Me),this},fe.prototype.delete=function(Me){return this._map.delete(Me)},fe.prototype.clear=function(){this._map.clear()},fe.prototype.keys=function(){return this._map.keys()},fe.prototype.values=function(){return this._map.values()},fe.prototype.entries=function(){return this._map.entries()},fe.prototype["@@iterator"]=function(){return this.keys()},fe.prototype[i]=function(){return this.keys()},fe}()}function Ve(){var fe=16,Me=d.create(),it=Oe();return function(){function we(){this._key=Oe()}return we.prototype.has=function(ht){var yt=_e(ht,!1);return yt!==void 0?d.has(yt,this._key):!1},we.prototype.get=function(ht){var yt=_e(ht,!1);return yt!==void 0?d.get(yt,this._key):void 0},we.prototype.set=function(ht,yt){var Et=_e(ht,!0);return Et[this._key]=yt,this},we.prototype.delete=function(ht){var yt=_e(ht,!1);return yt!==void 0?delete yt[this._key]:!1},we.prototype.clear=function(){this._key=Oe()},we}();function Oe(){var we;do we="@@WeakMap@@"+tt();while(d.has(Me,we));return Me[we]=!0,we}function _e(we,ht){if(!n.call(we,it)){if(!ht)return;Object.defineProperty(we,it,{value:d.create()})}return we[it]}function nt(we,ht){for(var yt=0;yt<ht;++yt)we[yt]=Math.random()*255|0;return we}function Se(we){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(we)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(we)):nt(new Uint8Array(we),we):nt(new Array(we),we)}function tt(){var we=Se(fe);we[6]=we[6]&79|64,we[8]=we[8]&191|128;for(var ht="",yt=0;yt<fe;++yt){var Et=we[yt];(yt===4||yt===6||yt===8)&&(ht+="-"),Et<16&&(ht+="0"),ht+=Et.toString(16).toLowerCase()}return ht}}function ne(fe){return fe.__=void 0,delete fe.__,fe}})})(S8||(S8={}));var wX={exports:{}},OX={exports:{}};(function(e){function t(n){return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(OX);(function(e){var t=OX.exports.default;function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=n=function(){return r},e.exports.__esModule=!0,e.exports.default=e.exports;var r={},o=Object.prototype,i=o.hasOwnProperty,a=typeof Symbol=="function"?Symbol:{},s=a.iterator||"@@iterator",f=a.asyncIterator||"@@asyncIterator",d=a.toStringTag||"@@toStringTag";function h(D,B,V){return Object.defineProperty(D,B,{value:V,enumerable:!0,configurable:!0,writable:!0}),D[B]}try{h({},"")}catch{h=function(V,Y,K){return V[Y]=K}}function v(D,B,V,Y){var K=B&&B.prototype instanceof b?B:b,X=Object.create(K.prototype),W=new F(Y||[]);return X._invoke=function(ie,oe,ee){var ue="suspendedStart";return function(Ne,$e){if(ue==="executing")throw new Error("Generator is already running");if(ue==="completed"){if(Ne==="throw")throw $e;return M()}for(ee.method=Ne,ee.arg=$e;;){var Ie=ee.delegate;if(Ie){var Le=L(Ie,ee);if(Le){if(Le===m)continue;return Le}}if(ee.method==="next")ee.sent=ee._sent=ee.arg;else if(ee.method==="throw"){if(ue==="suspendedStart")throw ue="completed",ee.arg;ee.dispatchException(ee.arg)}else ee.method==="return"&&ee.abrupt("return",ee.arg);ue="executing";var he=y(ie,oe,ee);if(he.type==="normal"){if(ue=ee.done?"completed":"suspendedYield",he.arg===m)continue;return{value:he.arg,done:ee.done}}he.type==="throw"&&(ue="completed",ee.method="throw",ee.arg=he.arg)}}}(D,V,W),X}function y(D,B,V){try{return{type:"normal",arg:D.call(B,V)}}catch(Y){return{type:"throw",arg:Y}}}r.wrap=v;var m={};function b(){}function S(){}function O(){}var _={};h(_,s,function(){return this});var A=Object.getPrototypeOf,T=A&&A(A(z([])));T&&T!==o&&i.call(T,s)&&(_=T);var P=O.prototype=b.prototype=Object.create(_);function x(D){["next","throw","return"].forEach(function(B){h(D,B,function(V){return this._invoke(B,V)})})}function N(D,B){function V(K,X,W,ie){var oe=y(D[K],D,X);if(oe.type!=="throw"){var ee=oe.arg,ue=ee.value;return ue&&t(ue)=="object"&&i.call(ue,"__await")?B.resolve(ue.__await).then(function(Ne){V("next",Ne,W,ie)},function(Ne){V("throw",Ne,W,ie)}):B.resolve(ue).then(function(Ne){ee.value=Ne,W(ee)},function(Ne){return V("throw",Ne,W,ie)})}ie(oe.arg)}var Y;this._invoke=function(K,X){function W(){return new B(function(ie,oe){V(K,X,ie,oe)})}return Y=Y?Y.then(W,W):W()}}function L(D,B){var V=D.iterator[B.method];if(V===void 0){if(B.delegate=null,B.method==="throw"){if(D.iterator.return&&(B.method="return",B.arg=void 0,L(D,B),B.method==="throw"))return m;B.method="throw",B.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var Y=y(V,D.iterator,B.arg);if(Y.type==="throw")return B.method="throw",B.arg=Y.arg,B.delegate=null,m;var K=Y.arg;return K?K.done?(B[D.resultName]=K.value,B.next=D.nextLoc,B.method!=="return"&&(B.method="next",B.arg=void 0),B.delegate=null,m):K:(B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,m)}function j(D){var B={tryLoc:D[0]};1 in D&&(B.catchLoc=D[1]),2 in D&&(B.finallyLoc=D[2],B.afterLoc=D[3]),this.tryEntries.push(B)}function k(D){var B=D.completion||{};B.type="normal",delete B.arg,D.completion=B}function F(D){this.tryEntries=[{tryLoc:"root"}],D.forEach(j,this),this.reset(!0)}function z(D){if(D){var B=D[s];if(B)return B.call(D);if(typeof D.next=="function")return D;if(!isNaN(D.length)){var V=-1,Y=function K(){for(;++V<D.length;)if(i.call(D,V))return K.value=D[V],K.done=!1,K;return K.value=void 0,K.done=!0,K};return Y.next=Y}}return{next:M}}function M(){return{value:void 0,done:!0}}return S.prototype=O,h(P,"constructor",O),h(O,"constructor",S),S.displayName=h(O,d,"GeneratorFunction"),r.isGeneratorFunction=function(D){var B=typeof D=="function"&&D.constructor;return!!B&&(B===S||(B.displayName||B.name)==="GeneratorFunction")},r.mark=function(D){return Object.setPrototypeOf?Object.setPrototypeOf(D,O):(D.__proto__=O,h(D,d,"GeneratorFunction")),D.prototype=Object.create(P),D},r.awrap=function(D){return{__await:D}},x(N.prototype),h(N.prototype,f,function(){return this}),r.AsyncIterator=N,r.async=function(D,B,V,Y,K){K===void 0&&(K=Promise);var X=new N(v(D,B,V,Y),K);return r.isGeneratorFunction(B)?X:X.next().then(function(W){return W.done?W.value:X.next()})},x(P),h(P,d,"Generator"),h(P,s,function(){return this}),h(P,"toString",function(){return"[object Generator]"}),r.keys=function(D){var B=[];for(var V in D)B.push(V);return B.reverse(),function Y(){for(;B.length;){var K=B.pop();if(K in D)return Y.value=K,Y.done=!1,Y}return Y.done=!0,Y}},r.values=z,F.prototype={constructor:F,reset:function(B){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!B)for(var V in this)V.charAt(0)==="t"&&i.call(this,V)&&!isNaN(+V.slice(1))&&(this[V]=void 0)},stop:function(){this.done=!0;var B=this.tryEntries[0].completion;if(B.type==="throw")throw B.arg;return this.rval},dispatchException:function(B){if(this.done)throw B;var V=this;function Y(ee,ue){return W.type="throw",W.arg=B,V.next=ee,ue&&(V.method="next",V.arg=void 0),!!ue}for(var K=this.tryEntries.length-1;K>=0;--K){var X=this.tryEntries[K],W=X.completion;if(X.tryLoc==="root")return Y("end");if(X.tryLoc<=this.prev){var ie=i.call(X,"catchLoc"),oe=i.call(X,"finallyLoc");if(ie&&oe){if(this.prev<X.catchLoc)return Y(X.catchLoc,!0);if(this.prev<X.finallyLoc)return Y(X.finallyLoc)}else if(ie){if(this.prev<X.catchLoc)return Y(X.catchLoc,!0)}else{if(!oe)throw new Error("try statement without catch or finally");if(this.prev<X.finallyLoc)return Y(X.finallyLoc)}}}},abrupt:function(B,V){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var K=this.tryEntries[Y];if(K.tryLoc<=this.prev&&i.call(K,"finallyLoc")&&this.prev<K.finallyLoc){var X=K;break}}X&&(B==="break"||B==="continue")&&X.tryLoc<=V&&V<=X.finallyLoc&&(X=null);var W=X?X.completion:{};return W.type=B,W.arg=V,X?(this.method="next",this.next=X.finallyLoc,m):this.complete(W)},complete:function(B,V){if(B.type==="throw")throw B.arg;return B.type==="break"||B.type==="continue"?this.next=B.arg:B.type==="return"?(this.rval=this.arg=B.arg,this.method="return",this.next="end"):B.type==="normal"&&V&&(this.next=V),m},finish:function(B){for(var V=this.tryEntries.length-1;V>=0;--V){var Y=this.tryEntries[V];if(Y.finallyLoc===B)return this.complete(Y.completion,Y.afterLoc),k(Y),m}},catch:function(B){for(var V=this.tryEntries.length-1;V>=0;--V){var Y=this.tryEntries[V];if(Y.tryLoc===B){var K=Y.completion;if(K.type==="throw"){var X=K.arg;k(Y)}return X}}throw new Error("illegal catch attempt")},delegateYield:function(B,V,Y){return this.delegate={iterator:z(B),resultName:V,nextLoc:Y},this.method==="next"&&(this.arg=void 0),m}},r}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(wX);var eO=wX.exports(),Hn=eO;try{regeneratorRuntime=eO}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=eO:Function("r","regeneratorRuntime = r")(eO)}function w8(e,t,n,r,o,i,a){try{var s=e[i](a),f=s.value}catch(d){n(d);return}s.done?t(f):Promise.resolve(f).then(r,o)}function ro(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(f){w8(i,r,o,a,s,"next",f)}function s(f){w8(i,r,o,a,s,"throw",f)}a(void 0)})}}var vUe=-1,yUe=1;function cu(){return yUe++}var sp=function e(t){Qn(this,e)},lp=function(){function e(t){Qn(this,e),this.clazz=void 0,this.components=[],this.entities=[],this.lookup={},this.clazz=t}return vr(e,[{key:"clear",value:function(){this.components=[],this.entities=[],this.lookup={}}},{key:"contains",value:function(n){return this.lookup[n]>-1}},{key:"create",value:function(n,r){this.lookup[n]=this.components.length;var o=new this.clazz(r||{});return this.components.push(o),this.entities.push(n),o}},{key:"remove",value:function(n){var r=this.lookup[n];r>-1&&r<this.components.length-1&&(this.components[r]=this.components[this.components.length-1],this.entities[r]=this.entities[this.entities.length-1],this.lookup[this.entities[r]]=r),this.components.pop(),this.entities.pop(),delete this.lookup[n]}},{key:"removeKeepSorted",value:function(n){var r=this.lookup[n];if(r>-1){var o=this.entities[r];if(r<this.components.length-1){for(var i=r+1;i<this.components.length;++i)this.components[i-1]=this.components[i];for(var a=r+1;a<this.entities.length;++a)this.entities[a-1]=this.entities[a],this.lookup[this.entities[a-1]]=a-1}this.components.pop(),this.entities.pop(),delete this.lookup[o]}}},{key:"moveItem",value:function(n,r){if(n!==r){for(var o=this.components[n],i=this.entities[n],a=n<r?1:-1,s=n;s!==r;s+=a){var f=s+a;this.components[s]=this.components[f],this.entities[s]=this.entities[f],this.lookup[this.entities[s]]=s}this.components[r]=o,this.entities[r]=i,this.lookup[i]=r}}},{key:"getEntity",value:function(n){return this.entities[n]}},{key:"getComponent",value:function(n){return this.components[n]}},{key:"getComponentByEntity",value:function(n){var r=this.lookup[n];return r>-1?this.components[r]:null}},{key:"getCount",value:function(){return this.components.length}},{key:"getEntityByComponentIndex",value:function(n){for(var r=0,o=Object.keys(this.lookup);r<o.length;r++){var i=o[r],a=Number(i);if(this.lookup[a]===n)return a}return vUe}},{key:"find",value:function(n){for(var r=0;r<this.getCount();r++){var o=this.getComponent(r);if(n(o,r))return o}return null}},{key:"findIndex",value:function(n){for(var r=0;r<this.getCount();r++){var o=this.getComponent(r);if(n(o,r))return r}return-1}},{key:"forEach",value:function(n){for(var r=0,o=Object.keys(this.lookup);r<o.length;r++){var i=o[r],a=Number(i),s=this.lookup[a];n(a,this.getComponent(s))}}},{key:"forEachAsync",value:function(){var t=ro(Hn.mark(function r(o){var i,a,s,f,d;return Hn.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:i=0,a=Object.keys(this.lookup);case 1:if(!(i<a.length)){v.next=10;break}return s=a[i],f=Number(s),d=this.lookup[f],v.next=7,o(f,this.getComponent(d));case 7:i++,v.next=1;break;case 10:case"end":return v.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"map",value:function(n){for(var r=[],o=0,i=Object.keys(this.lookup);o<i.length;o++){var a=i[o],s=Number(a),f=this.lookup[s];r.push(n(s,this.getComponent(f)))}return r}}]),e}();function mUe(e){if(Array.isArray(e))return e}function gUe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],o=!0,i=!1,a,s;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));o=!0);}catch(f){i=!0,s=f}finally{try{!o&&n.return!=null&&n.return()}finally{if(i)throw s}}return r}}function $x(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _X(e,t){if(!!e){if(typeof e=="string")return $x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $x(e,t)}}function bUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J_(e,t){return mUe(e)||gUe(e,t)||_X(e,t)||bUe()}var hl="named",TX="name",pR="unmanaged",CX="optional",Q_="inject",$b="multi_inject",AX="inversify:tagged",PX="inversify:tagged_props",Bx="inversify:paramtypes",EUe="design:paramtypes",O8="post_construct";function SUe(){return[Q_,$b,TX,pR,hl,CX]}var _8=SUe(),Fi={Request:"Request",Singleton:"Singleton",Transient:"Transient"},ji={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},cc={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"},wUe=0;function i0(){return wUe++}var OUe=function(){function e(t,n){this.id=i0(),this.activated=!1,this.serviceIdentifier=t,this.scope=n,this.type=ji.Invalid,this.constraint=function(r){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===Fi.Singleton?this.activated:!1,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}(),_Ue="Cannot apply @injectable decorator multiple times.",TUe="Metadata key was used more than once in a parameter:",hg="NULL argument",T8="Key Not Found",CUe="Ambiguous match found for serviceIdentifier:",AUe="Could not unbind serviceIdentifier:",PUe="No matching bindings found for serviceIdentifier:",xUe="Missing required @injectable annotation in:",MUe="Missing required @inject or @multiInject annotation in:",NUe=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},RUe="Circular dependency found:",IUe="Invalid binding type:",DUe="No snapshot available to restore.",kUe="Invalid return type in middleware. Middleware must return!",LUe="Value provided to function binding must be a function!",$Ue="The toSelf function can only be applied when a constructor is used as service identifier",BUe="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",jUe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+(e[0]+" must be >= than the number of constructor arguments of its base class.")},FUe="Invalid Container constructor argument. Container options must be an object.",zUe="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",UUe="Invalid Container option. Auto bind injectable must be a boolean",VUe="Invalid Container option. Skip base check must be a boolean",HUe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]},GUe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency "+("in one of the '"+e[0]+"' bindings. Please investigate bindings with")+("service identifier '"+e[1]+"'.")},WUe="Maximum call stack size exceeded",KUe=function(){function e(){}return e.prototype.getConstructorMetadata=function(t){var n=Reflect.getMetadata(Bx,t),r=Reflect.getMetadata(AX,t);return{compilerGeneratedMetadata:n,userGeneratedMetadata:r||{}}},e.prototype.getPropertiesMetadata=function(t){var n=Reflect.getMetadata(PX,t)||[];return n},e}(),tO={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};function xX(e){return e instanceof RangeError||e.message===WUe}function Bb(e){if(typeof e=="function"){var t=e;return t.name}else{if(typeof e=="symbol")return e.toString();var t=e;return t}}function C8(e,t,n){var r="",o=n(e,t);return o.length!==0&&(r=`
Registered bindings:`,o.forEach(function(i){var a="Object";i.implementationType!==null&&(a=q_(i.implementationType)),r=r+`
 `+a,i.constraint.metaData&&(r=r+" - "+i.constraint.metaData)})),r}function MX(e,t){return e.parentRequest===null?!1:e.parentRequest.serviceIdentifier===t?!0:MX(e.parentRequest,t)}function XUe(e){function t(r,o){o===void 0&&(o=[]);var i=Bb(r.serviceIdentifier);return o.push(i),r.parentRequest!==null?t(r.parentRequest,o):o}var n=t(e);return n.reverse().join(" --> ")}function NX(e){e.childRequests.forEach(function(t){if(MX(t,t.serviceIdentifier)){var n=XUe(t);throw new Error(RUe+" "+n)}else NX(t)})}function YUe(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),o=t.getCustomTags();return r!==null&&(n+=r.toString()+`
`),o!==null&&o.forEach(function(i){n+=i.toString()+`
`})," "+e+`
 `+e+" - "+n}else return" "+e}function q_(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}var RX=function(){function e(t){this.id=i0(),this.container=t}return e.prototype.addPlan=function(t){this.plan=t},e.prototype.setCurrentRequest=function(t){this.currentRequest=t},e}(),td=function(){function e(t,n){this.key=t,this.value=n}return e.prototype.toString=function(){return this.key===hl?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}(),ZUe=function(){function e(t,n){this.parentContext=t,this.rootRequest=n}return e}();function IX(e,t,n,r){var o=AX;kX(o,e,t,r,n)}function DX(e,t,n){var r=PX;kX(r,e.constructor,t,n)}function kX(e,t,n,r,o){var i={},a=typeof o=="number",s=o!==void 0&&a?o.toString():n;if(a&&n!==void 0)throw new Error(BUe);Reflect.hasOwnMetadata(e,t)&&(i=Reflect.getMetadata(e,t));var f=i[s];if(!Array.isArray(f))f=[];else for(var d=0,h=f;d<h.length;d++){var v=h[d];if(v.key===r.key)throw new Error(TUe+" "+v.key.toString())}f.push(r),i[s]=f,Reflect.defineMetadata(e,i,t)}var JUe=function(){function e(t){this._cb=t}return e.prototype.unwrap=function(){return this._cb()},e}();function lr(e){return function(t,n,r){if(e===void 0)throw new Error(NUe(t.name));var o=new td(Q_,e);typeof r=="number"?IX(t,n,r,o):DX(t,n,o)}}var QUe=function(){function e(t){this.str=t}return e.prototype.startsWith=function(t){return this.str.indexOf(t)===0},e.prototype.endsWith=function(t){var n="",r=t.split("").reverse().join("");return n=this.str.split("").reverse().join(""),this.startsWith.call({str:n},r)},e.prototype.contains=function(t){return this.str.indexOf(t)!==-1},e.prototype.equals=function(t){return this.str===t},e.prototype.value=function(){return this.str},e}(),eT=function(){function e(t,n,r,o){this.id=i0(),this.type=t,this.serviceIdentifier=r,this.name=new QUe(n||""),this.metadata=new Array;var i=null;typeof o=="string"?i=new td(hl,o):o instanceof td&&(i=o),i!==null&&this.metadata.push(i)}return e.prototype.hasTag=function(t){for(var n=0,r=this.metadata;n<r.length;n++){var o=r[n];if(o.key===t)return!0}return!1},e.prototype.isArray=function(){return this.hasTag($b)},e.prototype.matchesArray=function(t){return this.matchesTag($b)(t)},e.prototype.isNamed=function(){return this.hasTag(hl)},e.prototype.isTagged=function(){return this.metadata.some(function(t){return _8.every(function(n){return t.key!==n})})},e.prototype.isOptional=function(){return this.matchesTag(CX)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(t){return t.key===hl})[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(t){return _8.every(function(n){return t.key!==n})}):null},e.prototype.matchesNamedTag=function(t){return this.matchesTag(hl)(t)},e.prototype.matchesTag=function(t){var n=this;return function(r){for(var o=0,i=n.metadata;o<i.length;o++){var a=i[o];if(a.key===t&&a.value===r)return!0}return!1}},e}(),GO=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};function qUe(e,t){var n=q_(t),r=LX(e,n,t,!1);return r}function LX(e,t,n,r){var o=e.getConstructorMetadata(n),i=o.compilerGeneratedMetadata;if(i===void 0){var a=xUe+" "+t+".";throw new Error(a)}var s=o.userGeneratedMetadata,f=Object.keys(s),d=n.length===0&&f.length>0,h=f.length>n.length,v=d||h?f.length:n.length,y=tVe(r,t,i,s,v),m=$X(e,n),b=GO(GO([],y),m);return b}function eVe(e,t,n,r,o){var i=o[e.toString()]||[],a=jX(i),s=a.unmanaged!==!0,f=r[e],d=a.inject||a.multiInject;if(f=d||f,f instanceof JUe&&(f=f.unwrap()),s){var h=f===Object,v=f===Function,y=f===void 0,m=h||v||y;if(!t&&m){var b=MUe+" argument "+e+" in class "+n+".";throw new Error(b)}var S=new eT(cc.ConstructorArgument,a.targetName,f);return S.metadata=i,S}return null}function tVe(e,t,n,r,o){for(var i=[],a=0;a<o;a++){var s=a,f=eVe(s,e,t,n,r);f!==null&&i.push(f)}return i}function $X(e,t){for(var n=e.getPropertiesMetadata(t),r=[],o=Object.keys(n),i=0,a=o;i<a.length;i++){var s=a[i],f=n[s],d=jX(n[s]),h=d.targetName||s,v=d.inject||d.multiInject,y=new eT(cc.ClassProperty,h,v);y.metadata=f,r.push(y)}var m=Object.getPrototypeOf(t.prototype).constructor;if(m!==Object){var b=$X(e,m);r=GO(GO([],r),b)}return r}function BX(e,t){var n=Object.getPrototypeOf(t.prototype).constructor;if(n!==Object){var r=q_(n),o=LX(e,r,n,!0),i=o.map(function(f){return f.metadata.filter(function(d){return d.key===pR})}),a=[].concat.apply([],i).length,s=o.length-a;return s>0?s:BX(e,n)}else return 0}function jX(e){var t={};return e.forEach(function(n){t[n.key.toString()]=n.value}),{inject:t[Q_],multiInject:t[$b],targetName:t[TX],unmanaged:t[pR]}}var vR=function(){function e(t,n,r,o,i){this.id=i0(),this.serviceIdentifier=t,this.parentContext=n,this.parentRequest=r,this.target=i,this.childRequests=[],this.bindings=Array.isArray(o)?o:[o],this.requestScope=r===null?new Map:null}return e.prototype.addChildRequest=function(t,n,r){var o=new e(t,this.parentContext,this,n,r);return this.childRequests.push(o),o},e}();function jx(e){return e._bindingDictionary}function nVe(e,t,n,r,o,i){var a=e?$b:Q_,s=new td(a,n),f=new eT(t,r,n,s);if(o!==void 0){var d=new td(o,i);f.metadata.push(d)}return f}function A8(e,t,n,r,o){var i=jb(n.container,o.serviceIdentifier),a=[];return i.length===tO.NoBindingsAvailable&&n.container.options.autoBindInjectable&&typeof o.serviceIdentifier=="function"&&e.getConstructorMetadata(o.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(o.serviceIdentifier).toSelf(),i=jb(n.container,o.serviceIdentifier)),t?a=i:a=i.filter(function(s){var f=new vR(s.serviceIdentifier,n,r,s,o);return s.constraint(f)}),rVe(o.serviceIdentifier,a,o,n.container),a}function rVe(e,t,n,r){switch(t.length){case tO.NoBindingsAvailable:if(n.isOptional())return t;var o=Bb(e),i=PUe;throw i+=YUe(o,n),i+=C8(r,o,jb),new Error(i);case tO.OnlyOneBindingAvailable:if(!n.isArray())return t;case tO.MultipleBindingsAvailable:default:if(n.isArray())return t;var o=Bb(e),i=CUe+" "+o;throw i+=C8(r,o,jb),new Error(i)}}function FX(e,t,n,r,o,i){var a,s;if(o===null){a=A8(e,t,r,null,i),s=new vR(n,r,null,a,i);var f=new ZUe(r,s);r.addPlan(f)}else a=A8(e,t,r,o,i),s=o.addChildRequest(i.serviceIdentifier,a,i);a.forEach(function(d){var h=null;if(i.isArray())h=s.addChildRequest(d.serviceIdentifier,d,i);else{if(d.cache)return;h=s}if(d.type===ji.Instance&&d.implementationType!==null){var v=qUe(e,d.implementationType);if(!r.container.options.skipBaseClassChecks){var y=BX(e,d.implementationType);if(v.length<y){var m=jUe(q_(d.implementationType));throw new Error(m)}}v.forEach(function(b){FX(e,!1,b.serviceIdentifier,r,h,b)})}})}function jb(e,t){var n=[],r=jx(e);return r.hasKey(t)?n=r.get(t):e.parent!==null&&(n=jb(e.parent,t)),n}function oVe(e,t,n,r,o,i,a,s){s===void 0&&(s=!1);var f=new RX(t),d=nVe(n,r,o,"",i,a);try{return FX(e,s,o,f,null,d),f}catch(h){throw xX(h)&&f.plan&&NX(f.plan.rootRequest),h}}function iVe(e,t,n,r){var o=new eT(cc.Variable,"",t,new td(n,r)),i=new RX(e),a=new vR(t,i,null,[],o);return a}var aVe=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};function sVe(e,t,n){var r=t.filter(function(i){return i.target!==null&&i.target.type===cc.ClassProperty}),o=r.map(n);return r.forEach(function(i,a){var s="";s=i.target.name.value();var f=o[a];e[s]=f}),e}function lVe(e,t){return new(e.bind.apply(e,aVe([void 0],t)))}function uVe(e,t){if(Reflect.hasMetadata(O8,e)){var n=Reflect.getMetadata(O8,e);try{t[n.value]()}catch(r){throw new Error(HUe(e.name,r.message))}}}function cVe(e,t,n){var r=null;if(t.length>0){var o=t.filter(function(a){return a.target!==null&&a.target.type===cc.ConstructorArgument}),i=o.map(n);r=lVe(e,i),r=sVe(r,t,n)}else r=new e;return uVe(e,r),r}var KA=function(e,t,n){try{return n()}catch(r){throw xX(r)?new Error(GUe(e,t.toString())):r}},Fx=function(e){return function(t){t.parentContext.setCurrentRequest(t);var n=t.bindings,r=t.childRequests,o=t.target&&t.target.isArray(),i=!t.parentRequest||!t.parentRequest.target||!t.target||!t.parentRequest.target.matchesArray(t.target.serviceIdentifier);if(o&&i)return r.map(function(v){var y=Fx(e);return y(v)});var a=null;if(t.target.isOptional()&&n.length===0)return;var s=n[0],f=s.scope===Fi.Singleton,d=s.scope===Fi.Request;if(f&&s.activated)return s.cache;if(d&&e!==null&&e.has(s.id))return e.get(s.id);if(s.type===ji.ConstantValue)a=s.cache,s.activated=!0;else if(s.type===ji.Function)a=s.cache,s.activated=!0;else if(s.type===ji.Constructor)a=s.implementationType;else if(s.type===ji.DynamicValue&&s.dynamicValue!==null)a=KA("toDynamicValue",s.serviceIdentifier,function(){return s.dynamicValue(t.parentContext)});else if(s.type===ji.Factory&&s.factory!==null)a=KA("toFactory",s.serviceIdentifier,function(){return s.factory(t.parentContext)});else if(s.type===ji.Provider&&s.provider!==null)a=KA("toProvider",s.serviceIdentifier,function(){return s.provider(t.parentContext)});else if(s.type===ji.Instance&&s.implementationType!==null)a=cVe(s.implementationType,r,Fx(e));else{var h=Bb(t.serviceIdentifier);throw new Error(IUe+" "+h)}return typeof s.onActivation=="function"&&(a=s.onActivation(t.parentContext,a)),f&&(s.cache=a,s.activated=!0),d&&e!==null&&!e.has(s.id)&&e.set(s.id,a),a}};function fVe(e){var t=Fx(e.plan.rootRequest.requestScope);return t(e.plan.rootRequest)}var rc=function(e,t){var n=e.parentRequest;return n!==null?t(n)?!0:rc(n,t):!1},Dg=function(e){return function(t){var n=function(r){return r!==null&&r.target!==null&&r.target.matchesTag(e)(t)};return n.metaData=new td(e,t),n}},qS=Dg(hl),XA=function(e){return function(t){var n=null;if(t!==null)if(n=t.bindings[0],typeof e=="string"){var r=n.serviceIdentifier;return r===e}else{var o=t.bindings[0].implementationType;return e===o}return!1}},yR=function(){function e(t){this._binding=t}return e.prototype.when=function(t){return this._binding.constraint=t,new $i(this._binding)},e.prototype.whenTargetNamed=function(t){return this._binding.constraint=qS(t),new $i(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(t){var n=t.target!==null&&!t.target.isNamed()&&!t.target.isTagged();return n},new $i(this._binding)},e.prototype.whenTargetTagged=function(t,n){return this._binding.constraint=Dg(t)(n),new $i(this._binding)},e.prototype.whenInjectedInto=function(t){return this._binding.constraint=function(n){return XA(t)(n.parentRequest)},new $i(this._binding)},e.prototype.whenParentNamed=function(t){return this._binding.constraint=function(n){return qS(t)(n.parentRequest)},new $i(this._binding)},e.prototype.whenParentTagged=function(t,n){return this._binding.constraint=function(r){return Dg(t)(n)(r.parentRequest)},new $i(this._binding)},e.prototype.whenAnyAncestorIs=function(t){return this._binding.constraint=function(n){return rc(n,XA(t))},new $i(this._binding)},e.prototype.whenNoAncestorIs=function(t){return this._binding.constraint=function(n){return!rc(n,XA(t))},new $i(this._binding)},e.prototype.whenAnyAncestorNamed=function(t){return this._binding.constraint=function(n){return rc(n,qS(t))},new $i(this._binding)},e.prototype.whenNoAncestorNamed=function(t){return this._binding.constraint=function(n){return!rc(n,qS(t))},new $i(this._binding)},e.prototype.whenAnyAncestorTagged=function(t,n){return this._binding.constraint=function(r){return rc(r,Dg(t)(n))},new $i(this._binding)},e.prototype.whenNoAncestorTagged=function(t,n){return this._binding.constraint=function(r){return!rc(r,Dg(t)(n))},new $i(this._binding)},e.prototype.whenAnyAncestorMatches=function(t){return this._binding.constraint=function(n){return rc(n,t)},new $i(this._binding)},e.prototype.whenNoAncestorMatches=function(t){return this._binding.constraint=function(n){return!rc(n,t)},new $i(this._binding)},e}(),$i=function(){function e(t){this._binding=t}return e.prototype.onActivation=function(t){return this._binding.onActivation=t,new yR(this._binding)},e}(),jf=function(){function e(t){this._binding=t,this._bindingWhenSyntax=new yR(this._binding),this._bindingOnSyntax=new $i(this._binding)}return e.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},e.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(t,n){return this._bindingWhenSyntax.whenTargetTagged(t,n)},e.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},e.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},e.prototype.whenParentTagged=function(t,n){return this._bindingWhenSyntax.whenParentTagged(t,n)},e.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},e.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},e.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},e.prototype.whenAnyAncestorTagged=function(t,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,n)},e.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},e.prototype.whenNoAncestorTagged=function(t,n){return this._bindingWhenSyntax.whenNoAncestorTagged(t,n)},e.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},e.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},e.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},e}(),dVe=function(){function e(t){this._binding=t}return e.prototype.inRequestScope=function(){return this._binding.scope=Fi.Request,new jf(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=Fi.Singleton,new jf(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=Fi.Transient,new jf(this._binding)},e}(),P8=function(){function e(t){this._binding=t,this._bindingWhenSyntax=new yR(this._binding),this._bindingOnSyntax=new $i(this._binding),this._bindingInSyntax=new dVe(t)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},e.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(t,n){return this._bindingWhenSyntax.whenTargetTagged(t,n)},e.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},e.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},e.prototype.whenParentTagged=function(t,n){return this._bindingWhenSyntax.whenParentTagged(t,n)},e.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},e.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},e.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},e.prototype.whenAnyAncestorTagged=function(t,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,n)},e.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},e.prototype.whenNoAncestorTagged=function(t,n){return this._bindingWhenSyntax.whenNoAncestorTagged(t,n)},e.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},e.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},e.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},e}(),hVe=function(){function e(t){this._binding=t}return e.prototype.to=function(t){return this._binding.type=ji.Instance,this._binding.implementationType=t,new P8(this._binding)},e.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+$Ue);var t=this._binding.serviceIdentifier;return this.to(t)},e.prototype.toConstantValue=function(t){return this._binding.type=ji.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=Fi.Singleton,new jf(this._binding)},e.prototype.toDynamicValue=function(t){return this._binding.type=ji.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new P8(this._binding)},e.prototype.toConstructor=function(t){return this._binding.type=ji.Constructor,this._binding.implementationType=t,this._binding.scope=Fi.Singleton,new jf(this._binding)},e.prototype.toFactory=function(t){return this._binding.type=ji.Factory,this._binding.factory=t,this._binding.scope=Fi.Singleton,new jf(this._binding)},e.prototype.toFunction=function(t){if(typeof t!="function")throw new Error(LUe);var n=this.toConstantValue(t);return this._binding.type=ji.Function,this._binding.scope=Fi.Singleton,n},e.prototype.toAutoFactory=function(t){return this._binding.type=ji.Factory,this._binding.factory=function(n){var r=function(){return n.container.get(t)};return r},this._binding.scope=Fi.Singleton,new jf(this._binding)},e.prototype.toProvider=function(t){return this._binding.type=ji.Provider,this._binding.provider=t,this._binding.scope=Fi.Singleton,new jf(this._binding)},e.prototype.toService=function(t){this.toDynamicValue(function(n){return n.container.get(t)})},e}(),pVe=function(){function e(){}return e.of=function(t,n){var r=new e;return r.bindings=t,r.middleware=n,r},e}(),x8=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(t,n){if(t==null)throw new Error(hg);if(n==null)throw new Error(hg);var r=this._map.get(t);r!==void 0?(r.push(n),this._map.set(t,r)):this._map.set(t,[n])},e.prototype.get=function(t){if(t==null)throw new Error(hg);var n=this._map.get(t);if(n!==void 0)return n;throw new Error(T8)},e.prototype.remove=function(t){if(t==null)throw new Error(hg);if(!this._map.delete(t))throw new Error(T8)},e.prototype.removeByCondition=function(t){var n=this;this._map.forEach(function(r,o){var i=r.filter(function(a){return!t(a)});i.length>0?n._map.set(o,i):n._map.delete(o)})},e.prototype.hasKey=function(t){if(t==null)throw new Error(hg);return this._map.has(t)},e.prototype.clone=function(){var t=new e;return this._map.forEach(function(n,r){n.forEach(function(o){return t.add(r,o.clone())})}),t},e.prototype.traverse=function(t){this._map.forEach(function(n,r){t(r,n)})},e}(),vVe=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function s(h){try{d(r.next(h))}catch(v){a(v)}}function f(h){try{d(r.throw(h))}catch(v){a(v)}}function d(h){h.done?i(h.value):o(h.value).then(s,f)}d((r=r.apply(e,t||[])).next())})},yVe=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(d){return function(h){return f([d,h])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=d[0]&2?o.return:d[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,d[1])).done)return i;switch(o=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(h){d=[6,h],o=0}finally{r=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},mVe=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},zX=function(){function e(t){this._appliedMiddleware=[];var n=t||{};if(typeof n!="object")throw new Error(""+FUe);if(n.defaultScope===void 0)n.defaultScope=Fi.Transient;else if(n.defaultScope!==Fi.Singleton&&n.defaultScope!==Fi.Transient&&n.defaultScope!==Fi.Request)throw new Error(""+zUe);if(n.autoBindInjectable===void 0)n.autoBindInjectable=!1;else if(typeof n.autoBindInjectable!="boolean")throw new Error(""+UUe);if(n.skipBaseClassChecks===void 0)n.skipBaseClassChecks=!1;else if(typeof n.skipBaseClassChecks!="boolean")throw new Error(""+VUe);this.options={autoBindInjectable:n.autoBindInjectable,defaultScope:n.defaultScope,skipBaseClassChecks:n.skipBaseClassChecks},this.id=i0(),this._bindingDictionary=new x8,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new KUe}return e.merge=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var i=new e,a=mVe([t,n],r).map(function(d){return jx(d)}),s=jx(i);function f(d,h){d.traverse(function(v,y){y.forEach(function(m){h.add(m.serviceIdentifier,m.clone())})})}return a.forEach(function(d){f(d,s)}),i},e.prototype.load=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=this._getContainerModuleHelpersFactory(),o=0,i=t;o<i.length;o++){var a=i[o],s=r(a.id);a.registry(s.bindFunction,s.unbindFunction,s.isboundFunction,s.rebindFunction)}},e.prototype.loadAsync=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return vVe(this,void 0,void 0,function(){var r,o,i,a,s;return yVe(this,function(f){switch(f.label){case 0:r=this._getContainerModuleHelpersFactory(),o=0,i=t,f.label=1;case 1:return o<i.length?(a=i[o],s=r(a.id),[4,a.registry(s.bindFunction,s.unbindFunction,s.isboundFunction,s.rebindFunction)]):[3,4];case 2:f.sent(),f.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.unload=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=function(i){return function(a){return a.moduleId===i}};n.forEach(function(i){var a=o(i.id);t._bindingDictionary.removeByCondition(a)})},e.prototype.bind=function(t){var n=this.options.defaultScope||Fi.Transient,r=new OUe(t,n);return this._bindingDictionary.add(t,r),new hVe(r)},e.prototype.rebind=function(t){return this.unbind(t),this.bind(t)},e.prototype.unbind=function(t){try{this._bindingDictionary.remove(t)}catch{throw new Error(AUe+" "+Bb(t))}},e.prototype.unbindAll=function(){this._bindingDictionary=new x8},e.prototype.isBound=function(t){var n=this._bindingDictionary.hasKey(t);return!n&&this.parent&&(n=this.parent.isBound(t)),n},e.prototype.isBoundNamed=function(t,n){return this.isBoundTagged(t,hl,n)},e.prototype.isBoundTagged=function(t,n,r){var o=!1;if(this._bindingDictionary.hasKey(t)){var i=this._bindingDictionary.get(t),a=iVe(this,t,n,r);o=i.some(function(s){return s.constraint(a)})}return!o&&this.parent&&(o=this.parent.isBoundTagged(t,n,r)),o},e.prototype.snapshot=function(){this._snapshots.push(pVe.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var t=this._snapshots.pop();if(t===void 0)throw new Error(DUe);this._bindingDictionary=t.bindings,this._middleware=t.middleware},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._appliedMiddleware=this._appliedMiddleware.concat(t);var r=this._middleware?this._middleware:this._planAndResolve();this._middleware=t.reduce(function(o,i){return i(o)},r)},e.prototype.applyCustomMetadataReader=function(t){this._metadataReader=t},e.prototype.get=function(t){return this._get(!1,!1,cc.Variable,t)},e.prototype.getTagged=function(t,n,r){return this._get(!1,!1,cc.Variable,t,n,r)},e.prototype.getNamed=function(t,n){return this.getTagged(t,hl,n)},e.prototype.getAll=function(t){return this._get(!0,!0,cc.Variable,t)},e.prototype.getAllTagged=function(t,n,r){return this._get(!1,!0,cc.Variable,t,n,r)},e.prototype.getAllNamed=function(t,n){return this.getAllTagged(t,hl,n)},e.prototype.resolve=function(t){var n=this.createChild();return n.bind(t).toSelf(),this._appliedMiddleware.forEach(function(r){n.applyMiddleware(r)}),n.get(t)},e.prototype._getContainerModuleHelpersFactory=function(){var t=this,n=function(s,f){s._binding.moduleId=f},r=function(s){return function(f){var d=t.bind.bind(t),h=d(f);return n(h,s),h}},o=function(s){return function(f){var d=t.unbind.bind(t);d(f)}},i=function(s){return function(f){var d=t.isBound.bind(t);return d(f)}},a=function(s){return function(f){var d=t.rebind.bind(t),h=d(f);return n(h,s),h}};return function(s){return{bindFunction:r(s),isboundFunction:i(),rebindFunction:a(s),unbindFunction:o()}}},e.prototype._get=function(t,n,r,o,i,a){var s=null,f={avoidConstraints:t,contextInterceptor:function(d){return d},isMultiInject:n,key:i,serviceIdentifier:o,targetType:r,value:a};if(this._middleware){if(s=this._middleware(f),s==null)throw new Error(kUe)}else s=this._planAndResolve()(f);return s},e.prototype._planAndResolve=function(){var t=this;return function(n){var r=oVe(t._metadataReader,t,n.isMultiInject,n.targetType,n.serviceIdentifier,n.key,n.value,n.avoidConstraints);r=n.contextInterceptor(r);var o=fVe(r);return o}},e}();function so(){return function(e){if(Reflect.hasOwnMetadata(Bx,e))throw new Error(_Ue);var t=Reflect.getMetadata(EUe,e)||[];return Reflect.defineMetadata(Bx,t,e),e}}function mu(e){return function(t,n,r){var o=new td(hl,e);typeof r=="number"?IX(t,n,r,o):DX(t,n,o)}}var qt={HierarchyComponentManager:Symbol("HierarchyComponentManager"),TransformComponentManager:Symbol("TransformComponentManager"),NameComponentManager:Symbol("NameComponentManager"),SceneGraphSystem:Symbol("SceneGraphSystem"),FrameGraphSystem:Symbol("FrameGraphSystem"),ResourcePool:Symbol("ResourcePool"),ResourceHandleComponentManager:Symbol("ResourceHandleComponentManager"),PassNodeComponentManager:Symbol("PassNodeComponentManager"),RendererSystem:Symbol("RendererSystem"),RenderPass:Symbol("RenderPass"),RenderPassFactory:Symbol("Factory<IRenderPass>"),Renderable:Symbol("Factory<IRenderPass>"),MeshSystem:Symbol("MeshSystem"),MeshComponentManager:Symbol("MeshComponentManager"),CullableComponentManager:Symbol("CullableComponentManager"),Geometry:Symbol("Geometry"),GeometrySystem:Symbol("GeometrySystem"),GeometryComponentManager:Symbol("GeometryComponentManager"),Material:Symbol("Material"),MaterialSystem:Symbol("MaterialSystem"),MaterialComponentManager:Symbol("MaterialComponentManager"),ForwardRenderPath:Symbol("ForwardRenderPath"),ComputeSystem:Symbol("ComputeSystem"),ComputeComponentManager:Symbol("ComputeComponentManager"),ComputeStrategy:Symbol("ComputeStrategy"),Systems:Symbol("Systems"),World:Symbol("World"),RenderEngine:Symbol("RenderEngine"),WebGPUEngine:Symbol("WebGPUEngine"),WebGLEngine:Symbol("WebGLEngine"),ShaderModuleService:Symbol("ShaderModuleService"),ConfigService:Symbol("ConfigService"),InteractorService:Symbol("InteractorService"),IEventEmitter:Symbol("IEventEmitter"),Light:Symbol("Light")},gVe=function e(){Qn(this,e),this.index=void 0},bVe=function e(){Qn(this,e),this.name=void 0,this.data=void 0,this.execute=void 0,this.tearDown=void 0},EVe=function(){function e(){Qn(this,e),this.name=void 0,this.refCount=0,this.hasSideEffect=!1,this.devirtualize=[],this.destroy=[],this.reads=[],this.writes=[]}return vr(e,[{key:"read",value:function(n){return this.reads.find(function(r){return r.index===n.index})||this.reads.push(n),n}},{key:"sample",value:function(n){return this.read(n),n}},{key:"write",value:function(n,r){var o=this.writes.find(function(f){return f.index===r.index});if(o)return r;var i=n.getResourceNode(r);i.resource.version++,i.resource.imported&&(this.hasSideEffect=!0);var a=n.createResourceNode(i.resource),s=n.getResourceNode(a);return s.writer=this,this.writes.push(a),a}}]),e}();function zx(e,t){return zx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},zx(e,t)}function ia(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zx(e,t)}function wc(e){return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function ei(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aa(e,t){if(t&&(wc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ei(e)}function ao(e){return ao=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ao(e)}var SVe=function e(){Qn(this,e),this.first=void 0,this.last=void 0};function wVe(e){var t=OVe();return function(){var r=ao(e),o;if(t){var i=ao(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return aa(this,o)}}function OVe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var M8=function(e){ia(n,e);var t=wVe(n);function n(){var r;Qn(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),r.version=0,r.refs=0,r.name=void 0,r.imported=void 0,r.priority=void 0,r.discardStart=!0,r.discardEnd=!1,r.descriptor=void 0,r.resource=void 0,r}return vr(n,[{key:"preExecuteDestroy",value:function(){this.discardEnd=!0}},{key:"postExecuteDestroy",value:function(){this.imported}},{key:"postExecuteDevirtualize",value:function(){this.discardStart=!1}},{key:"preExecuteDevirtualize",value:function(){this.imported}}]),n}(SVe),_Ve=function e(){Qn(this,e),this.resource=void 0,this.writer=void 0,this.readerCount=0,this.version=void 0},N8,R8,I8,YA,D8,k8;function ws(e,t){var n;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=TVe(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,a=!1,s;return{s:function(){n=e[Symbol.iterator]()},n:function(){var d=n.next();return i=d.done,d},e:function(d){a=!0,s=d},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(a)throw s}}}}function TVe(e,t){if(!!e){if(typeof e=="string")return L8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L8(e,t)}}function L8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var CVe=(N8=so(),R8=lr(qt.RenderEngine),N8(I8=(YA=(k8=function(){function e(){Qn(this,e),this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[],ar(this,"engine",D8,this)}return vr(e,[{key:"execute",value:function(){var t=ro(Hn.mark(function r(o){return Hn.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.compile(),a.next=3,this.executePassNodes(o);case 3:case"end":return a.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"tearDown",value:function(){this.frameGraphPasses.forEach(function(n){n.tearDown&&n.tearDown()}),this.reset()}},{key:"addPass",value:function(n,r,o,i){var a=new bVe;a.execute=o,i&&(a.tearDown=i),a.name=n;var s=new EVe;return s.name=n,this.passNodes.push(s),this.frameGraphPasses.push(a),r(this,s,a),a}},{key:"getPass",value:function(n){return this.frameGraphPasses.find(function(r){return r.name===n})}},{key:"compile",value:function(){var n=this,r=ws(this.passNodes),o;try{for(r.s();!(o=r.n()).done;){var i=o.value;i.refCount=i.writes.length+(i.hasSideEffect?1:0),i.reads.forEach(function(X){n.resourceNodes[X.index].readerCount++})}}catch(X){r.e(X)}finally{r.f()}var a=[],s=ws(this.resourceNodes),f;try{for(s.s();!(f=s.n()).done;){var d=f.value;d.readerCount===0&&a.push(d)}}catch(X){s.e(X)}finally{s.f()}for(;a.length;){var h=a.pop(),v=h&&h.writer;if(v&&--v.refCount===0){var y=ws(v.reads),m;try{for(y.s();!(m=y.n()).done;){var b=m.value,S=this.resourceNodes[b.index];--S.readerCount===0&&a.push(S)}}catch(X){y.e(X)}finally{y.f()}}}this.resourceNodes.forEach(function(X){X.resource.refs+=X.readerCount});var O=ws(this.passNodes),_;try{for(O.s();!(_=O.n()).done;){var A=_.value;if(!!A.refCount){var T=ws(A.reads),P;try{for(T.s();!(P=T.n()).done;){var x=P.value,N=this.resourceNodes[x.index].resource;N.first=N.first?N.first:A,N.last=A}}catch(X){T.e(X)}finally{T.f()}var L=ws(A.writes),j;try{for(L.s();!(j=L.n()).done;){var k=j.value,F=this.resourceNodes[k.index].resource;F.first=F.first?F.first:A,F.last=A}}catch(X){L.e(X)}finally{L.f()}}}}catch(X){O.e(X)}finally{O.f()}for(var z=0;z<2;z++){var M=ws(this.resourceNodes),D;try{for(M.s();!(D=M.n()).done;){var B=D.value,V=B.resource;if(V.priority===z&&V.refs){var Y=V.first,K=V.last;Y&&K&&(Y.devirtualize.push(V),K.destroy.push(V))}}}catch(X){M.e(X)}finally{M.f()}}}},{key:"executePassNodes",value:function(){var t=ro(Hn.mark(function r(o){var i,a,s,f,d,h,v,y,m,b,S,O,_,A,T,P,x;return Hn.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:i=ws(this.passNodes.entries()),L.prev=1,i.s();case 3:if((a=i.n()).done){L.next=18;break}if(s=J_(a.value,2),f=s[0],d=s[1],!d.refCount){L.next=16;break}h=ws(d.devirtualize);try{for(h.s();!(v=h.n()).done;)y=v.value,y.preExecuteDevirtualize(this.engine)}catch(j){h.e(j)}finally{h.f()}m=ws(d.destroy);try{for(m.s();!(b=m.n()).done;)S=b.value,S.preExecuteDestroy(this.engine)}catch(j){m.e(j)}finally{m.f()}return L.next=12,this.frameGraphPasses[f].execute(this,this.frameGraphPasses[f],o);case 12:O=ws(d.devirtualize);try{for(O.s();!(_=O.n()).done;)A=_.value,A.postExecuteDevirtualize(this.engine)}catch(j){O.e(j)}finally{O.f()}T=ws(d.destroy);try{for(T.s();!(P=T.n()).done;)x=P.value,x.postExecuteDestroy(this.engine)}catch(j){T.e(j)}finally{T.f()}case 16:L.next=3;break;case 18:L.next=23;break;case 20:L.prev=20,L.t0=L.catch(1),i.e(L.t0);case 23:return L.prev=23,i.f(),L.finish(23);case 26:this.reset();case 27:case"end":return L.stop()}},r,this,[[1,20,23,26]])}));function n(r){return t.apply(this,arguments)}return n}()},{key:"reset",value:function(){this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[]}},{key:"getResourceNode",value:function(n){return this.resourceNodes[n.index]}},{key:"createResourceNode",value:function(n){var r=new _Ve;r.resource=n,r.version=n.version,this.resourceNodes.push(r);var o=new gVe;return o.index=this.resourceNodes.length-1,o}},{key:"createTexture",value:function(n,r,o){var i=new M8;return i.name=r,i.descriptor=o,this.createResourceNode(i)}},{key:"createRenderTarget",value:function(n,r,o){var i=new M8;return i.name=r,i.descriptor=o,this.createResourceNode(i)}},{key:"present",value:function(n){this.addPass("Present",function(r,o){o.read(n),o.hasSideEffect=!0},ro(Hn.mark(function r(){return Hn.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:case"end":return i.stop()}},r)})))}}]),e}(),k8),D8=sr(YA.prototype,"engine",[R8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),YA))||I8);function Gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nO=1e-6,wa=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function a0(){var e=new wa(9);return wa!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function AVe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function PVe(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],f=t[6],d=t[7],h=t[8],v=t[9],y=t[10],m=t[11],b=t[12],S=t[13],O=t[14],_=t[15],A=n*s-r*a,T=n*f-o*a,P=n*d-i*a,x=r*f-o*s,N=r*d-i*s,L=o*d-i*f,j=h*S-v*b,k=h*O-y*b,F=h*_-m*b,z=v*O-y*S,M=v*_-m*S,D=y*_-m*O,B=A*D-T*M+P*z+x*F-N*k+L*j;return B?(B=1/B,e[0]=(s*D-f*M+d*z)*B,e[1]=(f*F-a*D-d*k)*B,e[2]=(a*M-s*F+d*j)*B,e[3]=(o*M-r*D-i*z)*B,e[4]=(n*D-o*F+i*k)*B,e[5]=(r*F-n*M-i*j)*B,e[6]=(S*L-O*N+_*x)*B,e[7]=(O*P-b*L-_*T)*B,e[8]=(b*N-S*P+_*A)*B,e):null}function La(){var e=new wa(16);return wa!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function xVe(e){var t=new wa(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Ux(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function UX(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function WO(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],f=t[6],d=t[7],h=t[8],v=t[9],y=t[10],m=t[11],b=t[12],S=t[13],O=t[14],_=t[15],A=n*s-r*a,T=n*f-o*a,P=n*d-i*a,x=r*f-o*s,N=r*d-i*s,L=o*d-i*f,j=h*S-v*b,k=h*O-y*b,F=h*_-m*b,z=v*O-y*S,M=v*_-m*S,D=y*_-m*O,B=A*D-T*M+P*z+x*F-N*k+L*j;return B?(B=1/B,e[0]=(s*D-f*M+d*z)*B,e[1]=(o*M-r*D-i*z)*B,e[2]=(S*L-O*N+_*x)*B,e[3]=(y*N-v*L-m*x)*B,e[4]=(f*F-a*D-d*k)*B,e[5]=(n*D-o*F+i*k)*B,e[6]=(O*P-b*L-_*T)*B,e[7]=(h*L-y*P+m*T)*B,e[8]=(a*M-s*F+d*j)*B,e[9]=(r*F-n*M-i*j)*B,e[10]=(b*N-S*P+_*A)*B,e[11]=(v*P-h*N-m*A)*B,e[12]=(s*k-a*z-f*j)*B,e[13]=(n*z-r*k+o*j)*B,e[14]=(S*T-b*x-O*A)*B,e[15]=(h*x-v*T+y*A)*B,e):null}function Ih(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],f=t[5],d=t[6],h=t[7],v=t[8],y=t[9],m=t[10],b=t[11],S=t[12],O=t[13],_=t[14],A=t[15],T=n[0],P=n[1],x=n[2],N=n[3];return e[0]=T*r+P*s+x*v+N*S,e[1]=T*o+P*f+x*y+N*O,e[2]=T*i+P*d+x*m+N*_,e[3]=T*a+P*h+x*b+N*A,T=n[4],P=n[5],x=n[6],N=n[7],e[4]=T*r+P*s+x*v+N*S,e[5]=T*o+P*f+x*y+N*O,e[6]=T*i+P*d+x*m+N*_,e[7]=T*a+P*h+x*b+N*A,T=n[8],P=n[9],x=n[10],N=n[11],e[8]=T*r+P*s+x*v+N*S,e[9]=T*o+P*f+x*y+N*O,e[10]=T*i+P*d+x*m+N*_,e[11]=T*a+P*h+x*b+N*A,T=n[12],P=n[13],x=n[14],N=n[15],e[12]=T*r+P*s+x*v+N*S,e[13]=T*o+P*f+x*y+N*O,e[14]=T*i+P*d+x*m+N*_,e[15]=T*a+P*h+x*b+N*A,e}function pg(e,t,n){var r=n[0],o=n[1],i=n[2],a,s,f,d,h,v,y,m,b,S,O,_;return t===e?(e[12]=t[0]*r+t[4]*o+t[8]*i+t[12],e[13]=t[1]*r+t[5]*o+t[9]*i+t[13],e[14]=t[2]*r+t[6]*o+t[10]*i+t[14],e[15]=t[3]*r+t[7]*o+t[11]*i+t[15]):(a=t[0],s=t[1],f=t[2],d=t[3],h=t[4],v=t[5],y=t[6],m=t[7],b=t[8],S=t[9],O=t[10],_=t[11],e[0]=a,e[1]=s,e[2]=f,e[3]=d,e[4]=h,e[5]=v,e[6]=y,e[7]=m,e[8]=b,e[9]=S,e[10]=O,e[11]=_,e[12]=a*r+h*o+b*i+t[12],e[13]=s*r+v*o+S*i+t[13],e[14]=f*r+y*o+O*i+t[14],e[15]=d*r+m*o+_*i+t[15]),e}function MVe(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[4],a=t[5],s=t[6],f=t[7],d=t[8],h=t[9],v=t[10],y=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*o+d*r,e[5]=a*o+h*r,e[6]=s*o+v*r,e[7]=f*o+y*r,e[8]=d*o-i*r,e[9]=h*o-a*r,e[10]=v*o-s*r,e[11]=y*o-f*r,e}function NVe(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[0],a=t[1],s=t[2],f=t[3],d=t[8],h=t[9],v=t[10],y=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*o-d*r,e[1]=a*o-h*r,e[2]=s*o-v*r,e[3]=f*o-y*r,e[8]=i*r+d*o,e[9]=a*r+h*o,e[10]=s*r+v*o,e[11]=f*r+y*o,e}function vg(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function Lv(e,t){var n=t[0],r=t[1],o=t[2],i=t[4],a=t[5],s=t[6],f=t[8],d=t[9],h=t[10];return e[0]=Math.hypot(n,r,o),e[1]=Math.hypot(i,a,s),e[2]=Math.hypot(f,d,h),e}function yg(e,t){var n=new wa(3);Lv(n,t);var r=1/n[0],o=1/n[1],i=1/n[2],a=t[0]*r,s=t[1]*o,f=t[2]*i,d=t[4]*r,h=t[5]*o,v=t[6]*i,y=t[8]*r,m=t[9]*o,b=t[10]*i,S=a+h+b,O=0;return S>0?(O=Math.sqrt(S+1)*2,e[3]=.25*O,e[0]=(v-m)/O,e[1]=(y-f)/O,e[2]=(s-d)/O):a>h&&a>b?(O=Math.sqrt(1+a-h-b)*2,e[3]=(v-m)/O,e[0]=.25*O,e[1]=(s+d)/O,e[2]=(y+f)/O):h>b?(O=Math.sqrt(1+h-a-b)*2,e[3]=(y-f)/O,e[0]=(s+d)/O,e[1]=.25*O,e[2]=(v+m)/O):(O=Math.sqrt(1+b-a-h)*2,e[3]=(s-d)/O,e[0]=(y+f)/O,e[1]=(v+m)/O,e[2]=.25*O),e}function RVe(e,t,n,r){var o=t[0],i=t[1],a=t[2],s=t[3],f=o+o,d=i+i,h=a+a,v=o*f,y=o*d,m=o*h,b=i*d,S=i*h,O=a*h,_=s*f,A=s*d,T=s*h,P=r[0],x=r[1],N=r[2];return e[0]=(1-(b+O))*P,e[1]=(y+T)*P,e[2]=(m-A)*P,e[3]=0,e[4]=(y-T)*x,e[5]=(1-(v+O))*x,e[6]=(S+_)*x,e[7]=0,e[8]=(m+A)*N,e[9]=(S-_)*N,e[10]=(1-(v+b))*N,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function $8(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n+n,s=r+r,f=o+o,d=n*a,h=r*a,v=r*s,y=o*a,m=o*s,b=o*f,S=i*a,O=i*s,_=i*f;return e[0]=1-v-b,e[1]=h+_,e[2]=y-O,e[3]=0,e[4]=h-_,e[5]=1-d-b,e[6]=m+S,e[7]=0,e[8]=y+O,e[9]=m-S,e[10]=1-d-v,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function IVe(e,t,n,r,o){var i=1/Math.tan(t/2),a;return e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,o!=null&&o!==1/0?(a=1/(r-o),e[10]=(o+r)*a,e[14]=2*o*r*a):(e[10]=-1,e[14]=-2*r),e}var DVe=IVe;function kVe(e,t,n,r,o,i,a){var s=1/(t-n),f=1/(r-o),d=1/(i-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*f,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*d,e[11]=0,e[12]=(t+n)*s,e[13]=(o+r)*f,e[14]=(a+i)*d,e[15]=1,e}var LVe=kVe;function $Ve(e,t,n,r){var o,i,a,s,f,d,h,v,y,m,b=t[0],S=t[1],O=t[2],_=r[0],A=r[1],T=r[2],P=n[0],x=n[1],N=n[2];return Math.abs(b-P)<nO&&Math.abs(S-x)<nO&&Math.abs(O-N)<nO?UX(e):(h=b-P,v=S-x,y=O-N,m=1/Math.hypot(h,v,y),h*=m,v*=m,y*=m,o=A*y-T*v,i=T*h-_*y,a=_*v-A*h,m=Math.hypot(o,i,a),m?(m=1/m,o*=m,i*=m,a*=m):(o=0,i=0,a=0),s=v*a-y*i,f=y*o-h*a,d=h*i-v*o,m=Math.hypot(s,f,d),m?(m=1/m,s*=m,f*=m,d*=m):(s=0,f=0,d=0),e[0]=o,e[1]=s,e[2]=h,e[3]=0,e[4]=i,e[5]=f,e[6]=v,e[7]=0,e[8]=a,e[9]=d,e[10]=y,e[11]=0,e[12]=-(o*b+i*S+a*O),e[13]=-(s*b+f*S+d*O),e[14]=-(h*b+v*S+y*O),e[15]=1,e)}function fo(){var e=new wa(3);return wa!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function ac(e){var t=new wa(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function rO(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function jr(e,t,n){var r=new wa(3);return r[0]=e,r[1]=t,r[2]=n,r}function zi(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function bv(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function fc(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function Vx(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function BVe(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function Fb(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function jVe(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return Math.hypot(n,r,o)}function Qg(e,t){var n=t[0],r=t[1],o=t[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function KO(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function ZA(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[0],s=n[1],f=n[2];return e[0]=o*f-i*s,e[1]=i*a-r*f,e[2]=r*s-o*a,e}function Gh(e,t,n,r){var o=t[0],i=t[1],a=t[2];return e[0]=o+r*(n[0]-o),e[1]=i+r*(n[1]-i),e[2]=a+r*(n[2]-a),e}function mR(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[3]*r+n[7]*o+n[11]*i+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/a,e[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/a,e[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/a,e}function gR(e,t,n){var r=t[0],o=t[1],i=t[2];return e[0]=r*n[0]+o*n[3]+i*n[6],e[1]=r*n[1]+o*n[4]+i*n[7],e[2]=r*n[2]+o*n[5]+i*n[8],e}function FVe(e,t,n){var r=n[0],o=n[1],i=n[2],a=n[3],s=t[0],f=t[1],d=t[2],h=o*d-i*f,v=i*s-r*d,y=r*f-o*s,m=o*y-i*v,b=i*h-r*y,S=r*v-o*h,O=a*2;return h*=O,v*=O,y*=O,m*=2,b*=2,S*=2,e[0]=s+h+m,e[1]=f+v+b,e[2]=d+y+S,e}var Hx=Vx,B8=jVe,VX=rO;(function(){var e=fo();return function(t,n,r,o,i,a){var s,f;for(n||(n=3),r||(r=0),o?f=Math.min(o*n+r,t.length):f=t.length,s=r;s<f;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],i(e,e,a),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}})();function kg(){var e=new wa(4);return wa!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function HX(e,t,n,r){var o=new wa(4);return o[0]=e,o[1]=t,o[2]=n,o[3]=r,o}function zVe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function UVe(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n*n+r*r+o*o+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=r*a,e[2]=o*a,e[3]=i*a,e}function Lg(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3];return e[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*a,e[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*a,e[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*a,e[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*a,e}(function(){var e=kg();return function(t,n,r,o,i,a){var s,f;for(n||(n=4),r||(r=0),o?f=Math.min(o*n+r,t.length):f=t.length,s=r;s<f;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],i(e,e,a),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}})();function Oi(){var e=new wa(4);return wa!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function fh(e,t,n){n=n*.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function Cs(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=n[0],f=n[1],d=n[2],h=n[3];return e[0]=r*h+a*s+o*d-i*f,e[1]=o*h+a*f+i*s-r*d,e[2]=i*h+a*d+r*f-o*s,e[3]=a*h-r*s-o*f-i*d,e}function oO(e,t,n,r){var o=t[0],i=t[1],a=t[2],s=t[3],f=n[0],d=n[1],h=n[2],v=n[3],y,m,b,S,O;return m=o*f+i*d+a*h+s*v,m<0&&(m=-m,f=-f,d=-d,h=-h,v=-v),1-m>nO?(y=Math.acos(m),b=Math.sin(y),S=Math.sin((1-r)*y)/b,O=Math.sin(r*y)/b):(S=1-r,O=r),e[0]=S*o+O*f,e[1]=S*i+O*d,e[2]=S*a+O*h,e[3]=S*s+O*v,e}function j8(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n*n+r*r+o*o+i*i,s=a?1/a:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-o*s,e[3]=i*s,e}function VVe(e,t){var n=t[0]+t[4]+t[8],r;if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var o=0;t[4]>t[0]&&(o=1),t[8]>t[o*3+o]&&(o=2);var i=(o+1)%3,a=(o+2)%3;r=Math.sqrt(t[o*3+o]-t[i*3+i]-t[a*3+a]+1),e[o]=.5*r,r=.5/r,e[3]=(t[i*3+a]-t[a*3+i])*r,e[i]=(t[i*3+o]+t[o*3+i])*r,e[a]=(t[a*3+o]+t[o*3+a])*r}return e}function JA(e,t,n,r){var o=.5*Math.PI/180;t*=o,n*=o,r*=o;var i=Math.sin(t),a=Math.cos(t),s=Math.sin(n),f=Math.cos(n),d=Math.sin(r),h=Math.cos(r);return e[0]=i*f*h-a*s*d,e[1]=a*s*h+i*f*d,e[2]=a*f*d-i*s*h,e[3]=a*f*h+i*s*d,e}var QA=HX,mg=zVe,HVe=Cs,Vv=UVe;(function(){var e=fo(),t=jr(1,0,0),n=jr(0,1,0);return function(r,o,i){var a=KO(o,i);return a<-.999999?(ZA(e,t,o),VX(e)<1e-6&&ZA(e,n,o),Qg(e,e),fh(r,e,Math.PI),r):a>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(ZA(e,o,i),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+a,Vv(r,r))}})();(function(){var e=Oi(),t=Oi();return function(n,r,o,i,a,s){return oO(e,r,a,s),oO(t,o,i,s),oO(n,e,t,2*s*(1-s)),n}})();(function(){var e=a0();return function(t,n,r,o){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=o[0],e[4]=o[1],e[7]=o[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],Vv(t,VVe(t,e))}})();var GVe=9007199254740991,WVe="[object Arguments]",KVe="[object Array]",XVe="[object Boolean]",YVe="[object Date]",ZVe="[object Error]",JVe="[object Function]",QVe="[object Map]",qVe="[object Number]",eHe="[object Object]",tHe="[object RegExp]",nHe="[object Set]",rHe="[object String]",oHe="[object WeakMap]",iHe="[object ArrayBuffer]",aHe="[object DataView]",sHe="[object Float32Array]",lHe="[object Float64Array]",uHe="[object Int8Array]",cHe="[object Int16Array]",fHe="[object Int32Array]",dHe="[object Uint8Array]",hHe="[object Uint8ClampedArray]",pHe="[object Uint16Array]",vHe="[object Uint32Array]",zo={};zo[sHe]=zo[lHe]=zo[uHe]=zo[cHe]=zo[fHe]=zo[dHe]=zo[hHe]=zo[pHe]=zo[vHe]=!0;zo[WVe]=zo[KVe]=zo[iHe]=zo[XVe]=zo[aHe]=zo[YVe]=zo[ZVe]=zo[JVe]=zo[QVe]=zo[qVe]=zo[eHe]=zo[tHe]=zo[nHe]=zo[rHe]=zo[oHe]=!1;var yHe=Object.prototype,mHe=yHe.toString;function gHe(e){return EHe(e)&&bHe(e.length)&&!!zo[mHe.call(e)]}function bHe(e){return typeof e=="number"&&e>-1&&e%1===0&&e<=GVe}function EHe(e){return!!e&&wc(e)==="object"}var F8=gHe;function z8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function U8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z8(Object(n),!0).forEach(function(r){Gt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SHe(e){var t=wHe();return function(){var r=ao(e),o;if(t){var i=ao(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return aa(this,o)}}function wHe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var OHe=function(e){ia(n,e);var t=SHe(n);function n(r){var o;return Qn(this,n),o=t.call(this,r),o.dirty=!0,o.attributes=[],o.indices=void 0,o.indicesBuffer=void 0,o.vertexCount=0,o.maxInstancedCount=void 0,o.aabb=void 0,o.entity=void 0,Object.assign(ei(o),r),o}return vr(n,[{key:"setAttribute",value:function(o,i,a,s){var f=this.attributes.find(function(d){return d.name===o});return f?(f.data=i,f.dirty=!0):this.attributes.push(U8(U8({dirty:!0,name:o,data:i},a),{},{bufferGetter:s})),this.dirty=!0,this}},{key:"setIndex",value:function(o){return this.indices=new Uint32Array(o.buffer?o.buffer:o),this.dirty=!0,this}},{key:"applyMatrix",value:function(o){var i=this.attributes.find(function(y){var m=y.name;return m==="position"}),a=this.attributes.find(function(y){var m=y.name;return m==="normal"});if(i&&(i.dirty=!0,i.data&&i.data.length))for(var s=0;s<i.data.length;s+=3){var f=HX(i.data[s],i.data[s+1],i.data[s+2],1);Lg(f,f,o),F8(i.data)?i.data.set([f[0],f[1],f[2]],s):(i.data[s]=f[0],i.data[s+1]=f[1],i.data[s+2]=f[2])}if(a){var d=PVe(a0(),o);if(a.data&&a.data.length)for(var h=0;h<a.data.length;h+=3){var v=jr(a.data[h],a.data[h+1],a.data[h+2]);gR(v,v,d),Qg(v,v),F8(a.data)?a.data.set([v[0],v[1],v[2]],h):(a.data[h]=v[0],a.data[h+1]=v[1],a.data[h+2]=v[2])}}}}]),n}(sp),dt;(function(e){e[e.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",e[e.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",e[e.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.FUNC_ADD=32774]="FUNC_ADD",e[e.BLEND_EQUATION=32777]="BLEND_EQUATION",e[e.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",e[e.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",e[e.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",e[e.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",e[e.MAX_EXT=32776]="MAX_EXT",e[e.MIN_EXT=32775]="MIN_EXT",e[e.BLEND_DST_RGB=32968]="BLEND_DST_RGB",e[e.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",e[e.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",e[e.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",e[e.BLEND_COLOR=32773]="BLEND_COLOR",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",e[e.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.BUFFER_SIZE=34660]="BUFFER_SIZE",e[e.BUFFER_USAGE=34661]="BUFFER_USAGE",e[e.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK",e[e.CULL_FACE=2884]="CULL_FACE",e[e.BLEND=3042]="BLEND",e[e.DITHER=3024]="DITHER",e[e.STENCIL_TEST=2960]="STENCIL_TEST",e[e.DEPTH_TEST=2929]="DEPTH_TEST",e[e.SCISSOR_TEST=3089]="SCISSOR_TEST",e[e.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",e[e.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",e[e.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",e[e.NO_ERROR=0]="NO_ERROR",e[e.INVALID_ENUM=1280]="INVALID_ENUM",e[e.INVALID_VALUE=1281]="INVALID_VALUE",e[e.INVALID_OPERATION=1282]="INVALID_OPERATION",e[e.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",e[e.CW=2304]="CW",e[e.CCW=2305]="CCW",e[e.LINE_WIDTH=2849]="LINE_WIDTH",e[e.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",e[e.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",e[e.CULL_FACE_MODE=2885]="CULL_FACE_MODE",e[e.FRONT_FACE=2886]="FRONT_FACE",e[e.DEPTH_RANGE=2928]="DEPTH_RANGE",e[e.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",e[e.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",e[e.DEPTH_FUNC=2932]="DEPTH_FUNC",e[e.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",e[e.STENCIL_FUNC=2962]="STENCIL_FUNC",e[e.STENCIL_FAIL=2964]="STENCIL_FAIL",e[e.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",e[e.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",e[e.STENCIL_REF=2967]="STENCIL_REF",e[e.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",e[e.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",e[e.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",e[e.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",e[e.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",e[e.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",e[e.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",e[e.VIEWPORT=2978]="VIEWPORT",e[e.SCISSOR_BOX=3088]="SCISSOR_BOX",e[e.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",e[e.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",e[e.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",e[e.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",e[e.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",e[e.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",e[e.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",e[e.RED_BITS=3410]="RED_BITS",e[e.GREEN_BITS=3411]="GREEN_BITS",e[e.BLUE_BITS=3412]="BLUE_BITS",e[e.ALPHA_BITS=3413]="ALPHA_BITS",e[e.DEPTH_BITS=3414]="DEPTH_BITS",e[e.STENCIL_BITS=3415]="STENCIL_BITS",e[e.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",e[e.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",e[e.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",e[e.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",e[e.SAMPLES=32937]="SAMPLES",e[e.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",e[e.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",e[e.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",e[e.DONT_CARE=4352]="DONT_CARE",e[e.FASTEST=4353]="FASTEST",e[e.NICEST=4354]="NICEST",e[e.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER",e[e.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",e[e.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",e[e.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",e[e.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",e[e.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",e[e.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",e[e.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",e[e.SHADER_TYPE=35663]="SHADER_TYPE",e[e.DELETE_STATUS=35712]="DELETE_STATUS",e[e.LINK_STATUS=35714]="LINK_STATUS",e[e.VALIDATE_STATUS=35715]="VALIDATE_STATUS",e[e.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",e[e.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",e[e.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",e[e.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",e[e.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP",e[e.VENDOR=7936]="VENDOR",e[e.RENDERER=7937]="RENDERER",e[e.VERSION=7938]="VERSION",e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",e[e.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",e[e.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",e[e.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",e[e.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE=5890]="TEXTURE",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",e[e.TEXTURE0=33984]="TEXTURE0",e[e.TEXTURE1=33985]="TEXTURE1",e[e.TEXTURE2=33986]="TEXTURE2",e[e.TEXTURE3=33987]="TEXTURE3",e[e.TEXTURE4=33988]="TEXTURE4",e[e.TEXTURE5=33989]="TEXTURE5",e[e.TEXTURE6=33990]="TEXTURE6",e[e.TEXTURE7=33991]="TEXTURE7",e[e.TEXTURE8=33992]="TEXTURE8",e[e.TEXTURE9=33993]="TEXTURE9",e[e.TEXTURE10=33994]="TEXTURE10",e[e.TEXTURE11=33995]="TEXTURE11",e[e.TEXTURE12=33996]="TEXTURE12",e[e.TEXTURE13=33997]="TEXTURE13",e[e.TEXTURE14=33998]="TEXTURE14",e[e.TEXTURE15=33999]="TEXTURE15",e[e.TEXTURE16=34e3]="TEXTURE16",e[e.TEXTURE17=34001]="TEXTURE17",e[e.TEXTURE18=34002]="TEXTURE18",e[e.TEXTURE19=34003]="TEXTURE19",e[e.TEXTURE20=34004]="TEXTURE20",e[e.TEXTURE21=34005]="TEXTURE21",e[e.TEXTURE22=34006]="TEXTURE22",e[e.TEXTURE23=34007]="TEXTURE23",e[e.TEXTURE24=34008]="TEXTURE24",e[e.TEXTURE25=34009]="TEXTURE25",e[e.TEXTURE26=34010]="TEXTURE26",e[e.TEXTURE27=34011]="TEXTURE27",e[e.TEXTURE28=34012]="TEXTURE28",e[e.TEXTURE29=34013]="TEXTURE29",e[e.TEXTURE30=34014]="TEXTURE30",e[e.TEXTURE31=34015]="TEXTURE31",e[e.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",e[e.REPEAT=10497]="REPEAT",e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",e[e.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",e[e.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",e[e.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",e[e.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",e[e.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",e[e.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",e[e.COMPILE_STATUS=35713]="COMPILE_STATUS",e[e.LOW_FLOAT=36336]="LOW_FLOAT",e[e.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",e[e.HIGH_FLOAT=36338]="HIGH_FLOAT",e[e.LOW_INT=36339]="LOW_INT",e[e.MEDIUM_INT=36340]="MEDIUM_INT",e[e.HIGH_INT=36341]="HIGH_INT",e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.RENDERBUFFER=36161]="RENDERBUFFER",e[e.RGBA4=32854]="RGBA4",e[e.RGB5_A1=32855]="RGB5_A1",e[e.RGB565=36194]="RGB565",e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX=6401]="STENCIL_INDEX",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",e[e.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",e[e.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",e[e.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",e[e.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",e[e.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",e[e.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",e[e.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",e[e.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",e[e.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",e[e.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",e[e.NONE=0]="NONE",e[e.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",e[e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",e[e.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",e[e.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",e[e.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",e[e.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",e[e.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",e[e.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",e[e.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",e[e.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",e[e.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",e[e.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",e[e.COPY_SRC=1]="COPY_SRC",e[e.COPY_DST=2]="COPY_DST",e[e.SAMPLED=4]="SAMPLED",e[e.STORAGE=8]="STORAGE",e[e.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"})(dt||(dt={}));var V8,H8,G8,W8,ew,K8,X8,Y8,_He=(V8=so(),H8=lr(qt.GeometryComponentManager),G8=lr(qt.RenderEngine),V8(W8=(ew=(Y8=function(){function e(){Qn(this,e),ar(this,"geometry",K8,this),ar(this,"engine",X8,this)}return vr(e,[{key:"execute",value:function(){var t=ro(Hn.mark(function r(){var o=this;return Hn.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:this.geometry.forEach(function(s,f){f.dirty&&(f.attributes.forEach(function(d){if(d.dirty&&d.data){if(!d.buffer)d.buffer=o.engine.createBuffer({data:d.data,type:dt.FLOAT});else{var h;(h=d.buffer)===null||h===void 0||h.subData({data:d.data,offset:0})}d.dirty=!1}}),f.indices&&(f.indicesBuffer?f.indicesBuffer.subData({data:f.indices,offset:0}):f.indicesBuffer=o.engine.createElements({data:f.indices,count:f.indices.length,type:dt.UNSIGNED_INT,usage:dt.STATIC_DRAW})),f.dirty=!1)});case 1:case"end":return a.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"tearDown",value:function(){this.geometry.forEach(function(n,r){r.indicesBuffer&&r.indicesBuffer.destroy(),r.attributes.forEach(function(o){o.buffer&&o.buffer.destroy()})}),this.geometry.clear()}},{key:"createBufferGeometry",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{vertexCount:3},r=n.vertexCount,o=cu();return this.geometry.create(o,{vertexCount:r})}},{key:"createInstancedBufferGeometry",value:function(n){var r=n.maxInstancedCount,o=n.vertexCount,i=cu();return this.geometry.create(i,{maxInstancedCount:r,vertexCount:o})}}]),e}(),Y8),K8=sr(ew.prototype,"geometry",[H8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X8=sr(ew.prototype,"engine",[G8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ew))||W8);function Z8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function J8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z8(Object(n),!0).forEach(function(r){Gt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function THe(e){var t=CHe();return function(){var r=ao(e),o;if(t){var i=ao(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return aa(this,o)}}function CHe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var AHe=function(e){ia(n,e);var t=THe(n);function n(r){var o;return Qn(this,n),o=t.call(this,r),o.vertexShaderGLSL=void 0,o.fragmentShaderGLSL=void 0,o.defines={},o.dirty=!0,o.uniforms=[],o.cull={enable:!0,face:dt.BACK},o.depth={enable:!0},o.blend=void 0,o.entity=void 0,o.type=void 0,Object.assign(ei(o),r),o}return vr(n,[{key:"setDefines",value:function(o){return this.defines=J8(J8({},this.defines),o),this}},{key:"setCull",value:function(o){return this.cull=o,this}},{key:"setDepth",value:function(o){return this.depth=o,this}},{key:"setBlend",value:function(o){return this.blend=o,this}},{key:"setUniform",value:function(o,i){var a=this;if(typeof o!="string")return Object.keys(o).forEach(function(f){return a.setUniform(f,o[f])}),this;var s=this.uniforms.find(function(f){return f.name===o});return s?(s.dirty=!0,s.data=i):this.uniforms.push({name:o,dirty:!0,data:i}),this.dirty=!0,this}}]),n}(sp),Q8,q8,eF,tF,nF,gg,rF,oF,iF,aF;function sF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function lF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sF(Object(n),!0).forEach(function(r){Gt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var PHe=(Q8=so(),q8=lr(qt.MaterialComponentManager),eF=lr(qt.RenderEngine),tF=lr(qt.ShaderModuleService),Q8(nF=(gg=(aF=function(){function e(){Qn(this,e),ar(this,"material",rF,this),ar(this,"engine",oF,this),ar(this,"shaderModule",iF,this)}return vr(e,[{key:"execute",value:function(){var t=ro(Hn.mark(function r(){return Hn.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:case"end":return i.stop()}},r)}));function n(){return t.apply(this,arguments)}return n}()},{key:"tearDown",value:function(){this.material.clear()}},{key:"createShaderMaterial",value:function(n){var r=cu(),o=n.vertexShader,i=n.fragmentShader,a=[];if(!this.engine.supportWebGPU){var s="material-".concat(r);this.shaderModule.registerModule(s,{vs:n.vertexShader,fs:n.fragmentShader});var f=this.shaderModule.getModule(s);o=f.vs,i=f.fs,f.uniforms&&(a=Object.keys(f.uniforms).map(function(d){return{dirty:!0,name:d,data:f.uniforms[d]}}))}return this.material.create(r,lF(lF({vertexShaderGLSL:o,fragmentShaderGLSL:i},n),{},{uniforms:a}))}}]),e}(),aF),rF=sr(gg.prototype,"material",[q8],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oF=sr(gg.prototype,"engine",[eF],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),iF=sr(gg.prototype,"shaderModule",[tF],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gg))||nF);function xHe(e){var t=MHe();return function(){var r=ao(e),o;if(t){var i=ao(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return aa(this,o)}}function MHe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Gx;(function(e){e[e.Standard=0]="Standard"})(Gx||(Gx={}));var NHe=function(e){ia(n,e);var t=xHe(n);function n(r){var o;return Qn(this,n),o=t.call(this,r),o.strategy=Gx.Standard,o.visibilityPlaneMask=0,o.visible=!1,Object.assign(ei(o),r),o}return n}(sp),bR=function(){function e(t,n){Qn(this,e),this.center=void 0,this.halfExtents=void 0,this.min=fo(),this.max=fo(),this.update(t,n)}return vr(e,[{key:"update",value:function(n,r){this.center=n||fo(),this.halfExtents=r||jr(.5,.5,.5),this.min=Hx(this.min,this.center,this.halfExtents),this.max=fc(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(n,r){fc(this.center,r,n),Fb(this.center,this.center,.5),Hx(this.halfExtents,r,n),Fb(this.halfExtents,this.halfExtents,.5),zi(this.min,n),zi(this.max,r)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(n){var r=this.center,o=r[0],i=r[1],a=r[2],s=this.halfExtents,f=s[0],d=s[1],h=s[2],v=o-f,y=o+f,m=i-d,b=i+d,S=a-h,O=a+h,_=n.center,A=_[0],T=_[1],P=_[2],x=n.halfExtents,N=x[0],L=x[1],j=x[2],k=A-N,F=A+N,z=T-L,M=T+L,D=P-j,B=P+j;k<v&&(v=k),F>y&&(y=F),z<m&&(m=z),M>b&&(b=M),D<S&&(S=D),B>O&&(O=B),r[0]=(v+y)*.5,r[1]=(m+b)*.5,r[2]=(S+O)*.5,s[0]=(y-v)*.5,s[1]=(b-m)*.5,s[2]=(O-S)*.5,this.min[0]=v,this.min[1]=m,this.min[2]=S,this.max[0]=y,this.max[1]=b,this.max[2]=O}},{key:"intersects",value:function(n){var r=this.getMax(),o=this.getMin(),i=n.getMax(),a=n.getMin();return o[0]<=i[0]&&r[0]>=a[0]&&o[1]<=i[1]&&r[1]>=a[1]&&o[2]<=i[2]&&r[2]>=a[2]}},{key:"containsPoint",value:function(n){var r=this.getMin(),o=this.getMax();return!(n[0]<r[0]||n[0]>o[0]||n[1]<r[1]||n[1]>o[1]||n[2]<r[2]||n[2]>o[2])}},{key:"getNegativeFarPoint",value:function(n){return n.pnVertexFlag===273?zi(fo(),this.min):n.pnVertexFlag===272?jr(this.min[0],this.min[1],this.max[2]):n.pnVertexFlag===257?jr(this.min[0],this.max[1],this.min[2]):n.pnVertexFlag===256?jr(this.min[0],this.max[1],this.max[2]):n.pnVertexFlag===17?jr(this.max[0],this.min[1],this.min[2]):n.pnVertexFlag===16?jr(this.max[0],this.min[1],this.max[2]):n.pnVertexFlag===1?jr(this.max[0],this.max[1],this.min[2]):jr(this.max[0],this.max[1],this.max[2])}},{key:"getPositiveFarPoint",value:function(n){return n.pnVertexFlag===273?zi(fo(),this.max):n.pnVertexFlag===272?jr(this.max[0],this.max[1],this.min[2]):n.pnVertexFlag===257?jr(this.max[0],this.min[1],this.max[2]):n.pnVertexFlag===256?jr(this.max[0],this.min[1],this.min[2]):n.pnVertexFlag===17?jr(this.min[0],this.max[1],this.max[2]):n.pnVertexFlag===16?jr(this.min[0],this.max[1],this.min[2]):n.pnVertexFlag===1?jr(this.min[0],this.min[1],this.max[2]):jr(this.min[0],this.min[1],this.min[2])}}]),e}();function RHe(e){var t=IHe();return function(){var r=ao(e),o;if(t){var i=ao(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return aa(this,o)}}function IHe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var DHe=function(e){ia(n,e);var t=RHe(n);function n(r){var o;return Qn(this,n),o=t.call(this,r),o.material=void 0,o.geometry=void 0,o.aabb=new bR,o.aabbDirty=!0,o.model=void 0,o.visible=!0,o.children=[],Object.assign(ei(o),r),o}return n}(sp),kHe=function(){function e(t,n){Qn(this,e),this.distance=void 0,this.normal=void 0,this.pnVertexFlag=void 0,this.distance=t||0,this.normal=n||jr(0,1,0),this.updatePNVertexFlag()}return vr(e,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(n){return KO(n,this.normal)-this.distance}},{key:"normalize",value:function(){var n=1/VX(this.normal);Fb(this.normal,this.normal,n),this.distance*=n}},{key:"intersectsLine",value:function(n,r,o){var i=this.distanceToPoint(n),a=this.distanceToPoint(r),s=i/(i-a),f=s>=0&&s<=1;return f&&o&&Gh(o,n,r,s),f}}]),e}(),$f;(function(e){e[e.OUTSIDE=4294967295]="OUTSIDE",e[e.INSIDE=0]="INSIDE",e[e.INDETERMINATE=2147483647]="INDETERMINATE"})($f||($f={}));var LHe=function(){function e(t){if(Qn(this,e),this.planes=[],t)this.planes=t;else for(var n=0;n<6;n++)this.planes.push(new kHe)}return vr(e,[{key:"extractFromVPMatrix",value:function(n){var r=J_(n,16),o=r[0],i=r[1],a=r[2],s=r[3],f=r[4],d=r[5],h=r[6],v=r[7],y=r[8],m=r[9],b=r[10],S=r[11],O=r[12],_=r[13],A=r[14],T=r[15];bv(this.planes[0].normal,s-o,v-f,S-y),this.planes[0].distance=-(T-O),bv(this.planes[1].normal,s+o,v+f,S+y),this.planes[1].distance=-(T+O),bv(this.planes[2].normal,s+i,v+d,S+m),this.planes[2].distance=-(T+_),bv(this.planes[3].normal,s-i,v-d,S-m),this.planes[3].distance=-(T-_),bv(this.planes[4].normal,s-a,v-h,S-b),this.planes[4].distance=-(T-A),bv(this.planes[5].normal,s+a,v+h,S+b),this.planes[5].distance=-(T+A),this.planes.forEach(function(P){P.normalize(),P.updatePNVertexFlag()})}}]),e}();function $He(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function BHe(e){var t=J_(e,3),n=t[0],r=t[1],o=t[2],i=n+r*256+o*65536-1;return i}var uF,cF,fF,dF,hF,pF,vF,oh,yF,mF,gF,bF,EF,SF;function wF(e,t){var n;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=jHe(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,a=!1,s;return{s:function(){n=e[Symbol.iterator]()},n:function(){var d=n.next();return i=d.done,d},e:function(d){a=!0,s=d},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(a)throw s}}}}function jHe(e,t){if(!!e){if(typeof e=="string")return OF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OF(e,t)}}function OF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var FHe=(uF=so(),cF=lr(qt.MeshComponentManager),fF=lr(qt.CullableComponentManager),dF=lr(qt.GeometryComponentManager),hF=lr(qt.HierarchyComponentManager),pF=lr(qt.TransformComponentManager),uF(vF=(oh=(SF=function(){function e(){Qn(this,e),ar(this,"mesh",yF,this),ar(this,"cullable",mF,this),ar(this,"geometry",gF,this),ar(this,"hierarchy",bF,this),ar(this,"transform",EF,this),this.planes=void 0}return vr(e,[{key:"setFrustumPlanes",value:function(n){this.planes=n}},{key:"execute",value:function(){var t=ro(Hn.mark(function r(o){var i,a,s,f,d,h,v,y,m,b,S,O,_,A,T,P,x,N,L,j,k;return Hn.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:i=wF(o);try{for(i.s();!(a=i.n()).done;){s=a.value,f=s.getScene(),d=s.getCamera(),h=wF(f.getEntities());try{for(h.s();!(v=h.n()).done;)y=v.value,m=this.mesh.getComponentByEntity(y),m&&(b=this.hierarchy.getComponentByEntity(y),S=this.cullable.getComponentByEntity(y),O=m.geometry,_=this.transform.getComponentByEntity(y),O&&O.aabb&&_&&m.aabbDirty&&(A=_.worldTransform,T=O.aabb,P=T.center,x=T.halfExtents,N=mR(fo(),P,A),L=$He(A,a0()),j=gR(fo(),x,L),m.aabb.update(N,j),m.aabbDirty=!1),S&&O&&(k=this.cullable.getComponentByEntity((b==null?void 0:b.parentID)||-1),S.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(m.aabb,(k==null?void 0:k.visibilityPlaneMask)||$f.INDETERMINATE,this.planes||d.getFrustum().planes),S.visible=S.visibilityPlaneMask!==$f.OUTSIDE))}catch(M){h.e(M)}finally{h.f()}}}catch(M){i.e(M)}finally{i.f()}case 2:case"end":return z.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"tearDown",value:function(){this.cullable.clear(),this.mesh.clear()}},{key:"computeVisibilityWithPlaneMask",value:function(n,r,o){if(r===$f.OUTSIDE||r===$f.INSIDE)return r;for(var i=$f.INSIDE,a=0,s=o.length;a<s;++a){var f=a<31?1<<a:0;if(!(a<31&&(r&f)===0)){var d=o[a],h=d.normal,v=d.distance;if(KO(h,n.getNegativeFarPoint(o[a]))+v>0)return $f.OUTSIDE;KO(h,n.getPositiveFarPoint(o[a]))+v>0&&(i|=f)}}return i}}]),e}(),SF),yF=sr(oh.prototype,"mesh",[cF],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mF=sr(oh.prototype,"cullable",[fF],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gF=sr(oh.prototype,"geometry",[dF],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bF=sr(oh.prototype,"hierarchy",[hF],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),EF=sr(oh.prototype,"transform",[pF],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oh))||vF),_F,TF,CF,AF,PF,xF,MF,NF,RF,IF,DF,kF,sl,LF,$F,BF,jF,FF,zF,UF,VF,HF,GF,WF;function tw(e,t){var n;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=zHe(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,a=!1,s;return{s:function(){n=e[Symbol.iterator]()},n:function(){var d=n.next();return i=d.done,d},e:function(d){a=!0,s=d},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(a)throw s}}}}function zHe(e,t){if(!!e){if(typeof e=="string")return KF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KF(e,t)}}function KF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ay=(_F=so(),TF=lr(qt.MeshComponentManager),CF=lr(qt.GeometryComponentManager),AF=lr(qt.MaterialComponentManager),PF=lr(qt.CullableComponentManager),xF=lr(qt.TransformComponentManager),MF=lr(qt.HierarchyComponentManager),NF=lr(qt.Systems),RF=mu(qt.FrameGraphSystem),IF=lr(qt.RenderEngine),DF=lr(qt.ResourcePool),_F(kF=(sl=(WF=GF=function(){function e(){var t=this;Qn(this,e),ar(this,"mesh",LF,this),ar(this,"geometry",$F,this),ar(this,"material",BF,this),ar(this,"cullable",jF,this),ar(this,"transform",FF,this),ar(this,"hierarchy",zF,this),ar(this,"frameGraphSystem",UF,this),ar(this,"engine",VF,this),ar(this,"resourcePool",HF,this),this.modelCache={},this.setup=function(n,r,o){var i=n.createRenderTarget(r,"color buffer",{width:1,height:1,usage:dt.RENDER_ATTACHMENT|dt.SAMPLED|dt.COPY_SRC});o.data={output:r.write(n,i)}},this.execute=function(){var n=ro(Hn.mark(function r(o,i,a){var s,f,d,h,v,y;return Hn.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:s=o.getResourceNode(i.data.output),f=t.resourcePool.getOrCreateResource(s.resource),d=tw(a),b.prev=3,d.s();case 5:if((h=d.n()).done){b.next=11;break}return v=h.value,b.next=9,t.initView(v);case 9:b.next=5;break;case 11:b.next=16;break;case 13:b.prev=13,b.t0=b.catch(3),d.e(b.t0);case 16:return b.prev=16,d.f(),b.finish(16);case 19:y=t.engine.getCanvas(),f.resize({width:y.width,height:y.height}),t.engine.setScissor({enable:!1}),t.engine.clear({framebuffer:f,color:a[0].getClearColor(),depth:1}),t.engine.useFramebuffer(f,function(){var S=tw(a),O;try{for(S.s();!(O=S.n()).done;){var _=O.value;t.renderView(_)}}catch(A){S.e(A)}finally{S.f()}});case 24:case"end":return b.stop()}},r,null,[[3,13,16,19]])}));return function(r,o,i){return n.apply(this,arguments)}}()}return vr(e,[{key:"renderView",value:function(n){var r=n.getScene(),o=n.getCamera(),i=o.getViewTransform(),a=Ih(La(),o.getPerspective(),i);o.getFrustum().extractFromVPMatrix(a);var s=n.getViewport(),f=s.x,d=s.y,h=s.width,v=s.height;this.engine.viewport({x:f,y:d,width:h,height:v});var y=tw(r.getEntities()),m;try{for(y.s();!(m=y.n()).done;){var b=m.value;this.renderMesh(b,{camera:o,view:n,viewMatrix:i})}}catch(S){y.e(S)}finally{y.f()}}},{key:"renderMesh",value:function(n,r){var o=r.camera,i=r.view,a=r.viewMatrix,s=this.mesh.getComponentByEntity(n);if(!(!s||!s.visible)){var f=s.material,d=s.geometry;if(!(!d||d.dirty||!f)){var h=this.transform.getComponentByEntity(n),v=Ih(La(),a,h.worldTransform),y=i.getViewport(),m=y.width,b=y.height;f.setUniform({projectionMatrix:o.getPerspective(),modelViewMatrix:v,modelMatrix:h.worldTransform,viewMatrix:a,cameraPosition:o.getPosition(),u_viewport:[m,b]}),s.model&&(s.model.draw({uniforms:f.uniforms.reduce(function(S,O){return S[O.name]=O.data,S},{})}),f.uniforms.forEach(function(S){S.dirty=!1}),f.dirty=!1)}}}},{key:"initMesh",value:function(){var t=ro(Hn.mark(function r(o,i){var a,s,f,d,h,v,y,m;return Hn.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(a=this.mesh.getComponentByEntity(o),a){S.next=3;break}return S.abrupt("return");case 3:if(s=a.material,f=a.geometry,!(!f||f.dirty||!s)){S.next=7;break}return S.abrupt("return");case 7:if(a.model){S.next=24;break}if(d="m-".concat(s.entity,"-g-").concat(f.entity),!this.modelCache[d]){S.next=12;break}return a.model=this.modelCache[d],S.abrupt("return");case 12:return s.setUniform({projectionMatrix:1,modelViewMatrix:1,modelMatrix:1,viewMatrix:1,cameraPosition:1,u_viewport:1}),h=this.engine,v=h.createModel,y=h.createAttribute,m={vs:s.vertexShaderGLSL,fs:s.fragmentShaderGLSL,defines:s.defines,attributes:f.attributes.reduce(function(O,_){return _.data&&_.buffer&&(O[_.name]=y({buffer:_.buffer,attributes:_.attributes,arrayStride:_.arrayStride,stepMode:_.stepMode,divisor:_.stepMode==="vertex"?0:1})),O},{}),uniforms:s.uniforms.reduce(function(O,_){return O[_.name]=_.data,O},{}),scissor:{enable:!0,box:function(){return i.getViewport()}}},s.cull&&(m.cull=s.cull),s.depth&&(m.depth=s.depth),s.blend&&(m.blend=s.blend),f.indicesBuffer&&(m.elements=f.indicesBuffer),f.maxInstancedCount&&(m.instances=f.maxInstancedCount,m.count=f.vertexCount||3),S.next=22,v(m);case 22:a.model=S.sent,this.modelCache[d]=a.model;case 24:case"end":return S.stop()}},r,this)}));function n(r,o){return t.apply(this,arguments)}return n}()},{key:"initView",value:function(){var t=ro(Hn.mark(function r(o){var i,a,s,f;return Hn.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:i=o.getScene(),a=tw(i.getEntities()),h.prev=2,a.s();case 4:if((s=a.n()).done){h.next=10;break}return f=s.value,h.next=8,this.initMesh(f,o);case 8:h.next=4;break;case 10:h.next=15;break;case 12:h.prev=12,h.t0=h.catch(2),a.e(h.t0);case 15:return h.prev=15,a.f(),h.finish(15);case 18:case"end":return h.stop()}},r,this,[[2,12,15,18]])}));function n(r){return t.apply(this,arguments)}return n}()}]),e}(),GF.IDENTIFIER="Render Pass",WF),LF=sr(sl.prototype,"mesh",[TF],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$F=sr(sl.prototype,"geometry",[CF],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),BF=sr(sl.prototype,"material",[AF],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jF=sr(sl.prototype,"cullable",[PF],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),FF=sr(sl.prototype,"transform",[xF],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zF=sr(sl.prototype,"hierarchy",[MF],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),UF=sr(sl.prototype,"frameGraphSystem",[NF,RF],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),VF=sr(sl.prototype,"engine",[IF],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),HF=sr(sl.prototype,"resourcePool",[DF],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sl))||kF),XF,YF,ZF,JF,QF,qF,Ev,e6,t6,n6,r6,o6,i6;function qA(e,t){var n;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=UHe(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,a=!1,s;return{s:function(){n=e[Symbol.iterator]()},n:function(){var d=n.next();return i=d.done,d},e:function(d){a=!0,s=d},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(a)throw s}}}}function UHe(e,t){if(!!e){if(typeof e=="string")return a6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a6(e,t)}}function a6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var eP={NONE:0,ENCODE:1,HIGHLIGHT:2},Wx=(XF=so(),YF=lr(qt.RenderEngine),ZF=lr(qt.ResourcePool),JF=lr(qt.RenderPassFactory),QF=lr(qt.MeshComponentManager),XF(qF=(Ev=(i6=o6=function(){function e(){var t=this;Qn(this,e),ar(this,"engine",e6,this),ar(this,"resourcePool",t6,this),ar(this,"renderPassFactory",n6,this),ar(this,"mesh",r6,this),this.pickingFBO=void 0,this.views=void 0,this.highlightEnabled=!0,this.highlightColor=[255,0,0,255],this.alreadyInRendering=!1,this.setup=function(n,r,o){var i=n.createRenderTarget(r,"picking fbo",{width:1,height:1});o.data={output:r.write(n,i)},r.hasSideEffect=!0},this.execute=function(){var n=ro(Hn.mark(function r(o,i,a){var s,f,d;return Hn.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(t.views=a,!t.alreadyInRendering){v.next=3;break}return v.abrupt("return");case 3:s=qA(a);try{for(d=function(){var m=f.value,b=m.getViewport(),S=b.width,O=b.height;t.alreadyInRendering=!0;var _=o.getResourceNode(i.data.output);t.pickingFBO=t.resourcePool.getOrCreateResource(_.resource),t.pickingFBO.resize({width:S,height:O}),t.engine.useFramebuffer(t.pickingFBO,function(){t.engine.clear({framebuffer:t.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var A=t.renderPassFactory(Ay.IDENTIFIER),T=[],P=m.getScene(),x=qA(P.getEntities()),N;try{for(x.s();!(N=x.n()).done;){var L=N.value,j=t.mesh.getComponentByEntity(L),k=j.material;k.setUniform("u_PickingStage",eP.ENCODE),T.push(j)}}catch(F){x.e(F)}finally{x.f()}A.renderView(m),T.forEach(function(F){var z=F.material;z.setUniform("u_PickingStage",eP.HIGHLIGHT)}),t.alreadyInRendering=!1})},s.s();!(f=s.n()).done;)d()}catch(y){s.e(y)}finally{s.f()}case 5:case"end":return v.stop()}},r)}));return function(r,o,i){return n.apply(this,arguments)}}(),this.pick=function(n,r){var o=n.x,i=n.y,a=t.engine,s=a.readPixels,f=a.useFramebuffer,d=r.getViewport(),h=d.width,v=d.height,y=o*window.devicePixelRatio,m=i*window.devicePixelRatio;if(!(y>h||y<0||m>v||m<0)){var b,S;return f(t.pickingFBO,function(){b=s({x:Math.round(y),y:Math.round(v-(i+1)*window.devicePixelRatio),width:1,height:1,data:new Uint8Array(1*1*4),framebuffer:t.pickingFBO}),(b[0]!==0||b[1]!==0||b[2]!==0)&&(S=BHe(b),t.highlightEnabled&&t.highlightPickedFeature(b,r))}),S}}}return vr(e,[{key:"enableHighlight",value:function(n){this.highlightEnabled=n}},{key:"setHighlightColor",value:function(n){this.highlightColor=n}},{key:"highlightPickedFeature",value:function(n,r){if(n){var o=qA(r.getScene().getEntities()),i;try{for(o.s();!(i=o.n()).done;){var a=i.value,s=this.mesh.getComponentByEntity(a),f=s.material;f.setUniform("u_PickingStage",eP.HIGHLIGHT),f.setUniform("u_PickingColor",[n[0],n[1],n[2]]),f.setUniform("u_HighlightColor",this.highlightColor)}}catch(d){o.e(d)}finally{o.f()}}}}]),e}(),o6.IDENTIFIER="PixelPicking Pass",i6),e6=sr(Ev.prototype,"engine",[YF],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),t6=sr(Ev.prototype,"resourcePool",[ZF],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n6=sr(Ev.prototype,"renderPassFactory",[JF],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r6=sr(Ev.prototype,"mesh",[QF],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ev))||qF),s6,l6,u6,c6,nw,f6,d6,h6,p6,VHe=`varying vec2 v_UV;

uniform sampler2D u_Texture;

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
}`,HHe=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,GHe=`layout(set = 0, binding = 0) uniform sampler u_TextureSampler;
layout(set = 0, binding = 1) uniform texture2D u_Texture;

layout(location = 0) in vec2 v_UV;
layout(location = 0) out vec4 outColor;

void main() {
  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);
}`,WHe=`layout(location = 0) in vec2 a_Position;
layout(location = 0) out vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,XO=(s6=so(),l6=lr(qt.RenderEngine),u6=lr(qt.ResourcePool),s6(c6=(nw=(p6=h6=function e(){var t=this;Qn(this,e),ar(this,"engine",f6,this),ar(this,"resourcePool",d6,this),this.model=void 0,this.setup=function(n,r,o){var i=n.getPass(Ay.IDENTIFIER);if(i){var a=n.createRenderTarget(r,"render to screen",{width:1,height:1});o.data={input:r.read(i.data.output),output:r.write(n,a)}}},this.execute=function(){var n=ro(Hn.mark(function r(o,i){var a,s,f,d,h,v,y;return Hn.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(a=t.engine,s=a.createModel,f=a.createAttribute,d=a.createBuffer,t.model){b.next=6;break}return b.next=4,s({vs:t.engine.supportWebGPU?WHe:HHe,fs:t.engine.supportWebGPU?GHe:VHe,attributes:{a_Position:f({buffer:d({data:[-4,-4,4,-4,0,4],type:dt.FLOAT}),size:2,arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})},uniforms:{u_Texture:null},depth:{enable:!1},count:3,blend:{enable:!0}});case 4:h=b.sent,t.model=h;case 6:v=o.getResourceNode(i.data.input),y=t.resourcePool.getOrCreateResource(v.resource),t.engine.useFramebuffer(null,function(){t.engine.clear({framebuffer:null,color:[0,0,0,0],depth:1,stencil:0}),t.model.draw({uniforms:{u_Texture:y}})});case 9:case"end":return b.stop()}},r)}));return function(r,o){return n.apply(this,arguments)}}(),this.tearDown=function(){t.model=void 0}},h6.IDENTIFIER="Copy Pass",p6),f6=sr(nw.prototype,"engine",[l6],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d6=sr(nw.prototype,"resourcePool",[u6],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nw))||c6),v6,y6,m6,g6,b6,E6,S6,Sv,w6,O6,_6,T6,C6,KHe=(v6=so(),y6=lr(qt.Systems),m6=mu(qt.FrameGraphSystem),g6=lr(qt.RenderPassFactory),b6=lr(qt.ConfigService),E6=lr(qt.ResourcePool),v6(S6=(Sv=(C6=function(){function e(){Qn(this,e),ar(this,"frameGraphSystem",w6,this),ar(this,"renderPassFactory",O6,this),ar(this,"configService",_6,this),ar(this,"resourcePool",T6,this)}return vr(e,[{key:"execute",value:function(){var t=ro(Hn.mark(function r(o){var i,a,s,f,d,h,v,y;return Hn.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:i=this.renderPassFactory(Ay.IDENTIFIER),a=i.setup,s=i.execute,this.frameGraphSystem.addPass(Ay.IDENTIFIER,a,s),f=this.renderPassFactory(XO.IDENTIFIER),d=f.setup,h=f.execute,v=f.tearDown,y=this.frameGraphSystem.addPass(XO.IDENTIFIER,d,h,v),this.frameGraphSystem.present(y.data.output);case 5:case"end":return b.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"tearDown",value:function(){this.resourcePool.clean()}},{key:"pick",value:function(n,r){var o=this.renderPassFactory(Wx.IDENTIFIER);return o.pick(n,r)}}]),e}(),C6),w6=sr(Sv.prototype,"frameGraphSystem",[y6,m6],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O6=sr(Sv.prototype,"renderPassFactory",[g6],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_6=sr(Sv.prototype,"configService",[b6],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T6=sr(Sv.prototype,"resourcePool",[E6],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sv))||S6);function XHe(e){var t=YHe();return function(){var r=ao(e),o;if(t){var i=ao(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return aa(this,o)}}function YHe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var ZHe=function(e){ia(n,e);var t=XHe(n);function n(r){var o;return Qn(this,n),o=t.call(this,r),o.parentID=void 0,Object.assign(ei(o),r),o}return n}(sp),A6,P6,x6,M6,N6,bg,R6,I6,D6,k6,JHe=(A6=so(),P6=lr(qt.HierarchyComponentManager),x6=lr(qt.TransformComponentManager),M6=lr(qt.MeshComponentManager),A6(N6=(bg=(k6=function(){function e(){Qn(this,e),ar(this,"hierarchy",R6,this),ar(this,"transform",I6,this),ar(this,"mesh",D6,this)}return vr(e,[{key:"execute",value:function(){var t=ro(Hn.mark(function r(){return Hn.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:this.runTransformUpdateSystem(),this.runHierarchyUpdateSystem();case 2:case"end":return i.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"tearDown",value:function(){this.hierarchy.clear(),this.transform.clear()}},{key:"getHierarchyComponentManager",value:function(){return this.hierarchy}},{key:"getTransformComponentManager",value:function(){return this.transform}},{key:"runTransformUpdateSystem",value:function(){var n=this;this.transform.forEach(function(r,o){(o.isDirty()||o.isLocalDirty())&&(n.setMeshAABBDirty(n.mesh.getComponentByEntity(r)),o.updateTransform())})}},{key:"runHierarchyUpdateSystem",value:function(){var n=this;this.hierarchy.forEach(function(r,o){var i=n.transform.getComponentByEntity(r),a=n.transform.getComponentByEntity(o.parentID);i!==null&&a!==null&&i.updateTransformWithParent(a)})}},{key:"attach",value:function(n,r,o){this.hierarchy.contains(n)&&this.detach(n),this.hierarchy.create(n,{parentID:r});var i=this.mesh.getComponentByEntity(r);if(this.setMeshAABBDirty(i),i&&i.children.indexOf(n)===-1&&i.children.push(n),this.hierarchy.getCount()>1)for(var a=this.hierarchy.getCount()-1;a>0;--a)for(var s=this.hierarchy.getEntity(a),f=0;f<a;++f){var d=this.hierarchy.getComponent(f);if(d.parentID===s){this.hierarchy.moveItem(a,f),++a;break}}this.hierarchy.getComponentByEntity(n);var h=this.transform.getComponentByEntity(r);h===null&&(h=this.transform.create(r));var v=this.transform.getComponentByEntity(n);v===null&&(v=this.transform.create(n),h=this.transform.getComponentByEntity(r)),v.parent=h,!o&&h&&(v.matrixTransform(WO(La(),h.worldTransform)),v.updateTransform()),h&&v.updateTransformWithParent(h)}},{key:"detach",value:function(n){var r=this.hierarchy.getComponentByEntity(n);if(r!==null){var o=this.transform.getComponentByEntity(n);o!==null&&(o.parent=null,o.applyTransform()),this.hierarchy.removeKeepSorted(n);var i=this.mesh.getComponentByEntity(r.parentID);if(i){var a=i.children.indexOf(n);i.children.splice(a,1)}this.setMeshAABBDirty(i)}}},{key:"detachChildren",value:function(n){var r=this.mesh.getComponentByEntity(n);r&&(r.children=[]);for(var o=0;o<this.hierarchy.getCount();){var i;if(((i=this.hierarchy.getComponent(o))===null||i===void 0?void 0:i.parentID)===n){var a=this.hierarchy.getEntity(o);this.detach(a)}else++o}}},{key:"setMeshAABBDirty",value:function(n){n&&(n.aabbDirty=!0)}}]),e}(),k6),R6=sr(bg.prototype,"hierarchy",[P6],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I6=sr(bg.prototype,"transform",[x6],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D6=sr(bg.prototype,"mesh",[M6],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bg))||N6);function QHe(e){var t=qHe();return function(){var r=ao(e),o;if(t){var i=ao(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return aa(this,o)}}function qHe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var GX=function(e){ia(n,e);var t=QHe(n);function n(r){var o;return Qn(this,n),o=t.call(this,r),o.dirtyFlag=void 0,o.localDirtyFlag=void 0,o.parent=null,o.localPosition=jr(0,0,0),o.localRotation=QA(0,0,0,1),o.localScale=jr(1,1,1),o.localTransform=La(),o.position=jr(0,0,0),o.rotation=QA(0,0,0,1),o.scaling=jr(1,1,1),o.worldTransform=La(),o.matrixTransform=function(){var i=La();return function(a){Ih(i,o.getLocalTransform(),a),Lv(o.localScale,i),vg(o.localPosition,i),yg(o.localRotation,i)}}(),o.rotateRollPitchYaw=function(){var i=Oi(),a=Oi(),s=Oi();return function(f,d,h){o.setDirty(),JA(i,f,0,0),JA(a,0,d,0),JA(s,0,0,h),Cs(o.localRotation,i,o.localRotation),Cs(o.localRotation,o.localRotation,a),Cs(o.localRotation,s,o.localRotation),Vv(o.localRotation,o.localRotation)}}(),o.lerp=function(){var i=fo(),a=Oi(),s=fo(),f=fo(),d=Oi(),h=fo();return function(v,y,m){o.setDirty(),Lv(i,v.worldTransform),vg(s,v.worldTransform),yg(a,v.worldTransform),Lv(f,y.worldTransform),vg(h,y.worldTransform),yg(d,y.worldTransform),Gh(o.localScale,i,f,m),oO(o.localRotation,a,d,m),Gh(o.localPosition,s,h,m)}}(),o.translate=function(){var i=fo();return function(a){return fc(i,o.getPosition(),a),o.setPosition(i),o.setDirty(!0),ei(o)}}(),o.translateLocal=function(){return function(i){return FVe(i,i,o.localRotation),fc(o.localPosition,o.localPosition,i),o.setLocalDirty(!0),ei(o)}}(),o.setPosition=function(){var i=La();return function(a){return o.position=a,o.setLocalDirty(!0),o.parent===null?zi(o.localPosition,a):(Ux(i,o.parent.worldTransform),WO(i,i),mR(o.localPosition,a,i)),ei(o)}}(),o.rotate=function(){var i=Oi();return function(a){if(o.parent===null)Cs(o.localRotation,o.localRotation,a),Vv(o.localRotation,o.localRotation);else{var s=o.getRotation(),f=o.parent.getRotation();mg(i,f),j8(i,i),Cs(i,i,a),Cs(o.localRotation,a,s),Vv(o.localRotation,o.localRotation)}return o.setLocalDirty(),ei(o)}}(),o.rotateLocal=function(){return function(i){return Cs(o.localRotation,o.localRotation,i),Vv(o.localRotation,o.localRotation),o.setLocalDirty(!0),ei(o)}}(),o.setRotation=function(){var i=Oi();return function(a){return o.parent===null?mg(o.localRotation,a):(mg(i,o.parent.getRotation()),j8(i,i),mg(o.localRotation,i),HVe(o.localRotation,o.localRotation,a)),o.setLocalDirty(!0),ei(o)}}(),o}return vr(n,[{key:"setLocalPosition",value:function(o){zi(this.localPosition,o),this.setLocalDirty(!0)}},{key:"setLocalScale",value:function(o){zi(this.localScale,o),this.setLocalDirty(!0)}},{key:"setLocalRotation",value:function(o){return mg(this.localRotation,o),this.setLocalDirty(!0),this}},{key:"isDirty",value:function(){return this.dirtyFlag}},{key:"setDirty",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;o?this.dirtyFlag|=n.DIRTY:this.dirtyFlag&=~n.DIRTY}},{key:"isLocalDirty",value:function(){return this.localDirtyFlag}},{key:"setLocalDirty",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;o?(this.localDirtyFlag|=n.DIRTY,this.setDirty(!0)):this.localDirtyFlag&=~n.DIRTY}},{key:"updateTransform",value:function(){this.isLocalDirty()&&this.getLocalTransform(),this.isDirty()&&this.parent===null&&(Ux(this.worldTransform,this.getLocalTransform()),this.setDirty(!1))}},{key:"updateTransformWithParent",value:function(o){Ih(this.worldTransform,o.worldTransform,this.getLocalTransform())}},{key:"applyTransform",value:function(){this.setDirty(),Lv(this.localScale,this.worldTransform),vg(this.localPosition,this.worldTransform),yg(this.localRotation,this.worldTransform)}},{key:"clearTransform",value:function(){this.setDirty(),this.localPosition=jr(0,0,0),this.localRotation=QA(0,0,0,1),this.localScale=jr(1,1,1)}},{key:"scaleLocal",value:function(o){return this.setLocalDirty(),BVe(this.localScale,this.localScale,o),this}},{key:"getLocalPosition",value:function(){return this.localPosition}},{key:"getLocalRotation",value:function(){return this.localRotation}},{key:"getLocalScale",value:function(){return this.localScale}},{key:"getLocalTransform",value:function(){return this.localDirtyFlag&&(RVe(this.localTransform,this.localRotation,this.localPosition,this.localScale),this.setLocalDirty(!1)),this.localTransform}},{key:"getWorldTransform",value:function(){return!this.isLocalDirty()&&!this.isDirty()?this.worldTransform:(this.parent&&this.parent.getWorldTransform(),this.updateTransform(),this.worldTransform)}},{key:"getPosition",value:function(){return vg(this.position,this.worldTransform),this.position}},{key:"getRotation",value:function(){return yg(this.rotation,this.worldTransform),this.rotation}},{key:"getScale",value:function(){return Lv(this.scaling,this.worldTransform),this.scaling}}]),n}(sp);GX.DIRTY=1<<0;var L6,$6,B6,tP,j6,F6,eGe=(L6=so(),$6=lr(qt.RenderEngine),L6(B6=(tP=(F6=function(){function e(){Qn(this,e),ar(this,"engine",j6,this),this.resourcePool={}}return vr(e,[{key:"getOrCreateResource",value:function(n){if(!this.resourcePool[n.name]){var r=n.descriptor,o=r.width,i=r.height,a=r.usage;this.resourcePool[n.name]=this.engine.createFramebuffer({color:this.engine.createTexture2D({width:o,height:i,wrapS:dt.CLAMP_TO_EDGE,wrapT:dt.CLAMP_TO_EDGE,usage:a})})}return this.resourcePool[n.name]}},{key:"clean",value:function(){this.resourcePool={}}}]),e}(),F6),j6=sr(tP.prototype,"engine",[$6],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tP))||B6);function tGe(e){var t=nGe();return function(){var r=ao(e),o;if(t){var i=ao(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return aa(this,o)}}function nGe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var rGe=function(e){ia(n,e);var t=tGe(n);function n(r){var o;return Qn(this,n),o=t.call(this,r),o.name=void 0,o.name=r.name||"",o}return n}(sp),z6,U6,V6,oGe=(z6=so(),z6(U6=(V6=function(){function e(){Qn(this,e),this.config=void 0}return vr(e,[{key:"get",value:function(){return this.config}},{key:"set",value:function(n){this.config=n}}]),e}(),V6))||U6),H6,G6,W6;(function(e){e.PANSTART="PANSTART",e.PANEND="PANEND",e.PANMOVE="PANMOVE",e.PINCH="PINCH",e.KEYDOWN="KEYDOWN",e.KEYUP="KEYUP",e.HOVER="HOVER"})(W6||(W6={}));var iGe=(H6=so(),H6(G6=function(){function e(){Qn(this,e)}return vr(e,[{key:"listen",value:function(n){}},{key:"on",value:function(n,r){}},{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"destroy",value:function(){}}]),e}())||G6);function aGe(e){var t=0;switch(e){case"vec2":case"ivec2":t=2;break;case"vec3":case"ivec3":t=3;break;case"vec4":case"ivec4":case"mat2":t=4;break;case"mat3":t=9;break;case"mat4":t=16;break}return t}var sGe=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function K6(e){var t={};return e=e.replace(sGe,function(n,r,o){var i=o.split(":"),a=i[0].trim(),s="";switch(i.length>1&&(s=i[1].trim()),r){case"bool":s=s==="true";break;case"float":case"int":s=Number(s);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":s?s=s.replace("[","").replace("]","").split(",").reduce(function(f,d){return f.push(Number(d.trim())),f},[]):s=new Array(aGe(r)).fill(0);break}return t[a]=s,"uniform ".concat(r," ").concat(a,`;
`)}),{content:e,uniforms:t}}function lGe(e){return e.filter(function(t,n,r){return r.indexOf(t)===n})}var X6,Y6,Z6;function J6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Eg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J6(Object(n),!0).forEach(function(r){Gt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var uGe=`varying vec4 v_PickingResult;
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

/*
 * Returns highlight color if this item is selected.
 */
vec4 filterHighlightColor(vec4 color) {
  bool selected = bool(v_PickingResult.a);

  if (selected) {
    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;

    float highLightAlpha = highLightColor.a;
    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));

    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);
    return vec4(resultRGB, color.a);
  } else {
    return color;
  }
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 filterPickingColor(vec4 color) {
  vec3 pickingColor = v_PickingResult.rgb;
  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {
    discard;
  }
  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 filterColor(vec4 color) {
  return filterPickingColor(filterHighlightColor(color));
}
`,cGe=`attribute vec3 a_PickingColor;
varying vec4 v_PickingResult;

uniform vec3 u_PickingColor : [0, 0, 0];
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;
uniform float u_PickingThreshold : 1.0;
uniform float u_PickingBuffer: 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

bool isVertexPicked(vec3 vertexColor) {
  return
    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&
    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&
    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;
}

void setPickingColor(vec3 pickingColor) {
  // compares only in highlight stage
  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));

  // Stores the picking color so that the fragment shader can render it during picking
  v_PickingResult.rgb = pickingColor * COLOR_SCALE;
}

float setPickingSize(float x) {
   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;
}`,fGe=`/**
 * 2D signed distance field functions
 * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
 */

float ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }

float sdCircle(vec2 p, float r) {
  return length(p) - r;
}

float sdEquilateralTriangle(vec2 p) {
  float k = sqrt(3.0);
  p.x = abs(p.x) - 1.0;
  p.y = p.y + 1.0/k;
  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;
  p.x -= clamp( p.x, -2.0, 0.0 );
  return -length(p)*sign(p.y);
}

float sdBox(vec2 p, vec2 b) {
  vec2 d = abs(p)-b;
  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);
}

float sdPentagon(vec2 p, float r) {
  vec3 k = vec3(0.809016994,0.587785252,0.726542528);
  p.x = abs(p.x);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);
  return length(p)*sign(p.y);
}

float sdHexagon(vec2 p, float r) {
  vec3 k = vec3(-0.866025404,0.5,0.577350269);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdOctogon(vec2 p, float r) {
  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );
  p = abs(p);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdHexagram(vec2 p, float r) {
  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;
  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);
  return length(p)*sign(p.y);
}

float sdRhombus(vec2 p, vec2 b) {
  vec2 q = abs(p);
  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);
  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );
  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );
}

float sdVesica(vec2 p, float r, float d) {
  p = abs(p);
  float b = sqrt(r*r-d*d); // can delay this sqrt
  return ((p.y-b)*d>p.x*b)
          ? length(p-vec2(0.0,b))
          : length(p-vec2(-d,0.0))-r;
}`,dGe=/precision\s+(high|low|medium)p\s+float/,hGe=`#ifdef GL_FRAGMENT_PRECISION_HIGH
 precision highp float;
 #else
 precision mediump float;
#endif
`,pGe=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,vGe=(X6=so(),X6(Y6=(Z6=function(){function e(){Qn(this,e),this.moduleCache={},this.rawContentCache={}}return vr(e,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("picking",{vs:cGe,fs:uGe}),this.registerModule("sdf2d",{vs:"",fs:fGe})}},{key:"registerModule",value:function(n,r){if(!this.rawContentCache[n]){var o=r.vs,i=o===void 0?"":o,a=r.fs,s=a===void 0?"":a,f=r.uniforms,d=K6(i),h=d.content,v=d.uniforms,y=K6(s),m=y.content,b=y.uniforms;this.rawContentCache[n]={fs:m,uniforms:Eg(Eg(Eg({},v),b),f),vs:h}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(n){var r=this;if(this.moduleCache[n])return this.moduleCache[n];var o=this.rawContentCache[n].vs||"",i=this.rawContentCache[n].fs||"",a=this.processModule(o,[],"vs"),s=a.content,f=a.includeList,d=this.processModule(i,[],"fs"),h=d.content,v=d.includeList,y=h,m=lGe(f.concat(v).concat(n)).reduce(function(b,S){return Eg(Eg({},b),r.rawContentCache[S].uniforms)},{});return dGe.test(h)||(y=hGe+h),this.moduleCache[n]={fs:y.trim(),uniforms:m,vs:s.trim()},this.moduleCache[n]}},{key:"processModule",value:function(n,r,o){var i=this,a=n.replace(pGe,function(s,f){var d=f.split(" "),h=d[0].replace(/"/g,"");if(r.indexOf(h)>-1)return"";var v=i.rawContentCache[h][o];r.push(h);var y=i.processModule(v||"",r,o),m=y.content;return m});return{content:a,includeList:r}}}]),e}(),Z6))||Y6),Ic=new zX;Ic.bind(qt.ShaderModuleService).to(vGe).inSingletonScope();Ic.bind(qt.NameComponentManager).toConstantValue(new lp(rGe));Ic.bind(qt.HierarchyComponentManager).toConstantValue(new lp(ZHe));Ic.bind(qt.TransformComponentManager).toConstantValue(new lp(GX));Ic.bind(qt.MeshComponentManager).toConstantValue(new lp(DHe));Ic.bind(qt.CullableComponentManager).toConstantValue(new lp(NHe));Ic.bind(qt.GeometryComponentManager).toConstantValue(new lp(OHe));Ic.bind(qt.MaterialComponentManager).toConstantValue(new lp(AHe));function yGe(){var e=new zX;return e.parent=Ic,e.bind(qt.Systems).to(JHe).inSingletonScope().whenTargetNamed(qt.SceneGraphSystem),e.bind(qt.Systems).to(CVe).inSingletonScope().whenTargetNamed(qt.FrameGraphSystem),e.bind(qt.Systems).to(FHe).inSingletonScope().whenTargetNamed(qt.MeshSystem),e.bind(qt.Systems).to(_He).inSingletonScope().whenTargetNamed(qt.GeometrySystem),e.bind(qt.Systems).to(PHe).inSingletonScope().whenTargetNamed(qt.MaterialSystem),e.bind(qt.Systems).to(KHe).inSingletonScope().whenTargetNamed(qt.RendererSystem),e.bind(qt.ResourcePool).to(eGe).inSingletonScope(),e.bind(qt.ConfigService).to(oGe).inSingletonScope(),e.bind(qt.InteractorService).to(iGe).inSingletonScope(),e.bind(qt.RenderPass).to(Ay).inSingletonScope().whenTargetNamed(Ay.IDENTIFIER),e.bind(qt.RenderPass).to(XO).inSingletonScope().whenTargetNamed(XO.IDENTIFIER),e.bind(qt.RenderPass).to(Wx).inSingletonScope().whenTargetNamed(Wx.IDENTIFIER),e.bind(qt.RenderPassFactory).toFactory(function(t){return function(n){return t.container.getNamed(qt.RenderPass,n)}}),e}function ER(e){for(var t=new bR,n=jr(e[0],e[1],e[2]),r=jr(e[0],e[1],e[2]),o=3;o<e.length;){var i=e[o++],a=e[o++],s=e[o++];i<n[0]&&(n[0]=i),a<n[1]&&(n[1]=a),s<n[2]&&(n[2]=s),i>r[0]&&(r[0]=i),a>r[1]&&(r[1]=a),s>r[2]&&(r[2]=s)}return t.setMinMax(n,r),t}var ka=typeof navigator<"u"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);fo();fo();fo();fo();fo();fo();var Q6;(function(e){e.Normal="normal",e.PostProcessing="post-processing"})(Q6||(Q6={}));var Wh;(function(e){e.Void="Void",e.Boolean="Boolean",e.Float="Float",e.Uint32="Uint32",e.Int32="Int32",e.Vector="Vector",e.Vector2Float="vec2<f32>",e.Vector3Float="vec3<f32>",e.Vector4Float="vec4<f32>",e.Vector2Boolean="vec2<bool>",e.Vector3Boolean="vec3<bool>",e.Vector4Boolean="vec4<bool>",e.Vector2Uint="vec2<u32>",e.Vector3Uint="vec3<u32>",e.Vector4Uint="vec4<u32>",e.Vector2Int="vec2<i32>",e.Vector3Int="vec3<i32>",e.Vector4Int="vec4<i32>",e.Matrix="Matrix",e.Matrix3x3Float="mat3x3<f32>",e.Matrix4x4Float="mat4x4<i32>",e.Struct="Struct",e.FloatArray="Float[]",e.Vector4FloatArray="vec4<f32>[]"})(Wh||(Wh={}));var q6;(function(e){e.Program="Program",e.Identifier="Identifier",e.VariableDeclaration="VariableDeclaration",e.BlockStatement="BlockStatement",e.ReturnStatement="ReturnStatement",e.FunctionDeclaration="FunctionDeclaration",e.VariableDeclarator="VariableDeclarator",e.AssignmentExpression="AssignmentExpression",e.LogicalExpression="LogicalExpression",e.BinaryExpression="BinaryExpression",e.ArrayExpression="ArrayExpression",e.UnaryExpression="UnaryExpression",e.UpdateExpression="UpdateExpression",e.FunctionExpression="FunctionExpression",e.MemberExpression="MemberExpression",e.ConditionalExpression="ConditionalExpression",e.ExpressionStatement="ExpressionStatement",e.CallExpression="CallExpression",e.NumThreadStatement="NumThreadStatement",e.StorageStatement="StorageStatement",e.DoWhileStatement="DoWhileStatement",e.WhileStatement="WhileStatement",e.ForStatement="ForStatement",e.BreakStatement="BreakStatement",e.ContinueStatement="ContinueStatement",e.IfStatement="IfStatement",e.ImportedFunctionStatement="ImportedFunctionStatement"})(q6||(q6={}));var nd;(function(e){e.Input="Input",e.Output="Output",e.Uniform="Uniform",e.Workgroup="Workgroup",e.UniformConstant="UniformConstant",e.Image="Image",e.StorageBuffer="StorageBuffer",e.Private="Private",e.Function="Function"})(nd||(nd={}));var qg;(function(e){e.GLSL100="GLSL100",e.GLSL450="GLSL450",e.WGSL="WGSL"})(qg||(qg={}));var mGe="__DefineValuePlaceholder__";function SR(e){return typeof e=="number"}function Zu(e){return e===void 0?0:e>360||e<-360?e%360:e}function ih(e,t,n){return SR(e)?jr(e,t,n):e.length===3?ac(e):jr(e[0],e[1],e[2])}var e5=function(){function e(t,n){Qn(this,e),this.name=void 0,this.matrix=void 0,this.right=void 0,this.up=void 0,this.forward=void 0,this.position=void 0,this.focalPoint=void 0,this.distanceVector=void 0,this.distance=void 0,this.dollyingStep=void 0,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.name=t,this.matrix=xVe(n.matrix),this.right=ac(n.right),this.up=ac(n.up),this.forward=ac(n.forward),this.position=ac(n.position),this.focalPoint=ac(n.focalPoint),this.distanceVector=ac(n.distanceVector),this.azimuth=n.azimuth,this.elevation=n.elevation,this.roll=n.roll,this.relAzimuth=n.relAzimuth,this.relElevation=n.relElevation,this.relRoll=n.relRoll,this.dollyingStep=n.dollyingStep,this.distance=n.distance}return vr(e,[{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getRoll",value:function(){return this.roll}},{key:"retrieve",value:function(n){n.matrix=Ux(n.matrix,this.matrix),n.right=zi(n.right,this.right),n.up=zi(n.up,this.up),n.forward=zi(n.forward,this.forward),n.position=zi(n.position,this.position),n.focalPoint=zi(n.focalPoint,this.focalPoint),n.distanceVector=zi(n.distanceVector,this.distanceVector),n.azimuth=this.azimuth,n.elevation=this.elevation,n.roll=this.roll,n.relAzimuth=this.relAzimuth,n.relElevation=this.relElevation,n.relRoll=this.relRoll,n.dollyingStep=this.dollyingStep,n.distance=this.distance}}]),e}(),t5,n5,r5,nP,o5,i5,a5,go;(function(e){e.ORBITING="ORBITING",e.EXPLORING="EXPLORING",e.TRACKING="TRACKING"})(go||(go={}));var YO;(function(e){e.DEFAULT="DEFAULT",e.ROTATIONAL="ROTATIONAL",e.TRANSLATIONAL="TRANSLATIONAL",e.CINEMATIC="CINEMATIC"})(YO||(YO={}));var gh;(function(e){e.ORTHOGRAPHIC="ORTHOGRAPHIC",e.PERSPECTIVE="PERSPECTIVE"})(gh||(gh={}));var Ju=Math.PI/180,Mf=180/Math.PI,s5=(t5=so(),n5=lr(qt.InteractorService),t5(r5=(nP=(a5=i5=function(){function e(){Qn(this,e),this.matrix=La(),this.right=jr(1,0,0),this.up=jr(0,1,0),this.forward=jr(0,0,1),this.position=jr(0,0,1),this.focalPoint=jr(0,0,0),this.distanceVector=jr(0,0,0),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.rotateWorld=!1,ar(this,"interactor",o5,this),this.fov=30,this.near=.1,this.far=1e4,this.aspect=1,this.left=void 0,this.rright=void 0,this.top=void 0,this.bottom=void 0,this.zoom=1,this.perspective=La(),this.view=void 0,this.following=void 0,this.type=go.EXPLORING,this.trackingMode=YO.DEFAULT,this.projectionMode=gh.PERSPECTIVE,this.frustum=new LHe,this.landmarks=[],this.landmarkAnimationID=void 0}return vr(e,[{key:"clone",value:function(){var n=new e;return n.setType(this.type,void 0),n.interactor=this.interactor,n}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.perspective}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"setType",value:function(n,r){return this.type=n,this.type===go.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===go.TRACKING&&r!==void 0&&this.setTrackingMode(r),this}},{key:"setProjectionMode",value:function(n){return this.projectionMode=n,this}},{key:"setTrackingMode",value:function(n){if(this.type!==go.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=n,this}},{key:"setWorldRotation",value:function(n){this.rotateWorld=n,this._getAngles()}},{key:"getViewTransform",value:function(){return WO(La(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"setMatrix",value:function(n){return this.matrix=n,this._update(),this}},{key:"setAspect",value:function(n){return this.setPerspective(this.near,this.far,this.fov,n),this}},{key:"setViewOffset",value:function(n,r,o,i,a,s){return this.aspect=n/r,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=n,this.view.fullHeight=r,this.view.offsetX=o,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.projectionMode===gh.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===gh.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setPerspective",value:function(n,r,o,i){return this.projectionMode=gh.PERSPECTIVE,this.fov=o,this.near=n,this.far=r,this.aspect=i,DVe(this.perspective,this.fov*Ju,this.aspect,this.near,this.far),this}},{key:"setOrthographic",value:function(n,r,o,i,a,s){this.projectionMode=gh.ORTHOGRAPHIC,this.rright=r,this.left=n,this.top=o,this.bottom=i,this.near=a,this.far=s;var f=(this.rright-this.left)/(2*this.zoom),d=(this.top-this.bottom)/(2*this.zoom),h=(this.rright+this.left)/2,v=(this.top+this.bottom)/2,y=h-f,m=h+f,b=v+d,S=v-d;if(this.view!==void 0&&this.view.enabled){var O=(this.rright-this.left)/this.view.fullWidth/this.zoom,_=(this.top-this.bottom)/this.view.fullHeight/this.zoom;y+=O*this.view.offsetX,m=y+O*this.view.width,b-=_*this.view.offsetY,S=b-_*this.view.height}return LVe(this.perspective,y,m,b,S,a,s),this}},{key:"setPosition",value:function(n,r,o){return this._setPosition(n,r,o),this.setFocalPoint(this.focalPoint),this}},{key:"setFocalPoint",value:function(n,r,o){var i=jr(0,1,0);if(this.focalPoint=ih(n,r,o),this.trackingMode===YO.CINEMATIC){var a=Vx(fo(),this.focalPoint,this.position);n=a[0],r=a[1],o=a[2];var s=rO(a),f=Math.asin(r/s)*Mf,d=90+Math.atan2(o,n)*Mf,h=La();NVe(h,h,d*Ju),MVe(h,h,f*Ju),i=mR(fo(),[0,1,0],h)}return WO(this.matrix,$Ve(La(),this.position,this.focalPoint,i)),this._getAxes(),this._getDistance(),this._getAngles(),this}},{key:"setDistance",value:function(n){if(!(this.distance===n||n<0)){this.distance=n,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100;var r=fo();n=this.distance;var o=this.forward,i=this.focalPoint;return r[0]=n*o[0]+i[0],r[1]=n*o[1]+i[1],r[2]=n*o[2]+i[2],this._setPosition(r),this}}},{key:"setMaxDistance",value:function(n){return this.maxDistance=n,this}},{key:"setMinDistance",value:function(n){return this.minDistance=n,this}},{key:"changeAzimuth",value:function(n){return this.setAzimuth(this.azimuth+n),this}},{key:"changeElevation",value:function(n){return this.setElevation(this.elevation+n),this}},{key:"changeRoll",value:function(n){return this.setRoll(this.roll+n),this}},{key:"setAzimuth",value:function(n){return this.azimuth=Zu(n),this.computeMatrix(),this._getAxes(),this.type===go.ORBITING||this.type===go.EXPLORING?this._getPosition():this.type===go.TRACKING&&this._getFocalPoint(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(n){return this.elevation=Zu(n),this.computeMatrix(),this._getAxes(),this.type===go.ORBITING||this.type===go.EXPLORING?this._getPosition():this.type===go.TRACKING&&this._getFocalPoint(),this}},{key:"setRoll",value:function(n){return this.roll=Zu(n),this.computeMatrix(),this._getAxes(),this.type===go.ORBITING||this.type===go.EXPLORING?this._getPosition():this.type===go.TRACKING&&this._getFocalPoint(),this}},{key:"rotate",value:function(n,r,o){if(this.type===go.EXPLORING){n=Zu(n),r=Zu(r),o=Zu(o);var i=fh(Oi(),[1,0,0],(this.rotateWorld?1:-1)*r*Ju),a=fh(Oi(),[0,1,0],(this.rotateWorld?1:-1)*n*Ju),s=fh(Oi(),[0,0,1],o*Ju),f=Cs(Oi(),a,i);f=Cs(Oi(),f,s);var d=$8(La(),f);pg(this.matrix,this.matrix,[0,0,-this.distance]),Ih(this.matrix,this.matrix,d),pg(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation+r)>90)return;this.relElevation=Zu(r),this.relAzimuth=Zu(n),this.relRoll=Zu(o),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.computeMatrix()}return this._getAxes(),this.type===go.ORBITING||this.type===go.EXPLORING?this._getPosition():this.type===go.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(n,r){var o=ih(n,r,0),i=ac(this.position);return fc(i,i,Fb(fo(),this.right,o[0])),fc(i,i,Fb(fo(),this.up,o[1])),this._setPosition(i),this}},{key:"dolly",value:function(n){var r=this.forward,o=ac(this.position),i=n*this.dollyingStep,a=this.distance+n*this.dollyingStep;return i=Math.max(Math.min(a,this.maxDistance),this.minDistance)-this.distance,o[0]+=i*r[0],o[1]+=i*r[1],o[2]+=i*r[2],this._setPosition(o),this.type===go.ORBITING||this.type===go.EXPLORING?this._getDistance():this.type===go.TRACKING&&fc(this.focalPoint,o,this.distanceVector),this}},{key:"createLandmark",value:function(n,r){var o=this.clone();o.setPosition(r.position),o.setFocalPoint(r.focalPoint),r.roll!==void 0&&o.setRoll(r.roll);var i=new e5(n,o);return this.landmarks.push(i),i}},{key:"setLandmark",value:function(n){var r=new e5(n,this);return this.landmarks.push(r),this}},{key:"gotoLandmark",value:function(n){var r=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3,i=this.landmarks.find(function(v){return v.name===n});if(i){if(o===0){i.retrieve(this);return}this.landmarkAnimationID!==void 0&&window.cancelAnimationFrame(this.landmarkAnimationID),this.interactor.disconnect();var a=i.getPosition(),s=i.getFocalPoint(),f=i.getRoll(),d,h=function v(y){d===void 0&&(d=y);var m=y-d,b=(1-Math.cos(m/o*Math.PI))/2,S=fo(),O=fo(),_=0;Gh(S,r.focalPoint,s,b),Gh(O,r.position,a,b),_=r.roll*(1-b)+f*b,r.setFocalPoint(S),r.setPosition(O),r.setRoll(_),r.computeMatrix();var A=B8(S,s)+B8(O,a);if(!(A>.01)){r.setFocalPoint(S),r.setPosition(O),r.setRoll(_),r.computeMatrix(),r.interactor.connect();return}m<o&&(r.landmarkAnimationID=window.requestAnimationFrame(v))};window.requestAnimationFrame(h)}}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles()}},{key:"computeMatrix",value:function(){var n,r,o=fh(Oi(),[0,0,1],this.roll*Ju);UX(this.matrix),n=fh(Oi(),[1,0,0],(this.rotateWorld&&this.type!==go.TRACKING||this.type===go.TRACKING?1:-1)*this.elevation*Ju),r=fh(Oi(),[0,1,0],(this.rotateWorld&&this.type!==go.TRACKING||this.type===go.TRACKING?1:-1)*this.azimuth*Ju);var i=Cs(Oi(),r,n);i=Cs(Oi(),i,o);var a=$8(La(),i);this.type===go.ORBITING||this.type===go.EXPLORING?(pg(this.matrix,this.matrix,this.focalPoint),Ih(this.matrix,this.matrix,a),pg(this.matrix,this.matrix,[0,0,this.distance])):this.type===go.TRACKING&&(pg(this.matrix,this.matrix,this.position),Ih(this.matrix,this.matrix,a))}},{key:"_setPosition",value:function(n,r,o){this.position=ih(n,r,o);var i=this.matrix;i[12]=this.position[0],i[13]=this.position[1],i[14]=this.position[2],i[15]=1}},{key:"_getAxes",value:function(){zi(this.right,ih(Lg(kg(),[1,0,0,0],this.matrix))),zi(this.up,ih(Lg(kg(),[0,1,0,0],this.matrix))),zi(this.forward,ih(Lg(kg(),[0,0,1,0],this.matrix))),Qg(this.right,this.right),Qg(this.up,this.up),Qg(this.forward,this.forward)}},{key:"_getAngles",value:function(){var n=this.distanceVector[0],r=this.distanceVector[1],o=this.distanceVector[2],i=rO(this.distanceVector);if(i===0){this.elevation=0,this.azimuth=0;return}this.type===go.TRACKING?(this.elevation=Math.asin(r/i)*Mf,this.azimuth=Math.atan2(-n,-o)*Mf):this.rotateWorld?(this.elevation=Math.asin(r/i)*Mf,this.azimuth=Math.atan2(-n,-o)*Mf):(this.elevation=-Math.asin(r/i)*Mf,this.azimuth=-Math.atan2(-n,-o)*Mf)}},{key:"_getPosition",value:function(){zi(this.position,ih(Lg(kg(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){gR(this.distanceVector,[0,0,-this.distance],AVe(a0(),this.matrix)),fc(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=Vx(fo(),this.focalPoint,this.position),this.distance=rO(this.distanceVector),this.dollyingStep=this.distance/100}}]),e}(),i5.ProjectionMode={ORTHOGRAPHIC:"ORTHOGRAPHIC",PERSPECTIVE:"PERSPECTIVE"},a5),o5=sr(nP.prototype,"interactor",[n5],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nP))||r5),l5,u5,c5,rP,f5,Sg,d5,Gf=(l5=so(),u5=lr(qt.GeometryComponentManager),l5(c5=(rP=(d5=Sg=function(){function e(){Qn(this,e),this.config=void 0,ar(this,"geometry",f5,this),this.entity=void 0,this.component=void 0}return vr(e,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(n){this.config=n}},{key:"setEntity",value:function(n){this.entity=n,this.component=this.geometry.create(n),this.component.entity=n,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),e}(),Sg.BOX="box",Sg.SPHERE="sphere",Sg.PLANE="plane",Sg.MERGED="merged",d5),f5=sr(rP.prototype,"geometry",[u5],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rP))||c5),xn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.TextureCompressionBC="texture-compression-bc"}(e.ExtensionName||(e.ExtensionName={})),function(t){t.ClampToEdge="clamp-to-edge",t.Repeat="repeat",t.MirrorRepeat="mirror-repeat"}(e.AddressMode||(e.AddressMode={})),function(t){t.UniformBuffer="uniform-buffer",t.StorageBuffer="storage-buffer",t.ReadonlyStorageBuffer="readonly-storage-buffer",t.Sampler="sampler",t.ComparisonSampler="comparison-sampler",t.SampledTexture="sampled-texture",t.ReadonlyStorageTexture="readonly-storage-texture",t.WriteonlyStorageTexture="writeonly-storage-texture"}(e.BindingType||(e.BindingType={})),function(t){t.Zero="zero",t.One="one",t.SrcColor="src-color",t.OneMinusSrcColor="one-minus-src-color",t.SrcAlpha="src-alpha",t.OneMinusSrcAlpha="one-minus-src-alpha",t.DstColor="dst-color",t.OneMinusDstColor="one-minus-dst-color",t.DstAlpha="dst-alpha",t.OneMinusDstAlpha="one-minus-dst-alpha",t.SrcAlphaSaturated="src-alpha-saturated",t.BlendColor="blend-color",t.OneMinusBlendColor="one-minus-blend-color"}(e.BlendFactor||(e.BlendFactor={})),function(t){t.Add="add",t.Subtract="subtract",t.ReverseSubtract="reverse-subtract",t.Min="min",t.Max="max"}(e.BlendOperation||(e.BlendOperation={})),function(t){t.Never="never",t.Less="less",t.Equal="equal",t.LessEqual="less-equal",t.Greater="greater",t.NotEqual="not-equal",t.GreaterEqual="greater-equal",t.Always="always"}(e.CompareFunction||(e.CompareFunction={})),function(t){t.None="none",t.Front="front",t.Back="back"}(e.CullMode||(e.CullMode={})),function(t){t.Nearest="nearest",t.Linear="linear"}(e.FilterMode||(e.FilterMode={})),function(t){t.CCW="ccw",t.CW="cw"}(e.FrontFace||(e.FrontFace={})),function(t){t.Uint16="uint16",t.Uint32="uint32"}(e.IndexFormat||(e.IndexFormat={})),function(t){t.Vertex="vertex",t.Instance="instance"}(e.InputStepMode||(e.InputStepMode={})),function(t){t.Load="load"}(e.LoadOp||(e.LoadOp={})),function(t){t.PointList="point-list",t.LineList="line-list",t.LineStrip="line-strip",t.TriangleList="triangle-list",t.TriangleStrip="triangle-strip"}(e.PrimitiveTopology||(e.PrimitiveTopology={})),function(t){t.Keep="keep",t.Zero="zero",t.Replace="replace",t.Invert="invert",t.IncrementClamp="increment-clamp",t.DecrementClamp="decrement-clamp",t.IncrementWrap="increment-wrap",t.DecrementWrap="decrement-wrap"}(e.StencilOperation||(e.StencilOperation={})),function(t){t.Store="store",t.Clear="clear"}(e.StoreOp||(e.StoreOp={})),function(t){t.E1d="1d",t.E2d="2d",t.E3d="3d"}(e.TextureDimension||(e.TextureDimension={})),function(t){t.R8Unorm="r8unorm",t.R8Snorm="r8snorm",t.R8Uint="r8uint",t.R8Sint="r8sint",t.R16Uint="r16uint",t.R16Sint="r16sint",t.R16Float="r16float",t.RG8Unorm="rg8unorm",t.RG8Snorm="rg8snorm",t.RG8Uint="rg8uint",t.RG8Sint="rg8sint",t.R32Uint="r32uint",t.R32Sint="r32sint",t.R32Float="r32float",t.RG16Uint="rg16uint",t.RG16Sint="rg16sint",t.RG16Float="rg16float",t.RGBA8Unorm="rgba8unorm",t.RGBA8UnormSRGB="rgba8unorm-srgb",t.RGBA8Snorm="rgba8snorm",t.RGBA8Uint="rgba8uint",t.RGBA8Sint="rgba8sint",t.BGRA8Unorm="bgra8unorm",t.BGRA8UnormSRGB="bgra8unorm-srgb",t.RGB10A2Unorm="rgb10a2unorm",t.RG11B10Float="rg11b10float",t.RG32Uint="rg32uint",t.RG32Sint="rg32sint",t.RG32Float="rg32float",t.RGBA16Uint="rgba16uint",t.RGBA16Sint="rgba16sint",t.RGBA16Float="rgba16float",t.RGBA32Uint="rgba32uint",t.RGBA32Sint="rgba32sint",t.RGBA32Float="rgba32float",t.Depth32Float="depth32float",t.Depth24Plus="depth24plus",t.Depth24PlusStencil8="depth24plus-stencil8"}(e.TextureFormat||(e.TextureFormat={})),function(t){t.Float="float",t.Sint="sint",t.Uint="uint"}(e.TextureComponentType||(e.TextureComponentType={})),function(t){t.E1d="1d",t.E2d="2d",t.E2dArray="2d-array",t.Cube="cube",t.CubeArray="cube-array",t.E3d="3d"}(e.TextureViewDimension||(e.TextureViewDimension={})),function(t){t.Uchar2="uchar2",t.Uchar4="uchar4",t.Char2="char2",t.Char4="char4",t.Uchar2Norm="uchar2norm",t.Uchar4Norm="uchar4norm",t.Char2Norm="char2norm",t.Char4Norm="char4norm",t.Ushort2="ushort2",t.Ushort4="ushort4",t.Short2="short2",t.Short4="short4",t.Ushort2Norm="ushort2norm",t.Ushort4Norm="ushort4norm",t.Short2Norm="short2norm",t.Short4Norm="short4norm",t.Half2="half2",t.Half4="half4",t.Float="float",t.Float2="float2",t.Float3="float3",t.Float4="float4",t.Uint="uint",t.Uint2="uint2",t.Uint3="uint3",t.Uint4="uint4",t.Int="int",t.Int2="int2",t.Int3="int3",t.Int4="int4"}(e.VertexFormat||(e.VertexFormat={})),function(t){t.All="all",t.StencilOnly="stencil-only",t.DepthOnly="depth-only"}(e.TextureAspect||(e.TextureAspect={})),function(t){t.Error="error",t.Warning="warning",t.Info="info"}(e.CompilationMessageType||(e.CompilationMessageType={})),function(t){t.Occlusion="occlusion"}(e.QueryType||(e.QueryType={})),function(t){t[t.MapRead=1]="MapRead",t[t.MapWrite=2]="MapWrite",t[t.CopySrc=4]="CopySrc",t[t.CopyDst=8]="CopyDst",t[t.Index=16]="Index",t[t.Vertex=32]="Vertex",t[t.Uniform=64]="Uniform",t[t.Storage=128]="Storage",t[t.Indirect=256]="Indirect",t[t.QueryResolve=512]="QueryResolve"}(e.BufferUsage||(e.BufferUsage={})),function(t){t[t.Red=1]="Red",t[t.Green=2]="Green",t[t.Blue=4]="Blue",t[t.Alpha=8]="Alpha",t[t.All=15]="All"}(e.ColorWrite||(e.ColorWrite={})),function(t){t[t.Vertex=1]="Vertex",t[t.Fragment=2]="Fragment",t[t.Compute=4]="Compute"}(e.ShaderStage||(e.ShaderStage={})),function(t){t[t.CopySrc=1]="CopySrc",t[t.CopyDst=2]="CopyDst",t[t.Sampled=4]="Sampled",t[t.Storage=8]="Storage",t[t.OutputAttachment=16]="OutputAttachment"}(e.TextureUsage||(e.TextureUsage={})),function(t){t[t.Read=1]="Read",t[t.Write=2]="Write"}(e.MapMode||(e.MapMode={}))})(xn);function WX(){if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}var gGe={}.toString,bGe=function(t,n){return gGe.call(t)==="[object "+n+"]"};const EGe=function(e){return Array.isArray?Array.isArray(e):bGe(e,"Array")};var SGe=9007199254740991,wGe="[object Arguments]",OGe="[object Array]",_Ge="[object Boolean]",TGe="[object Date]",CGe="[object Error]",AGe="[object Function]",PGe="[object Map]",xGe="[object Number]",MGe="[object Object]",NGe="[object RegExp]",RGe="[object Set]",IGe="[object String]",DGe="[object WeakMap]",kGe="[object ArrayBuffer]",LGe="[object DataView]",$Ge="[object Float32Array]",BGe="[object Float64Array]",jGe="[object Int8Array]",FGe="[object Int16Array]",zGe="[object Int32Array]",UGe="[object Uint8Array]",VGe="[object Uint8ClampedArray]",HGe="[object Uint16Array]",GGe="[object Uint32Array]",Uo={};Uo[$Ge]=Uo[BGe]=Uo[jGe]=Uo[FGe]=Uo[zGe]=Uo[UGe]=Uo[VGe]=Uo[HGe]=Uo[GGe]=!0;Uo[wGe]=Uo[OGe]=Uo[kGe]=Uo[_Ge]=Uo[LGe]=Uo[TGe]=Uo[CGe]=Uo[AGe]=Uo[PGe]=Uo[xGe]=Uo[MGe]=Uo[NGe]=Uo[RGe]=Uo[IGe]=Uo[DGe]=!1;var WGe=Object.prototype,KGe=WGe.toString;function XGe(e){return ZGe(e)&&YGe(e.length)&&!!Uo[KGe.call(e)]}function YGe(e){return typeof e=="number"&&e>-1&&e%1===0&&e<=SGe}function ZGe(e){return!!e&&wc(e)==="object"}var KX=XGe,h5,p5,v5,y5,rw,m5,g5,b5;function E5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function S5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E5(Object(n),!0).forEach(function(r){Gt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var w5=(h5=so(),p5=lr(qt.RenderEngine),v5=lr(qt.ConfigService),h5(y5=(rw=(b5=function(){function e(){Qn(this,e),ar(this,"engine",m5,this),ar(this,"configService",g5,this),this.entity=cu(),this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return vr(e,[{key:"init",value:function(){var n=this.configService.get(),r=n.canvas,o=n.engineOptions;this.initPromise=this.engine.init(S5({canvas:r||WX(),swapChainFormat:xn.TextureFormat.BGRA8Unorm,antialiasing:!1},o))}},{key:"setBundle",value:function(n){this.compiledBundle=JSON.parse(JSON.stringify(n))}},{key:"setDispatch",value:function(n){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=n),this}},{key:"setMaxIteration",value:function(n){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=n),this}},{key:"setBinding",value:function(n,r){var o=this;if(typeof n=="string"){var i=SR(r)||KX(r)||EGe(r);if(this.compiledBundle&&this.compiledBundle.context){var a=this.compiledBundle.context.defines.find(function(f){return f.name===n});if(a)return a.value=r,this;var s=this.compiledBundle.context.uniforms.find(function(f){return f.name===n});s&&(i?(s.data=r,s.isReferer=!1,s.storageClass===nd.Uniform?this.model&&this.model.updateUniform(n,r):this.model&&this.model.updateBuffer(n,r)):(s.isReferer=!0,s.data=r))}}else Object.keys(n).forEach(function(f){o.setBinding(f,n[f])});return this}},{key:"execute",value:function(){var t=ro(Hn.mark(function r(){var o=this,i,a,s=arguments;return Hn.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(i=s.length>0&&s[0]!==void 0?s[0]:1,!this.dirty){d.next=6;break}return this.compiledBundle.context&&(i>1?this.compiledBundle.context.maxIteration=i:this.compiledBundle.context.maxIteration++),d.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter(function(h){var v=h.isReferer;return v}).forEach(function(h){var v=h.data,y=h.name;o.model.confirmInput(v.model,y)}),a=0;a<i;a++)this.model.run();return this.engine.endFrame(),d.abrupt("return",this);case 12:case"end":return d.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"getOutput",value:function(){var t=ro(Hn.mark(function r(){return Hn.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.model.readData());case 1:case"end":return i.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"compile",value:function(){var t=ro(Hn.mark(function r(){var o,i,a;return Hn.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this.initPromise;case 2:return o=S5({},this.compiledBundle.context),i=this.engine.supportWebGPU?this.engine.useWGSL?qg.WGSL:qg.GLSL450:qg.GLSL100,a=this.compiledBundle.shaders[i],o.defines.filter(function(d){return d.runtime}).forEach(function(d){var h="".concat(mGe).concat(d.name);a=a.replace(h,"".concat(d.value))}),o.shader=a,o.uniforms.forEach(function(d){if(!d.data&&d.storageClass===nd.StorageBuffer){var h=1;d.type===Wh.FloatArray?h=1:d.type===Wh.Vector4FloatArray&&(h=4),d.data=new Float32Array(o.output.length*h).fill(0)}}),this.compiledBundle.context=o,f.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=f.sent;case 12:case"end":return f.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()}]),e}(),b5),m5=sr(rw.prototype,"engine",[p5],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g5=sr(rw.prototype,"configService",[v5],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rw))||y5),O5,_5,T5,oP,C5,A5,P5,XX=(O5=so(),_5=lr(qt.MaterialComponentManager),O5(T5=(oP=(P5=A5=function(){function e(){Qn(this,e),this.config=void 0,ar(this,"material",C5,this),this.entity=void 0,this.component=void 0}return vr(e,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(n){this.config=n}},{key:"setEntity",value:function(n,r){this.entity=n,this.component=this.material.create(n),this.component.entity=n,this.component.type=r,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),e}(),A5.BASIC="basic",P5),C5=sr(oP.prototype,"material",[_5],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oP))||T5),x5,M5,N5,R5,I5,D5,k5,wv,L5,$5,B5,j5,ow,F5,Ff=(x5=so(),M5=lr(qt.MeshComponentManager),N5=lr(qt.CullableComponentManager),R5=lr(qt.TransformComponentManager),I5=lr(qt.Systems),D5=mu(qt.SceneGraphSystem),x5(k5=(wv=(F5=ow=function(){function e(){Qn(this,e),this.attributes={},this.config=void 0,ar(this,"mesh",L5,this),ar(this,"cullable",$5,this),ar(this,"transform",B5,this),ar(this,"sceneGraphSystem",j5,this),this.meshComponent=void 0,this.transformComponent=void 0,this.entity=void 0}return vr(e,[{key:"getEntity",value:function(){return this.entity}},{key:"getTransformComponent",value:function(){return this.transformComponent}},{key:"getMeshComponent",value:function(){return this.meshComponent}},{key:"setConfig",value:function(n){this.config=n}},{key:"setEntity",value:function(n){this.entity=n,this.cullable.create(n),this.meshComponent=this.mesh.create(n),this.transformComponent=this.transform.create(n),this.onEntityCreated()}},{key:"setMaterial",value:function(n){return this.meshComponent.material=n,this}},{key:"setGeometry",value:function(n){return this.meshComponent.geometry=n,this}},{key:"setAttributes",value:function(n){var r=this;Object.keys(n).forEach(function(o){n[o]!==void 0&&n[o]!==r.attributes[o]&&(r.onAttributeChanged({name:o,data:n[o]}),r.attributes[o]=n[o])})}},{key:"setVisible",value:function(n){var r=this;return this.meshComponent.visible=n,this.meshComponent.children.forEach(function(o){var i=r.mesh.getComponentByEntity(o);i&&(i.visible=n)}),this}},{key:"isVisible",value:function(){return this.meshComponent.visible}},{key:"attach",value:function(n){return this.sceneGraphSystem.attach(this.entity,n.entity),this}},{key:"detach",value:function(){return this.sceneGraphSystem.detach(this.entity),this}},{key:"detachChildren",value:function(){return this.sceneGraphSystem.detachChildren(this.entity),this}},{key:"onEntityCreated",value:function(){}},{key:"onAttributeChanged",value:function(n){var r=n.name,o=n.data;this.meshComponent&&this.meshComponent.material&&this.meshComponent.material.setUniform(this.convertAttributeName2UniformName(r),o)}},{key:"convertAttributeName2UniformName",value:function(n){return n}}]),e}(),ow.POINT="point",ow.LINE="line",ow.GRID="grid",F5),L5=sr(wv.prototype,"mesh",[M5],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$5=sr(wv.prototype,"cullable",[N5],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B5=sr(wv.prototype,"transform",[R5],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j5=sr(wv.prototype,"sceneGraphSystem",[I5,D5],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wv))||k5),YX={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(is,function(){var n=function(Q){return Q instanceof Uint8Array||Q instanceof Uint16Array||Q instanceof Uint32Array||Q instanceof Int8Array||Q instanceof Int16Array||Q instanceof Int32Array||Q instanceof Float32Array||Q instanceof Float64Array||Q instanceof Uint8ClampedArray},r=function(Q,Ee){for(var Fe=Object.keys(Ee),Pt=0;Pt<Fe.length;++Pt)Q[Fe[Pt]]=Ee[Fe[Pt]];return Q},o=`
`;function i(Q){return typeof atob<"u"?atob(Q):"base64:"+Q}function a(Q){var Ee=new Error("(regl) "+Q);throw console.error(Ee),Ee}function s(Q,Ee){Q||a(Ee)}function f(Q){return Q?": "+Q:""}function d(Q,Ee,Fe){Q in Ee||a("unknown parameter ("+Q+")"+f(Fe)+". possible values: "+Object.keys(Ee).join())}function h(Q,Ee){n(Q)||a("invalid parameter type"+f(Ee)+". must be a typed array")}function v(Q,Ee){switch(Ee){case"number":return typeof Q=="number";case"object":return typeof Q=="object";case"string":return typeof Q=="string";case"boolean":return typeof Q=="boolean";case"function":return typeof Q=="function";case"undefined":return typeof Q>"u";case"symbol":return typeof Q=="symbol"}}function y(Q,Ee,Fe){v(Q,Ee)||a("invalid parameter type"+f(Fe)+". expected "+Ee+", got "+typeof Q)}function m(Q,Ee){Q>=0&&(Q|0)===Q||a("invalid parameter type, ("+Q+")"+f(Ee)+". must be a nonnegative integer")}function b(Q,Ee,Fe){Ee.indexOf(Q)<0&&a("invalid value"+f(Fe)+". must be one of: "+Ee)}var S=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function O(Q){Object.keys(Q).forEach(function(Ee){S.indexOf(Ee)<0&&a('invalid regl constructor argument "'+Ee+'". must be one of '+S)})}function _(Q,Ee){for(Q=Q+"";Q.length<Ee;)Q=" "+Q;return Q}function A(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function T(Q,Ee){this.number=Q,this.line=Ee,this.errors=[]}function P(Q,Ee,Fe){this.file=Q,this.line=Ee,this.message=Fe}function x(){var Q=new Error,Ee=(Q.stack||Q).toString(),Fe=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(Ee);if(Fe)return Fe[1];var Pt=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(Ee);return Pt?Pt[1]:"unknown"}function N(){var Q=new Error,Ee=(Q.stack||Q).toString(),Fe=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(Ee);if(Fe)return Fe[1];var Pt=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(Ee);return Pt?Pt[1]:"unknown"}function L(Q,Ee){var Fe=Q.split(`
`),Pt=1,Ut=0,Ct={unknown:new A,0:new A};Ct.unknown.name=Ct[0].name=Ee||x(),Ct.unknown.lines.push(new T(0,""));for(var Rt=0;Rt<Fe.length;++Rt){var nn=Fe[Rt],on=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(nn);if(on)switch(on[1]){case"line":var fn=/(\d+)(\s+\d+)?/.exec(on[2]);fn&&(Pt=fn[1]|0,fn[2]&&(Ut=fn[2]|0,Ut in Ct||(Ct[Ut]=new A)));break;case"define":var an=/SHADER_NAME(_B64)?\s+(.*)$/.exec(on[2]);an&&(Ct[Ut].name=an[1]?i(an[2]):an[2]);break}Ct[Ut].lines.push(new T(Pt++,nn))}return Object.keys(Ct).forEach(function(en){var On=Ct[en];On.lines.forEach(function(rn){On.index[rn.number]=rn})}),Ct}function j(Q){var Ee=[];return Q.split(`
`).forEach(function(Fe){if(!(Fe.length<5)){var Pt=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(Fe);Pt?Ee.push(new P(Pt[1]|0,Pt[2]|0,Pt[3].trim())):Fe.length>0&&Ee.push(new P("unknown",0,Fe))}}),Ee}function k(Q,Ee){Ee.forEach(function(Fe){var Pt=Q[Fe.file];if(Pt){var Ut=Pt.index[Fe.line];if(Ut){Ut.errors.push(Fe),Pt.hasErrors=!0;return}}Q.unknown.hasErrors=!0,Q.unknown.lines[0].errors.push(Fe)})}function F(Q,Ee,Fe,Pt,Ut){if(!Q.getShaderParameter(Ee,Q.COMPILE_STATUS)){var Ct=Q.getShaderInfoLog(Ee),Rt=Pt===Q.FRAGMENT_SHADER?"fragment":"vertex";K(Fe,"string",Rt+" shader source must be a string",Ut);var nn=L(Fe,Ut),on=j(Ct);k(nn,on),Object.keys(nn).forEach(function(fn){var an=nn[fn];if(!an.hasErrors)return;var en=[""],On=[""];function rn(mn,ft){en.push(mn),On.push(ft||"")}rn("file number "+fn+": "+an.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),an.lines.forEach(function(mn){if(mn.errors.length>0){rn(_(mn.number,4)+"|  ","background-color:yellow; font-weight:bold"),rn(mn.line+o,"color:red; background-color:yellow; font-weight:bold");var ft=0;mn.errors.forEach(function(Tt){var dn=Tt.message,Nn=/^\s*'(.*)'\s*:\s*(.*)$/.exec(dn);if(Nn){var Zt=Nn[1];switch(dn=Nn[2],Zt){case"assign":Zt="=";break}ft=Math.max(mn.line.indexOf(Zt,ft),0)}else ft=0;rn(_("| ",6)),rn(_("^^^",ft+3)+o,"font-weight:bold"),rn(_("| ",6)),rn(dn+o,"font-weight:bold")}),rn(_("| ",6)+o)}else rn(_(mn.number,4)+"|  "),rn(mn.line+o,"color:red")}),typeof document<"u"&&!window.chrome?(On[0]=en.join("%c"),console.log.apply(console,On)):console.log(en.join(""))}),s.raise("Error compiling "+Rt+" shader, "+nn[0].name)}}function z(Q,Ee,Fe,Pt,Ut){if(!Q.getProgramParameter(Ee,Q.LINK_STATUS)){var Ct=Q.getProgramInfoLog(Ee),Rt=L(Fe,Ut),nn=L(Pt,Ut),on='Error linking program with vertex shader, "'+nn[0].name+'", and fragment shader "'+Rt[0].name+'"';typeof document<"u"?console.log("%c"+on+o+"%c"+Ct,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(on+o+Ct),s.raise(on)}}function M(Q){Q._commandRef=x()}function D(Q,Ee,Fe,Pt){M(Q);function Ut(on){return on?Pt.id(on):0}Q._fragId=Ut(Q.static.frag),Q._vertId=Ut(Q.static.vert);function Ct(on,fn){Object.keys(fn).forEach(function(an){on[Pt.id(an)]=!0})}var Rt=Q._uniformSet={};Ct(Rt,Ee.static),Ct(Rt,Ee.dynamic);var nn=Q._attributeSet={};Ct(nn,Fe.static),Ct(nn,Fe.dynamic),Q._hasCount="count"in Q.static||"count"in Q.dynamic||"elements"in Q.static||"elements"in Q.dynamic}function B(Q,Ee){var Fe=N();a(Q+" in command "+(Ee||x())+(Fe==="unknown"?"":" called from "+Fe))}function V(Q,Ee,Fe){Q||B(Ee,Fe||x())}function Y(Q,Ee,Fe,Pt){Q in Ee||B("unknown parameter ("+Q+")"+f(Fe)+". possible values: "+Object.keys(Ee).join(),Pt||x())}function K(Q,Ee,Fe,Pt){v(Q,Ee)||B("invalid parameter type"+f(Fe)+". expected "+Ee+", got "+typeof Q,Pt||x())}function X(Q){Q()}function W(Q,Ee,Fe){Q.texture?b(Q.texture._texture.internalformat,Ee,"unsupported texture format for attachment"):b(Q.renderbuffer._renderbuffer.format,Fe,"unsupported renderbuffer format for attachment")}var ie=33071,oe=9728,ee=9984,ue=9985,Ne=9986,$e=9987,Ie=5120,Le=5121,he=5122,te=5123,ae=5124,Ce=5125,Ze=5126,se=32819,de=32820,ze=33635,lt=34042,Re=36193,qe={};qe[Ie]=qe[Le]=1,qe[he]=qe[te]=qe[Re]=qe[ze]=qe[se]=qe[de]=2,qe[ae]=qe[Ce]=qe[Ze]=qe[lt]=4;function pe(Q,Ee){return Q===de||Q===se||Q===ze?2:Q===lt?4:qe[Q]*Ee}function Ue(Q){return!(Q&Q-1)&&!!Q}function Ke(Q,Ee,Fe){var Pt,Ut=Ee.width,Ct=Ee.height,Rt=Ee.channels;s(Ut>0&&Ut<=Fe.maxTextureSize&&Ct>0&&Ct<=Fe.maxTextureSize,"invalid texture shape"),(Q.wrapS!==ie||Q.wrapT!==ie)&&s(Ue(Ut)&&Ue(Ct),"incompatible wrap mode for texture, both width and height must be power of 2"),Ee.mipmask===1?Ut!==1&&Ct!==1&&s(Q.minFilter!==ee&&Q.minFilter!==Ne&&Q.minFilter!==ue&&Q.minFilter!==$e,"min filter requires mipmap"):(s(Ue(Ut)&&Ue(Ct),"texture must be a square power of 2 to support mipmapping"),s(Ee.mipmask===(Ut<<1)-1,"missing or incomplete mipmap data")),Ee.type===Ze&&(Fe.extensions.indexOf("oes_texture_float_linear")<0&&s(Q.minFilter===oe&&Q.magFilter===oe,"filter not supported, must enable oes_texture_float_linear"),s(!Q.genMipmaps,"mipmap generation not supported with float textures"));var nn=Ee.images;for(Pt=0;Pt<16;++Pt)if(nn[Pt]){var on=Ut>>Pt,fn=Ct>>Pt;s(Ee.mipmask&1<<Pt,"missing mipmap data");var an=nn[Pt];if(s(an.width===on&&an.height===fn,"invalid shape for mip images"),s(an.format===Ee.format&&an.internalformat===Ee.internalformat&&an.type===Ee.type,"incompatible type for mip image"),!an.compressed)if(an.data){var en=Math.ceil(pe(an.type,Rt)*on/an.unpackAlignment)*an.unpackAlignment;s(an.data.byteLength===en*fn,"invalid data for image, buffer size is inconsistent with image format")}else an.element||an.copy}else Q.genMipmaps||s((Ee.mipmask&1<<Pt)===0,"extra mipmap data");Ee.compressed&&s(!Q.genMipmaps,"mipmap generation for compressed images not supported")}function Ve(Q,Ee,Fe,Pt){var Ut=Q.width,Ct=Q.height,Rt=Q.channels;s(Ut>0&&Ut<=Pt.maxTextureSize&&Ct>0&&Ct<=Pt.maxTextureSize,"invalid texture shape"),s(Ut===Ct,"cube map must be square"),s(Ee.wrapS===ie&&Ee.wrapT===ie,"wrap mode not supported by cube map");for(var nn=0;nn<Fe.length;++nn){var on=Fe[nn];s(on.width===Ut&&on.height===Ct,"inconsistent cube map face shape"),Ee.genMipmaps&&(s(!on.compressed,"can not generate mipmap for compressed textures"),s(on.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var fn=on.images,an=0;an<16;++an){var en=fn[an];if(en){var On=Ut>>an,rn=Ct>>an;s(on.mipmask&1<<an,"missing mipmap data"),s(en.width===On&&en.height===rn,"invalid shape for mip images"),s(en.format===Q.format&&en.internalformat===Q.internalformat&&en.type===Q.type,"incompatible type for mip image"),en.compressed||(en.data?s(en.data.byteLength===On*rn*Math.max(pe(en.type,Rt),en.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):en.element||en.copy)}}}}var ne=r(s,{optional:X,raise:a,commandRaise:B,command:V,parameter:d,commandParameter:Y,constructor:O,type:y,commandType:K,isTypedArray:h,nni:m,oneOf:b,shaderError:F,linkError:z,callSite:N,saveCommandRef:M,saveDrawInfo:D,framebufferFormat:W,guessCommand:x,texture2D:Ke,textureCube:Ve}),fe=0,Me=0,it=5,Oe=6;function _e(Q,Ee){this.id=fe++,this.type=Q,this.data=Ee}function nt(Q){return Q.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Se(Q){if(Q.length===0)return[];var Ee=Q.charAt(0),Fe=Q.charAt(Q.length-1);if(Q.length>1&&Ee===Fe&&(Ee==='"'||Ee==="'"))return['"'+nt(Q.substr(1,Q.length-2))+'"'];var Pt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Q);if(Pt)return Se(Q.substr(0,Pt.index)).concat(Se(Pt[1])).concat(Se(Q.substr(Pt.index+Pt[0].length)));var Ut=Q.split(".");if(Ut.length===1)return['"'+nt(Q)+'"'];for(var Ct=[],Rt=0;Rt<Ut.length;++Rt)Ct=Ct.concat(Se(Ut[Rt]));return Ct}function tt(Q){return"["+Se(Q).join("][")+"]"}function we(Q,Ee){return new _e(Q,tt(Ee+""))}function ht(Q){return typeof Q=="function"&&!Q._reglType||Q instanceof _e}function yt(Q,Ee){if(typeof Q=="function")return new _e(Me,Q);if(typeof Q=="number"||typeof Q=="boolean")return new _e(it,Q);if(Array.isArray(Q))return new _e(Oe,Q.map((Fe,Pt)=>yt(Fe,Ee+"["+Pt+"]")));if(Q instanceof _e)return Q;ne(!1,"invalid option type in uniform "+Ee)}var Et={DynamicVariable:_e,define:we,isDynamic:ht,unbox:yt,accessor:tt},Wt={next:typeof requestAnimationFrame=="function"?function(Q){return requestAnimationFrame(Q)}:function(Q){return setTimeout(Q,16)},cancel:typeof cancelAnimationFrame=="function"?function(Q){return cancelAnimationFrame(Q)}:clearTimeout},ur=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function tn(){var Q={"":0},Ee=[""];return{id:function(Fe){var Pt=Q[Fe];return Pt||(Pt=Q[Fe]=Ee.length,Ee.push(Fe),Pt)},str:function(Fe){return Ee[Fe]}}}function Dn(Q,Ee,Fe){var Pt=document.createElement("canvas");r(Pt.style,{border:0,margin:0,padding:0,top:0,left:0}),Q.appendChild(Pt),Q===document.body&&(Pt.style.position="absolute",r(Q.style,{margin:0,padding:0}));function Ut(){var nn=window.innerWidth,on=window.innerHeight;if(Q!==document.body){var fn=Q.getBoundingClientRect();nn=fn.right-fn.left,on=fn.bottom-fn.top}Pt.width=Fe*nn,Pt.height=Fe*on,r(Pt.style,{width:nn+"px",height:on+"px"})}var Ct;Q!==document.body&&typeof ResizeObserver=="function"?(Ct=new ResizeObserver(function(){setTimeout(Ut)}),Ct.observe(Q)):window.addEventListener("resize",Ut,!1);function Rt(){Ct?Ct.disconnect():window.removeEventListener("resize",Ut),Q.removeChild(Pt)}return Ut(),{canvas:Pt,onDestroy:Rt}}function vn(Q,Ee){function Fe(Pt){try{return Q.getContext(Pt,Ee)}catch{return null}}return Fe("webgl")||Fe("experimental-webgl")||Fe("webgl-experimental")}function Ln(Q){return typeof Q.nodeName=="string"&&typeof Q.appendChild=="function"&&typeof Q.getBoundingClientRect=="function"}function Ot(Q){return typeof Q.drawArrays=="function"||typeof Q.drawElements=="function"}function be(Q){return typeof Q=="string"?Q.split():(ne(Array.isArray(Q),"invalid extension array"),Q)}function We(Q){return typeof Q=="string"?(ne(typeof document<"u","not supported outside of DOM"),document.querySelector(Q)):Q}function rt(Q){var Ee=Q||{},Fe,Pt,Ut,Ct,Rt={},nn=[],on=[],fn=typeof window>"u"?1:window.devicePixelRatio,an=!1,en=function(mn){mn&&ne.raise(mn)},On=function(){};if(typeof Ee=="string"?(ne(typeof document<"u","selector queries only supported in DOM enviroments"),Fe=document.querySelector(Ee),ne(Fe,"invalid query string for element")):typeof Ee=="object"?Ln(Ee)?Fe=Ee:Ot(Ee)?(Ct=Ee,Ut=Ct.canvas):(ne.constructor(Ee),"gl"in Ee?Ct=Ee.gl:"canvas"in Ee?Ut=We(Ee.canvas):"container"in Ee&&(Pt=We(Ee.container)),"attributes"in Ee&&(Rt=Ee.attributes,ne.type(Rt,"object","invalid context attributes")),"extensions"in Ee&&(nn=be(Ee.extensions)),"optionalExtensions"in Ee&&(on=be(Ee.optionalExtensions)),"onDone"in Ee&&(ne.type(Ee.onDone,"function","invalid or missing onDone callback"),en=Ee.onDone),"profile"in Ee&&(an=!!Ee.profile),"pixelRatio"in Ee&&(fn=+Ee.pixelRatio,ne(fn>0,"invalid pixel ratio"))):ne.raise("invalid arguments to regl"),Fe&&(Fe.nodeName.toLowerCase()==="canvas"?Ut=Fe:Pt=Fe),!Ct){if(!Ut){ne(typeof document<"u","must manually specify webgl context outside of DOM environments");var rn=Dn(Pt||document.body,en,fn);if(!rn)return null;Ut=rn.canvas,On=rn.onDestroy}Rt.premultipliedAlpha===void 0&&(Rt.premultipliedAlpha=!0),Ct=vn(Ut,Rt)}return Ct?{gl:Ct,canvas:Ut,container:Pt,extensions:nn,optionalExtensions:on,pixelRatio:fn,profile:an,onDone:en,onDestroy:On}:(On(),en("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function vt(Q,Ee){var Fe={};function Pt(Rt){ne.type(Rt,"string","extension name must be string");var nn=Rt.toLowerCase(),on;try{on=Fe[nn]=Q.getExtension(nn)}catch{}return!!on}for(var Ut=0;Ut<Ee.extensions.length;++Ut){var Ct=Ee.extensions[Ut];if(!Pt(Ct))return Ee.onDestroy(),Ee.onDone('"'+Ct+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Ee.optionalExtensions.forEach(Pt),{extensions:Fe,restore:function(){Object.keys(Fe).forEach(function(Rt){if(Fe[Rt]&&!Pt(Rt))throw new Error("(regl): error restoring extension "+Rt)})}}}function Jt(Q,Ee){for(var Fe=Array(Q),Pt=0;Pt<Q;++Pt)Fe[Pt]=Ee(Pt);return Fe}var An=5120,Yn=5121,Jr=5122,ui=5123,ci=5124,Fs=5125,Oa=5126;function Dc(Q){for(var Ee=16;Ee<=1<<28;Ee*=16)if(Q<=Ee)return Ee;return 0}function Mi(Q){var Ee,Fe;return Ee=(Q>65535)<<4,Q>>>=Ee,Fe=(Q>255)<<3,Q>>>=Fe,Ee|=Fe,Fe=(Q>15)<<2,Q>>>=Fe,Ee|=Fe,Fe=(Q>3)<<1,Q>>>=Fe,Ee|=Fe,Ee|Q>>1}function Su(){var Q=Jt(8,function(){return[]});function Ee(Ct){var Rt=Dc(Ct),nn=Q[Mi(Rt)>>2];return nn.length>0?nn.pop():new ArrayBuffer(Rt)}function Fe(Ct){Q[Mi(Ct.byteLength)>>2].push(Ct)}function Pt(Ct,Rt){var nn=null;switch(Ct){case An:nn=new Int8Array(Ee(Rt),0,Rt);break;case Yn:nn=new Uint8Array(Ee(Rt),0,Rt);break;case Jr:nn=new Int16Array(Ee(2*Rt),0,Rt);break;case ui:nn=new Uint16Array(Ee(2*Rt),0,Rt);break;case ci:nn=new Int32Array(Ee(4*Rt),0,Rt);break;case Fs:nn=new Uint32Array(Ee(4*Rt),0,Rt);break;case Oa:nn=new Float32Array(Ee(4*Rt),0,Rt);break;default:return null}return nn.length!==Rt?nn.subarray(0,Rt):nn}function Ut(Ct){Fe(Ct.buffer)}return{alloc:Ee,free:Fe,allocType:Pt,freeType:Ut}}var Yr=Su();Yr.zero=Su();var ss=3408,zs=3410,Ha=3411,ls=3412,us=3413,cs=3414,_l=3415,hd=33901,Tl=33902,Cl=3379,kc=3386,Xn=34921,Lc=36347,pd=36348,_a=35661,up=35660,So=34930,sa=36349,cp=34076,Ly=34024,$y=7936,By=7937,$c=7938,fp=35724,Us=34047,vd=36063,yd=34852,wu=3553,dp=34067,Bc=34069,jy=33984,wo=6408,hp=5126,Fy=5121,pp=36160,vp=36053,zy=36064,yp=16384,Uy=function(Q,Ee){var Fe=1;Ee.ext_texture_filter_anisotropic&&(Fe=Q.getParameter(Us));var Pt=1,Ut=1;Ee.webgl_draw_buffers&&(Pt=Q.getParameter(yd),Ut=Q.getParameter(vd));var Ct=!!Ee.oes_texture_float;if(Ct){var Rt=Q.createTexture();Q.bindTexture(wu,Rt),Q.texImage2D(wu,0,wo,1,1,0,wo,hp,null);var nn=Q.createFramebuffer();if(Q.bindFramebuffer(pp,nn),Q.framebufferTexture2D(pp,zy,wu,Rt,0),Q.bindTexture(wu,null),Q.checkFramebufferStatus(pp)!==vp)Ct=!1;else{Q.viewport(0,0,1,1),Q.clearColor(1,0,0,1),Q.clear(yp);var on=Yr.allocType(hp,4);Q.readPixels(0,0,1,1,wo,hp,on),Q.getError()?Ct=!1:(Q.deleteFramebuffer(nn),Q.deleteTexture(Rt),Ct=on[0]===1),Yr.freeType(on)}}var fn=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),an=!0;if(!fn){var en=Q.createTexture(),On=Yr.allocType(Fy,36);Q.activeTexture(jy),Q.bindTexture(dp,en),Q.texImage2D(Bc,0,wo,3,3,0,wo,Fy,On),Yr.freeType(On),Q.bindTexture(dp,null),Q.deleteTexture(en),an=!Q.getError()}return{colorBits:[Q.getParameter(zs),Q.getParameter(Ha),Q.getParameter(ls),Q.getParameter(us)],depthBits:Q.getParameter(cs),stencilBits:Q.getParameter(_l),subpixelBits:Q.getParameter(ss),extensions:Object.keys(Ee).filter(function(rn){return!!Ee[rn]}),maxAnisotropic:Fe,maxDrawbuffers:Pt,maxColorAttachments:Ut,pointSizeDims:Q.getParameter(hd),lineWidthDims:Q.getParameter(Tl),maxViewportDims:Q.getParameter(kc),maxCombinedTextureUnits:Q.getParameter(_a),maxCubeMapSize:Q.getParameter(cp),maxRenderbufferSize:Q.getParameter(Ly),maxTextureUnits:Q.getParameter(So),maxTextureSize:Q.getParameter(Cl),maxAttributes:Q.getParameter(Xn),maxVertexUniforms:Q.getParameter(Lc),maxVertexTextureUnits:Q.getParameter(up),maxVaryingVectors:Q.getParameter(pd),maxFragmentUniforms:Q.getParameter(sa),glsl:Q.getParameter(fp),renderer:Q.getParameter(By),vendor:Q.getParameter($y),version:Q.getParameter($c),readFloat:Ct,npotTextureCube:an}};function la(Q){return!!Q&&typeof Q=="object"&&Array.isArray(Q.shape)&&Array.isArray(Q.stride)&&typeof Q.offset=="number"&&Q.shape.length===Q.stride.length&&(Array.isArray(Q.data)||n(Q.data))}var Wo=function(Q){return Object.keys(Q).map(function(Ee){return Q[Ee]})},jc={shape:Hy,flatten:Al};function Vy(Q,Ee,Fe){for(var Pt=0;Pt<Ee;++Pt)Fe[Pt]=Q[Pt]}function md(Q,Ee,Fe,Pt){for(var Ut=0,Ct=0;Ct<Ee;++Ct)for(var Rt=Q[Ct],nn=0;nn<Fe;++nn)Pt[Ut++]=Rt[nn]}function Ta(Q,Ee,Fe,Pt,Ut,Ct){for(var Rt=Ct,nn=0;nn<Ee;++nn)for(var on=Q[nn],fn=0;fn<Fe;++fn)for(var an=on[fn],en=0;en<Pt;++en)Ut[Rt++]=an[en]}function mp(Q,Ee,Fe,Pt,Ut){for(var Ct=1,Rt=Fe+1;Rt<Ee.length;++Rt)Ct*=Ee[Rt];var nn=Ee[Fe];if(Ee.length-Fe===4){var on=Ee[Fe+1],fn=Ee[Fe+2],an=Ee[Fe+3];for(Rt=0;Rt<nn;++Rt)Ta(Q[Rt],on,fn,an,Pt,Ut),Ut+=Ct}else for(Rt=0;Rt<nn;++Rt)mp(Q[Rt],Ee,Fe+1,Pt,Ut),Ut+=Ct}function Al(Q,Ee,Fe,Pt){var Ut=1;if(Ee.length)for(var Ct=0;Ct<Ee.length;++Ct)Ut*=Ee[Ct];else Ut=0;var Rt=Pt||Yr.allocType(Fe,Ut);switch(Ee.length){case 0:break;case 1:Vy(Q,Ee[0],Rt);break;case 2:md(Q,Ee[0],Ee[1],Rt);break;case 3:Ta(Q,Ee[0],Ee[1],Ee[2],Rt,0);break;default:mp(Q,Ee,0,Rt,0)}return Rt}function Hy(Q){for(var Ee=[],Fe=Q;Fe.length;Fe=Fe[0])Ee.push(Fe.length);return Ee}var Vs={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Gy=5120,gd=5122,gp=5124,Wy=5121,bd=5123,bp=5125,Ep=5126,Sp=5126,fs={int8:Gy,int16:gd,int32:gp,uint8:Wy,uint16:bd,uint32:bp,float:Ep,float32:Sp},Ky=35048,wp=35040,Fc={dynamic:Ky,stream:wp,static:35044},zc=jc.flatten,Ed=jc.shape,Op=35044,Xy=35040,ds=5121,hs=5126,Ni=[];Ni[5120]=1,Ni[5122]=2,Ni[5124]=4,Ni[5121]=1,Ni[5123]=2,Ni[5125]=4,Ni[5126]=4;function Uc(Q){return Vs[Object.prototype.toString.call(Q)]|0}function _p(Q,Ee){for(var Fe=0;Fe<Ee.length;++Fe)Q[Fe]=Ee[Fe]}function Sd(Q,Ee,Fe,Pt,Ut,Ct,Rt){for(var nn=0,on=0;on<Fe;++on)for(var fn=0;fn<Pt;++fn)Q[nn++]=Ee[Ut*on+Ct*fn+Rt]}function Yy(Q,Ee,Fe,Pt){var Ut=0,Ct={};function Rt(ft){this.id=Ut++,this.buffer=Q.createBuffer(),this.type=ft,this.usage=Op,this.byteLength=0,this.dimension=1,this.dtype=ds,this.persistentData=null,Fe.profile&&(this.stats={size:0})}Rt.prototype.bind=function(){Q.bindBuffer(this.type,this.buffer)},Rt.prototype.destroy=function(){On(this)};var nn=[];function on(ft,Tt){var dn=nn.pop();return dn||(dn=new Rt(ft)),dn.bind(),en(dn,Tt,Xy,0,1,!1),dn}function fn(ft){nn.push(ft)}function an(ft,Tt,dn){ft.byteLength=Tt.byteLength,Q.bufferData(ft.type,Tt,dn)}function en(ft,Tt,dn,Nn,Zt,sn){var Qt;if(ft.usage=dn,Array.isArray(Tt)){if(ft.dtype=Nn||hs,Tt.length>0){var Vt;if(Array.isArray(Tt[0])){Qt=Ed(Tt);for(var $t=1,Lt=1;Lt<Qt.length;++Lt)$t*=Qt[Lt];ft.dimension=$t,Vt=zc(Tt,Qt,ft.dtype),an(ft,Vt,dn),sn?ft.persistentData=Vt:Yr.freeType(Vt)}else if(typeof Tt[0]=="number"){ft.dimension=Zt;var Rn=Yr.allocType(ft.dtype,Tt.length);_p(Rn,Tt),an(ft,Rn,dn),sn?ft.persistentData=Rn:Yr.freeType(Rn)}else n(Tt[0])?(ft.dimension=Tt[0].length,ft.dtype=Nn||Uc(Tt[0])||hs,Vt=zc(Tt,[Tt.length,Tt[0].length],ft.dtype),an(ft,Vt,dn),sn?ft.persistentData=Vt:Yr.freeType(Vt)):ne.raise("invalid buffer data")}}else if(n(Tt))ft.dtype=Nn||Uc(Tt),ft.dimension=Zt,an(ft,Tt,dn),sn&&(ft.persistentData=new Uint8Array(new Uint8Array(Tt.buffer)));else if(la(Tt)){Qt=Tt.shape;var dr=Tt.stride,hn=Tt.offset,Yt=0,Xt=0,or=0,wr=0;Qt.length===1?(Yt=Qt[0],Xt=1,or=dr[0],wr=0):Qt.length===2?(Yt=Qt[0],Xt=Qt[1],or=dr[0],wr=dr[1]):ne.raise("invalid shape"),ft.dtype=Nn||Uc(Tt.data)||hs,ft.dimension=Xt;var Bn=Yr.allocType(ft.dtype,Yt*Xt);Sd(Bn,Tt.data,Yt,Xt,or,wr,hn),an(ft,Bn,dn),sn?ft.persistentData=Bn:Yr.freeType(Bn)}else Tt instanceof ArrayBuffer?(ft.dtype=ds,ft.dimension=Zt,an(ft,Tt,dn),sn&&(ft.persistentData=new Uint8Array(new Uint8Array(Tt)))):ne.raise("invalid buffer data")}function On(ft){Ee.bufferCount--,Pt(ft);var Tt=ft.buffer;ne(Tt,"buffer must not be deleted already"),Q.deleteBuffer(Tt),ft.buffer=null,delete Ct[ft.id]}function rn(ft,Tt,dn,Nn){Ee.bufferCount++;var Zt=new Rt(Tt);Ct[Zt.id]=Zt;function sn($t){var Lt=Op,Rn=null,dr=0,hn=0,Yt=1;return Array.isArray($t)||n($t)||la($t)||$t instanceof ArrayBuffer?Rn=$t:typeof $t=="number"?dr=$t|0:$t&&(ne.type($t,"object","buffer arguments must be an object, a number or an array"),"data"in $t&&(ne(Rn===null||Array.isArray(Rn)||n(Rn)||la(Rn),"invalid data for buffer"),Rn=$t.data),"usage"in $t&&(ne.parameter($t.usage,Fc,"invalid buffer usage"),Lt=Fc[$t.usage]),"type"in $t&&(ne.parameter($t.type,fs,"invalid buffer type"),hn=fs[$t.type]),"dimension"in $t&&(ne.type($t.dimension,"number","invalid dimension"),Yt=$t.dimension|0),"length"in $t&&(ne.nni(dr,"buffer length must be a nonnegative integer"),dr=$t.length|0)),Zt.bind(),Rn?en(Zt,Rn,Lt,hn,Yt,Nn):(dr&&Q.bufferData(Zt.type,dr,Lt),Zt.dtype=hn||ds,Zt.usage=Lt,Zt.dimension=Yt,Zt.byteLength=dr),Fe.profile&&(Zt.stats.size=Zt.byteLength*Ni[Zt.dtype]),sn}function Qt($t,Lt){ne(Lt+$t.byteLength<=Zt.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+$t.byteLength+" starting from offset "+Lt+" to a buffer of size "+Zt.byteLength),Q.bufferSubData(Zt.type,Lt,$t)}function Vt($t,Lt){var Rn=(Lt||0)|0,dr;if(Zt.bind(),n($t)||$t instanceof ArrayBuffer)Qt($t,Rn);else if(Array.isArray($t)){if($t.length>0)if(typeof $t[0]=="number"){var hn=Yr.allocType(Zt.dtype,$t.length);_p(hn,$t),Qt(hn,Rn),Yr.freeType(hn)}else if(Array.isArray($t[0])||n($t[0])){dr=Ed($t);var Yt=zc($t,dr,Zt.dtype);Qt(Yt,Rn),Yr.freeType(Yt)}else ne.raise("invalid buffer data")}else if(la($t)){dr=$t.shape;var Xt=$t.stride,or=0,wr=0,Bn=0,Mr=0;dr.length===1?(or=dr[0],wr=1,Bn=Xt[0],Mr=0):dr.length===2?(or=dr[0],wr=dr[1],Bn=Xt[0],Mr=Xt[1]):ne.raise("invalid shape");var pr=Array.isArray($t.data)?Zt.dtype:Uc($t.data),Ar=Yr.allocType(pr,or*wr);Sd(Ar,$t.data,or,wr,Bn,Mr,$t.offset),Qt(Ar,Rn),Yr.freeType(Ar)}else ne.raise("invalid data for buffer subdata");return sn}return dn||sn(ft),sn._reglType="buffer",sn._buffer=Zt,sn.subdata=Vt,Fe.profile&&(sn.stats=Zt.stats),sn.destroy=function(){On(Zt)},sn}function mn(){Wo(Ct).forEach(function(ft){ft.buffer=Q.createBuffer(),Q.bindBuffer(ft.type,ft.buffer),Q.bufferData(ft.type,ft.persistentData||ft.byteLength,ft.usage)})}return Fe.profile&&(Ee.getTotalBufferSize=function(){var ft=0;return Object.keys(Ct).forEach(function(Tt){ft+=Ct[Tt].stats.size}),ft}),{create:rn,createStream:on,destroyStream:fn,clear:function(){Wo(Ct).forEach(On),nn.forEach(On)},getBuffer:function(ft){return ft&&ft._buffer instanceof Rt?ft._buffer:null},restore:mn,_initBuffer:en}}var Vc=0,Zy=0,Jy=1,Pl=1,ps=4,Qy=4,xl={points:Vc,point:Zy,lines:Jy,line:Pl,triangles:ps,triangle:Qy,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},qy=0,Ca=1,Aa=4,Ou=5120,Ml=5121,_u=5122,Ga=5123,Hs=5124,Wi=5125,Ki=34963,Tu=35040,Pa=35044;function ua(Q,Ee,Fe,Pt){var Ut={},Ct=0,Rt={uint8:Ml,uint16:Ga};Ee.oes_element_index_uint&&(Rt.uint32=Wi);function nn(mn){this.id=Ct++,Ut[this.id]=this,this.buffer=mn,this.primType=Aa,this.vertCount=0,this.type=0}nn.prototype.bind=function(){this.buffer.bind()};var on=[];function fn(mn){var ft=on.pop();return ft||(ft=new nn(Fe.create(null,Ki,!0,!1)._buffer)),en(ft,mn,Tu,-1,-1,0,0),ft}function an(mn){on.push(mn)}function en(mn,ft,Tt,dn,Nn,Zt,sn){mn.buffer.bind();var Qt;if(ft){var Vt=sn;!sn&&(!n(ft)||la(ft)&&!n(ft.data))&&(Vt=Ee.oes_element_index_uint?Wi:Ga),Fe._initBuffer(mn.buffer,ft,Tt,Vt,3)}else Q.bufferData(Ki,Zt,Tt),mn.buffer.dtype=Qt||Ml,mn.buffer.usage=Tt,mn.buffer.dimension=3,mn.buffer.byteLength=Zt;if(Qt=sn,!sn){switch(mn.buffer.dtype){case Ml:case Ou:Qt=Ml;break;case Ga:case _u:Qt=Ga;break;case Wi:case Hs:Qt=Wi;break;default:ne.raise("unsupported type for element array")}mn.buffer.dtype=Qt}mn.type=Qt,ne(Qt!==Wi||!!Ee.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var $t=Nn;$t<0&&($t=mn.buffer.byteLength,Qt===Ga?$t>>=1:Qt===Wi&&($t>>=2)),mn.vertCount=$t;var Lt=dn;if(dn<0){Lt=Aa;var Rn=mn.buffer.dimension;Rn===1&&(Lt=qy),Rn===2&&(Lt=Ca),Rn===3&&(Lt=Aa)}mn.primType=Lt}function On(mn){Pt.elementsCount--,ne(mn.buffer!==null,"must not double destroy elements"),delete Ut[mn.id],mn.buffer.destroy(),mn.buffer=null}function rn(mn,ft){var Tt=Fe.create(null,Ki,!0),dn=new nn(Tt._buffer);Pt.elementsCount++;function Nn(Zt){if(!Zt)Tt(),dn.primType=Aa,dn.vertCount=0,dn.type=Ml;else if(typeof Zt=="number")Tt(Zt),dn.primType=Aa,dn.vertCount=Zt|0,dn.type=Ml;else{var sn=null,Qt=Pa,Vt=-1,$t=-1,Lt=0,Rn=0;Array.isArray(Zt)||n(Zt)||la(Zt)?sn=Zt:(ne.type(Zt,"object","invalid arguments for elements"),"data"in Zt&&(sn=Zt.data,ne(Array.isArray(sn)||n(sn)||la(sn),"invalid data for element buffer")),"usage"in Zt&&(ne.parameter(Zt.usage,Fc,"invalid element buffer usage"),Qt=Fc[Zt.usage]),"primitive"in Zt&&(ne.parameter(Zt.primitive,xl,"invalid element buffer primitive"),Vt=xl[Zt.primitive]),"count"in Zt&&(ne(typeof Zt.count=="number"&&Zt.count>=0,"invalid vertex count for elements"),$t=Zt.count|0),"type"in Zt&&(ne.parameter(Zt.type,Rt,"invalid buffer type"),Rn=Rt[Zt.type]),"length"in Zt?Lt=Zt.length|0:(Lt=$t,Rn===Ga||Rn===_u?Lt*=2:(Rn===Wi||Rn===Hs)&&(Lt*=4))),en(dn,sn,Qt,Vt,$t,Lt,Rn)}return Nn}return Nn(mn),Nn._reglType="elements",Nn._elements=dn,Nn.subdata=function(Zt,sn){return Tt.subdata(Zt,sn),Nn},Nn.destroy=function(){On(dn)},Nn}return{create:rn,createStream:fn,destroyStream:an,getElements:function(mn){return typeof mn=="function"&&mn._elements instanceof nn?mn._elements:null},clear:function(){Wo(Ut).forEach(On)}}}var Nl=new Float32Array(1),Ci=new Uint32Array(Nl.buffer),em=5123;function Tp(Q){for(var Ee=Yr.allocType(em,Q.length),Fe=0;Fe<Q.length;++Fe)if(isNaN(Q[Fe]))Ee[Fe]=65535;else if(Q[Fe]===1/0)Ee[Fe]=31744;else if(Q[Fe]===-1/0)Ee[Fe]=64512;else{Nl[0]=Q[Fe];var Pt=Ci[0],Ut=Pt>>>31<<15,Ct=(Pt<<1>>>24)-127,Rt=Pt>>13&(1<<10)-1;if(Ct<-24)Ee[Fe]=Ut;else if(Ct<-14){var nn=-14-Ct;Ee[Fe]=Ut+(Rt+(1<<10)>>nn)}else Ct>15?Ee[Fe]=Ut+31744:Ee[Fe]=Ut+(Ct+15<<10)+Rt}return Ee}function To(Q){return Array.isArray(Q)||n(Q)}var wd=function(Q){return!(Q&Q-1)&&!!Q},Wa=34467,xa=3553,ca=34067,Cu=34069,vs=6408,Au=6406,Zo=6407,Rl=6409,Hc=6410,Od=32854,Ai=32855,_d=36194,Td=32819,Cp=32820,Ap=33635,tm=34042,Gc=6402,Wc=34041,Cd=35904,Ri=35906,bi=36193,Gs=33776,Ad=33777,Kc=33778,Il=33779,Dl=35986,Pd=35987,Pp=34798,Pu=35840,Xc=35841,xd=35842,R=35843,$=36196,J=5121,me=5123,je=5125,ut=5126,Dt=10242,yn=10243,Zn=10497,Fr=33071,Gr=33648,co=10240,ho=10241,Lo=9728,fi=9729,vo=9984,Xi=9985,Ws=9986,Yc=9987,xp=33170,xu=4352,Mp=4353,Md=4354,kl=34046,Ks=3317,tT=37440,nT=37441,rT=37443,Nd=37444,Rd=33984,oT=[vo,Ws,Xi,Yc],Zc=[0,Rl,Hc,Zo,vs],Ma={};Ma[Rl]=Ma[Au]=Ma[Gc]=1,Ma[Wc]=Ma[Hc]=2,Ma[Zo]=Ma[Cd]=3,Ma[vs]=Ma[Ri]=4;function Jc(Q){return"[object "+Q+"]"}var s0=Jc("HTMLCanvasElement"),l0=Jc("OffscreenCanvas"),u0=Jc("CanvasRenderingContext2D"),c0=Jc("ImageBitmap"),f0=Jc("HTMLImageElement"),d0=Jc("HTMLVideoElement"),iT=Object.keys(Vs).concat([s0,l0,u0,c0,f0,d0]),Qc=[];Qc[J]=1,Qc[ut]=4,Qc[bi]=2,Qc[me]=2,Qc[je]=4;var di=[];di[Od]=2,di[Ai]=2,di[_d]=2,di[Wc]=4,di[Gs]=.5,di[Ad]=.5,di[Kc]=1,di[Il]=1,di[Dl]=.5,di[Pd]=1,di[Pp]=1,di[Pu]=.5,di[Xc]=.25,di[xd]=.5,di[R]=.25,di[$]=.5;function h0(Q){return Array.isArray(Q)&&(Q.length===0||typeof Q[0]=="number")}function p0(Q){if(!Array.isArray(Q))return!1;var Ee=Q.length;return!(Ee===0||!To(Q[0]))}function Mu(Q){return Object.prototype.toString.call(Q)}function v0(Q){return Mu(Q)===s0}function y0(Q){return Mu(Q)===l0}function aT(Q){return Mu(Q)===u0}function sT(Q){return Mu(Q)===c0}function lT(Q){return Mu(Q)===f0}function uT(Q){return Mu(Q)===d0}function nm(Q){if(!Q)return!1;var Ee=Mu(Q);return iT.indexOf(Ee)>=0?!0:h0(Q)||p0(Q)||la(Q)}function m0(Q){return Vs[Object.prototype.toString.call(Q)]|0}function cT(Q,Ee){var Fe=Ee.length;switch(Q.type){case J:case me:case je:case ut:var Pt=Yr.allocType(Q.type,Fe);Pt.set(Ee),Q.data=Pt;break;case bi:Q.data=Tp(Ee);break;default:ne.raise("unsupported texture type, must specify a typed array")}}function g0(Q,Ee){return Yr.allocType(Q.type===bi?ut:Q.type,Ee)}function Oo(Q,Ee){Q.type===bi?(Q.data=Tp(Ee),Yr.freeType(Ee)):Q.data=Ee}function fT(Q,Ee,Fe,Pt,Ut,Ct){for(var Rt=Q.width,nn=Q.height,on=Q.channels,fn=Rt*nn*on,an=g0(Q,fn),en=0,On=0;On<nn;++On)for(var rn=0;rn<Rt;++rn)for(var mn=0;mn<on;++mn)an[en++]=Ee[Fe*rn+Pt*On+Ut*mn+Ct];Oo(Q,an)}function Np(Q,Ee,Fe,Pt,Ut,Ct){var Rt;if(typeof di[Q]<"u"?Rt=di[Q]:Rt=Ma[Q]*Qc[Ee],Ct&&(Rt*=6),Ut){for(var nn=0,on=Fe;on>=1;)nn+=Rt*on*on,on/=2;return nn}else return Rt*Fe*Pt}function dT(Q,Ee,Fe,Pt,Ut,Ct,Rt){var nn={"don't care":xu,"dont care":xu,nice:Md,fast:Mp},on={repeat:Zn,clamp:Fr,mirror:Gr},fn={nearest:Lo,linear:fi},an=r({mipmap:Yc,"nearest mipmap nearest":vo,"linear mipmap nearest":Xi,"nearest mipmap linear":Ws,"linear mipmap linear":Yc},fn),en={none:0,browser:Nd},On={uint8:J,rgba4:Td,rgb565:Ap,"rgb5 a1":Cp},rn={alpha:Au,luminance:Rl,"luminance alpha":Hc,rgb:Zo,rgba:vs,rgba4:Od,"rgb5 a1":Ai,rgb565:_d},mn={};Ee.ext_srgb&&(rn.srgb=Cd,rn.srgba=Ri),Ee.oes_texture_float&&(On.float32=On.float=ut),Ee.oes_texture_half_float&&(On.float16=On["half float"]=bi),Ee.webgl_depth_texture&&(r(rn,{depth:Gc,"depth stencil":Wc}),r(On,{uint16:me,uint32:je,"depth stencil":tm})),Ee.webgl_compressed_texture_s3tc&&r(mn,{"rgb s3tc dxt1":Gs,"rgba s3tc dxt1":Ad,"rgba s3tc dxt3":Kc,"rgba s3tc dxt5":Il}),Ee.webgl_compressed_texture_atc&&r(mn,{"rgb atc":Dl,"rgba atc explicit alpha":Pd,"rgba atc interpolated alpha":Pp}),Ee.webgl_compressed_texture_pvrtc&&r(mn,{"rgb pvrtc 4bppv1":Pu,"rgb pvrtc 2bppv1":Xc,"rgba pvrtc 4bppv1":xd,"rgba pvrtc 2bppv1":R}),Ee.webgl_compressed_texture_etc1&&(mn["rgb etc1"]=$);var ft=Array.prototype.slice.call(Q.getParameter(Wa));Object.keys(mn).forEach(function(De){var xt=mn[De];ft.indexOf(xt)>=0&&(rn[De]=xt)});var Tt=Object.keys(rn);Fe.textureFormats=Tt;var dn=[];Object.keys(rn).forEach(function(De){var xt=rn[De];dn[xt]=De});var Nn=[];Object.keys(On).forEach(function(De){var xt=On[De];Nn[xt]=De});var Zt=[];Object.keys(fn).forEach(function(De){var xt=fn[De];Zt[xt]=De});var sn=[];Object.keys(an).forEach(function(De){var xt=an[De];sn[xt]=De});var Qt=[];Object.keys(on).forEach(function(De){var xt=on[De];Qt[xt]=De});var Vt=Tt.reduce(function(De,xt){var _t=rn[xt];return _t===Rl||_t===Au||_t===Rl||_t===Hc||_t===Gc||_t===Wc||Ee.ext_srgb&&(_t===Cd||_t===Ri)?De[_t]=_t:_t===Ai||xt.indexOf("rgba")>=0?De[_t]=vs:De[_t]=Zo,De},{});function $t(){this.internalformat=vs,this.format=vs,this.type=J,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Nd,this.width=0,this.height=0,this.channels=0}function Lt(De,xt){De.internalformat=xt.internalformat,De.format=xt.format,De.type=xt.type,De.compressed=xt.compressed,De.premultiplyAlpha=xt.premultiplyAlpha,De.flipY=xt.flipY,De.unpackAlignment=xt.unpackAlignment,De.colorSpace=xt.colorSpace,De.width=xt.width,De.height=xt.height,De.channels=xt.channels}function Rn(De,xt){if(!(typeof xt!="object"||!xt)){if("premultiplyAlpha"in xt&&(ne.type(xt.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),De.premultiplyAlpha=xt.premultiplyAlpha),"flipY"in xt&&(ne.type(xt.flipY,"boolean","invalid texture flip"),De.flipY=xt.flipY),"alignment"in xt&&(ne.oneOf(xt.alignment,[1,2,4,8],"invalid texture unpack alignment"),De.unpackAlignment=xt.alignment),"colorSpace"in xt&&(ne.parameter(xt.colorSpace,en,"invalid colorSpace"),De.colorSpace=en[xt.colorSpace]),"type"in xt){var _t=xt.type;ne(Ee.oes_texture_float||!(_t==="float"||_t==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),ne(Ee.oes_texture_half_float||!(_t==="half float"||_t==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),ne(Ee.webgl_depth_texture||!(_t==="uint16"||_t==="uint32"||_t==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ne.parameter(_t,On,"invalid texture type"),De.type=On[_t]}var In=De.width,Nr=De.height,Pe=De.channels,ye=!1;"shape"in xt?(ne(Array.isArray(xt.shape)&&xt.shape.length>=2,"shape must be an array"),In=xt.shape[0],Nr=xt.shape[1],xt.shape.length===3&&(Pe=xt.shape[2],ne(Pe>0&&Pe<=4,"invalid number of channels"),ye=!0),ne(In>=0&&In<=Fe.maxTextureSize,"invalid width"),ne(Nr>=0&&Nr<=Fe.maxTextureSize,"invalid height")):("radius"in xt&&(In=Nr=xt.radius,ne(In>=0&&In<=Fe.maxTextureSize,"invalid radius")),"width"in xt&&(In=xt.width,ne(In>=0&&In<=Fe.maxTextureSize,"invalid width")),"height"in xt&&(Nr=xt.height,ne(Nr>=0&&Nr<=Fe.maxTextureSize,"invalid height")),"channels"in xt&&(Pe=xt.channels,ne(Pe>0&&Pe<=4,"invalid number of channels"),ye=!0)),De.width=In|0,De.height=Nr|0,De.channels=Pe|0;var Xe=!1;if("format"in xt){var ct=xt.format;ne(Ee.webgl_depth_texture||!(ct==="depth"||ct==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ne.parameter(ct,rn,"invalid texture format");var pt=De.internalformat=rn[ct];De.format=Vt[pt],ct in On&&("type"in xt||(De.type=On[ct])),ct in mn&&(De.compressed=!0),Xe=!0}!ye&&Xe?De.channels=Ma[De.format]:ye&&!Xe?De.channels!==Zc[De.format]&&(De.format=De.internalformat=Zc[De.channels]):Xe&&ye&&ne(De.channels===Ma[De.format],"number of channels inconsistent with specified format")}}function dr(De){Q.pixelStorei(tT,De.flipY),Q.pixelStorei(nT,De.premultiplyAlpha),Q.pixelStorei(rT,De.colorSpace),Q.pixelStorei(Ks,De.unpackAlignment)}function hn(){$t.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Yt(De,xt){var _t=null;if(nm(xt)?_t=xt:xt&&(ne.type(xt,"object","invalid pixel data type"),Rn(De,xt),"x"in xt&&(De.xOffset=xt.x|0),"y"in xt&&(De.yOffset=xt.y|0),nm(xt.data)&&(_t=xt.data)),ne(!De.compressed||_t instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),xt.copy){ne(!_t,"can not specify copy and data field for the same texture");var In=Ut.viewportWidth,Nr=Ut.viewportHeight;De.width=De.width||In-De.xOffset,De.height=De.height||Nr-De.yOffset,De.needsCopy=!0,ne(De.xOffset>=0&&De.xOffset<In&&De.yOffset>=0&&De.yOffset<Nr&&De.width>0&&De.width<=In&&De.height>0&&De.height<=Nr,"copy texture read out of bounds")}else if(!_t)De.width=De.width||1,De.height=De.height||1,De.channels=De.channels||4;else if(n(_t))De.channels=De.channels||4,De.data=_t,!("type"in xt)&&De.type===J&&(De.type=m0(_t));else if(h0(_t))De.channels=De.channels||4,cT(De,_t),De.alignment=1,De.needsFree=!0;else if(la(_t)){var Pe=_t.data;!Array.isArray(Pe)&&De.type===J&&(De.type=m0(Pe));var ye=_t.shape,Xe=_t.stride,ct,pt,Qe,Je,at,xe;ye.length===3?(Qe=ye[2],xe=Xe[2]):(ne(ye.length===2,"invalid ndarray pixel data, must be 2 or 3D"),Qe=1,xe=1),ct=ye[0],pt=ye[1],Je=Xe[0],at=Xe[1],De.alignment=1,De.width=ct,De.height=pt,De.channels=Qe,De.format=De.internalformat=Zc[Qe],De.needsFree=!0,fT(De,Pe,Je,at,xe,_t.offset)}else if(v0(_t)||y0(_t)||aT(_t))v0(_t)||y0(_t)?De.element=_t:De.element=_t.canvas,De.width=De.element.width,De.height=De.element.height,De.channels=4;else if(sT(_t))De.element=_t,De.width=_t.width,De.height=_t.height,De.channels=4;else if(lT(_t))De.element=_t,De.width=_t.naturalWidth,De.height=_t.naturalHeight,De.channels=4;else if(uT(_t))De.element=_t,De.width=_t.videoWidth,De.height=_t.videoHeight,De.channels=4;else if(p0(_t)){var He=De.width||_t[0].length,Ae=De.height||_t.length,st=De.channels;To(_t[0][0])?st=st||_t[0][0].length:st=st||1;for(var mt=jc.shape(_t),Ft=1,Ht=0;Ht<mt.length;++Ht)Ft*=mt[Ht];var kt=g0(De,Ft);jc.flatten(_t,mt,"",kt),Oo(De,kt),De.alignment=1,De.width=He,De.height=Ae,De.channels=st,De.format=De.internalformat=Zc[st],De.needsFree=!0}De.type===ut?ne(Fe.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):De.type===bi&&ne(Fe.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Xt(De,xt,_t){var In=De.element,Nr=De.data,Pe=De.internalformat,ye=De.format,Xe=De.type,ct=De.width,pt=De.height;dr(De),In?Q.texImage2D(xt,_t,ye,ye,Xe,In):De.compressed?Q.compressedTexImage2D(xt,_t,Pe,ct,pt,0,Nr):De.needsCopy?(Pt(),Q.copyTexImage2D(xt,_t,ye,De.xOffset,De.yOffset,ct,pt,0)):Q.texImage2D(xt,_t,ye,ct,pt,0,ye,Xe,Nr||null)}function or(De,xt,_t,In,Nr){var Pe=De.element,ye=De.data,Xe=De.internalformat,ct=De.format,pt=De.type,Qe=De.width,Je=De.height;dr(De),Pe?Q.texSubImage2D(xt,Nr,_t,In,ct,pt,Pe):De.compressed?Q.compressedTexSubImage2D(xt,Nr,_t,In,Xe,Qe,Je,ye):De.needsCopy?(Pt(),Q.copyTexSubImage2D(xt,Nr,_t,In,De.xOffset,De.yOffset,Qe,Je)):Q.texSubImage2D(xt,Nr,_t,In,Qe,Je,ct,pt,ye)}var wr=[];function Bn(){return wr.pop()||new hn}function Mr(De){De.needsFree&&Yr.freeType(De.data),hn.call(De),wr.push(De)}function pr(){$t.call(this),this.genMipmaps=!1,this.mipmapHint=xu,this.mipmask=0,this.images=Array(16)}function Ar(De,xt,_t){var In=De.images[0]=Bn();De.mipmask=1,In.width=De.width=xt,In.height=De.height=_t,In.channels=De.channels=4}function zr(De,xt){var _t=null;if(nm(xt))_t=De.images[0]=Bn(),Lt(_t,De),Yt(_t,xt),De.mipmask=1;else if(Rn(De,xt),Array.isArray(xt.mipmap))for(var In=xt.mipmap,Nr=0;Nr<In.length;++Nr)_t=De.images[Nr]=Bn(),Lt(_t,De),_t.width>>=Nr,_t.height>>=Nr,Yt(_t,In[Nr]),De.mipmask|=1<<Nr;else _t=De.images[0]=Bn(),Lt(_t,De),Yt(_t,xt),De.mipmask=1;Lt(De,De.images[0]),De.compressed&&(De.internalformat===Gs||De.internalformat===Ad||De.internalformat===Kc||De.internalformat===Il)&&ne(De.width%4===0&&De.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function Xo(De,xt){for(var _t=De.images,In=0;In<_t.length;++In){if(!_t[In])return;Xt(_t[In],xt,In)}}var ni=[];function Ir(){var De=ni.pop()||new pr;$t.call(De),De.mipmask=0;for(var xt=0;xt<16;++xt)De.images[xt]=null;return De}function Jo(De){for(var xt=De.images,_t=0;_t<xt.length;++_t)xt[_t]&&Mr(xt[_t]),xt[_t]=null;ni.push(De)}function yo(){this.minFilter=Lo,this.magFilter=Lo,this.wrapS=Fr,this.wrapT=Fr,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=xu}function mo(De,xt){if("min"in xt){var _t=xt.min;ne.parameter(_t,an),De.minFilter=an[_t],oT.indexOf(De.minFilter)>=0&&!("faces"in xt)&&(De.genMipmaps=!0)}if("mag"in xt){var In=xt.mag;ne.parameter(In,fn),De.magFilter=fn[In]}var Nr=De.wrapS,Pe=De.wrapT;if("wrap"in xt){var ye=xt.wrap;typeof ye=="string"?(ne.parameter(ye,on),Nr=Pe=on[ye]):Array.isArray(ye)&&(ne.parameter(ye[0],on),ne.parameter(ye[1],on),Nr=on[ye[0]],Pe=on[ye[1]])}else{if("wrapS"in xt){var Xe=xt.wrapS;ne.parameter(Xe,on),Nr=on[Xe]}if("wrapT"in xt){var ct=xt.wrapT;ne.parameter(ct,on),Pe=on[ct]}}if(De.wrapS=Nr,De.wrapT=Pe,"anisotropic"in xt){var pt=xt.anisotropic;ne(typeof pt=="number"&&pt>=1&&pt<=Fe.maxAnisotropic,"aniso samples must be between 1 and "),De.anisotropic=xt.anisotropic}if("mipmap"in xt){var Qe=!1;switch(typeof xt.mipmap){case"string":ne.parameter(xt.mipmap,nn,"invalid mipmap hint"),De.mipmapHint=nn[xt.mipmap],De.genMipmaps=!0,Qe=!0;break;case"boolean":Qe=De.genMipmaps=xt.mipmap;break;case"object":ne(Array.isArray(xt.mipmap),"invalid mipmap type"),De.genMipmaps=!1,Qe=!0;break;default:ne.raise("invalid mipmap type")}Qe&&!("min"in xt)&&(De.minFilter=vo)}}function Qo(De,xt){Q.texParameteri(xt,ho,De.minFilter),Q.texParameteri(xt,co,De.magFilter),Q.texParameteri(xt,Dt,De.wrapS),Q.texParameteri(xt,yn,De.wrapT),Ee.ext_texture_filter_anisotropic&&Q.texParameteri(xt,kl,De.anisotropic),De.genMipmaps&&(Q.hint(xp,De.mipmapHint),Q.generateMipmap(xt))}var Yo=0,ai={},ri=Fe.maxTextureUnits,oo=Array(ri).map(function(){return null});function Tr(De){$t.call(this),this.mipmask=0,this.internalformat=vs,this.id=Yo++,this.refCount=1,this.target=De,this.texture=Q.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new yo,Rt.profile&&(this.stats={size:0})}function hi(De){Q.activeTexture(Rd),Q.bindTexture(De.target,De.texture)}function Qr(){var De=oo[0];De?Q.bindTexture(De.target,De.texture):Q.bindTexture(xa,null)}function nr(De){var xt=De.texture;ne(xt,"must not double destroy texture");var _t=De.unit,In=De.target;_t>=0&&(Q.activeTexture(Rd+_t),Q.bindTexture(In,null),oo[_t]=null),Q.deleteTexture(xt),De.texture=null,De.params=null,De.pixels=null,De.refCount=0,delete ai[De.id],Ct.textureCount--}r(Tr.prototype,{bind:function(){var De=this;De.bindCount+=1;var xt=De.unit;if(xt<0){for(var _t=0;_t<ri;++_t){var In=oo[_t];if(In){if(In.bindCount>0)continue;In.unit=-1}oo[_t]=De,xt=_t;break}xt>=ri&&ne.raise("insufficient number of texture units"),Rt.profile&&Ct.maxTextureUnits<xt+1&&(Ct.maxTextureUnits=xt+1),De.unit=xt,Q.activeTexture(Rd+xt),Q.bindTexture(De.target,De.texture)}return xt},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&nr(this)}});function Dr(De,xt){var _t=new Tr(xa);ai[_t.id]=_t,Ct.textureCount++;function In(ye,Xe){var ct=_t.texInfo;yo.call(ct);var pt=Ir();return typeof ye=="number"?typeof Xe=="number"?Ar(pt,ye|0,Xe|0):Ar(pt,ye|0,ye|0):ye?(ne.type(ye,"object","invalid arguments to regl.texture"),mo(ct,ye),zr(pt,ye)):Ar(pt,1,1),ct.genMipmaps&&(pt.mipmask=(pt.width<<1)-1),_t.mipmask=pt.mipmask,Lt(_t,pt),ne.texture2D(ct,pt,Fe),_t.internalformat=pt.internalformat,In.width=pt.width,In.height=pt.height,hi(_t),Xo(pt,xa),Qo(ct,xa),Qr(),Jo(pt),Rt.profile&&(_t.stats.size=Np(_t.internalformat,_t.type,pt.width,pt.height,ct.genMipmaps,!1)),In.format=dn[_t.internalformat],In.type=Nn[_t.type],In.mag=Zt[ct.magFilter],In.min=sn[ct.minFilter],In.wrapS=Qt[ct.wrapS],In.wrapT=Qt[ct.wrapT],In}function Nr(ye,Xe,ct,pt){ne(!!ye,"must specify image data");var Qe=Xe|0,Je=ct|0,at=pt|0,xe=Bn();return Lt(xe,_t),xe.width=0,xe.height=0,Yt(xe,ye),xe.width=xe.width||(_t.width>>at)-Qe,xe.height=xe.height||(_t.height>>at)-Je,ne(_t.type===xe.type&&_t.format===xe.format&&_t.internalformat===xe.internalformat,"incompatible format for texture.subimage"),ne(Qe>=0&&Je>=0&&Qe+xe.width<=_t.width&&Je+xe.height<=_t.height,"texture.subimage write out of bounds"),ne(_t.mipmask&1<<at,"missing mipmap data"),ne(xe.data||xe.element||xe.needsCopy,"missing image data"),hi(_t),or(xe,xa,Qe,Je,at),Qr(),Mr(xe),In}function Pe(ye,Xe){var ct=ye|0,pt=Xe|0||ct;if(ct===_t.width&&pt===_t.height)return In;In.width=_t.width=ct,In.height=_t.height=pt,hi(_t);for(var Qe=0;_t.mipmask>>Qe;++Qe){var Je=ct>>Qe,at=pt>>Qe;if(!Je||!at)break;Q.texImage2D(xa,Qe,_t.format,Je,at,0,_t.format,_t.type,null)}return Qr(),Rt.profile&&(_t.stats.size=Np(_t.internalformat,_t.type,ct,pt,!1,!1)),In}return In(De,xt),In.subimage=Nr,In.resize=Pe,In._reglType="texture2d",In._texture=_t,Rt.profile&&(In.stats=_t.stats),In.destroy=function(){_t.decRef()},In}function Ur(De,xt,_t,In,Nr,Pe){var ye=new Tr(ca);ai[ye.id]=ye,Ct.cubeCount++;var Xe=new Array(6);function ct(Je,at,xe,He,Ae,st){var mt,Ft=ye.texInfo;for(yo.call(Ft),mt=0;mt<6;++mt)Xe[mt]=Ir();if(typeof Je=="number"||!Je){var Ht=Je|0||1;for(mt=0;mt<6;++mt)Ar(Xe[mt],Ht,Ht)}else if(typeof Je=="object")if(at)zr(Xe[0],Je),zr(Xe[1],at),zr(Xe[2],xe),zr(Xe[3],He),zr(Xe[4],Ae),zr(Xe[5],st);else if(mo(Ft,Je),Rn(ye,Je),"faces"in Je){var kt=Je.faces;for(ne(Array.isArray(kt)&&kt.length===6,"cube faces must be a length 6 array"),mt=0;mt<6;++mt)ne(typeof kt[mt]=="object"&&!!kt[mt],"invalid input for cube map face"),Lt(Xe[mt],ye),zr(Xe[mt],kt[mt])}else for(mt=0;mt<6;++mt)zr(Xe[mt],Je);else ne.raise("invalid arguments to cube map");for(Lt(ye,Xe[0]),Fe.npotTextureCube||ne(wd(ye.width)&&wd(ye.height),"your browser does not support non power or two texture dimensions"),Ft.genMipmaps?ye.mipmask=(Xe[0].width<<1)-1:ye.mipmask=Xe[0].mipmask,ne.textureCube(ye,Ft,Xe,Fe),ye.internalformat=Xe[0].internalformat,ct.width=Xe[0].width,ct.height=Xe[0].height,hi(ye),mt=0;mt<6;++mt)Xo(Xe[mt],Cu+mt);for(Qo(Ft,ca),Qr(),Rt.profile&&(ye.stats.size=Np(ye.internalformat,ye.type,ct.width,ct.height,Ft.genMipmaps,!0)),ct.format=dn[ye.internalformat],ct.type=Nn[ye.type],ct.mag=Zt[Ft.magFilter],ct.min=sn[Ft.minFilter],ct.wrapS=Qt[Ft.wrapS],ct.wrapT=Qt[Ft.wrapT],mt=0;mt<6;++mt)Jo(Xe[mt]);return ct}function pt(Je,at,xe,He,Ae){ne(!!at,"must specify image data"),ne(typeof Je=="number"&&Je===(Je|0)&&Je>=0&&Je<6,"invalid face");var st=xe|0,mt=He|0,Ft=Ae|0,Ht=Bn();return Lt(Ht,ye),Ht.width=0,Ht.height=0,Yt(Ht,at),Ht.width=Ht.width||(ye.width>>Ft)-st,Ht.height=Ht.height||(ye.height>>Ft)-mt,ne(ye.type===Ht.type&&ye.format===Ht.format&&ye.internalformat===Ht.internalformat,"incompatible format for texture.subimage"),ne(st>=0&&mt>=0&&st+Ht.width<=ye.width&&mt+Ht.height<=ye.height,"texture.subimage write out of bounds"),ne(ye.mipmask&1<<Ft,"missing mipmap data"),ne(Ht.data||Ht.element||Ht.needsCopy,"missing image data"),hi(ye),or(Ht,Cu+Je,st,mt,Ft),Qr(),Mr(Ht),ct}function Qe(Je){var at=Je|0;if(at!==ye.width){ct.width=ye.width=at,ct.height=ye.height=at,hi(ye);for(var xe=0;xe<6;++xe)for(var He=0;ye.mipmask>>He;++He)Q.texImage2D(Cu+xe,He,ye.format,at>>He,at>>He,0,ye.format,ye.type,null);return Qr(),Rt.profile&&(ye.stats.size=Np(ye.internalformat,ye.type,ct.width,ct.height,!1,!0)),ct}}return ct(De,xt,_t,In,Nr,Pe),ct.subimage=pt,ct.resize=Qe,ct._reglType="textureCube",ct._texture=ye,Rt.profile&&(ct.stats=ye.stats),ct.destroy=function(){ye.decRef()},ct}function Bo(){for(var De=0;De<ri;++De)Q.activeTexture(Rd+De),Q.bindTexture(xa,null),oo[De]=null;Wo(ai).forEach(nr),Ct.cubeCount=0,Ct.textureCount=0}Rt.profile&&(Ct.getTotalTextureSize=function(){var De=0;return Object.keys(ai).forEach(function(xt){De+=ai[xt].stats.size}),De});function gs(){for(var De=0;De<ri;++De){var xt=oo[De];xt&&(xt.bindCount=0,xt.unit=-1,oo[De]=null)}Wo(ai).forEach(function(_t){_t.texture=Q.createTexture(),Q.bindTexture(_t.target,_t.texture);for(var In=0;In<32;++In)if((_t.mipmask&1<<In)!==0)if(_t.target===xa)Q.texImage2D(xa,In,_t.internalformat,_t.width>>In,_t.height>>In,0,_t.internalformat,_t.type,null);else for(var Nr=0;Nr<6;++Nr)Q.texImage2D(Cu+Nr,In,_t.internalformat,_t.width>>In,_t.height>>In,0,_t.internalformat,_t.type,null);Qo(_t.texInfo,_t.target)})}function Uu(){for(var De=0;De<ri;++De){var xt=oo[De];xt&&(xt.bindCount=0,xt.unit=-1,oo[De]=null),Q.activeTexture(Rd+De),Q.bindTexture(xa,null),Q.bindTexture(ca,null)}}return{create2D:Dr,createCube:Ur,clear:Bo,getTexture:function(De){return null},restore:gs,refresh:Uu}}var ys=36161,Xs=32854,rm=32855,b0=36194,Rp=33189,E0=36168,S0=34041,w0=35907,om=34836,O0=34842,_0=34843,Yi=[];Yi[Xs]=2,Yi[rm]=2,Yi[b0]=2,Yi[Rp]=2,Yi[E0]=1,Yi[S0]=4,Yi[w0]=4,Yi[om]=16,Yi[O0]=8,Yi[_0]=6;function T0(Q,Ee,Fe){return Yi[Q]*Ee*Fe}var C0=function(Q,Ee,Fe,Pt,Ut){var Ct={rgba4:Xs,rgb565:b0,"rgb5 a1":rm,depth:Rp,stencil:E0,"depth stencil":S0};Ee.ext_srgb&&(Ct.srgba=w0),Ee.ext_color_buffer_half_float&&(Ct.rgba16f=O0,Ct.rgb16f=_0),Ee.webgl_color_buffer_float&&(Ct.rgba32f=om);var Rt=[];Object.keys(Ct).forEach(function(rn){var mn=Ct[rn];Rt[mn]=rn});var nn=0,on={};function fn(rn){this.id=nn++,this.refCount=1,this.renderbuffer=rn,this.format=Xs,this.width=0,this.height=0,Ut.profile&&(this.stats={size:0})}fn.prototype.decRef=function(){--this.refCount<=0&&an(this)};function an(rn){var mn=rn.renderbuffer;ne(mn,"must not double destroy renderbuffer"),Q.bindRenderbuffer(ys,null),Q.deleteRenderbuffer(mn),rn.renderbuffer=null,rn.refCount=0,delete on[rn.id],Pt.renderbufferCount--}function en(rn,mn){var ft=new fn(Q.createRenderbuffer());on[ft.id]=ft,Pt.renderbufferCount++;function Tt(Nn,Zt){var sn=0,Qt=0,Vt=Xs;if(typeof Nn=="object"&&Nn){var $t=Nn;if("shape"in $t){var Lt=$t.shape;ne(Array.isArray(Lt)&&Lt.length>=2,"invalid renderbuffer shape"),sn=Lt[0]|0,Qt=Lt[1]|0}else"radius"in $t&&(sn=Qt=$t.radius|0),"width"in $t&&(sn=$t.width|0),"height"in $t&&(Qt=$t.height|0);"format"in $t&&(ne.parameter($t.format,Ct,"invalid renderbuffer format"),Vt=Ct[$t.format])}else typeof Nn=="number"?(sn=Nn|0,typeof Zt=="number"?Qt=Zt|0:Qt=sn):Nn?ne.raise("invalid arguments to renderbuffer constructor"):sn=Qt=1;if(ne(sn>0&&Qt>0&&sn<=Fe.maxRenderbufferSize&&Qt<=Fe.maxRenderbufferSize,"invalid renderbuffer size"),!(sn===ft.width&&Qt===ft.height&&Vt===ft.format))return Tt.width=ft.width=sn,Tt.height=ft.height=Qt,ft.format=Vt,Q.bindRenderbuffer(ys,ft.renderbuffer),Q.renderbufferStorage(ys,Vt,sn,Qt),ne(Q.getError()===0,"invalid render buffer format"),Ut.profile&&(ft.stats.size=T0(ft.format,ft.width,ft.height)),Tt.format=Rt[ft.format],Tt}function dn(Nn,Zt){var sn=Nn|0,Qt=Zt|0||sn;return sn===ft.width&&Qt===ft.height||(ne(sn>0&&Qt>0&&sn<=Fe.maxRenderbufferSize&&Qt<=Fe.maxRenderbufferSize,"invalid renderbuffer size"),Tt.width=ft.width=sn,Tt.height=ft.height=Qt,Q.bindRenderbuffer(ys,ft.renderbuffer),Q.renderbufferStorage(ys,ft.format,sn,Qt),ne(Q.getError()===0,"invalid render buffer format"),Ut.profile&&(ft.stats.size=T0(ft.format,ft.width,ft.height))),Tt}return Tt(rn,mn),Tt.resize=dn,Tt._reglType="renderbuffer",Tt._renderbuffer=ft,Ut.profile&&(Tt.stats=ft.stats),Tt.destroy=function(){ft.decRef()},Tt}Ut.profile&&(Pt.getTotalRenderbufferSize=function(){var rn=0;return Object.keys(on).forEach(function(mn){rn+=on[mn].stats.size}),rn});function On(){Wo(on).forEach(function(rn){rn.renderbuffer=Q.createRenderbuffer(),Q.bindRenderbuffer(ys,rn.renderbuffer),Q.renderbufferStorage(ys,rn.format,rn.width,rn.height)}),Q.bindRenderbuffer(ys,null)}return{create:en,clear:function(){Wo(on).forEach(an)},restore:On}},Ys=36160,im=36161,Nu=3553,Ip=34069,A0=36064,P0=36096,x0=36128,Ll=33306,M0=36053,qc=36054,hT=36055,am=36057,pT=36061,vT=36193,yT=5121,mT=5126,N0=6407,R0=6408,sm=6402,gT=[N0,R0],Id=[];Id[R0]=4,Id[N0]=3;var Dp=[];Dp[yT]=1,Dp[mT]=4,Dp[vT]=2;var lm=32854,bT=32855,um=36194,I0=33189,ET=36168,cm=34041,D0=35907,k0=34836,L0=34842,ST=34843,wT=[lm,bT,um,D0,L0,ST,k0],ef={};ef[M0]="complete",ef[qc]="incomplete attachment",ef[am]="incomplete dimensions",ef[hT]="incomplete, missing attachment",ef[pT]="unsupported";function OT(Q,Ee,Fe,Pt,Ut,Ct){var Rt={cur:null,next:null,dirty:!1,setFBO:null},nn=["rgba"],on=["rgba4","rgb565","rgb5 a1"];Ee.ext_srgb&&on.push("srgba"),Ee.ext_color_buffer_half_float&&on.push("rgba16f","rgb16f"),Ee.webgl_color_buffer_float&&on.push("rgba32f");var fn=["uint8"];Ee.oes_texture_half_float&&fn.push("half float","float16"),Ee.oes_texture_float&&fn.push("float","float32");function an(hn,Yt,Xt){this.target=hn,this.texture=Yt,this.renderbuffer=Xt;var or=0,wr=0;Yt?(or=Yt.width,wr=Yt.height):Xt&&(or=Xt.width,wr=Xt.height),this.width=or,this.height=wr}function en(hn){hn&&(hn.texture&&hn.texture._texture.decRef(),hn.renderbuffer&&hn.renderbuffer._renderbuffer.decRef())}function On(hn,Yt,Xt){if(!!hn)if(hn.texture){var or=hn.texture._texture,wr=Math.max(1,or.width),Bn=Math.max(1,or.height);ne(wr===Yt&&Bn===Xt,"inconsistent width/height for supplied texture"),or.refCount+=1}else{var Mr=hn.renderbuffer._renderbuffer;ne(Mr.width===Yt&&Mr.height===Xt,"inconsistent width/height for renderbuffer"),Mr.refCount+=1}}function rn(hn,Yt){Yt&&(Yt.texture?Q.framebufferTexture2D(Ys,hn,Yt.target,Yt.texture._texture.texture,0):Q.framebufferRenderbuffer(Ys,hn,im,Yt.renderbuffer._renderbuffer.renderbuffer))}function mn(hn){var Yt=Nu,Xt=null,or=null,wr=hn;typeof hn=="object"&&(wr=hn.data,"target"in hn&&(Yt=hn.target|0)),ne.type(wr,"function","invalid attachment data");var Bn=wr._reglType;return Bn==="texture2d"?(Xt=wr,ne(Yt===Nu)):Bn==="textureCube"?(Xt=wr,ne(Yt>=Ip&&Yt<Ip+6,"invalid cube map target")):Bn==="renderbuffer"?(or=wr,Yt=im):ne.raise("invalid regl object for attachment"),new an(Yt,Xt,or)}function ft(hn,Yt,Xt,or,wr){if(Xt){var Bn=Pt.create2D({width:hn,height:Yt,format:or,type:wr});return Bn._texture.refCount=0,new an(Nu,Bn,null)}else{var Mr=Ut.create({width:hn,height:Yt,format:or});return Mr._renderbuffer.refCount=0,new an(im,null,Mr)}}function Tt(hn){return hn&&(hn.texture||hn.renderbuffer)}function dn(hn,Yt,Xt){hn&&(hn.texture?hn.texture.resize(Yt,Xt):hn.renderbuffer&&hn.renderbuffer.resize(Yt,Xt),hn.width=Yt,hn.height=Xt)}var Nn=0,Zt={};function sn(){this.id=Nn++,Zt[this.id]=this,this.framebuffer=Q.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Qt(hn){hn.colorAttachments.forEach(en),en(hn.depthAttachment),en(hn.stencilAttachment),en(hn.depthStencilAttachment)}function Vt(hn){var Yt=hn.framebuffer;ne(Yt,"must not double destroy framebuffer"),Q.deleteFramebuffer(Yt),hn.framebuffer=null,Ct.framebufferCount--,delete Zt[hn.id]}function $t(hn){var Yt;Q.bindFramebuffer(Ys,hn.framebuffer);var Xt=hn.colorAttachments;for(Yt=0;Yt<Xt.length;++Yt)rn(A0+Yt,Xt[Yt]);for(Yt=Xt.length;Yt<Fe.maxColorAttachments;++Yt)Q.framebufferTexture2D(Ys,A0+Yt,Nu,null,0);Q.framebufferTexture2D(Ys,Ll,Nu,null,0),Q.framebufferTexture2D(Ys,P0,Nu,null,0),Q.framebufferTexture2D(Ys,x0,Nu,null,0),rn(P0,hn.depthAttachment),rn(x0,hn.stencilAttachment),rn(Ll,hn.depthStencilAttachment);var or=Q.checkFramebufferStatus(Ys);!Q.isContextLost()&&or!==M0&&ne.raise("framebuffer configuration not supported, status = "+ef[or]),Q.bindFramebuffer(Ys,Rt.next?Rt.next.framebuffer:null),Rt.cur=Rt.next,Q.getError()}function Lt(hn,Yt){var Xt=new sn;Ct.framebufferCount++;function or(Bn,Mr){var pr;ne(Rt.next!==Xt,"can not update framebuffer which is currently in use");var Ar=0,zr=0,Xo=!0,ni=!0,Ir=null,Jo=!0,yo="rgba",mo="uint8",Qo=1,Yo=null,ai=null,ri=null,oo=!1;if(typeof Bn=="number")Ar=Bn|0,zr=Mr|0||Ar;else if(!Bn)Ar=zr=1;else{ne.type(Bn,"object","invalid arguments for framebuffer");var Tr=Bn;if("shape"in Tr){var hi=Tr.shape;ne(Array.isArray(hi)&&hi.length>=2,"invalid shape for framebuffer"),Ar=hi[0],zr=hi[1]}else"radius"in Tr&&(Ar=zr=Tr.radius),"width"in Tr&&(Ar=Tr.width),"height"in Tr&&(zr=Tr.height);("color"in Tr||"colors"in Tr)&&(Ir=Tr.color||Tr.colors,Array.isArray(Ir)&&ne(Ir.length===1||Ee.webgl_draw_buffers,"multiple render targets not supported")),Ir||("colorCount"in Tr&&(Qo=Tr.colorCount|0,ne(Qo>0,"invalid color buffer count")),"colorTexture"in Tr&&(Jo=!!Tr.colorTexture,yo="rgba4"),"colorType"in Tr&&(mo=Tr.colorType,Jo?(ne(Ee.oes_texture_float||!(mo==="float"||mo==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),ne(Ee.oes_texture_half_float||!(mo==="half float"||mo==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):mo==="half float"||mo==="float16"?(ne(Ee.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),yo="rgba16f"):(mo==="float"||mo==="float32")&&(ne(Ee.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),yo="rgba32f"),ne.oneOf(mo,fn,"invalid color type")),"colorFormat"in Tr&&(yo=Tr.colorFormat,nn.indexOf(yo)>=0?Jo=!0:on.indexOf(yo)>=0?Jo=!1:Jo?ne.oneOf(Tr.colorFormat,nn,"invalid color format for texture"):ne.oneOf(Tr.colorFormat,on,"invalid color format for renderbuffer"))),("depthTexture"in Tr||"depthStencilTexture"in Tr)&&(oo=!!(Tr.depthTexture||Tr.depthStencilTexture),ne(!oo||Ee.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in Tr&&(typeof Tr.depth=="boolean"?Xo=Tr.depth:(Yo=Tr.depth,ni=!1)),"stencil"in Tr&&(typeof Tr.stencil=="boolean"?ni=Tr.stencil:(ai=Tr.stencil,Xo=!1)),"depthStencil"in Tr&&(typeof Tr.depthStencil=="boolean"?Xo=ni=Tr.depthStencil:(ri=Tr.depthStencil,Xo=!1,ni=!1))}var Qr=null,nr=null,Dr=null,Ur=null;if(Array.isArray(Ir))Qr=Ir.map(mn);else if(Ir)Qr=[mn(Ir)];else for(Qr=new Array(Qo),pr=0;pr<Qo;++pr)Qr[pr]=ft(Ar,zr,Jo,yo,mo);ne(Ee.webgl_draw_buffers||Qr.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),ne(Qr.length<=Fe.maxColorAttachments,"too many color attachments, not supported"),Ar=Ar||Qr[0].width,zr=zr||Qr[0].height,Yo?nr=mn(Yo):Xo&&!ni&&(nr=ft(Ar,zr,oo,"depth","uint32")),ai?Dr=mn(ai):ni&&!Xo&&(Dr=ft(Ar,zr,!1,"stencil","uint8")),ri?Ur=mn(ri):!Yo&&!ai&&ni&&Xo&&(Ur=ft(Ar,zr,oo,"depth stencil","depth stencil")),ne(!!Yo+!!ai+!!ri<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var Bo=null;for(pr=0;pr<Qr.length;++pr)if(On(Qr[pr],Ar,zr),ne(!Qr[pr]||Qr[pr].texture&&gT.indexOf(Qr[pr].texture._texture.format)>=0||Qr[pr].renderbuffer&&wT.indexOf(Qr[pr].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+pr+" is invalid"),Qr[pr]&&Qr[pr].texture){var gs=Id[Qr[pr].texture._texture.format]*Dp[Qr[pr].texture._texture.type];Bo===null?Bo=gs:ne(Bo===gs,"all color attachments much have the same number of bits per pixel.")}return On(nr,Ar,zr),ne(!nr||nr.texture&&nr.texture._texture.format===sm||nr.renderbuffer&&nr.renderbuffer._renderbuffer.format===I0,"invalid depth attachment for framebuffer object"),On(Dr,Ar,zr),ne(!Dr||Dr.renderbuffer&&Dr.renderbuffer._renderbuffer.format===ET,"invalid stencil attachment for framebuffer object"),On(Ur,Ar,zr),ne(!Ur||Ur.texture&&Ur.texture._texture.format===cm||Ur.renderbuffer&&Ur.renderbuffer._renderbuffer.format===cm,"invalid depth-stencil attachment for framebuffer object"),Qt(Xt),Xt.width=Ar,Xt.height=zr,Xt.colorAttachments=Qr,Xt.depthAttachment=nr,Xt.stencilAttachment=Dr,Xt.depthStencilAttachment=Ur,or.color=Qr.map(Tt),or.depth=Tt(nr),or.stencil=Tt(Dr),or.depthStencil=Tt(Ur),or.width=Xt.width,or.height=Xt.height,$t(Xt),or}function wr(Bn,Mr){ne(Rt.next!==Xt,"can not resize a framebuffer which is currently in use");var pr=Math.max(Bn|0,1),Ar=Math.max(Mr|0||pr,1);if(pr===Xt.width&&Ar===Xt.height)return or;for(var zr=Xt.colorAttachments,Xo=0;Xo<zr.length;++Xo)dn(zr[Xo],pr,Ar);return dn(Xt.depthAttachment,pr,Ar),dn(Xt.stencilAttachment,pr,Ar),dn(Xt.depthStencilAttachment,pr,Ar),Xt.width=or.width=pr,Xt.height=or.height=Ar,$t(Xt),or}return or(hn,Yt),r(or,{resize:wr,_reglType:"framebuffer",_framebuffer:Xt,destroy:function(){Vt(Xt),Qt(Xt)},use:function(Bn){Rt.setFBO({framebuffer:or},Bn)}})}function Rn(hn){var Yt=Array(6);function Xt(wr){var Bn;ne(Yt.indexOf(Rt.next)<0,"can not update framebuffer which is currently in use");var Mr={color:null},pr=0,Ar=null,zr="rgba",Xo="uint8",ni=1;if(typeof wr=="number")pr=wr|0;else if(!wr)pr=1;else{ne.type(wr,"object","invalid arguments for framebuffer");var Ir=wr;if("shape"in Ir){var Jo=Ir.shape;ne(Array.isArray(Jo)&&Jo.length>=2,"invalid shape for framebuffer"),ne(Jo[0]===Jo[1],"cube framebuffer must be square"),pr=Jo[0]}else"radius"in Ir&&(pr=Ir.radius|0),"width"in Ir?(pr=Ir.width|0,"height"in Ir&&ne(Ir.height===pr,"must be square")):"height"in Ir&&(pr=Ir.height|0);("color"in Ir||"colors"in Ir)&&(Ar=Ir.color||Ir.colors,Array.isArray(Ar)&&ne(Ar.length===1||Ee.webgl_draw_buffers,"multiple render targets not supported")),Ar||("colorCount"in Ir&&(ni=Ir.colorCount|0,ne(ni>0,"invalid color buffer count")),"colorType"in Ir&&(ne.oneOf(Ir.colorType,fn,"invalid color type"),Xo=Ir.colorType),"colorFormat"in Ir&&(zr=Ir.colorFormat,ne.oneOf(Ir.colorFormat,nn,"invalid color format for texture"))),"depth"in Ir&&(Mr.depth=Ir.depth),"stencil"in Ir&&(Mr.stencil=Ir.stencil),"depthStencil"in Ir&&(Mr.depthStencil=Ir.depthStencil)}var yo;if(Ar)if(Array.isArray(Ar))for(yo=[],Bn=0;Bn<Ar.length;++Bn)yo[Bn]=Ar[Bn];else yo=[Ar];else{yo=Array(ni);var mo={radius:pr,format:zr,type:Xo};for(Bn=0;Bn<ni;++Bn)yo[Bn]=Pt.createCube(mo)}for(Mr.color=Array(yo.length),Bn=0;Bn<yo.length;++Bn){var Qo=yo[Bn];ne(typeof Qo=="function"&&Qo._reglType==="textureCube","invalid cube map"),pr=pr||Qo.width,ne(Qo.width===pr&&Qo.height===pr,"invalid cube map shape"),Mr.color[Bn]={target:Ip,data:yo[Bn]}}for(Bn=0;Bn<6;++Bn){for(var Yo=0;Yo<yo.length;++Yo)Mr.color[Yo].target=Ip+Bn;Bn>0&&(Mr.depth=Yt[0].depth,Mr.stencil=Yt[0].stencil,Mr.depthStencil=Yt[0].depthStencil),Yt[Bn]?Yt[Bn](Mr):Yt[Bn]=Lt(Mr)}return r(Xt,{width:pr,height:pr,color:yo})}function or(wr){var Bn,Mr=wr|0;if(ne(Mr>0&&Mr<=Fe.maxCubeMapSize,"invalid radius for cube fbo"),Mr===Xt.width)return Xt;var pr=Xt.color;for(Bn=0;Bn<pr.length;++Bn)pr[Bn].resize(Mr);for(Bn=0;Bn<6;++Bn)Yt[Bn].resize(Mr);return Xt.width=Xt.height=Mr,Xt}return Xt(hn),r(Xt,{faces:Yt,resize:or,_reglType:"framebufferCube",destroy:function(){Yt.forEach(function(wr){wr.destroy()})}})}function dr(){Rt.cur=null,Rt.next=null,Rt.dirty=!0,Wo(Zt).forEach(function(hn){hn.framebuffer=Q.createFramebuffer(),$t(hn)})}return r(Rt,{getFramebuffer:function(hn){if(typeof hn=="function"&&hn._reglType==="framebuffer"){var Yt=hn._framebuffer;if(Yt instanceof sn)return Yt}return null},create:Lt,createCube:Rn,clear:function(){Wo(Zt).forEach(Vt)},restore:dr})}var _T=5126,$l=34962;function Ru(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=_T,this.offset=0,this.stride=0,this.divisor=0}function TT(Q,Ee,Fe,Pt,Ut){for(var Ct=Fe.maxAttributes,Rt=new Array(Ct),nn=0;nn<Ct;++nn)Rt[nn]=new Ru;var on=0,fn={},an={Record:Ru,scope:{},state:Rt,currentVAO:null,targetVAO:null,restore:On()?Zt:function(){},createVAO:sn,getVAO:mn,destroyBuffer:en,setVAO:On()?ft:Tt,clear:On()?dn:function(){}};function en(Qt){for(var Vt=0;Vt<Rt.length;++Vt){var $t=Rt[Vt];$t.buffer===Qt&&(Q.disableVertexAttribArray(Vt),$t.buffer=null)}}function On(){return Ee.oes_vertex_array_object}function rn(){return Ee.angle_instanced_arrays}function mn(Qt){return typeof Qt=="function"&&Qt._vao?Qt._vao:null}function ft(Qt){if(Qt!==an.currentVAO){var Vt=On();Qt?Vt.bindVertexArrayOES(Qt.vao):Vt.bindVertexArrayOES(null),an.currentVAO=Qt}}function Tt(Qt){if(Qt!==an.currentVAO){if(Qt)Qt.bindAttrs();else for(var Vt=rn(),$t=0;$t<Rt.length;++$t){var Lt=Rt[$t];Lt.buffer?(Q.enableVertexAttribArray($t),Q.vertexAttribPointer($t,Lt.size,Lt.type,Lt.normalized,Lt.stride,Lt.offfset),Vt&&Lt.divisor&&Vt.vertexAttribDivisorANGLE($t,Lt.divisor)):(Q.disableVertexAttribArray($t),Q.vertexAttrib4f($t,Lt.x,Lt.y,Lt.z,Lt.w))}an.currentVAO=Qt}}function dn(){Wo(fn).forEach(function(Qt){Qt.destroy()})}function Nn(){this.id=++on,this.attributes=[];var Qt=On();Qt?this.vao=Qt.createVertexArrayOES():this.vao=null,fn[this.id]=this,this.buffers=[]}Nn.prototype.bindAttrs=function(){for(var Qt=rn(),Vt=this.attributes,$t=0;$t<Vt.length;++$t){var Lt=Vt[$t];Lt.buffer?(Q.enableVertexAttribArray($t),Q.bindBuffer($l,Lt.buffer.buffer),Q.vertexAttribPointer($t,Lt.size,Lt.type,Lt.normalized,Lt.stride,Lt.offset),Qt&&Lt.divisor&&Qt.vertexAttribDivisorANGLE($t,Lt.divisor)):(Q.disableVertexAttribArray($t),Q.vertexAttrib4f($t,Lt.x,Lt.y,Lt.z,Lt.w))}for(var Rn=Vt.length;Rn<Ct;++Rn)Q.disableVertexAttribArray(Rn)},Nn.prototype.refresh=function(){var Qt=On();Qt&&(Qt.bindVertexArrayOES(this.vao),this.bindAttrs(),an.currentVAO=this)},Nn.prototype.destroy=function(){if(this.vao){var Qt=On();this===an.currentVAO&&(an.currentVAO=null,Qt.bindVertexArrayOES(null)),Qt.deleteVertexArrayOES(this.vao),this.vao=null}fn[this.id]&&(delete fn[this.id],Pt.vaoCount-=1)};function Zt(){var Qt=On();Qt&&Wo(fn).forEach(function(Vt){Vt.refresh()})}function sn(Qt){var Vt=new Nn;Pt.vaoCount+=1;function $t(Lt){ne(Array.isArray(Lt),"arguments to vertex array constructor must be an array"),ne(Lt.length<Ct,"too many attributes"),ne(Lt.length>0,"must specify at least one attribute");var Rn={},dr=Vt.attributes;dr.length=Lt.length;for(var hn=0;hn<Lt.length;++hn){var Yt=Lt[hn],Xt=dr[hn]=new Ru,or=Yt.data||Yt;if(Array.isArray(or)||n(or)||la(or)){var wr;Vt.buffers[hn]&&(wr=Vt.buffers[hn],n(or)&&wr._buffer.byteLength>=or.byteLength?wr.subdata(or):(wr.destroy(),Vt.buffers[hn]=null)),Vt.buffers[hn]||(wr=Vt.buffers[hn]=Ut.create(Yt,$l,!1,!0)),Xt.buffer=Ut.getBuffer(wr),Xt.size=Xt.buffer.dimension|0,Xt.normalized=!1,Xt.type=Xt.buffer.dtype,Xt.offset=0,Xt.stride=0,Xt.divisor=0,Xt.state=1,Rn[hn]=1}else Ut.getBuffer(Yt)?(Xt.buffer=Ut.getBuffer(Yt),Xt.size=Xt.buffer.dimension|0,Xt.normalized=!1,Xt.type=Xt.buffer.dtype,Xt.offset=0,Xt.stride=0,Xt.divisor=0,Xt.state=1):Ut.getBuffer(Yt.buffer)?(Xt.buffer=Ut.getBuffer(Yt.buffer),Xt.size=(+Yt.size||Xt.buffer.dimension)|0,Xt.normalized=!!Yt.normalized||!1,"type"in Yt?(ne.parameter(Yt.type,fs,"invalid buffer type"),Xt.type=fs[Yt.type]):Xt.type=Xt.buffer.dtype,Xt.offset=(Yt.offset||0)|0,Xt.stride=(Yt.stride||0)|0,Xt.divisor=(Yt.divisor||0)|0,Xt.state=1,ne(Xt.size>=1&&Xt.size<=4,"size must be between 1 and 4"),ne(Xt.offset>=0,"invalid offset"),ne(Xt.stride>=0&&Xt.stride<=255,"stride must be between 0 and 255"),ne(Xt.divisor>=0,"divisor must be positive"),ne(!Xt.divisor||!!Ee.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in Yt?(ne(hn>0,"first attribute must not be a constant"),Xt.x=+Yt.x||0,Xt.y=+Yt.y||0,Xt.z=+Yt.z||0,Xt.w=+Yt.w||0,Xt.state=2):ne(!1,"invalid attribute spec for location "+hn)}for(var Bn=0;Bn<Vt.buffers.length;++Bn)!Rn[Bn]&&Vt.buffers[Bn]&&(Vt.buffers[Bn].destroy(),Vt.buffers[Bn]=null);return Vt.refresh(),$t}return $t.destroy=function(){for(var Lt=0;Lt<Vt.buffers.length;++Lt)Vt.buffers[Lt]&&Vt.buffers[Lt].destroy();Vt.buffers.length=0,Vt.destroy()},$t._vao=Vt,$t._reglType="vao",$t(Qt)}return an}var fm=35632,$0=35633,kp=35718,CT=35721;function B0(Q,Ee,Fe,Pt){var Ut={},Ct={};function Rt(ft,Tt,dn,Nn){this.name=ft,this.id=Tt,this.location=dn,this.info=Nn}function nn(ft,Tt){for(var dn=0;dn<ft.length;++dn)if(ft[dn].id===Tt.id){ft[dn].location=Tt.location;return}ft.push(Tt)}function on(ft,Tt,dn){var Nn=ft===fm?Ut:Ct,Zt=Nn[Tt];if(!Zt){var sn=Ee.str(Tt);Zt=Q.createShader(ft),Q.shaderSource(Zt,sn),Q.compileShader(Zt),ne.shaderError(Q,Zt,sn,ft,dn),Nn[Tt]=Zt}return Zt}var fn={},an=[],en=0;function On(ft,Tt){this.id=en++,this.fragId=ft,this.vertId=Tt,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Pt.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function rn(ft,Tt,dn){var Nn,Zt,sn=on(fm,ft.fragId),Qt=on($0,ft.vertId),Vt=ft.program=Q.createProgram();if(Q.attachShader(Vt,sn),Q.attachShader(Vt,Qt),dn)for(Nn=0;Nn<dn.length;++Nn){var $t=dn[Nn];Q.bindAttribLocation(Vt,$t[0],$t[1])}Q.linkProgram(Vt),ne.linkError(Q,Vt,Ee.str(ft.fragId),Ee.str(ft.vertId),Tt);var Lt=Q.getProgramParameter(Vt,kp);Pt.profile&&(ft.stats.uniformsCount=Lt);var Rn=ft.uniforms;for(Nn=0;Nn<Lt;++Nn)if(Zt=Q.getActiveUniform(Vt,Nn),Zt)if(Zt.size>1)for(var dr=0;dr<Zt.size;++dr){var hn=Zt.name.replace("[0]","["+dr+"]");nn(Rn,new Rt(hn,Ee.id(hn),Q.getUniformLocation(Vt,hn),Zt))}else nn(Rn,new Rt(Zt.name,Ee.id(Zt.name),Q.getUniformLocation(Vt,Zt.name),Zt));var Yt=Q.getProgramParameter(Vt,CT);Pt.profile&&(ft.stats.attributesCount=Yt);var Xt=ft.attributes;for(Nn=0;Nn<Yt;++Nn)Zt=Q.getActiveAttrib(Vt,Nn),Zt&&nn(Xt,new Rt(Zt.name,Ee.id(Zt.name),Q.getAttribLocation(Vt,Zt.name),Zt))}Pt.profile&&(Fe.getMaxUniformsCount=function(){var ft=0;return an.forEach(function(Tt){Tt.stats.uniformsCount>ft&&(ft=Tt.stats.uniformsCount)}),ft},Fe.getMaxAttributesCount=function(){var ft=0;return an.forEach(function(Tt){Tt.stats.attributesCount>ft&&(ft=Tt.stats.attributesCount)}),ft});function mn(){Ut={},Ct={};for(var ft=0;ft<an.length;++ft)rn(an[ft],null,an[ft].attributes.map(function(Tt){return[Tt.location,Tt.name]}))}return{clear:function(){var ft=Q.deleteShader.bind(Q);Wo(Ut).forEach(ft),Ut={},Wo(Ct).forEach(ft),Ct={},an.forEach(function(Tt){Q.deleteProgram(Tt.program)}),an.length=0,fn={},Fe.shaderCount=0},program:function(ft,Tt,dn,Nn){ne.command(ft>=0,"missing vertex shader",dn),ne.command(Tt>=0,"missing fragment shader",dn);var Zt=fn[Tt];Zt||(Zt=fn[Tt]={});var sn=Zt[ft];if(sn&&(sn.refCount++,!Nn))return sn;var Qt=new On(Tt,ft);return Fe.shaderCount++,rn(Qt,dn,Nn),sn||(Zt[ft]=Qt),an.push(Qt),r(Qt,{destroy:function(){if(Qt.refCount--,Qt.refCount<=0){Q.deleteProgram(Qt.program);var Vt=an.indexOf(Qt);an.splice(Vt,1),Fe.shaderCount--}Zt[Qt.vertId].refCount<=0&&(Q.deleteShader(Ct[Qt.vertId]),delete Ct[Qt.vertId],delete fn[Qt.fragId][Qt.vertId]),Object.keys(fn[Qt.fragId]).length||(Q.deleteShader(Ut[Qt.fragId]),delete Ut[Qt.fragId],delete fn[Qt.fragId])}})},restore:mn,shader:on,frag:-1,vert:-1}}var AT=6408,Dd=5121,j0=3333,tf=5126;function PT(Q,Ee,Fe,Pt,Ut,Ct,Rt){function nn(an){var en;Ee.next===null?(ne(Ut.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),en=Dd):(ne(Ee.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),en=Ee.next.colorAttachments[0].texture._texture.type,Ct.oes_texture_float?(ne(en===Dd||en===tf,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),en===tf&&ne(Rt.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):ne(en===Dd,"Reading from a framebuffer is only allowed for the type 'uint8'"));var On=0,rn=0,mn=Pt.framebufferWidth,ft=Pt.framebufferHeight,Tt=null;n(an)?Tt=an:an&&(ne.type(an,"object","invalid arguments to regl.read()"),On=an.x|0,rn=an.y|0,ne(On>=0&&On<Pt.framebufferWidth,"invalid x offset for regl.read"),ne(rn>=0&&rn<Pt.framebufferHeight,"invalid y offset for regl.read"),mn=(an.width||Pt.framebufferWidth-On)|0,ft=(an.height||Pt.framebufferHeight-rn)|0,Tt=an.data||null),Tt&&(en===Dd?ne(Tt instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):en===tf&&ne(Tt instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),ne(mn>0&&mn+On<=Pt.framebufferWidth,"invalid width for read pixels"),ne(ft>0&&ft+rn<=Pt.framebufferHeight,"invalid height for read pixels"),Fe();var dn=mn*ft*4;return Tt||(en===Dd?Tt=new Uint8Array(dn):en===tf&&(Tt=Tt||new Float32Array(dn))),ne.isTypedArray(Tt,"data buffer for regl.read() must be a typedarray"),ne(Tt.byteLength>=dn,"data buffer for regl.read() too small"),Q.pixelStorei(j0,4),Q.readPixels(On,rn,mn,ft,AT,en,Tt),Tt}function on(an){var en;return Ee.setFBO({framebuffer:an.framebuffer},function(){en=nn(an)}),en}function fn(an){return!an||!("framebuffer"in an)?nn(an):on(an)}return fn}function nf(Q){return Array.prototype.slice.call(Q)}function rf(Q){return nf(Q).join("")}function xT(){var Q=0,Ee=[],Fe=[];function Pt(en){for(var On=0;On<Fe.length;++On)if(Fe[On]===en)return Ee[On];var rn="g"+Q++;return Ee.push(rn),Fe.push(en),rn}function Ut(){var en=[];function On(){en.push.apply(en,nf(arguments))}var rn=[];function mn(){var ft="v"+Q++;return rn.push(ft),arguments.length>0&&(en.push(ft,"="),en.push.apply(en,nf(arguments)),en.push(";")),ft}return r(On,{def:mn,toString:function(){return rf([rn.length>0?"var "+rn.join(",")+";":"",rf(en)])}})}function Ct(){var en=Ut(),On=Ut(),rn=en.toString,mn=On.toString;function ft(Tt,dn){On(Tt,dn,"=",en.def(Tt,dn),";")}return r(function(){en.apply(en,nf(arguments))},{def:en.def,entry:en,exit:On,save:ft,set:function(Tt,dn,Nn){ft(Tt,dn),en(Tt,dn,"=",Nn,";")},toString:function(){return rn()+mn()}})}function Rt(){var en=rf(arguments),On=Ct(),rn=Ct(),mn=On.toString,ft=rn.toString;return r(On,{then:function(){return On.apply(On,nf(arguments)),this},else:function(){return rn.apply(rn,nf(arguments)),this},toString:function(){var Tt=ft();return Tt&&(Tt="else{"+Tt+"}"),rf(["if(",en,"){",mn(),"}",Tt])}})}var nn=Ut(),on={};function fn(en,On){var rn=[];function mn(){var Zt="a"+rn.length;return rn.push(Zt),Zt}On=On||0;for(var ft=0;ft<On;++ft)mn();var Tt=Ct(),dn=Tt.toString,Nn=on[en]=r(Tt,{arg:mn,toString:function(){return rf(["function(",rn.join(),"){",dn(),"}"])}});return Nn}function an(){var en=['"use strict";',nn,"return {"];Object.keys(on).forEach(function(mn){en.push('"',mn,'":',on[mn].toString(),",")}),en.push("}");var On=rf(en).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),rn=Function.apply(null,Ee.concat(On));return rn.apply(null,Fe)}return{global:nn,link:Pt,block:Ut,proc:fn,scope:Ct,cond:Rt,compile:an}}var of="xyzw".split(""),dm=5121,af=1,hm=2,pm=0,Lp=1,vm=2,ym=3,$p=4,F0=5,kd=6,z0="dither",U0="blend.enable",V0="blend.color",Ld="blend.equation",mm="blend.func",Bp="depth.enable",H0="depth.func",G0="depth.range",W0="depth.mask",gm="colorMask",K0="cull.enable",X0="cull.face",bm="frontFace",Em="lineWidth",Y0="polygonOffset.enable",jp="polygonOffset.offset",Sm="sample.alpha",wm="sample.enable",Om="sample.coverage",Z0="stencil.enable",J0="stencil.mask",_m="stencil.func",sf="stencil.opFront",$d="stencil.opBack",Q0="scissor.enable",Bl="scissor.box",Zs="viewport",Iu="profile",Du="framebuffer",lf="vert",Bd="frag",ku="elements",Lu="primitive",$u="count",Fp="offset",jd="instances",Fd="vao",Tm="Width",Cm="Height",uf=Du+Tm,cf=Du+Cm,Am=Zs+Tm,MT=Zs+Cm,q0="drawingBuffer",eE=q0+Tm,tE=q0+Cm,NT=[mm,Ld,_m,sf,$d,Om,Zs,Bl,jp],ff=34962,RT=34963,IT=35632,DT=35633,nE=3553,kT=34067,rE=2884,LT=3042,$T=3024,BT=2960,jT=2929,FT=3089,zT=32823,UT=32926,VT=32928,Pm=5126,Bu=35664,zp=35665,ju=35666,xm=5124,df=35667,Up=35668,Vp=35669,Mm=35670,Fu=35671,Hp=35672,Js=35673,zd=35674,Ud=35675,hf=35676,Vd=35678,pf=35680,oE=4,Hd=1028,zu=1029,iE=2304,Nm=2305,HT=32775,GT=32776,WT=519,jl=7680,aE=0,Rm=1,sE=32774,KT=513,lE=36160,XT=36064,ms={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Im=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],vf={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Fl={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},uE={frag:IT,vert:DT},Ei={cw:iE,ccw:Nm};function Gp(Q){return Array.isArray(Q)||n(Q)||la(Q)}function cE(Q){return Q.sort(function(Ee,Fe){return Ee===Zs?-1:Fe===Zs?1:Ee<Fe?-1:1})}function Ii(Q,Ee,Fe,Pt){this.thisDep=Q,this.contextDep=Ee,this.propDep=Fe,this.append=Pt}function zl(Q){return Q&&!(Q.thisDep||Q.contextDep||Q.propDep)}function Ko(Q){return new Ii(!1,!1,!1,Q)}function Zi(Q,Ee){var Fe=Q.type;if(Fe===pm){var Pt=Q.data.length;return new Ii(!0,Pt>=1,Pt>=2,Ee)}else if(Fe===$p){var Ut=Q.data;return new Ii(Ut.thisDep,Ut.contextDep,Ut.propDep,Ee)}else{if(Fe===F0)return new Ii(!1,!1,!1,Ee);if(Fe===kd){for(var Ct=!1,Rt=!1,nn=!1,on=0;on<Q.data.length;++on){var fn=Q.data[on];if(fn.type===Lp)nn=!0;else if(fn.type===vm)Rt=!0;else if(fn.type===ym)Ct=!0;else if(fn.type===pm){Ct=!0;var an=fn.data;an>=1&&(Rt=!0),an>=2&&(nn=!0)}else fn.type===$p&&(Ct=Ct||fn.data.thisDep,Rt=Rt||fn.data.contextDep,nn=nn||fn.data.propDep)}return new Ii(Ct,Rt,nn,Ee)}else return new Ii(Fe===ym,Fe===vm,Fe===Lp,Ee)}}var Dm=new Ii(!1,!1,!1,function(){});function YT(Q,Ee,Fe,Pt,Ut,Ct,Rt,nn,on,fn,an,en,On,rn,mn){var ft=fn.Record,Tt={add:32774,subtract:32778,"reverse subtract":32779};Fe.ext_blend_minmax&&(Tt.min=HT,Tt.max=GT);var dn=Fe.angle_instanced_arrays,Nn=Fe.webgl_draw_buffers,Zt={dirty:!0,profile:mn.profile},sn={},Qt=[],Vt={},$t={};function Lt(Pe){return Pe.replace(".","_")}function Rn(Pe,ye,Xe){var ct=Lt(Pe);Qt.push(Pe),sn[ct]=Zt[ct]=!!Xe,Vt[ct]=ye}function dr(Pe,ye,Xe){var ct=Lt(Pe);Qt.push(Pe),Array.isArray(Xe)?(Zt[ct]=Xe.slice(),sn[ct]=Xe.slice()):Zt[ct]=sn[ct]=Xe,$t[ct]=ye}Rn(z0,$T),Rn(U0,LT),dr(V0,"blendColor",[0,0,0,0]),dr(Ld,"blendEquationSeparate",[sE,sE]),dr(mm,"blendFuncSeparate",[Rm,aE,Rm,aE]),Rn(Bp,jT,!0),dr(H0,"depthFunc",KT),dr(G0,"depthRange",[0,1]),dr(W0,"depthMask",!0),dr(gm,gm,[!0,!0,!0,!0]),Rn(K0,rE),dr(X0,"cullFace",zu),dr(bm,bm,Nm),dr(Em,Em,1),Rn(Y0,zT),dr(jp,"polygonOffset",[0,0]),Rn(Sm,UT),Rn(wm,VT),dr(Om,"sampleCoverage",[1,!1]),Rn(Z0,BT),dr(J0,"stencilMask",-1),dr(_m,"stencilFunc",[WT,0,-1]),dr(sf,"stencilOpSeparate",[Hd,jl,jl,jl]),dr($d,"stencilOpSeparate",[zu,jl,jl,jl]),Rn(Q0,FT),dr(Bl,"scissor",[0,0,Q.drawingBufferWidth,Q.drawingBufferHeight]),dr(Zs,Zs,[0,0,Q.drawingBufferWidth,Q.drawingBufferHeight]);var hn={gl:Q,context:On,strings:Ee,next:sn,current:Zt,draw:en,elements:Ct,buffer:Ut,shader:an,attributes:fn.state,vao:fn,uniforms:on,framebuffer:nn,extensions:Fe,timer:rn,isBufferArgs:Gp},Yt={primTypes:xl,compareFuncs:vf,blendFuncs:ms,blendEquations:Tt,stencilOps:Fl,glTypes:fs,orientationType:Ei};ne.optional(function(){hn.isArrayLike=To}),Nn&&(Yt.backBuffer=[zu],Yt.drawBuffer=Jt(Pt.maxDrawbuffers,function(Pe){return Pe===0?[0]:Jt(Pe,function(ye){return XT+ye})}));var Xt=0;function or(){var Pe=xT(),ye=Pe.link,Xe=Pe.global;Pe.id=Xt++,Pe.batchId="0";var ct=ye(hn),pt=Pe.shared={props:"a0"};Object.keys(hn).forEach(function(He){pt[He]=Xe.def(ct,".",He)}),ne.optional(function(){Pe.CHECK=ye(ne),Pe.commandStr=ne.guessCommand(),Pe.command=ye(Pe.commandStr),Pe.assert=function(He,Ae,st){He("if(!(",Ae,"))",this.CHECK,".commandRaise(",ye(st),",",this.command,");")},Yt.invalidBlendCombinations=Im});var Qe=Pe.next={},Je=Pe.current={};Object.keys($t).forEach(function(He){Array.isArray(Zt[He])&&(Qe[He]=Xe.def(pt.next,".",He),Je[He]=Xe.def(pt.current,".",He))});var at=Pe.constants={};Object.keys(Yt).forEach(function(He){at[He]=Xe.def(JSON.stringify(Yt[He]))}),Pe.invoke=function(He,Ae){switch(Ae.type){case pm:var st=["this",pt.context,pt.props,Pe.batchId];return He.def(ye(Ae.data),".call(",st.slice(0,Math.max(Ae.data.length+1,4)),")");case Lp:return He.def(pt.props,Ae.data);case vm:return He.def(pt.context,Ae.data);case ym:return He.def("this",Ae.data);case $p:return Ae.data.append(Pe,He),Ae.data.ref;case F0:return Ae.data.toString();case kd:return Ae.data.map(function(mt){return Pe.invoke(He,mt)})}},Pe.attribCache={};var xe={};return Pe.scopeAttrib=function(He){var Ae=Ee.id(He);if(Ae in xe)return xe[Ae];var st=fn.scope[Ae];st||(st=fn.scope[Ae]=new ft);var mt=xe[Ae]=ye(st);return mt},Pe}function wr(Pe){var ye=Pe.static,Xe=Pe.dynamic,ct;if(Iu in ye){var pt=!!ye[Iu];ct=Ko(function(Je,at){return pt}),ct.enable=pt}else if(Iu in Xe){var Qe=Xe[Iu];ct=Zi(Qe,function(Je,at){return Je.invoke(at,Qe)})}return ct}function Bn(Pe,ye){var Xe=Pe.static,ct=Pe.dynamic;if(Du in Xe){var pt=Xe[Du];return pt?(pt=nn.getFramebuffer(pt),ne.command(pt,"invalid framebuffer object"),Ko(function(Je,at){var xe=Je.link(pt),He=Je.shared;at.set(He.framebuffer,".next",xe);var Ae=He.context;return at.set(Ae,"."+uf,xe+".width"),at.set(Ae,"."+cf,xe+".height"),xe})):Ko(function(Je,at){var xe=Je.shared;at.set(xe.framebuffer,".next","null");var He=xe.context;return at.set(He,"."+uf,He+"."+eE),at.set(He,"."+cf,He+"."+tE),"null"})}else if(Du in ct){var Qe=ct[Du];return Zi(Qe,function(Je,at){var xe=Je.invoke(at,Qe),He=Je.shared,Ae=He.framebuffer,st=at.def(Ae,".getFramebuffer(",xe,")");ne.optional(function(){Je.assert(at,"!"+xe+"||"+st,"invalid framebuffer object")}),at.set(Ae,".next",st);var mt=He.context;return at.set(mt,"."+uf,st+"?"+st+".width:"+mt+"."+eE),at.set(mt,"."+cf,st+"?"+st+".height:"+mt+"."+tE),st})}else return null}function Mr(Pe,ye,Xe){var ct=Pe.static,pt=Pe.dynamic;function Qe(xe){if(xe in ct){var He=ct[xe];ne.commandType(He,"object","invalid "+xe,Xe.commandStr);var Ae=!0,st=He.x|0,mt=He.y|0,Ft,Ht;return"width"in He?(Ft=He.width|0,ne.command(Ft>=0,"invalid "+xe,Xe.commandStr)):Ae=!1,"height"in He?(Ht=He.height|0,ne.command(Ht>=0,"invalid "+xe,Xe.commandStr)):Ae=!1,new Ii(!Ae&&ye&&ye.thisDep,!Ae&&ye&&ye.contextDep,!Ae&&ye&&ye.propDep,function(Vn,Cr){var jn=Vn.shared.context,qn=Ft;"width"in He||(qn=Cr.def(jn,".",uf,"-",st));var gr=Ht;return"height"in He||(gr=Cr.def(jn,".",cf,"-",mt)),[st,mt,qn,gr]})}else if(xe in pt){var kt=pt[xe],un=Zi(kt,function(Vn,Cr){var jn=Vn.invoke(Cr,kt);ne.optional(function(){Vn.assert(Cr,jn+"&&typeof "+jn+'==="object"',"invalid "+xe)});var qn=Vn.shared.context,gr=Cr.def(jn,".x|0"),Wr=Cr.def(jn,".y|0"),xo=Cr.def('"width" in ',jn,"?",jn,".width|0:","(",qn,".",uf,"-",gr,")"),Di=Cr.def('"height" in ',jn,"?",jn,".height|0:","(",qn,".",cf,"-",Wr,")");return ne.optional(function(){Vn.assert(Cr,xo+">=0&&"+Di+">=0","invalid "+xe)}),[gr,Wr,xo,Di]});return ye&&(un.thisDep=un.thisDep||ye.thisDep,un.contextDep=un.contextDep||ye.contextDep,un.propDep=un.propDep||ye.propDep),un}else return ye?new Ii(ye.thisDep,ye.contextDep,ye.propDep,function(Vn,Cr){var jn=Vn.shared.context;return[0,0,Cr.def(jn,".",uf),Cr.def(jn,".",cf)]}):null}var Je=Qe(Zs);if(Je){var at=Je;Je=new Ii(Je.thisDep,Je.contextDep,Je.propDep,function(xe,He){var Ae=at.append(xe,He),st=xe.shared.context;return He.set(st,"."+Am,Ae[2]),He.set(st,"."+MT,Ae[3]),Ae})}return{viewport:Je,scissor_box:Qe(Bl)}}function pr(Pe,ye){var Xe=Pe.static,ct=typeof Xe[Bd]=="string"&&typeof Xe[lf]=="string";if(ct){if(Object.keys(ye.dynamic).length>0)return null;var pt=ye.static,Qe=Object.keys(pt);if(Qe.length>0&&typeof pt[Qe[0]]=="number"){for(var Je=[],at=0;at<Qe.length;++at)ne(typeof pt[Qe[at]]=="number","must specify all vertex attribute locations when using vaos"),Je.push([pt[Qe[at]]|0,Qe[at]]);return Je}}return null}function Ar(Pe,ye,Xe){var ct=Pe.static,pt=Pe.dynamic;function Qe(Ae){if(Ae in ct){var st=Ee.id(ct[Ae]);ne.optional(function(){an.shader(uE[Ae],st,ne.guessCommand())});var mt=Ko(function(){return st});return mt.id=st,mt}else if(Ae in pt){var Ft=pt[Ae];return Zi(Ft,function(Ht,kt){var un=Ht.invoke(kt,Ft),Vn=kt.def(Ht.shared.strings,".id(",un,")");return ne.optional(function(){kt(Ht.shared.shader,".shader(",uE[Ae],",",Vn,",",Ht.command,");")}),Vn})}return null}var Je=Qe(Bd),at=Qe(lf),xe=null,He;return zl(Je)&&zl(at)?(xe=an.program(at.id,Je.id,null,Xe),He=Ko(function(Ae,st){return Ae.link(xe)})):He=new Ii(Je&&Je.thisDep||at&&at.thisDep,Je&&Je.contextDep||at&&at.contextDep,Je&&Je.propDep||at&&at.propDep,function(Ae,st){var mt=Ae.shared.shader,Ft;Je?Ft=Je.append(Ae,st):Ft=st.def(mt,".",Bd);var Ht;at?Ht=at.append(Ae,st):Ht=st.def(mt,".",lf);var kt=mt+".program("+Ht+","+Ft;return ne.optional(function(){kt+=","+Ae.command}),st.def(kt+")")}),{frag:Je,vert:at,progVar:He,program:xe}}function zr(Pe,ye){var Xe=Pe.static,ct=Pe.dynamic;function pt(){if(ku in Xe){var Ae=Xe[ku];Gp(Ae)?Ae=Ct.getElements(Ct.create(Ae,!0)):Ae&&(Ae=Ct.getElements(Ae),ne.command(Ae,"invalid elements",ye.commandStr));var st=Ko(function(Ft,Ht){if(Ae){var kt=Ft.link(Ae);return Ft.ELEMENTS=kt,kt}return Ft.ELEMENTS=null,null});return st.value=Ae,st}else if(ku in ct){var mt=ct[ku];return Zi(mt,function(Ft,Ht){var kt=Ft.shared,un=kt.isBufferArgs,Vn=kt.elements,Cr=Ft.invoke(Ht,mt),jn=Ht.def("null"),qn=Ht.def(un,"(",Cr,")"),gr=Ft.cond(qn).then(jn,"=",Vn,".createStream(",Cr,");").else(jn,"=",Vn,".getElements(",Cr,");");return ne.optional(function(){Ft.assert(gr.else,"!"+Cr+"||"+jn,"invalid elements")}),Ht.entry(gr),Ht.exit(Ft.cond(qn).then(Vn,".destroyStream(",jn,");")),Ft.ELEMENTS=jn,jn})}return null}var Qe=pt();function Je(){if(Lu in Xe){var Ae=Xe[Lu];return ne.commandParameter(Ae,xl,"invalid primitve",ye.commandStr),Ko(function(mt,Ft){return xl[Ae]})}else if(Lu in ct){var st=ct[Lu];return Zi(st,function(mt,Ft){var Ht=mt.constants.primTypes,kt=mt.invoke(Ft,st);return ne.optional(function(){mt.assert(Ft,kt+" in "+Ht,"invalid primitive, must be one of "+Object.keys(xl))}),Ft.def(Ht,"[",kt,"]")})}else if(Qe)return zl(Qe)?Qe.value?Ko(function(mt,Ft){return Ft.def(mt.ELEMENTS,".primType")}):Ko(function(){return oE}):new Ii(Qe.thisDep,Qe.contextDep,Qe.propDep,function(mt,Ft){var Ht=mt.ELEMENTS;return Ft.def(Ht,"?",Ht,".primType:",oE)});return null}function at(Ae,st){if(Ae in Xe){var mt=Xe[Ae]|0;return ne.command(!st||mt>=0,"invalid "+Ae,ye.commandStr),Ko(function(Ht,kt){return st&&(Ht.OFFSET=mt),mt})}else if(Ae in ct){var Ft=ct[Ae];return Zi(Ft,function(Ht,kt){var un=Ht.invoke(kt,Ft);return st&&(Ht.OFFSET=un,ne.optional(function(){Ht.assert(kt,un+">=0","invalid "+Ae)})),un})}else if(st&&Qe)return Ko(function(Ht,kt){return Ht.OFFSET="0",0});return null}var xe=at(Fp,!0);function He(){if($u in Xe){var Ae=Xe[$u]|0;return ne.command(typeof Ae=="number"&&Ae>=0,"invalid vertex count",ye.commandStr),Ko(function(){return Ae})}else if($u in ct){var st=ct[$u];return Zi(st,function(Ht,kt){var un=Ht.invoke(kt,st);return ne.optional(function(){Ht.assert(kt,"typeof "+un+'==="number"&&'+un+">=0&&"+un+"===("+un+"|0)","invalid vertex count")}),un})}else if(Qe)if(zl(Qe)){if(Qe)return xe?new Ii(xe.thisDep,xe.contextDep,xe.propDep,function(Ht,kt){var un=kt.def(Ht.ELEMENTS,".vertCount-",Ht.OFFSET);return ne.optional(function(){Ht.assert(kt,un+">=0","invalid vertex offset/element buffer too small")}),un}):Ko(function(Ht,kt){return kt.def(Ht.ELEMENTS,".vertCount")});var mt=Ko(function(){return-1});return ne.optional(function(){mt.MISSING=!0}),mt}else{var Ft=new Ii(Qe.thisDep||xe.thisDep,Qe.contextDep||xe.contextDep,Qe.propDep||xe.propDep,function(Ht,kt){var un=Ht.ELEMENTS;return Ht.OFFSET?kt.def(un,"?",un,".vertCount-",Ht.OFFSET,":-1"):kt.def(un,"?",un,".vertCount:-1")});return ne.optional(function(){Ft.DYNAMIC=!0}),Ft}return null}return{elements:Qe,primitive:Je(),count:He(),instances:at(jd,!1),offset:xe}}function Xo(Pe,ye){var Xe=Pe.static,ct=Pe.dynamic,pt={};return Qt.forEach(function(Qe){var Je=Lt(Qe);function at(xe,He){if(Qe in Xe){var Ae=xe(Xe[Qe]);pt[Je]=Ko(function(){return Ae})}else if(Qe in ct){var st=ct[Qe];pt[Je]=Zi(st,function(mt,Ft){return He(mt,Ft,mt.invoke(Ft,st))})}}switch(Qe){case K0:case U0:case z0:case Z0:case Bp:case Q0:case Y0:case Sm:case wm:case W0:return at(function(xe){return ne.commandType(xe,"boolean",Qe,ye.commandStr),xe},function(xe,He,Ae){return ne.optional(function(){xe.assert(He,"typeof "+Ae+'==="boolean"',"invalid flag "+Qe,xe.commandStr)}),Ae});case H0:return at(function(xe){return ne.commandParameter(xe,vf,"invalid "+Qe,ye.commandStr),vf[xe]},function(xe,He,Ae){var st=xe.constants.compareFuncs;return ne.optional(function(){xe.assert(He,Ae+" in "+st,"invalid "+Qe+", must be one of "+Object.keys(vf))}),He.def(st,"[",Ae,"]")});case G0:return at(function(xe){return ne.command(To(xe)&&xe.length===2&&typeof xe[0]=="number"&&typeof xe[1]=="number"&&xe[0]<=xe[1],"depth range is 2d array",ye.commandStr),xe},function(xe,He,Ae){ne.optional(function(){xe.assert(He,xe.shared.isArrayLike+"("+Ae+")&&"+Ae+".length===2&&typeof "+Ae+'[0]==="number"&&typeof '+Ae+'[1]==="number"&&'+Ae+"[0]<="+Ae+"[1]","depth range must be a 2d array")});var st=He.def("+",Ae,"[0]"),mt=He.def("+",Ae,"[1]");return[st,mt]});case mm:return at(function(xe){ne.commandType(xe,"object","blend.func",ye.commandStr);var He="srcRGB"in xe?xe.srcRGB:xe.src,Ae="srcAlpha"in xe?xe.srcAlpha:xe.src,st="dstRGB"in xe?xe.dstRGB:xe.dst,mt="dstAlpha"in xe?xe.dstAlpha:xe.dst;return ne.commandParameter(He,ms,Je+".srcRGB",ye.commandStr),ne.commandParameter(Ae,ms,Je+".srcAlpha",ye.commandStr),ne.commandParameter(st,ms,Je+".dstRGB",ye.commandStr),ne.commandParameter(mt,ms,Je+".dstAlpha",ye.commandStr),ne.command(Im.indexOf(He+", "+st)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+He+", "+st+")",ye.commandStr),[ms[He],ms[st],ms[Ae],ms[mt]]},function(xe,He,Ae){var st=xe.constants.blendFuncs;ne.optional(function(){xe.assert(He,Ae+"&&typeof "+Ae+'==="object"',"invalid blend func, must be an object")});function mt(jn,qn){var gr=He.def('"',jn,qn,'" in ',Ae,"?",Ae,".",jn,qn,":",Ae,".",jn);return ne.optional(function(){xe.assert(He,gr+" in "+st,"invalid "+Qe+"."+jn+qn+", must be one of "+Object.keys(ms))}),gr}var Ft=mt("src","RGB"),Ht=mt("dst","RGB");ne.optional(function(){var jn=xe.constants.invalidBlendCombinations;xe.assert(He,jn+".indexOf("+Ft+'+", "+'+Ht+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var kt=He.def(st,"[",Ft,"]"),un=He.def(st,"[",mt("src","Alpha"),"]"),Vn=He.def(st,"[",Ht,"]"),Cr=He.def(st,"[",mt("dst","Alpha"),"]");return[kt,Vn,un,Cr]});case Ld:return at(function(xe){if(typeof xe=="string")return ne.commandParameter(xe,Tt,"invalid "+Qe,ye.commandStr),[Tt[xe],Tt[xe]];if(typeof xe=="object")return ne.commandParameter(xe.rgb,Tt,Qe+".rgb",ye.commandStr),ne.commandParameter(xe.alpha,Tt,Qe+".alpha",ye.commandStr),[Tt[xe.rgb],Tt[xe.alpha]];ne.commandRaise("invalid blend.equation",ye.commandStr)},function(xe,He,Ae){var st=xe.constants.blendEquations,mt=He.def(),Ft=He.def(),Ht=xe.cond("typeof ",Ae,'==="string"');return ne.optional(function(){function kt(un,Vn,Cr){xe.assert(un,Cr+" in "+st,"invalid "+Vn+", must be one of "+Object.keys(Tt))}kt(Ht.then,Qe,Ae),xe.assert(Ht.else,Ae+"&&typeof "+Ae+'==="object"',"invalid "+Qe),kt(Ht.else,Qe+".rgb",Ae+".rgb"),kt(Ht.else,Qe+".alpha",Ae+".alpha")}),Ht.then(mt,"=",Ft,"=",st,"[",Ae,"];"),Ht.else(mt,"=",st,"[",Ae,".rgb];",Ft,"=",st,"[",Ae,".alpha];"),He(Ht),[mt,Ft]});case V0:return at(function(xe){return ne.command(To(xe)&&xe.length===4,"blend.color must be a 4d array",ye.commandStr),Jt(4,function(He){return+xe[He]})},function(xe,He,Ae){return ne.optional(function(){xe.assert(He,xe.shared.isArrayLike+"("+Ae+")&&"+Ae+".length===4","blend.color must be a 4d array")}),Jt(4,function(st){return He.def("+",Ae,"[",st,"]")})});case J0:return at(function(xe){return ne.commandType(xe,"number",Je,ye.commandStr),xe|0},function(xe,He,Ae){return ne.optional(function(){xe.assert(He,"typeof "+Ae+'==="number"',"invalid stencil.mask")}),He.def(Ae,"|0")});case _m:return at(function(xe){ne.commandType(xe,"object",Je,ye.commandStr);var He=xe.cmp||"keep",Ae=xe.ref||0,st="mask"in xe?xe.mask:-1;return ne.commandParameter(He,vf,Qe+".cmp",ye.commandStr),ne.commandType(Ae,"number",Qe+".ref",ye.commandStr),ne.commandType(st,"number",Qe+".mask",ye.commandStr),[vf[He],Ae,st]},function(xe,He,Ae){var st=xe.constants.compareFuncs;ne.optional(function(){function kt(){xe.assert(He,Array.prototype.join.call(arguments,""),"invalid stencil.func")}kt(Ae+"&&typeof ",Ae,'==="object"'),kt('!("cmp" in ',Ae,")||(",Ae,".cmp in ",st,")")});var mt=He.def('"cmp" in ',Ae,"?",st,"[",Ae,".cmp]",":",jl),Ft=He.def(Ae,".ref|0"),Ht=He.def('"mask" in ',Ae,"?",Ae,".mask|0:-1");return[mt,Ft,Ht]});case sf:case $d:return at(function(xe){ne.commandType(xe,"object",Je,ye.commandStr);var He=xe.fail||"keep",Ae=xe.zfail||"keep",st=xe.zpass||"keep";return ne.commandParameter(He,Fl,Qe+".fail",ye.commandStr),ne.commandParameter(Ae,Fl,Qe+".zfail",ye.commandStr),ne.commandParameter(st,Fl,Qe+".zpass",ye.commandStr),[Qe===$d?zu:Hd,Fl[He],Fl[Ae],Fl[st]]},function(xe,He,Ae){var st=xe.constants.stencilOps;ne.optional(function(){xe.assert(He,Ae+"&&typeof "+Ae+'==="object"',"invalid "+Qe)});function mt(Ft){return ne.optional(function(){xe.assert(He,'!("'+Ft+'" in '+Ae+")||("+Ae+"."+Ft+" in "+st+")","invalid "+Qe+"."+Ft+", must be one of "+Object.keys(Fl))}),He.def('"',Ft,'" in ',Ae,"?",st,"[",Ae,".",Ft,"]:",jl)}return[Qe===$d?zu:Hd,mt("fail"),mt("zfail"),mt("zpass")]});case jp:return at(function(xe){ne.commandType(xe,"object",Je,ye.commandStr);var He=xe.factor|0,Ae=xe.units|0;return ne.commandType(He,"number",Je+".factor",ye.commandStr),ne.commandType(Ae,"number",Je+".units",ye.commandStr),[He,Ae]},function(xe,He,Ae){ne.optional(function(){xe.assert(He,Ae+"&&typeof "+Ae+'==="object"',"invalid "+Qe)});var st=He.def(Ae,".factor|0"),mt=He.def(Ae,".units|0");return[st,mt]});case X0:return at(function(xe){var He=0;return xe==="front"?He=Hd:xe==="back"&&(He=zu),ne.command(!!He,Je,ye.commandStr),He},function(xe,He,Ae){return ne.optional(function(){xe.assert(He,Ae+'==="front"||'+Ae+'==="back"',"invalid cull.face")}),He.def(Ae,'==="front"?',Hd,":",zu)});case Em:return at(function(xe){return ne.command(typeof xe=="number"&&xe>=Pt.lineWidthDims[0]&&xe<=Pt.lineWidthDims[1],"invalid line width, must be a positive number between "+Pt.lineWidthDims[0]+" and "+Pt.lineWidthDims[1],ye.commandStr),xe},function(xe,He,Ae){return ne.optional(function(){xe.assert(He,"typeof "+Ae+'==="number"&&'+Ae+">="+Pt.lineWidthDims[0]+"&&"+Ae+"<="+Pt.lineWidthDims[1],"invalid line width")}),Ae});case bm:return at(function(xe){return ne.commandParameter(xe,Ei,Je,ye.commandStr),Ei[xe]},function(xe,He,Ae){return ne.optional(function(){xe.assert(He,Ae+'==="cw"||'+Ae+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),He.def(Ae+'==="cw"?'+iE+":"+Nm)});case gm:return at(function(xe){return ne.command(To(xe)&&xe.length===4,"color.mask must be length 4 array",ye.commandStr),xe.map(function(He){return!!He})},function(xe,He,Ae){return ne.optional(function(){xe.assert(He,xe.shared.isArrayLike+"("+Ae+")&&"+Ae+".length===4","invalid color.mask")}),Jt(4,function(st){return"!!"+Ae+"["+st+"]"})});case Om:return at(function(xe){ne.command(typeof xe=="object"&&xe,Je,ye.commandStr);var He="value"in xe?xe.value:1,Ae=!!xe.invert;return ne.command(typeof He=="number"&&He>=0&&He<=1,"sample.coverage.value must be a number between 0 and 1",ye.commandStr),[He,Ae]},function(xe,He,Ae){ne.optional(function(){xe.assert(He,Ae+"&&typeof "+Ae+'==="object"',"invalid sample.coverage")});var st=He.def('"value" in ',Ae,"?+",Ae,".value:1"),mt=He.def("!!",Ae,".invert");return[st,mt]})}}),pt}function ni(Pe,ye){var Xe=Pe.static,ct=Pe.dynamic,pt={};return Object.keys(Xe).forEach(function(Qe){var Je=Xe[Qe],at;if(typeof Je=="number"||typeof Je=="boolean")at=Ko(function(){return Je});else if(typeof Je=="function"){var xe=Je._reglType;xe==="texture2d"||xe==="textureCube"?at=Ko(function(He){return He.link(Je)}):xe==="framebuffer"||xe==="framebufferCube"?(ne.command(Je.color.length>0,'missing color attachment for framebuffer sent to uniform "'+Qe+'"',ye.commandStr),at=Ko(function(He){return He.link(Je.color[0])})):ne.commandRaise('invalid data for uniform "'+Qe+'"',ye.commandStr)}else To(Je)?at=Ko(function(He){var Ae=He.global.def("[",Jt(Je.length,function(st){return ne.command(typeof Je[st]=="number"||typeof Je[st]=="boolean","invalid uniform "+Qe,He.commandStr),Je[st]}),"]");return Ae}):ne.commandRaise('invalid or missing data for uniform "'+Qe+'"',ye.commandStr);at.value=Je,pt[Qe]=at}),Object.keys(ct).forEach(function(Qe){var Je=ct[Qe];pt[Qe]=Zi(Je,function(at,xe){return at.invoke(xe,Je)})}),pt}function Ir(Pe,ye){var Xe=Pe.static,ct=Pe.dynamic,pt={};return Object.keys(Xe).forEach(function(Qe){var Je=Xe[Qe],at=Ee.id(Qe),xe=new ft;if(Gp(Je))xe.state=af,xe.buffer=Ut.getBuffer(Ut.create(Je,ff,!1,!0)),xe.type=0;else{var He=Ut.getBuffer(Je);if(He)xe.state=af,xe.buffer=He,xe.type=0;else if(ne.command(typeof Je=="object"&&Je,"invalid data for attribute "+Qe,ye.commandStr),"constant"in Je){var Ae=Je.constant;xe.buffer="null",xe.state=hm,typeof Ae=="number"?xe.x=Ae:(ne.command(To(Ae)&&Ae.length>0&&Ae.length<=4,"invalid constant for attribute "+Qe,ye.commandStr),of.forEach(function(Vn,Cr){Cr<Ae.length&&(xe[Vn]=Ae[Cr])}))}else{Gp(Je.buffer)?He=Ut.getBuffer(Ut.create(Je.buffer,ff,!1,!0)):He=Ut.getBuffer(Je.buffer),ne.command(!!He,'missing buffer for attribute "'+Qe+'"',ye.commandStr);var st=Je.offset|0;ne.command(st>=0,'invalid offset for attribute "'+Qe+'"',ye.commandStr);var mt=Je.stride|0;ne.command(mt>=0&&mt<256,'invalid stride for attribute "'+Qe+'", must be integer betweeen [0, 255]',ye.commandStr);var Ft=Je.size|0;ne.command(!("size"in Je)||Ft>0&&Ft<=4,'invalid size for attribute "'+Qe+'", must be 1,2,3,4',ye.commandStr);var Ht=!!Je.normalized,kt=0;"type"in Je&&(ne.commandParameter(Je.type,fs,"invalid type for attribute "+Qe,ye.commandStr),kt=fs[Je.type]);var un=Je.divisor|0;"divisor"in Je&&(ne.command(un===0||dn,'cannot specify divisor for attribute "'+Qe+'", instancing not supported',ye.commandStr),ne.command(un>=0,'invalid divisor for attribute "'+Qe+'"',ye.commandStr)),ne.optional(function(){var Vn=ye.commandStr,Cr=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(Je).forEach(function(jn){ne.command(Cr.indexOf(jn)>=0,'unknown parameter "'+jn+'" for attribute pointer "'+Qe+'" (valid parameters are '+Cr+")",Vn)})}),xe.buffer=He,xe.state=af,xe.size=Ft,xe.normalized=Ht,xe.type=kt||He.dtype,xe.offset=st,xe.stride=mt,xe.divisor=un}}pt[Qe]=Ko(function(Vn,Cr){var jn=Vn.attribCache;if(at in jn)return jn[at];var qn={isStream:!1};return Object.keys(xe).forEach(function(gr){qn[gr]=xe[gr]}),xe.buffer&&(qn.buffer=Vn.link(xe.buffer),qn.type=qn.type||qn.buffer+".dtype"),jn[at]=qn,qn})}),Object.keys(ct).forEach(function(Qe){var Je=ct[Qe];function at(xe,He){var Ae=xe.invoke(He,Je),st=xe.shared,mt=xe.constants,Ft=st.isBufferArgs,Ht=st.buffer;ne.optional(function(){xe.assert(He,Ae+"&&(typeof "+Ae+'==="object"||typeof '+Ae+'==="function")&&('+Ft+"("+Ae+")||"+Ht+".getBuffer("+Ae+")||"+Ht+".getBuffer("+Ae+".buffer)||"+Ft+"("+Ae+'.buffer)||("constant" in '+Ae+"&&(typeof "+Ae+'.constant==="number"||'+st.isArrayLike+"("+Ae+".constant))))",'invalid dynamic attribute "'+Qe+'"')});var kt={isStream:He.def(!1)},un=new ft;un.state=af,Object.keys(un).forEach(function(qn){kt[qn]=He.def(""+un[qn])});var Vn=kt.buffer,Cr=kt.type;He("if(",Ft,"(",Ae,")){",kt.isStream,"=true;",Vn,"=",Ht,".createStream(",ff,",",Ae,");",Cr,"=",Vn,".dtype;","}else{",Vn,"=",Ht,".getBuffer(",Ae,");","if(",Vn,"){",Cr,"=",Vn,".dtype;",'}else if("constant" in ',Ae,"){",kt.state,"=",hm,";","if(typeof "+Ae+'.constant === "number"){',kt[of[0]],"=",Ae,".constant;",of.slice(1).map(function(qn){return kt[qn]}).join("="),"=0;","}else{",of.map(function(qn,gr){return kt[qn]+"="+Ae+".constant.length>"+gr+"?"+Ae+".constant["+gr+"]:0;"}).join(""),"}}else{","if(",Ft,"(",Ae,".buffer)){",Vn,"=",Ht,".createStream(",ff,",",Ae,".buffer);","}else{",Vn,"=",Ht,".getBuffer(",Ae,".buffer);","}",Cr,'="type" in ',Ae,"?",mt.glTypes,"[",Ae,".type]:",Vn,".dtype;",kt.normalized,"=!!",Ae,".normalized;");function jn(qn){He(kt[qn],"=",Ae,".",qn,"|0;")}return jn("size"),jn("offset"),jn("stride"),jn("divisor"),He("}}"),He.exit("if(",kt.isStream,"){",Ht,".destroyStream(",Vn,");","}"),kt}pt[Qe]=Zi(Je,at)}),pt}function Jo(Pe,ye){var Xe=Pe.static,ct=Pe.dynamic;if(Fd in Xe){var pt=Xe[Fd];return pt!==null&&fn.getVAO(pt)===null&&(pt=fn.createVAO(pt)),Ko(function(Je){return Je.link(fn.getVAO(pt))})}else if(Fd in ct){var Qe=ct[Fd];return Zi(Qe,function(Je,at){var xe=Je.invoke(at,Qe);return at.def(Je.shared.vao+".getVAO("+xe+")")})}return null}function yo(Pe){var ye=Pe.static,Xe=Pe.dynamic,ct={};return Object.keys(ye).forEach(function(pt){var Qe=ye[pt];ct[pt]=Ko(function(Je,at){return typeof Qe=="number"||typeof Qe=="boolean"?""+Qe:Je.link(Qe)})}),Object.keys(Xe).forEach(function(pt){var Qe=Xe[pt];ct[pt]=Zi(Qe,function(Je,at){return Je.invoke(at,Qe)})}),ct}function mo(Pe,ye,Xe,ct,pt){var Qe=Pe.static,Je=Pe.dynamic;ne.optional(function(){var jn=[Du,lf,Bd,ku,Lu,Fp,$u,jd,Iu,Fd].concat(Qt);function qn(gr){Object.keys(gr).forEach(function(Wr){ne.command(jn.indexOf(Wr)>=0,'unknown parameter "'+Wr+'"',pt.commandStr)})}qn(Qe),qn(Je)});var at=pr(Pe,ye),xe=Bn(Pe),He=Mr(Pe,xe,pt),Ae=zr(Pe,pt),st=Xo(Pe,pt),mt=Ar(Pe,pt,at);function Ft(jn){var qn=He[jn];qn&&(st[jn]=qn)}Ft(Zs),Ft(Lt(Bl));var Ht=Object.keys(st).length>0,kt={framebuffer:xe,draw:Ae,shader:mt,state:st,dirty:Ht,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(kt.profile=wr(Pe),kt.uniforms=ni(Xe,pt),kt.drawVAO=kt.scopeVAO=Jo(Pe),!kt.drawVAO&&mt.program&&!at&&Fe.angle_instanced_arrays){var un=!0,Vn=mt.program.attributes.map(function(jn){var qn=ye.static[jn];return un=un&&!!qn,qn});if(un&&Vn.length>0){var Cr=fn.getVAO(fn.createVAO(Vn));kt.drawVAO=new Ii(null,null,null,function(jn,qn){return jn.link(Cr)}),kt.useVAO=!0}}return at?kt.useVAO=!0:kt.attributes=Ir(ye,pt),kt.context=yo(ct),kt}function Qo(Pe,ye,Xe){var ct=Pe.shared,pt=ct.context,Qe=Pe.scope();Object.keys(Xe).forEach(function(Je){ye.save(pt,"."+Je);var at=Xe[Je],xe=at.append(Pe,ye);Array.isArray(xe)?Qe(pt,".",Je,"=[",xe.join(),"];"):Qe(pt,".",Je,"=",xe,";")}),ye(Qe)}function Yo(Pe,ye,Xe,ct){var pt=Pe.shared,Qe=pt.gl,Je=pt.framebuffer,at;Nn&&(at=ye.def(pt.extensions,".webgl_draw_buffers"));var xe=Pe.constants,He=xe.drawBuffer,Ae=xe.backBuffer,st;Xe?st=Xe.append(Pe,ye):st=ye.def(Je,".next"),ct||ye("if(",st,"!==",Je,".cur){"),ye("if(",st,"){",Qe,".bindFramebuffer(",lE,",",st,".framebuffer);"),Nn&&ye(at,".drawBuffersWEBGL(",He,"[",st,".colorAttachments.length]);"),ye("}else{",Qe,".bindFramebuffer(",lE,",null);"),Nn&&ye(at,".drawBuffersWEBGL(",Ae,");"),ye("}",Je,".cur=",st,";"),ct||ye("}")}function ai(Pe,ye,Xe){var ct=Pe.shared,pt=ct.gl,Qe=Pe.current,Je=Pe.next,at=ct.current,xe=ct.next,He=Pe.cond(at,".dirty");Qt.forEach(function(Ae){var st=Lt(Ae);if(!(st in Xe.state)){var mt,Ft;if(st in Je){mt=Je[st],Ft=Qe[st];var Ht=Jt(Zt[st].length,function(un){return He.def(mt,"[",un,"]")});He(Pe.cond(Ht.map(function(un,Vn){return un+"!=="+Ft+"["+Vn+"]"}).join("||")).then(pt,".",$t[st],"(",Ht,");",Ht.map(function(un,Vn){return Ft+"["+Vn+"]="+un}).join(";"),";"))}else{mt=He.def(xe,".",st);var kt=Pe.cond(mt,"!==",at,".",st);He(kt),st in Vt?kt(Pe.cond(mt).then(pt,".enable(",Vt[st],");").else(pt,".disable(",Vt[st],");"),at,".",st,"=",mt,";"):kt(pt,".",$t[st],"(",mt,");",at,".",st,"=",mt,";")}}}),Object.keys(Xe.state).length===0&&He(at,".dirty=false;"),ye(He)}function ri(Pe,ye,Xe,ct){var pt=Pe.shared,Qe=Pe.current,Je=pt.current,at=pt.gl;cE(Object.keys(Xe)).forEach(function(xe){var He=Xe[xe];if(!(ct&&!ct(He))){var Ae=He.append(Pe,ye);if(Vt[xe]){var st=Vt[xe];zl(He)?Ae?ye(at,".enable(",st,");"):ye(at,".disable(",st,");"):ye(Pe.cond(Ae).then(at,".enable(",st,");").else(at,".disable(",st,");")),ye(Je,".",xe,"=",Ae,";")}else if(To(Ae)){var mt=Qe[xe];ye(at,".",$t[xe],"(",Ae,");",Ae.map(function(Ft,Ht){return mt+"["+Ht+"]="+Ft}).join(";"),";")}else ye(at,".",$t[xe],"(",Ae,");",Je,".",xe,"=",Ae,";")}})}function oo(Pe,ye){dn&&(Pe.instancing=ye.def(Pe.shared.extensions,".angle_instanced_arrays"))}function Tr(Pe,ye,Xe,ct,pt){var Qe=Pe.shared,Je=Pe.stats,at=Qe.current,xe=Qe.timer,He=Xe.profile;function Ae(){return typeof performance>"u"?"Date.now()":"performance.now()"}var st,mt;function Ft(jn){st=ye.def(),jn(st,"=",Ae(),";"),typeof pt=="string"?jn(Je,".count+=",pt,";"):jn(Je,".count++;"),rn&&(ct?(mt=ye.def(),jn(mt,"=",xe,".getNumPendingQueries();")):jn(xe,".beginQuery(",Je,");"))}function Ht(jn){jn(Je,".cpuTime+=",Ae(),"-",st,";"),rn&&(ct?jn(xe,".pushScopeStats(",mt,",",xe,".getNumPendingQueries(),",Je,");"):jn(xe,".endQuery();"))}function kt(jn){var qn=ye.def(at,".profile");ye(at,".profile=",jn,";"),ye.exit(at,".profile=",qn,";")}var un;if(He){if(zl(He)){He.enable?(Ft(ye),Ht(ye.exit),kt("true")):kt("false");return}un=He.append(Pe,ye),kt(un)}else un=ye.def(at,".profile");var Vn=Pe.block();Ft(Vn),ye("if(",un,"){",Vn,"}");var Cr=Pe.block();Ht(Cr),ye.exit("if(",un,"){",Cr,"}")}function hi(Pe,ye,Xe,ct,pt){var Qe=Pe.shared;function Je(xe){switch(xe){case Bu:case df:case Fu:return 2;case zp:case Up:case Hp:return 3;case ju:case Vp:case Js:return 4;default:return 1}}function at(xe,He,Ae){var st=Qe.gl,mt=ye.def(xe,".location"),Ft=ye.def(Qe.attributes,"[",mt,"]"),Ht=Ae.state,kt=Ae.buffer,un=[Ae.x,Ae.y,Ae.z,Ae.w],Vn=["buffer","normalized","offset","stride"];function Cr(){ye("if(!",Ft,".buffer){",st,".enableVertexAttribArray(",mt,");}");var qn=Ae.type,gr;if(Ae.size?gr=ye.def(Ae.size,"||",He):gr=He,ye("if(",Ft,".type!==",qn,"||",Ft,".size!==",gr,"||",Vn.map(function(xo){return Ft+"."+xo+"!=="+Ae[xo]}).join("||"),"){",st,".bindBuffer(",ff,",",kt,".buffer);",st,".vertexAttribPointer(",[mt,gr,qn,Ae.normalized,Ae.stride,Ae.offset],");",Ft,".type=",qn,";",Ft,".size=",gr,";",Vn.map(function(xo){return Ft+"."+xo+"="+Ae[xo]+";"}).join(""),"}"),dn){var Wr=Ae.divisor;ye("if(",Ft,".divisor!==",Wr,"){",Pe.instancing,".vertexAttribDivisorANGLE(",[mt,Wr],");",Ft,".divisor=",Wr,";}")}}function jn(){ye("if(",Ft,".buffer){",st,".disableVertexAttribArray(",mt,");",Ft,".buffer=null;","}if(",of.map(function(qn,gr){return Ft+"."+qn+"!=="+un[gr]}).join("||"),"){",st,".vertexAttrib4f(",mt,",",un,");",of.map(function(qn,gr){return Ft+"."+qn+"="+un[gr]+";"}).join(""),"}")}Ht===af?Cr():Ht===hm?jn():(ye("if(",Ht,"===",af,"){"),Cr(),ye("}else{"),jn(),ye("}"))}ct.forEach(function(xe){var He=xe.name,Ae=Xe.attributes[He],st;if(Ae){if(!pt(Ae))return;st=Ae.append(Pe,ye)}else{if(!pt(Dm))return;var mt=Pe.scopeAttrib(He);ne.optional(function(){Pe.assert(ye,mt+".state","missing attribute "+He)}),st={},Object.keys(new ft).forEach(function(Ft){st[Ft]=ye.def(mt,".",Ft)})}at(Pe.link(xe),Je(xe.info.type),st)})}function Qr(Pe,ye,Xe,ct,pt){for(var Qe=Pe.shared,Je=Qe.gl,at,xe=0;xe<ct.length;++xe){var He=ct[xe],Ae=He.name,st=He.info.type,mt=Xe.uniforms[Ae],Ft=Pe.link(He),Ht=Ft+".location",kt;if(mt){if(!pt(mt))continue;if(zl(mt)){var un=mt.value;if(ne.command(un!==null&&typeof un<"u",'missing uniform "'+Ae+'"',Pe.commandStr),st===Vd||st===pf){ne.command(typeof un=="function"&&(st===Vd&&(un._reglType==="texture2d"||un._reglType==="framebuffer")||st===pf&&(un._reglType==="textureCube"||un._reglType==="framebufferCube")),"invalid texture for uniform "+Ae,Pe.commandStr);var Vn=Pe.link(un._texture||un.color[0]._texture);ye(Je,".uniform1i(",Ht,",",Vn+".bind());"),ye.exit(Vn,".unbind();")}else if(st===zd||st===Ud||st===hf){ne.optional(function(){ne.command(To(un),"invalid matrix for uniform "+Ae,Pe.commandStr),ne.command(st===zd&&un.length===4||st===Ud&&un.length===9||st===hf&&un.length===16,"invalid length for matrix uniform "+Ae,Pe.commandStr)});var Cr=Pe.global.def("new Float32Array(["+Array.prototype.slice.call(un)+"])"),jn=2;st===Ud?jn=3:st===hf&&(jn=4),ye(Je,".uniformMatrix",jn,"fv(",Ht,",false,",Cr,");")}else{switch(st){case Pm:ne.commandType(un,"number","uniform "+Ae,Pe.commandStr),at="1f";break;case Bu:ne.command(To(un)&&un.length===2,"uniform "+Ae,Pe.commandStr),at="2f";break;case zp:ne.command(To(un)&&un.length===3,"uniform "+Ae,Pe.commandStr),at="3f";break;case ju:ne.command(To(un)&&un.length===4,"uniform "+Ae,Pe.commandStr),at="4f";break;case Mm:ne.commandType(un,"boolean","uniform "+Ae,Pe.commandStr),at="1i";break;case xm:ne.commandType(un,"number","uniform "+Ae,Pe.commandStr),at="1i";break;case Fu:ne.command(To(un)&&un.length===2,"uniform "+Ae,Pe.commandStr),at="2i";break;case df:ne.command(To(un)&&un.length===2,"uniform "+Ae,Pe.commandStr),at="2i";break;case Hp:ne.command(To(un)&&un.length===3,"uniform "+Ae,Pe.commandStr),at="3i";break;case Up:ne.command(To(un)&&un.length===3,"uniform "+Ae,Pe.commandStr),at="3i";break;case Js:ne.command(To(un)&&un.length===4,"uniform "+Ae,Pe.commandStr),at="4i";break;case Vp:ne.command(To(un)&&un.length===4,"uniform "+Ae,Pe.commandStr),at="4i";break}ye(Je,".uniform",at,"(",Ht,",",To(un)?Array.prototype.slice.call(un):un,");")}continue}else kt=mt.append(Pe,ye)}else{if(!pt(Dm))continue;kt=ye.def(Qe.uniforms,"[",Ee.id(Ae),"]")}st===Vd?(ne(!Array.isArray(kt),"must specify a scalar prop for textures"),ye("if(",kt,"&&",kt,'._reglType==="framebuffer"){',kt,"=",kt,".color[0];","}")):st===pf&&(ne(!Array.isArray(kt),"must specify a scalar prop for cube maps"),ye("if(",kt,"&&",kt,'._reglType==="framebufferCube"){',kt,"=",kt,".color[0];","}")),ne.optional(function(){function Di(Ka,yE){Pe.assert(ye,Ka,'bad data or missing for uniform "'+Ae+'".  '+yE)}function Bm(Ka){ne(!Array.isArray(kt),"must not specify an array type for uniform"),Di("typeof "+kt+'==="'+Ka+'"',"invalid type, expected "+Ka)}function fa(Ka,yE){Array.isArray(kt)?ne(kt.length===Ka,"must have length "+Ka):Di(Qe.isArrayLike+"("+kt+")&&"+kt+".length==="+Ka,"invalid vector, should have length "+Ka,Pe.commandStr)}function jm(Ka){ne(!Array.isArray(kt),"must not specify a value type"),Di("typeof "+kt+'==="function"&&'+kt+'._reglType==="texture'+(Ka===nE?"2d":"Cube")+'"',"invalid texture type",Pe.commandStr)}switch(st){case xm:Bm("number");break;case df:fa(2);break;case Up:fa(3);break;case Vp:fa(4);break;case Pm:Bm("number");break;case Bu:fa(2);break;case zp:fa(3);break;case ju:fa(4);break;case Mm:Bm("boolean");break;case Fu:fa(2);break;case Hp:fa(3);break;case Js:fa(4);break;case zd:fa(4);break;case Ud:fa(9);break;case hf:fa(16);break;case Vd:jm(nE);break;case pf:jm(kT);break}});var qn=1;switch(st){case Vd:case pf:var gr=ye.def(kt,"._texture");ye(Je,".uniform1i(",Ht,",",gr,".bind());"),ye.exit(gr,".unbind();");continue;case xm:case Mm:at="1i";break;case df:case Fu:at="2i",qn=2;break;case Up:case Hp:at="3i",qn=3;break;case Vp:case Js:at="4i",qn=4;break;case Pm:at="1f";break;case Bu:at="2f",qn=2;break;case zp:at="3f",qn=3;break;case ju:at="4f",qn=4;break;case zd:at="Matrix2fv";break;case Ud:at="Matrix3fv";break;case hf:at="Matrix4fv";break}if(ye(Je,".uniform",at,"(",Ht,","),at.charAt(0)==="M"){var Wr=Math.pow(st-zd+2,2),xo=Pe.global.def("new Float32Array(",Wr,")");Array.isArray(kt)?ye("false,(",Jt(Wr,function(Di){return xo+"["+Di+"]="+kt[Di]}),",",xo,")"):ye("false,(Array.isArray(",kt,")||",kt," instanceof Float32Array)?",kt,":(",Jt(Wr,function(Di){return xo+"["+Di+"]="+kt+"["+Di+"]"}),",",xo,")")}else qn>1?ye(Jt(qn,function(Di){return Array.isArray(kt)?kt[Di]:kt+"["+Di+"]"})):(ne(!Array.isArray(kt),"uniform value must not be an array"),ye(kt));ye(");")}}function nr(Pe,ye,Xe,ct){var pt=Pe.shared,Qe=pt.gl,Je=pt.draw,at=ct.draw;function xe(){var gr=at.elements,Wr,xo=ye;return gr?((gr.contextDep&&ct.contextDynamic||gr.propDep)&&(xo=Xe),Wr=gr.append(Pe,xo)):Wr=xo.def(Je,".",ku),Wr&&xo("if("+Wr+")"+Qe+".bindBuffer("+RT+","+Wr+".buffer.buffer);"),Wr}function He(){var gr=at.count,Wr,xo=ye;return gr?((gr.contextDep&&ct.contextDynamic||gr.propDep)&&(xo=Xe),Wr=gr.append(Pe,xo),ne.optional(function(){gr.MISSING&&Pe.assert(ye,"false","missing vertex count"),gr.DYNAMIC&&Pe.assert(xo,Wr+">=0","missing vertex count")})):(Wr=xo.def(Je,".",$u),ne.optional(function(){Pe.assert(xo,Wr+">=0","missing vertex count")})),Wr}var Ae=xe();function st(gr){var Wr=at[gr];return Wr?Wr.contextDep&&ct.contextDynamic||Wr.propDep?Wr.append(Pe,Xe):Wr.append(Pe,ye):ye.def(Je,".",gr)}var mt=st(Lu),Ft=st(Fp),Ht=He();if(typeof Ht=="number"){if(Ht===0)return}else Xe("if(",Ht,"){"),Xe.exit("}");var kt,un;dn&&(kt=st(jd),un=Pe.instancing);var Vn=Ae+".type",Cr=at.elements&&zl(at.elements);function jn(){function gr(){Xe(un,".drawElementsInstancedANGLE(",[mt,Ht,Vn,Ft+"<<(("+Vn+"-"+dm+")>>1)",kt],");")}function Wr(){Xe(un,".drawArraysInstancedANGLE(",[mt,Ft,Ht,kt],");")}Ae?Cr?gr():(Xe("if(",Ae,"){"),gr(),Xe("}else{"),Wr(),Xe("}")):Wr()}function qn(){function gr(){Xe(Qe+".drawElements("+[mt,Ht,Vn,Ft+"<<(("+Vn+"-"+dm+")>>1)"]+");")}function Wr(){Xe(Qe+".drawArrays("+[mt,Ft,Ht]+");")}Ae?Cr?gr():(Xe("if(",Ae,"){"),gr(),Xe("}else{"),Wr(),Xe("}")):Wr()}dn&&(typeof kt!="number"||kt>=0)?typeof kt=="string"?(Xe("if(",kt,">0){"),jn(),Xe("}else if(",kt,"<0){"),qn(),Xe("}")):jn():qn()}function Dr(Pe,ye,Xe,ct,pt){var Qe=or(),Je=Qe.proc("body",pt);return ne.optional(function(){Qe.commandStr=ye.commandStr,Qe.command=Qe.link(ye.commandStr)}),dn&&(Qe.instancing=Je.def(Qe.shared.extensions,".angle_instanced_arrays")),Pe(Qe,Je,Xe,ct),Qe.compile().body}function Ur(Pe,ye,Xe,ct){oo(Pe,ye),Xe.useVAO?Xe.drawVAO?ye(Pe.shared.vao,".setVAO(",Xe.drawVAO.append(Pe,ye),");"):ye(Pe.shared.vao,".setVAO(",Pe.shared.vao,".targetVAO);"):(ye(Pe.shared.vao,".setVAO(null);"),hi(Pe,ye,Xe,ct.attributes,function(){return!0})),Qr(Pe,ye,Xe,ct.uniforms,function(){return!0}),nr(Pe,ye,ye,Xe)}function Bo(Pe,ye){var Xe=Pe.proc("draw",1);oo(Pe,Xe),Qo(Pe,Xe,ye.context),Yo(Pe,Xe,ye.framebuffer),ai(Pe,Xe,ye),ri(Pe,Xe,ye.state),Tr(Pe,Xe,ye,!1,!0);var ct=ye.shader.progVar.append(Pe,Xe);if(Xe(Pe.shared.gl,".useProgram(",ct,".program);"),ye.shader.program)Ur(Pe,Xe,ye,ye.shader.program);else{Xe(Pe.shared.vao,".setVAO(null);");var pt=Pe.global.def("{}"),Qe=Xe.def(ct,".id"),Je=Xe.def(pt,"[",Qe,"]");Xe(Pe.cond(Je).then(Je,".call(this,a0);").else(Je,"=",pt,"[",Qe,"]=",Pe.link(function(at){return Dr(Ur,Pe,ye,at,1)}),"(",ct,");",Je,".call(this,a0);"))}Object.keys(ye.state).length>0&&Xe(Pe.shared.current,".dirty=true;")}function gs(Pe,ye,Xe,ct){Pe.batchId="a1",oo(Pe,ye);function pt(){return!0}hi(Pe,ye,Xe,ct.attributes,pt),Qr(Pe,ye,Xe,ct.uniforms,pt),nr(Pe,ye,ye,Xe)}function Uu(Pe,ye,Xe,ct){oo(Pe,ye);var pt=Xe.contextDep,Qe=ye.def(),Je="a0",at="a1",xe=ye.def();Pe.shared.props=xe,Pe.batchId=Qe;var He=Pe.scope(),Ae=Pe.scope();ye(He.entry,"for(",Qe,"=0;",Qe,"<",at,";++",Qe,"){",xe,"=",Je,"[",Qe,"];",Ae,"}",He.exit);function st(Vn){return Vn.contextDep&&pt||Vn.propDep}function mt(Vn){return!st(Vn)}if(Xe.needsContext&&Qo(Pe,Ae,Xe.context),Xe.needsFramebuffer&&Yo(Pe,Ae,Xe.framebuffer),ri(Pe,Ae,Xe.state,st),Xe.profile&&st(Xe.profile)&&Tr(Pe,Ae,Xe,!1,!0),ct)Xe.useVAO?Xe.drawVAO?st(Xe.drawVAO)?Ae(Pe.shared.vao,".setVAO(",Xe.drawVAO.append(Pe,Ae),");"):He(Pe.shared.vao,".setVAO(",Xe.drawVAO.append(Pe,He),");"):He(Pe.shared.vao,".setVAO(",Pe.shared.vao,".targetVAO);"):(He(Pe.shared.vao,".setVAO(null);"),hi(Pe,He,Xe,ct.attributes,mt),hi(Pe,Ae,Xe,ct.attributes,st)),Qr(Pe,He,Xe,ct.uniforms,mt),Qr(Pe,Ae,Xe,ct.uniforms,st),nr(Pe,He,Ae,Xe);else{var Ft=Pe.global.def("{}"),Ht=Xe.shader.progVar.append(Pe,Ae),kt=Ae.def(Ht,".id"),un=Ae.def(Ft,"[",kt,"]");Ae(Pe.shared.gl,".useProgram(",Ht,".program);","if(!",un,"){",un,"=",Ft,"[",kt,"]=",Pe.link(function(Vn){return Dr(gs,Pe,Xe,Vn,2)}),"(",Ht,");}",un,".call(this,a0[",Qe,"],",Qe,");")}}function De(Pe,ye){var Xe=Pe.proc("batch",2);Pe.batchId="0",oo(Pe,Xe);var ct=!1,pt=!0;Object.keys(ye.context).forEach(function(Ft){ct=ct||ye.context[Ft].propDep}),ct||(Qo(Pe,Xe,ye.context),pt=!1);var Qe=ye.framebuffer,Je=!1;Qe?(Qe.propDep?ct=Je=!0:Qe.contextDep&&ct&&(Je=!0),Je||Yo(Pe,Xe,Qe)):Yo(Pe,Xe,null),ye.state.viewport&&ye.state.viewport.propDep&&(ct=!0);function at(Ft){return Ft.contextDep&&ct||Ft.propDep}ai(Pe,Xe,ye),ri(Pe,Xe,ye.state,function(Ft){return!at(Ft)}),(!ye.profile||!at(ye.profile))&&Tr(Pe,Xe,ye,!1,"a1"),ye.contextDep=ct,ye.needsContext=pt,ye.needsFramebuffer=Je;var xe=ye.shader.progVar;if(xe.contextDep&&ct||xe.propDep)Uu(Pe,Xe,ye,null);else{var He=xe.append(Pe,Xe);if(Xe(Pe.shared.gl,".useProgram(",He,".program);"),ye.shader.program)Uu(Pe,Xe,ye,ye.shader.program);else{Xe(Pe.shared.vao,".setVAO(null);");var Ae=Pe.global.def("{}"),st=Xe.def(He,".id"),mt=Xe.def(Ae,"[",st,"]");Xe(Pe.cond(mt).then(mt,".call(this,a0,a1);").else(mt,"=",Ae,"[",st,"]=",Pe.link(function(Ft){return Dr(Uu,Pe,ye,Ft,2)}),"(",He,");",mt,".call(this,a0,a1);"))}}Object.keys(ye.state).length>0&&Xe(Pe.shared.current,".dirty=true;")}function xt(Pe,ye){var Xe=Pe.proc("scope",3);Pe.batchId="a2";var ct=Pe.shared,pt=ct.current;Qo(Pe,Xe,ye.context),ye.framebuffer&&ye.framebuffer.append(Pe,Xe),cE(Object.keys(ye.state)).forEach(function(Je){var at=ye.state[Je],xe=at.append(Pe,Xe);To(xe)?xe.forEach(function(He,Ae){Xe.set(Pe.next[Je],"["+Ae+"]",He)}):Xe.set(ct.next,"."+Je,xe)}),Tr(Pe,Xe,ye,!0,!0),[ku,Fp,$u,jd,Lu].forEach(function(Je){var at=ye.draw[Je];!at||Xe.set(ct.draw,"."+Je,""+at.append(Pe,Xe))}),Object.keys(ye.uniforms).forEach(function(Je){var at=ye.uniforms[Je].append(Pe,Xe);Array.isArray(at)&&(at="["+at.join()+"]"),Xe.set(ct.uniforms,"["+Ee.id(Je)+"]",at)}),Object.keys(ye.attributes).forEach(function(Je){var at=ye.attributes[Je].append(Pe,Xe),xe=Pe.scopeAttrib(Je);Object.keys(new ft).forEach(function(He){Xe.set(xe,"."+He,at[He])})}),ye.scopeVAO&&Xe.set(ct.vao,".targetVAO",ye.scopeVAO.append(Pe,Xe));function Qe(Je){var at=ye.shader[Je];at&&Xe.set(ct.shader,"."+Je,at.append(Pe,Xe))}Qe(lf),Qe(Bd),Object.keys(ye.state).length>0&&(Xe(pt,".dirty=true;"),Xe.exit(pt,".dirty=true;")),Xe("a1(",Pe.shared.context,",a0,",Pe.batchId,");")}function _t(Pe){if(!(typeof Pe!="object"||To(Pe))){for(var ye=Object.keys(Pe),Xe=0;Xe<ye.length;++Xe)if(Et.isDynamic(Pe[ye[Xe]]))return!0;return!1}}function In(Pe,ye,Xe){var ct=ye.static[Xe];if(!ct||!_t(ct))return;var pt=Pe.global,Qe=Object.keys(ct),Je=!1,at=!1,xe=!1,He=Pe.global.def("{}");Qe.forEach(function(st){var mt=ct[st];if(Et.isDynamic(mt)){typeof mt=="function"&&(mt=ct[st]=Et.unbox(mt));var Ft=Zi(mt,null);Je=Je||Ft.thisDep,xe=xe||Ft.propDep,at=at||Ft.contextDep}else{switch(pt(He,".",st,"="),typeof mt){case"number":pt(mt);break;case"string":pt('"',mt,'"');break;case"object":Array.isArray(mt)&&pt("[",mt.join(),"]");break;default:pt(Pe.link(mt));break}pt(";")}});function Ae(st,mt){Qe.forEach(function(Ft){var Ht=ct[Ft];if(!!Et.isDynamic(Ht)){var kt=st.invoke(mt,Ht);mt(He,".",Ft,"=",kt,";")}})}ye.dynamic[Xe]=new Et.DynamicVariable($p,{thisDep:Je,contextDep:at,propDep:xe,ref:He,append:Ae}),delete ye.static[Xe]}function Nr(Pe,ye,Xe,ct,pt){var Qe=or();Qe.stats=Qe.link(pt),Object.keys(ye.static).forEach(function(at){In(Qe,ye,at)}),NT.forEach(function(at){In(Qe,Pe,at)});var Je=mo(Pe,ye,Xe,ct,Qe);return Bo(Qe,Je),xt(Qe,Je),De(Qe,Je),r(Qe.compile(),{destroy:function(){Je.shader.program.destroy()}})}return{next:sn,current:Zt,procs:function(){var Pe=or(),ye=Pe.proc("poll"),Xe=Pe.proc("refresh"),ct=Pe.block();ye(ct),Xe(ct);var pt=Pe.shared,Qe=pt.gl,Je=pt.next,at=pt.current;ct(at,".dirty=false;"),Yo(Pe,ye),Yo(Pe,Xe,null,!0);var xe;dn&&(xe=Pe.link(dn)),Fe.oes_vertex_array_object&&Xe(Pe.link(Fe.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var He=0;He<Pt.maxAttributes;++He){var Ae=Xe.def(pt.attributes,"[",He,"]"),st=Pe.cond(Ae,".buffer");st.then(Qe,".enableVertexAttribArray(",He,");",Qe,".bindBuffer(",ff,",",Ae,".buffer.buffer);",Qe,".vertexAttribPointer(",He,",",Ae,".size,",Ae,".type,",Ae,".normalized,",Ae,".stride,",Ae,".offset);").else(Qe,".disableVertexAttribArray(",He,");",Qe,".vertexAttrib4f(",He,",",Ae,".x,",Ae,".y,",Ae,".z,",Ae,".w);",Ae,".buffer=null;"),Xe(st),dn&&Xe(xe,".vertexAttribDivisorANGLE(",He,",",Ae,".divisor);")}return Xe(Pe.shared.vao,".currentVAO=null;",Pe.shared.vao,".setVAO(",Pe.shared.vao,".targetVAO);"),Object.keys(Vt).forEach(function(mt){var Ft=Vt[mt],Ht=ct.def(Je,".",mt),kt=Pe.block();kt("if(",Ht,"){",Qe,".enable(",Ft,")}else{",Qe,".disable(",Ft,")}",at,".",mt,"=",Ht,";"),Xe(kt),ye("if(",Ht,"!==",at,".",mt,"){",kt,"}")}),Object.keys($t).forEach(function(mt){var Ft=$t[mt],Ht=Zt[mt],kt,un,Vn=Pe.block();if(Vn(Qe,".",Ft,"("),To(Ht)){var Cr=Ht.length;kt=Pe.global.def(Je,".",mt),un=Pe.global.def(at,".",mt),Vn(Jt(Cr,function(jn){return kt+"["+jn+"]"}),");",Jt(Cr,function(jn){return un+"["+jn+"]="+kt+"["+jn+"];"}).join("")),ye("if(",Jt(Cr,function(jn){return kt+"["+jn+"]!=="+un+"["+jn+"]"}).join("||"),"){",Vn,"}")}else kt=ct.def(Je,".",mt),un=ct.def(at,".",mt),Vn(kt,");",at,".",mt,"=",kt,";"),ye("if(",kt,"!==",un,"){",Vn,"}");Xe(Vn)}),Pe.compile()}(),compile:Nr}}function ZT(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var fE=34918,JT=34919,dE=35007,QT=function(Q,Ee){if(!Ee.ext_disjoint_timer_query)return null;var Fe=[];function Pt(){return Fe.pop()||Ee.ext_disjoint_timer_query.createQueryEXT()}function Ut(dn){Fe.push(dn)}var Ct=[];function Rt(dn){var Nn=Pt();Ee.ext_disjoint_timer_query.beginQueryEXT(dE,Nn),Ct.push(Nn),rn(Ct.length-1,Ct.length,dn)}function nn(){Ee.ext_disjoint_timer_query.endQueryEXT(dE)}function on(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var fn=[];function an(){return fn.pop()||new on}function en(dn){fn.push(dn)}var On=[];function rn(dn,Nn,Zt){var sn=an();sn.startQueryIndex=dn,sn.endQueryIndex=Nn,sn.sum=0,sn.stats=Zt,On.push(sn)}var mn=[],ft=[];function Tt(){var dn,Nn,Zt=Ct.length;if(Zt!==0){ft.length=Math.max(ft.length,Zt+1),mn.length=Math.max(mn.length,Zt+1),mn[0]=0,ft[0]=0;var sn=0;for(dn=0,Nn=0;Nn<Ct.length;++Nn){var Qt=Ct[Nn];Ee.ext_disjoint_timer_query.getQueryObjectEXT(Qt,JT)?(sn+=Ee.ext_disjoint_timer_query.getQueryObjectEXT(Qt,fE),Ut(Qt)):Ct[dn++]=Qt,mn[Nn+1]=sn,ft[Nn+1]=dn}for(Ct.length=dn,dn=0,Nn=0;Nn<On.length;++Nn){var Vt=On[Nn],$t=Vt.startQueryIndex,Lt=Vt.endQueryIndex;Vt.sum+=mn[Lt]-mn[$t];var Rn=ft[$t],dr=ft[Lt];dr===Rn?(Vt.stats.gpuTime+=Vt.sum/1e6,en(Vt)):(Vt.startQueryIndex=Rn,Vt.endQueryIndex=dr,On[dn++]=Vt)}On.length=dn}}return{beginQuery:Rt,endQuery:nn,pushScopeStats:rn,update:Tt,getNumPendingQueries:function(){return Ct.length},clear:function(){Fe.push.apply(Fe,Ct);for(var dn=0;dn<Fe.length;dn++)Ee.ext_disjoint_timer_query.deleteQueryEXT(Fe[dn]);Ct.length=0,Fe.length=0},restore:function(){Ct.length=0,Fe.length=0}}},qT=16384,eC=256,tC=1024,Gd=34962,$o="webglcontextlost",km="webglcontextrestored",Lm=1,hE=2,pE=3;function $m(Q,Ee){for(var Fe=0;Fe<Q.length;++Fe)if(Q[Fe]===Ee)return Fe;return-1}function vE(Q){var Ee=rt(Q);if(!Ee)return null;var Fe=Ee.gl,Pt=Fe.getContextAttributes(),Ut=Fe.isContextLost(),Ct=vt(Fe,Ee);if(!Ct)return null;var Rt=tn(),nn=ZT(),on=Ct.extensions,fn=QT(Fe,on),an=ur(),en=Fe.drawingBufferWidth,On=Fe.drawingBufferHeight,rn={tick:0,time:0,viewportWidth:en,viewportHeight:On,framebufferWidth:en,framebufferHeight:On,drawingBufferWidth:en,drawingBufferHeight:On,pixelRatio:Ee.pixelRatio},mn={},ft={elements:null,primitive:4,count:-1,offset:0,instances:-1},Tt=Uy(Fe,on),dn=Yy(Fe,nn,Ee,Zt),Nn=TT(Fe,on,Tt,nn,dn);function Zt(nr){return Nn.destroyBuffer(nr)}var sn=ua(Fe,on,dn,nn),Qt=B0(Fe,Rt,nn,Ee),Vt=dT(Fe,on,Tt,function(){Rn.procs.poll()},rn,nn,Ee),$t=C0(Fe,on,Tt,nn,Ee),Lt=OT(Fe,on,Tt,Vt,$t,nn),Rn=YT(Fe,Rt,on,Tt,dn,sn,Vt,Lt,mn,Nn,Qt,ft,rn,fn,Ee),dr=PT(Fe,Lt,Rn.procs.poll,rn,Pt,on,Tt),hn=Rn.next,Yt=Fe.canvas,Xt=[],or=[],wr=[],Bn=[Ee.onDestroy],Mr=null;function pr(){if(Xt.length===0){fn&&fn.update(),Mr=null;return}Mr=Wt.next(pr),ri();for(var nr=Xt.length-1;nr>=0;--nr){var Dr=Xt[nr];Dr&&Dr(rn,null,0)}Fe.flush(),fn&&fn.update()}function Ar(){!Mr&&Xt.length>0&&(Mr=Wt.next(pr))}function zr(){Mr&&(Wt.cancel(pr),Mr=null)}function Xo(nr){nr.preventDefault(),Ut=!0,zr(),or.forEach(function(Dr){Dr()})}function ni(nr){Fe.getError(),Ut=!1,Ct.restore(),Qt.restore(),dn.restore(),Vt.restore(),$t.restore(),Lt.restore(),Nn.restore(),fn&&fn.restore(),Rn.procs.refresh(),Ar(),wr.forEach(function(Dr){Dr()})}Yt&&(Yt.addEventListener($o,Xo,!1),Yt.addEventListener(km,ni,!1));function Ir(){Xt.length=0,zr(),Yt&&(Yt.removeEventListener($o,Xo),Yt.removeEventListener(km,ni)),Qt.clear(),Lt.clear(),$t.clear(),Vt.clear(),sn.clear(),dn.clear(),Nn.clear(),fn&&fn.clear(),Bn.forEach(function(nr){nr()})}function Jo(nr){ne(!!nr,"invalid args to regl({...})"),ne.type(nr,"object","invalid args to regl({...})");function Dr(pt){var Qe=r({},pt);delete Qe.uniforms,delete Qe.attributes,delete Qe.context,delete Qe.vao,"stencil"in Qe&&Qe.stencil.op&&(Qe.stencil.opBack=Qe.stencil.opFront=Qe.stencil.op,delete Qe.stencil.op);function Je(at){if(at in Qe){var xe=Qe[at];delete Qe[at],Object.keys(xe).forEach(function(He){Qe[at+"."+He]=xe[He]})}}return Je("blend"),Je("depth"),Je("cull"),Je("stencil"),Je("polygonOffset"),Je("scissor"),Je("sample"),"vao"in pt&&(Qe.vao=pt.vao),Qe}function Ur(pt,Qe){var Je={},at={};return Object.keys(pt).forEach(function(xe){var He=pt[xe];if(Et.isDynamic(He)){at[xe]=Et.unbox(He,xe);return}else if(Qe&&Array.isArray(He)){for(var Ae=0;Ae<He.length;++Ae)if(Et.isDynamic(He[Ae])){at[xe]=Et.unbox(He,xe);return}}Je[xe]=He}),{dynamic:at,static:Je}}var Bo=Ur(nr.context||{},!0),gs=Ur(nr.uniforms||{},!0),Uu=Ur(nr.attributes||{},!1),De=Ur(Dr(nr),!1),xt={gpuTime:0,cpuTime:0,count:0},_t=Rn.compile(De,Uu,gs,Bo,xt),In=_t.draw,Nr=_t.batch,Pe=_t.scope,ye=[];function Xe(pt){for(;ye.length<pt;)ye.push(null);return ye}function ct(pt,Qe){var Je;if(Ut&&ne.raise("context lost"),typeof pt=="function")return Pe.call(this,null,pt,0);if(typeof Qe=="function")if(typeof pt=="number")for(Je=0;Je<pt;++Je)Pe.call(this,null,Qe,Je);else if(Array.isArray(pt))for(Je=0;Je<pt.length;++Je)Pe.call(this,pt[Je],Qe,Je);else return Pe.call(this,pt,Qe,0);else if(typeof pt=="number"){if(pt>0)return Nr.call(this,Xe(pt|0),pt|0)}else if(Array.isArray(pt)){if(pt.length)return Nr.call(this,pt,pt.length)}else return In.call(this,pt)}return r(ct,{stats:xt,destroy:function(){_t.destroy()}})}var yo=Lt.setFBO=Jo({framebuffer:Et.define.call(null,Lm,"framebuffer")});function mo(nr,Dr){var Ur=0;Rn.procs.poll();var Bo=Dr.color;Bo&&(Fe.clearColor(+Bo[0]||0,+Bo[1]||0,+Bo[2]||0,+Bo[3]||0),Ur|=qT),"depth"in Dr&&(Fe.clearDepth(+Dr.depth),Ur|=eC),"stencil"in Dr&&(Fe.clearStencil(Dr.stencil|0),Ur|=tC),ne(!!Ur,"called regl.clear with no buffer specified"),Fe.clear(Ur)}function Qo(nr){if(ne(typeof nr=="object"&&nr,"regl.clear() takes an object as input"),"framebuffer"in nr)if(nr.framebuffer&&nr.framebuffer_reglType==="framebufferCube")for(var Dr=0;Dr<6;++Dr)yo(r({framebuffer:nr.framebuffer.faces[Dr]},nr),mo);else yo(nr,mo);else mo(null,nr)}function Yo(nr){ne.type(nr,"function","regl.frame() callback must be a function"),Xt.push(nr);function Dr(){var Ur=$m(Xt,nr);ne(Ur>=0,"cannot cancel a frame twice");function Bo(){var gs=$m(Xt,Bo);Xt[gs]=Xt[Xt.length-1],Xt.length-=1,Xt.length<=0&&zr()}Xt[Ur]=Bo}return Ar(),{cancel:Dr}}function ai(){var nr=hn.viewport,Dr=hn.scissor_box;nr[0]=nr[1]=Dr[0]=Dr[1]=0,rn.viewportWidth=rn.framebufferWidth=rn.drawingBufferWidth=nr[2]=Dr[2]=Fe.drawingBufferWidth,rn.viewportHeight=rn.framebufferHeight=rn.drawingBufferHeight=nr[3]=Dr[3]=Fe.drawingBufferHeight}function ri(){rn.tick+=1,rn.time=Tr(),ai(),Rn.procs.poll()}function oo(){Vt.refresh(),ai(),Rn.procs.refresh(),fn&&fn.update()}function Tr(){return(ur()-an)/1e3}oo();function hi(nr,Dr){ne.type(Dr,"function","listener callback must be a function");var Ur;switch(nr){case"frame":return Yo(Dr);case"lost":Ur=or;break;case"restore":Ur=wr;break;case"destroy":Ur=Bn;break;default:ne.raise("invalid event, must be one of frame,lost,restore,destroy")}return Ur.push(Dr),{cancel:function(){for(var Bo=0;Bo<Ur.length;++Bo)if(Ur[Bo]===Dr){Ur[Bo]=Ur[Ur.length-1],Ur.pop();return}}}}var Qr=r(Jo,{clear:Qo,prop:Et.define.bind(null,Lm),context:Et.define.bind(null,hE),this:Et.define.bind(null,pE),draw:Jo({}),buffer:function(nr){return dn.create(nr,Gd,!1,!1)},elements:function(nr){return sn.create(nr,!1)},texture:Vt.create2D,cube:Vt.createCube,renderbuffer:$t.create,framebuffer:Lt.create,framebufferCube:Lt.createCube,vao:Nn.createVAO,attributes:Pt,frame:Yo,on:hi,limits:Tt,hasExtension:function(nr){return Tt.extensions.indexOf(nr.toLowerCase())>=0},read:dr,destroy:Ir,_gl:Fe,_refresh:oo,poll:function(){ri(),fn&&fn.update()},now:Tr,stats:nn});return Ee.onDone(null,Qr),Qr}return vE})})(YX);const JGe=YX.exports;var QGe=function(){function e(t,n){Qn(this,e),this.attribute=void 0,this.buffer=void 0;var r=n.buffer,o=n.offset,i=n.stride,a=n.normalized,s=n.size,f=n.divisor;this.buffer=r,this.attribute={buffer:r.get(),offset:o||0,stride:i||0,normalized:a||!1,divisor:f||0},s&&(this.attribute.size=s)}return vr(e,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(n){this.buffer.subData(n)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),Qu,wg,qu,Os,Og,Nf,_g,iw,tu,ah,Li,nu,ru,aw,qGe=(Qu={},Gt(Qu,dt.POINTS,"points"),Gt(Qu,dt.LINES,"lines"),Gt(Qu,dt.LINE_LOOP,"line loop"),Gt(Qu,dt.LINE_STRIP,"line strip"),Gt(Qu,dt.TRIANGLES,"triangles"),Gt(Qu,dt.TRIANGLE_FAN,"triangle fan"),Gt(Qu,dt.TRIANGLE_STRIP,"triangle strip"),Qu),ZX=(wg={},Gt(wg,dt.STATIC_DRAW,"static"),Gt(wg,dt.DYNAMIC_DRAW,"dynamic"),Gt(wg,dt.STREAM_DRAW,"stream"),wg),wR=(qu={},Gt(qu,dt.BYTE,"int8"),Gt(qu,dt.UNSIGNED_INT,"int16"),Gt(qu,dt.INT,"int32"),Gt(qu,dt.UNSIGNED_BYTE,"uint8"),Gt(qu,dt.UNSIGNED_SHORT,"uint16"),Gt(qu,dt.UNSIGNED_INT,"uint32"),Gt(qu,dt.FLOAT,"float"),qu),e7e=(Os={},Gt(Os,dt.ALPHA,"alpha"),Gt(Os,dt.LUMINANCE,"luminance"),Gt(Os,dt.LUMINANCE_ALPHA,"luminance alpha"),Gt(Os,dt.RGB,"rgb"),Gt(Os,dt.RGBA,"rgba"),Gt(Os,dt.RGBA4,"rgba4"),Gt(Os,dt.RGB5_A1,"rgb5 a1"),Gt(Os,dt.RGB565,"rgb565"),Gt(Os,dt.DEPTH_COMPONENT,"depth"),Gt(Os,dt.DEPTH_STENCIL,"depth stencil"),Os),t7e=(Og={},Gt(Og,dt.DONT_CARE,"dont care"),Gt(Og,dt.NICEST,"nice"),Gt(Og,dt.FASTEST,"fast"),Og),z5=(Nf={},Gt(Nf,dt.NEAREST,"nearest"),Gt(Nf,dt.LINEAR,"linear"),Gt(Nf,dt.LINEAR_MIPMAP_LINEAR,"mipmap"),Gt(Nf,dt.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),Gt(Nf,dt.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),Gt(Nf,dt.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),Nf),U5=(_g={},Gt(_g,dt.REPEAT,"repeat"),Gt(_g,dt.CLAMP_TO_EDGE,"clamp"),Gt(_g,dt.MIRRORED_REPEAT,"mirror"),_g),n7e=(iw={},Gt(iw,dt.NONE,"none"),Gt(iw,dt.BROWSER_DEFAULT_WEBGL,"browser"),iw),r7e=(tu={},Gt(tu,dt.NEVER,"never"),Gt(tu,dt.ALWAYS,"always"),Gt(tu,dt.LESS,"less"),Gt(tu,dt.LEQUAL,"lequal"),Gt(tu,dt.GREATER,"greater"),Gt(tu,dt.GEQUAL,"gequal"),Gt(tu,dt.EQUAL,"equal"),Gt(tu,dt.NOTEQUAL,"notequal"),tu),V5=(ah={},Gt(ah,dt.FUNC_ADD,"add"),Gt(ah,dt.MIN_EXT,"min"),Gt(ah,dt.MAX_EXT,"max"),Gt(ah,dt.FUNC_SUBTRACT,"subtract"),Gt(ah,dt.FUNC_REVERSE_SUBTRACT,"reverse subtract"),ah),sw=(Li={},Gt(Li,dt.ZERO,"zero"),Gt(Li,dt.ONE,"one"),Gt(Li,dt.SRC_COLOR,"src color"),Gt(Li,dt.ONE_MINUS_SRC_COLOR,"one minus src color"),Gt(Li,dt.SRC_ALPHA,"src alpha"),Gt(Li,dt.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),Gt(Li,dt.DST_COLOR,"dst color"),Gt(Li,dt.ONE_MINUS_DST_COLOR,"one minus dst color"),Gt(Li,dt.DST_ALPHA,"dst alpha"),Gt(Li,dt.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),Gt(Li,dt.CONSTANT_COLOR,"constant color"),Gt(Li,dt.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),Gt(Li,dt.CONSTANT_ALPHA,"constant alpha"),Gt(Li,dt.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),Gt(Li,dt.SRC_ALPHA_SATURATE,"src alpha saturate"),Li),o7e=(nu={},Gt(nu,dt.NEVER,"never"),Gt(nu,dt.ALWAYS,"always"),Gt(nu,dt.LESS,"less"),Gt(nu,dt.LEQUAL,"lequal"),Gt(nu,dt.GREATER,"greater"),Gt(nu,dt.GEQUAL,"gequal"),Gt(nu,dt.EQUAL,"equal"),Gt(nu,dt.NOTEQUAL,"notequal"),nu),Ov=(ru={},Gt(ru,dt.ZERO,"zero"),Gt(ru,dt.KEEP,"keep"),Gt(ru,dt.REPLACE,"replace"),Gt(ru,dt.INVERT,"invert"),Gt(ru,dt.INCR,"increment"),Gt(ru,dt.DECR,"decrement"),Gt(ru,dt.INCR_WRAP,"increment wrap"),Gt(ru,dt.DECR_WRAP,"decrement wrap"),ru),i7e=(aw={},Gt(aw,dt.FRONT,"front"),Gt(aw,dt.BACK,"back"),aw),a7e=function(){function e(t,n){Qn(this,e),this.buffer=void 0;var r=n.data,o=n.usage,i=n.type;this.buffer=t.buffer({data:r,usage:ZX[o||dt.STATIC_DRAW],type:wR[i||dt.UNSIGNED_BYTE]})}return vr(e,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(n){var r=n.data,o=n.offset;this.buffer.subdata(r,o)}}]),e}();function s7e(e){if(Array.isArray(e))return $x(e)}function l7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function u7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function li(e){return s7e(e)||l7e(e)||_X(e)||u7e()}var c7e=9007199254740991,f7e="[object Arguments]",d7e="[object Array]",h7e="[object Boolean]",p7e="[object Date]",v7e="[object Error]",y7e="[object Function]",m7e="[object Map]",g7e="[object Number]",b7e="[object Object]",E7e="[object RegExp]",S7e="[object Set]",w7e="[object String]",O7e="[object WeakMap]",_7e="[object ArrayBuffer]",T7e="[object DataView]",C7e="[object Float32Array]",A7e="[object Float64Array]",P7e="[object Int8Array]",x7e="[object Int16Array]",M7e="[object Int32Array]",N7e="[object Uint8Array]",R7e="[object Uint8ClampedArray]",I7e="[object Uint16Array]",D7e="[object Uint32Array]",Vo={};Vo[C7e]=Vo[A7e]=Vo[P7e]=Vo[x7e]=Vo[M7e]=Vo[N7e]=Vo[R7e]=Vo[I7e]=Vo[D7e]=!0;Vo[f7e]=Vo[d7e]=Vo[_7e]=Vo[h7e]=Vo[T7e]=Vo[p7e]=Vo[v7e]=Vo[y7e]=Vo[m7e]=Vo[g7e]=Vo[b7e]=Vo[E7e]=Vo[S7e]=Vo[w7e]=Vo[O7e]=!1;var k7e=Object.prototype,L7e=k7e.toString;function $7e(e){return j7e(e)&&B7e(e.length)&&!!Vo[L7e.call(e)]}function B7e(e){return typeof e=="number"&&e>-1&&e%1===0&&e<=c7e}function j7e(e){return!!e&&wc(e)==="object"}var Kx=$7e;function H5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function G5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H5(Object(n),!0).forEach(function(r){Gt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var F7e=`attribute vec3 a_Position;
attribute vec2 a_TexCoord;

varying vec2 v_TexCoord;

void main() {
  gl_Position = vec4(a_Position, 1.0);
  v_TexCoord = a_TexCoord;
}`,W5=0,z7e=function(){function e(t,n){var r=this;Qn(this,e),this.reGl=t,this.context=n,this.entity=cu(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var o={};this.context.uniforms.forEach(function(d){var h=d.name,v=d.type,y=d.data,m=d.isReferer,b=d.storageClass;if(b===nd.StorageBuffer){if(m)r.textureCache[h]={data:void 0},o["".concat(h,"Size")]=function(){return y.compiledBundle.context.output.textureSize};else{r.textureCache[h]=r.calcDataTexture(h,v,y);var S=r.textureCache[h],O=S.textureWidth,_=S.isOutput;o["".concat(h,"Size")]=[O,O],_&&(r.outputTextureName=h,r.context.needPingpong&&(r.outputTextureName="".concat(h,"Output"),r.textureCache[r.outputTextureName]=r.calcDataTexture(h,v,y)))}o[h]=function(){return r.textureCache[h].texture}}else if(b===nd.Uniform){if(y&&(Array.isArray(y)||Kx(y))&&y.length>16)throw new Error("invalid data type ".concat(v));o[h]=function(){return d.data}}});var i=this.getOuputDataTexture(),a=i.textureWidth,s=i.texelCount;o.u_OutputTextureSize=[a,a],o.u_OutputTexelCount=s,this.context.output.textureSize=[a,a];var f={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(this.context.shader),uniforms:o,vert:F7e,primitive:"triangle strip",count:4};this.computeCommand=this.reGl(f)}return vr(e,[{key:"run",value:function(){var n=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use(function(){n.computeCommand()})}},{key:"readData",value:function(){var t=ro(Hn.mark(function r(){var o=this,i,a,s,f,d,h,v,y;return Hn.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(this.reGl({framebuffer:this.texFBO})(function(){i=o.reGl.read()}),!i){b.next=6;break}if(a=this.getOuputDataTexture(),s=a.originalDataLength,f=a.elementsPerTexel,d=a.typedArrayConstructor,h=d===void 0?Float32Array:d,v=[],f!==4)for(y=0;y<i.length;y+=4)f===1?v.push(i[y]):f===2?v.push(i[y],i[y+1]):v.push(i[y],i[y+1],i[y+2]);else v=i;return b.abrupt("return",new h(v.slice(0,s)));case 6:return b.abrupt("return",new Float32Array);case 7:case"end":return b.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"confirmInput",value:function(n,r){var o;this.entity===n.entity?(this.dynamicPingpong=!0,o=this):o=n,this.textureCache[r].id=o.getOuputDataTexture().id,this.textureCache[r].texture=o.getOuputDataTexture().texture}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(n,r){var o=this.context.uniforms.find(function(f){var d=f.name;return d===n});if(o){var i=this.calcDataTexture(n,o.type,r),a=i.texture,s=i.data;this.textureCache[n].data=s,this.textureCache[n].texture=a}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var n=this.context.output.name;this.textureCache[n].id=this.getOuputDataTexture().id,this.textureCache[n].texture=this.getOuputDataTexture().texture}var r=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=r}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var n=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=n}},{key:"cloneDataTexture",value:function(n){var r=n.data,o=n.textureWidth;return G5(G5({},n),{},{id:W5++,texture:this.reGl.texture({width:o,height:o,data:r,type:"float"})})}},{key:"calcDataTexture",value:function(n,r,o){var i=1;r===Wh.Vector4FloatArray&&(i=4);for(var a=[],s=0;s<o.length;s+=i)i===1?a.push(o[s],0,0,0):i===2?a.push(o[s],o[s+1],0,0):i===3?a.push(o[s],o[s+1],o[s+2],0):i===4&&a.push(o[s],o[s+1],o[s+2],o[s+3]);var f=o.length,d=Math.ceil(f/i),h=Math.ceil(Math.sqrt(d)),v=h*h;d<v&&a.push.apply(a,li(new Array((v-d)*4).fill(0)));var y=this.reGl.texture({width:h,height:h,data:a,type:"float"});return{id:W5++,data:a,originalDataLength:f,typedArrayConstructor:Kx(o)?o.constructor:void 0,textureWidth:h,texture:y,texelCount:d,elementsPerTexel:i,isOutput:n===this.context.output.name}}}]),e}(),U7e=function(){function e(t,n){Qn(this,e),this.elements=void 0;var r=n.data,o=n.usage,i=n.type,a=n.count;this.elements=t.elements({data:r,usage:ZX[o||dt.STATIC_DRAW],type:wR[i||dt.UNSIGNED_BYTE],count:a})}return vr(e,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(n){var r=n.data;this.elements.subdata(r)}},{key:"destroy",value:function(){this.elements.destroy()}}]),e}(),V7e=function(){function e(t,n){Qn(this,e),this.framebuffer=void 0;var r=n.width,o=n.height,i=n.color,a=n.colors;n.depth,n.stencil;var s={width:r,height:o};Array.isArray(a)&&(s.colors=a.map(function(f){return f.get()})),i&&typeof i!="boolean"&&(s.color=i.get()),this.framebuffer=t.framebuffer(s)}return vr(e,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(n){var r=n.width,o=n.height;this.framebuffer.resize(r,o)}}]),e}();function H7e(e){var t=wc(e);return e!=null&&(t==="object"||t==="function")}function eb(e){var t={};return Object.keys(e).forEach(function(n){Xx(n,e[n],t,"")}),t}function Xx(e,t,n,r){if(t===null||typeof t=="number"||typeof t=="boolean"||Array.isArray(t)&&typeof t[0]=="number"||Kx(t)||t===""||t.resize!==void 0){n["".concat(r&&r+".").concat(e)]=t;return}H7e(t)&&Object.keys(t).forEach(function(o){Xx(o,t[o],n,"".concat(r&&r+".").concat(e))}),Array.isArray(t)&&t.forEach(function(o,i){Object.keys(o).forEach(function(a){Xx(a,o[a],n,"".concat(r&&r+".").concat(e,"[").concat(i,"]"))})})}function K5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function _v(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K5(Object(n),!0).forEach(function(r){Gt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var G7e=function(){function e(t,n){Qn(this,e),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=t;var r=n.vs,o=n.fs,i=n.defines,a=n.attributes,s=n.uniforms,f=n.primitive,d=n.count,h=n.elements,v=n.depth,y=n.blend,m=n.stencil,b=n.cull,S=n.instances,O=n.scissor,_=n.viewport,A={};s&&(this.uniforms=eb(s),Object.keys(s).forEach(function(N){A[N]=t.prop(N)}));var T={};Object.keys(a).forEach(function(N){T[N]=a[N].get()});var P=i&&this.generateDefines(i)||"",x={attributes:T,frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(P,`
`).concat(o),uniforms:A,vert:`
`.concat(P,`
`).concat(r),primitive:qGe[f===void 0?dt.TRIANGLES:f]};S&&(x.instances=S),d&&(x.count=d),h&&(x.elements=h.get()),O&&(x.scissor=O),_&&(x.viewport=_),this.initDepthDrawParams({depth:v},x),this.initBlendDrawParams({blend:y},x),this.initStencilDrawParams({stencil:m},x),this.initCullDrawParams({cull:b},x),this.drawCommand=t(x)}return vr(e,[{key:"addUniforms",value:function(n){this.uniforms=_v(_v({},this.uniforms),eb(n))}},{key:"draw",value:function(n){var r=_v(_v({},this.uniforms),eb(n.uniforms||{})),o={};Object.keys(r).forEach(function(i){var a=wc(r[i]);a==="boolean"||a==="number"||Array.isArray(r[i])||r[i].BYTES_PER_ELEMENT?o[i]=r[i]:a==="string"||(o[i]=r[i].get())}),this.drawCommand(o)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(n,r){var o=n.depth;o&&(r.depth={enable:o.enable===void 0?!0:!!o.enable,mask:o.mask===void 0?!0:!!o.mask,func:r7e[o.func||dt.LESS],range:o.range||[0,1]})}},{key:"initBlendDrawParams",value:function(n,r){var o=n.blend;if(o){var i=o.enable,a=o.func,s=o.equation,f=o.color,d=f===void 0?[0,0,0,0]:f;r.blend={enable:!!i,func:{srcRGB:sw[a&&a.srcRGB||dt.SRC_ALPHA],srcAlpha:sw[a&&a.srcAlpha||dt.SRC_ALPHA],dstRGB:sw[a&&a.dstRGB||dt.ONE_MINUS_SRC_ALPHA],dstAlpha:sw[a&&a.dstAlpha||dt.ONE_MINUS_SRC_ALPHA]},equation:{rgb:V5[s&&s.rgb||dt.FUNC_ADD],alpha:V5[s&&s.alpha||dt.FUNC_ADD]},color:d}}}},{key:"initStencilDrawParams",value:function(n,r){var o=n.stencil;if(o){var i=o.enable,a=o.mask,s=a===void 0?-1:a,f=o.func,d=f===void 0?{cmp:dt.ALWAYS,ref:0,mask:-1}:f,h=o.opFront,v=h===void 0?{fail:dt.KEEP,zfail:dt.KEEP,zpass:dt.KEEP}:h,y=o.opBack,m=y===void 0?{fail:dt.KEEP,zfail:dt.KEEP,zpass:dt.KEEP}:y;r.stencil={enable:!!i,mask:s,func:_v(_v({},d),{},{cmp:o7e[d.cmp]}),opFront:{fail:Ov[v.fail],zfail:Ov[v.zfail],zpass:Ov[v.zpass]},opBack:{fail:Ov[m.fail],zfail:Ov[m.zfail],zpass:Ov[m.zpass]}}}}},{key:"initCullDrawParams",value:function(n,r){var o=n.cull;if(o){var i=o.enable,a=o.face,s=a===void 0?dt.BACK:a;r.cull={enable:!!i,face:i7e[s]}}}},{key:"generateDefines",value:function(n){return Object.keys(n).map(function(r){return"#define ".concat(r," ").concat(Number(n[r]))}).join(`
`)}}]),e}(),W7e=function(){function e(t,n){Qn(this,e),this.texture=void 0,this.width=void 0,this.height=void 0;var r=n.data,o=n.type,i=o===void 0?dt.UNSIGNED_BYTE:o,a=n.width,s=n.height,f=n.flipY,d=f===void 0?!1:f,h=n.format,v=h===void 0?dt.RGBA:h,y=n.mipmap,m=y===void 0?!1:y,b=n.wrapS,S=b===void 0?dt.CLAMP_TO_EDGE:b,O=n.wrapT,_=O===void 0?dt.CLAMP_TO_EDGE:O,A=n.aniso,T=A===void 0?0:A,P=n.alignment,x=P===void 0?1:P,N=n.premultiplyAlpha,L=N===void 0?!1:N,j=n.mag,k=j===void 0?dt.NEAREST:j,F=n.min,z=F===void 0?dt.NEAREST:F,M=n.colorSpace,D=M===void 0?dt.BROWSER_DEFAULT_WEBGL:M;this.width=a,this.height=s;var B={width:a,height:s,type:wR[i],format:e7e[v],wrapS:U5[S],wrapT:U5[_],mag:z5[k],min:z5[z],alignment:x,flipY:d,colorSpace:n7e[D],premultiplyAlpha:L,aniso:T};r&&(B.data=r),typeof m=="number"?B.mipmap=t7e[m]:typeof m=="boolean"&&(B.mipmap=m),this.texture=t.texture(B)}return vr(e,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(n){var r=n.width,o=n.height;this.texture.resize(r,o),this.width=r,this.height=o}},{key:"destroy",value:function(){this.texture.destroy()}}]),e}(),X5,Y5,Z5,K7e=(X5=so(),X5(Y5=(Z5=function(){function e(){var t=this;Qn(this,e),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var n=ro(Hn.mark(function r(o){return Hn.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.uniforms){a.next=3;break}return a.next=3,Promise.all(Object.keys(o.uniforms).map(function(){var s=ro(Hn.mark(function f(d){var h;return Hn.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(!(o.uniforms[d]&&o.uniforms[d].load!==void 0)){y.next=5;break}return y.next=3,o.uniforms[d].load();case 3:h=y.sent,o.uniforms[d]=h;case 5:case"end":return y.stop()}},f)}));return function(f){return s.apply(this,arguments)}}()));case 3:return a.abrupt("return",new G7e(t.gl,o));case 4:case"end":return a.stop()}},r)}));return function(r){return n.apply(this,arguments)}}(),this.createAttribute=function(n){return new QGe(t.gl,n)},this.createBuffer=function(n){return new a7e(t.gl,n)},this.createElements=function(n){return new U7e(t.gl,n)},this.createTexture2D=function(n){return new W7e(t.gl,n)},this.createFramebuffer=function(n){return new V7e(t.gl,n)},this.useFramebuffer=function(n,r){t.gl({framebuffer:n?n.get():null})(r)},this.createComputeModel=function(){var n=ro(Hn.mark(function r(o){return Hn.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new z7e(t.gl,o));case 1:case"end":return a.stop()}},r)}));return function(r){return n.apply(this,arguments)}}(),this.clear=function(n){var r=n.color,o=n.depth,i=n.stencil,a=n.framebuffer,s=a===void 0?null:a,f={color:r,depth:o,stencil:i};f.framebuffer=s===null?s:s.get(),t.gl.clear(f)},this.setScissor=function(n){t.gl&&t.gl._gl&&(n.enable&&n.box?(t.gl._gl.enable(dt.SCISSOR_TEST),t.gl._gl.scissor(n.box.x,n.box.y,n.box.width,n.box.height)):t.gl._gl.disable(dt.SCISSOR_TEST),t.gl._refresh())},this.viewport=function(n){var r=n.x,o=n.y,i=n.width,a=n.height;t.gl&&t.gl._gl&&(t.gl._gl.viewport(r,o,i,a),t.gl._refresh())},this.readPixels=function(n){var r=n.framebuffer,o=n.x,i=n.y,a=n.width,s=n.height,f={x:o,y:i,width:a,height:s};return r&&(f.framebuffer=r.get()),t.gl.read(f)},this.getCanvas=function(){return t.$canvas},this.getGLContext=function(){return t.gl._gl},this.destroy=function(){t.gl&&(t.gl.destroy(),t.inited=!1)}}return vr(e,[{key:"init",value:function(){var t=ro(Hn.mark(function r(o){return Hn.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.inited){a.next=2;break}return a.abrupt("return");case 2:return this.$canvas=o.canvas,a.next=5,new Promise(function(s,f){JGe({canvas:o.canvas,attributes:{alpha:!0,antialias:o.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(h,v){(h||!v)&&f(h),s(v)}})});case 5:this.gl=a.sent,this.inited=!0;case 7:case"end":return a.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),e}(),Z5))||Y5);function X7e(){return typeof window<"u"}function Y7e(e,t,n,r){if(!!X7e()){var o=document.getElementsByTagName("head")[0],i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",e),r&&(i.id=r),i.onload=function(){t&&t()},i.onerror=function(a){n&&n("Unable to load script '".concat(e,"'"),a)},o.appendChild(i)}}function Z7e(e,t){return new Promise(function(n,r){Y7e(e,function(){n()},function(o,i){r(i)})})}var lw;function J7e(){return Yx.apply(this,arguments)}function Yx(){return Yx=ro(Hn.mark(function e(){return Hn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!lw){n.next=2;break}return n.abrupt("return",lw);case 2:return n.next=4,Z7e("https://preview.babylonjs.com/glslang/glslang.js");case 4:return lw=window.glslang("https://preview.babylonjs.com/glslang/glslang.wasm"),n.abrupt("return",lw);case 6:case"end":return n.stop()}},e)})),Yx.apply(this,arguments)}var Q7e=function(){function e(t,n){Qn(this,e),this.engine=t,this.options=n,this.attribute=void 0,this.buffer=void 0;var r=n,o=r.buffer,i=r.offset,a=r.stride,s=r.normalized,f=r.size,d=r.divisor,h=r.arrayStride,v=r.attributes,y=r.stepMode;this.buffer=o,this.attribute={buffer:o.get(),offset:i||0,stride:a||0,normalized:s||!1,divisor:d||0,arrayStride:h||0,attributes:v,stepMode:y||"vertex"},f&&(this.attribute.size=f)}return vr(e,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(n){this.buffer.subData(n)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),ry=function(){function e(t,n){Qn(this,e),this.engine=t,this.options=n,this.buffer=void 0;var r=n,o=r.data,i=r.usage;r.type,this.buffer=this.createBuffer(o instanceof Array?new Float32Array(o):o,i||xn.BufferUsage.Vertex|xn.BufferUsage.CopyDst)}return vr(e,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(n){var r=n.data,o=n.offset;this.setSubData(this.buffer,o,r instanceof Array?new Float32Array(r):r)}},{key:"createBuffer",value:function(n,r){var o=n.byteLength%4,i={size:n.byteLength+o,usage:r},a=this.engine.device.createBuffer(i);return this.setSubData(a,0,n),a}},{key:"setSubData",value:function(n,r,o){var i=ka?this.engine.device.getQueue():this.engine.device.defaultQueue;i.writeBuffer(n,r,o)}}]),e}();function q7e(e){return typeof e=="number"}var e9e=function(){function e(t,n){Qn(this,e),this.engine=t,this.context=n,this.entity=cu(),this.uniformGPUBufferLayout=[],this.uniformBuffer=void 0,this.vertexBuffers={},this.outputBuffer=void 0,this.bindGroupEntries=void 0,this.bindGroup=void 0,this.computePipeline=void 0}return vr(e,[{key:"init",value:function(){var t=ro(Hn.mark(function r(){var o=this,i,a,s,f,d,h,v;return Hn.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,this.compileComputePipelineStageDescriptor(this.context.shader);case 2:i=m.sent,a=i.computeStage,s=this.context.uniforms.filter(function(b){return b.storageClass===nd.StorageBuffer}),f=this.context.uniforms.filter(function(b){return b.storageClass===nd.Uniform}),d=f.length?1:0,this.bindGroupEntries=[],d&&(h=0,v=[],f.forEach(function(b){if(q7e(b.data))o.uniformGPUBufferLayout.push({name:b.name,offset:h}),h+=4,v.push(b.data);else{var S,O=((S=b.data)===null||S===void 0?void 0:S.length)||1;O===3&&(O=4,b.data.push(0));var _=h/4%4;if(_>0){var A=4-_;if(O>1&&O<=A)O===2&&(A===3&&(h+=4,v.push(0)),v.push.apply(v,li(b.data)),o.uniformGPUBufferLayout.push({name:b.name,offset:h}));else{for(var T=0;T<A;T++)h+=4,v.push(0);v.push.apply(v,li(b.data)),o.uniformGPUBufferLayout.push({name:b.name,offset:h})}}h+=4*O}}),this.uniformBuffer=new ry(this.engine,{data:v instanceof Array?new Float32Array(v):v,usage:xn.BufferUsage.Uniform|xn.BufferUsage.CopyDst}),this.bindGroupEntries.push({binding:0,resource:{buffer:this.uniformBuffer.get()}})),s.forEach(function(b){if(b.data!==null&&(b.type===Wh.Vector4FloatArray||b.type===Wh.FloatArray)){var S;b.name===o.context.output.name?(S=new ry(o.engine,{data:isFinite(Number(b.data))?[b.data]:b.data,usage:xn.BufferUsage.Storage|xn.BufferUsage.CopyDst|xn.BufferUsage.CopySrc}),o.outputBuffer=S,o.context.output={name:b.name,length:isFinite(Number(b.data))?1:b.data.length,typedArrayConstructor:Float32Array,gpuBuffer:S.get()}):b.isReferer?b.data.model&&b.data.model.outputBuffer&&(S=b.data.model.outputBuffer):S=new ry(o.engine,{data:isFinite(Number(b.data))?[b.data]:b.data,usage:xn.BufferUsage.Storage|xn.BufferUsage.CopyDst|xn.BufferUsage.CopySrc}),o.vertexBuffers[b.name]=S,o.bindGroupEntries.push({binding:d,resource:{name:b.name,refer:S?void 0:b.data,buffer:S?S.get():void 0}}),d++}}),this.computePipeline=this.engine.device.createComputePipeline({computeStage:a}),console.log(this.bindGroupEntries),this.bindGroup=this.engine.device.createBindGroup({layout:this.computePipeline.getBindGroupLayout(0),entries:this.bindGroupEntries});case 13:case"end":return m.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"destroy",value:function(){var n=this;this.uniformBuffer&&this.uniformBuffer.destroy(),Object.keys(this.vertexBuffers).forEach(function(r){return n.vertexBuffers[r].destroy()})}},{key:"readData",value:function(){var t=ro(Hn.mark(function r(){var o,i,a,s,f,d,h,v,y,m;return Hn.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(o=this.context.output,!o){S.next=16;break}if(i=o.length,a=o.typedArrayConstructor,s=o.gpuBuffer,!s){S.next=16;break}return f=i*a.BYTES_PER_ELEMENT,d=this.engine.device.createBuffer({size:f,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),h=this.engine.device.createCommandEncoder(),h.copyBufferToBuffer(s,0,d,0,f),v=ka?this.engine.device.getQueue():this.engine.device.defaultQueue,v.submit([h.finish()]),S.next=12,d.mapAsync(xn.MapMode.Read);case 12:return y=d.getMappedRange(),m=new a(y.slice(0)),d.unmap(),S.abrupt("return",m);case 16:return S.abrupt("return",new Float32Array);case 17:case"end":return S.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"run",value:function(){if(this.engine.currentComputePass){var n;this.engine.currentComputePass.setPipeline(this.computePipeline),this.engine.currentComputePass.setBindGroup(0,this.bindGroup),(n=this.engine.currentComputePass).dispatch.apply(n,li(this.context.dispatch))}}},{key:"updateBuffer",value:function(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=this.vertexBuffers[n];i&&i.subData({data:r,offset:o})}},{key:"updateUniform",value:function(n,r){var o=this.uniformGPUBufferLayout.find(function(i){return i.name===n});o&&this.uniformBuffer.subData({data:Number.isFinite(r)?new Float32Array([r]):new Float32Array(r),offset:o.offset})}},{key:"confirmInput",value:function(n,r){var o=this.vertexBuffers[r],i=n.outputBuffer;if(o&&i&&o!==i){var a=this.engine.device.createCommandEncoder(),s=n.context.output,f=s.length,d=s.typedArrayConstructor,h=f*d.BYTES_PER_ELEMENT;a.copyBufferToBuffer(i.get(),0,o.get(),0,h);var v=ka?this.engine.device.getQueue():this.engine.device.defaultQueue;v.submit([a.finish()])}}},{key:"compileShaderToSpirV",value:function(n,r,o){return this.compileRawShaderToSpirV(o+n,r)}},{key:"compileRawShaderToSpirV",value:function(n,r){return this.engine.glslang.compileGLSL(n,r)}},{key:"compileComputePipelineStageDescriptor",value:function(){var t=ro(Hn.mark(function r(o){var i,a;return Hn.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(i=o,a=`#version 450
`,this.engine.options.useWGSL){f.next=6;break}return f.next=5,this.compileShaderToSpirV(o,"compute",a);case 5:i=f.sent;case 6:return f.abrupt("return",{computeStage:{module:this.engine.device.createShaderModule({code:i,isWHLSL:ka}),entryPoint:"main"}});case 7:case"end":return f.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()}]),e}(),t9e=function(){function e(t,n){Qn(this,e),this.engine=t,this.options=n,this.indexCount=void 0,this.buffer=void 0;var r=n,o=r.data;r.usage,r.type;var i=r.count;this.indexCount=i||0,this.buffer=new ry(t,{data:o instanceof Array?new Uint16Array(o):o,usage:xn.BufferUsage.Index|xn.BufferUsage.CopyDst})}return vr(e,[{key:"get",value:function(){return this.buffer}},{key:"subData",value:function(n){this.buffer.subData(n)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),n9e=function(){function e(t,n){Qn(this,e),this.engine=t,this.options=n,this.colorTexture=void 0,this.depthTexture=void 0,this.width=0,this.height=0;var r=n;r.width,r.height;var o=r.color;r.colors;var i=r.depth;r.stencil,o&&(this.colorTexture=o),i&&(this.depthTexture=i)}return vr(e,[{key:"get",value:function(){var n,r;return{color:(n=this.colorTexture)===null||n===void 0?void 0:n.get(),depth:(r=this.depthTexture)===null||r===void 0?void 0:r.get()}}},{key:"destroy",value:function(){var n,r;(n=this.colorTexture)===null||n===void 0||n.destroy(),(r=this.depthTexture)===null||r===void 0||r.destroy()}},{key:"resize",value:function(n){var r=n.width,o=n.height;if(r!==this.width||o!==this.height){var i,a;(i=this.colorTexture)===null||i===void 0||i.resize({width:r,height:o}),(a=this.depthTexture)===null||a===void 0||a.resize({width:r,height:o})}this.width=r,this.height=o}}]),e}(),ec,ou,sh,ma,Tv,uw,Tg,r9e=(ec={},Gt(ec,dt.POINTS,xn.PrimitiveTopology.PointList),Gt(ec,dt.LINES,xn.PrimitiveTopology.LineList),Gt(ec,dt.LINE_LOOP,xn.PrimitiveTopology.LineList),Gt(ec,dt.LINE_STRIP,xn.PrimitiveTopology.LineStrip),Gt(ec,dt.TRIANGLES,xn.PrimitiveTopology.TriangleList),Gt(ec,dt.TRIANGLE_FAN,xn.PrimitiveTopology.TriangleList),Gt(ec,dt.TRIANGLE_STRIP,xn.PrimitiveTopology.TriangleStrip),ec),o9e=(ou={},Gt(ou,dt.NEVER,xn.CompareFunction.Never),Gt(ou,dt.ALWAYS,xn.CompareFunction.Always),Gt(ou,dt.LESS,xn.CompareFunction.Less),Gt(ou,dt.LEQUAL,xn.CompareFunction.LessEqual),Gt(ou,dt.GREATER,xn.CompareFunction.Greater),Gt(ou,dt.GEQUAL,xn.CompareFunction.GreaterEqual),Gt(ou,dt.EQUAL,xn.CompareFunction.Equal),Gt(ou,dt.NOTEQUAL,xn.CompareFunction.NotEqual),ou),J5=(sh={},Gt(sh,dt.FUNC_ADD,xn.BlendOperation.Add),Gt(sh,dt.MIN_EXT,xn.BlendOperation.Min),Gt(sh,dt.MAX_EXT,xn.BlendOperation.Max),Gt(sh,dt.FUNC_SUBTRACT,xn.BlendOperation.Subtract),Gt(sh,dt.FUNC_REVERSE_SUBTRACT,xn.BlendOperation.ReverseSubtract),sh),cw=(ma={},Gt(ma,dt.ZERO,xn.BlendFactor.Zero),Gt(ma,dt.ONE,xn.BlendFactor.One),Gt(ma,dt.SRC_COLOR,xn.BlendFactor.SrcColor),Gt(ma,dt.ONE_MINUS_SRC_COLOR,xn.BlendFactor.OneMinusSrcColor),Gt(ma,dt.SRC_ALPHA,xn.BlendFactor.SrcAlpha),Gt(ma,dt.ONE_MINUS_SRC_ALPHA,xn.BlendFactor.OneMinusSrcAlpha),Gt(ma,dt.DST_COLOR,xn.BlendFactor.DstColor),Gt(ma,dt.ONE_MINUS_DST_COLOR,xn.BlendFactor.OneMinusDstColor),Gt(ma,dt.DST_ALPHA,xn.BlendFactor.DstAlpha),Gt(ma,dt.ONE_MINUS_DST_ALPHA,xn.BlendFactor.OneMinusDstAlpha),Gt(ma,dt.CONSTANT_COLOR,xn.BlendFactor.BlendColor),Gt(ma,dt.ONE_MINUS_CONSTANT_COLOR,xn.BlendFactor.OneMinusBlendColor),Gt(ma,dt.SRC_ALPHA_SATURATE,xn.BlendFactor.SrcAlphaSaturated),ma),i9e=(Tv={},Gt(Tv,dt.ALPHA,"r8unorm"),Gt(Tv,dt.RGBA,"rgba8unorm"),Gt(Tv,dt.DEPTH_COMPONENT,"depth32float"),Gt(Tv,dt.DEPTH_STENCIL,"depth24plus-stencil8"),Tv),Q5=(uw={},Gt(uw,dt.NEAREST,"nearest"),Gt(uw,dt.LINEAR,"linear"),uw),iP=(Tg={},Gt(Tg,dt.REPEAT,"repeat"),Gt(Tg,dt.CLAMP_TO_EDGE,"clamp-to-edge"),Gt(Tg,dt.MIRRORED_REPEAT,"mirror-repeat"),Tg);function a9e(e){var t=e.cull;if(!t||!t.enable)return xn.CullMode.None;if(t.face)return t.face===dt.FRONT?xn.CullMode.Front:xn.CullMode.Back}function s9e(e){var t=e.depth;e.stencil;var n={compare:xn.CompareFunction.Always,depthFailOp:xn.StencilOperation.Keep,failOp:xn.StencilOperation.Keep,passOp:xn.StencilOperation.Keep};return{depthWriteEnabled:t&&t.enable,depthCompare:o9e[(t==null?void 0:t.func)||dt.ALWAYS],format:xn.TextureFormat.Depth24PlusStencil8,stencilFront:n,stencilBack:n,stencilReadMask:4294967295,stencilWriteMask:4294967295}}function l9e(e,t){var n=e.blend;return[{format:t,alphaBlend:{srcFactor:cw[n&&n.func&&n.func.srcAlpha||dt.ONE],dstFactor:cw[n&&n.func&&n.func.dstAlpha||dt.ZERO],operation:J5[n&&n.equation&&n.equation.alpha||dt.FUNC_ADD]},colorBlend:{srcFactor:cw[n&&n.func&&n.func.srcRGB||dt.ONE],dstFactor:cw[n&&n.func&&n.func.dstRGB||dt.ZERO],operation:J5[n&&n.equation&&n.equation.rgb||dt.FUNC_ADD]},writeMask:xn.ColorWrite.All}]}function q5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Cv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q5(Object(n),!0).forEach(function(r){Gt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u9e(e){for(var t=0,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(var i=0,a=r;i<a.length;i++){var s=a[i];t+=s.length}for(var f=new e(t),d=0,h=0,v=r;h<v.length;h++){var y=v[h];f.set(y,d),d+=y.length}return f}var c9e=function(){function e(t,n){Qn(this,e),this.engine=t,this.options=n,this.pipelineLayout=void 0,this.renderPipeline=void 0,this.uniformsBindGroupLayout=void 0,this.uniformBindGroup=void 0,this.uniformBuffer=void 0,this.uniforms={},this.uniformGPUBufferLayout=[],this.attributeCache={},this.indexBuffer=void 0,this.indexCount=void 0}return vr(e,[{key:"init",value:function(){var t=ro(Hn.mark(function r(){var o=this,i,a,s,f,d,h,v,y,m,b,S,O,_,A,T,P;return Hn.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return i=this.options,a=i.vs,s=i.fs,f=i.attributes,d=i.uniforms,h=i.primitive,i.count,v=i.elements,y=i.depth,m=i.blend,b=i.stencil,S=i.cull,i.instances,N.next=3,this.compilePipelineStageDescriptor(a,s,null);case 3:O=N.sent,_=O.vertexStage,A=O.fragmentStage,d&&this.buildUniformBindGroup(d),v&&(this.indexBuffer=v.get(),this.indexCount=v.indexCount),T={vertexBuffers:Object.keys(f).map(function(L,j){var k=f[L],F=k.get(),z=F.arrayStride,M=F.stepMode,D=F.attributes;return o.attributeCache[L]=k,{arrayStride:z,stepMode:M,attributes:D}})},P={sampleCount:this.engine.mainPassSampleCount,primitiveTopology:r9e[h||dt.TRIANGLES],rasterizationState:Cv(Cv({},this.getDefaultRasterizationStateDescriptor()),{},{cullMode:a9e({cull:S})}),depthStencilState:s9e({depth:y,stencil:b}),colorStates:l9e({blend:m},this.engine.options.swapChainFormat),layout:this.pipelineLayout,vertexStage:_,fragmentStage:A,vertexState:T},this.renderPipeline=this.engine.device.createRenderPipeline(P);case 11:case"end":return N.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"addUniforms",value:function(n){this.uniforms=Cv(Cv({},this.uniforms),eb(n))}},{key:"draw",value:function(n){var r=this,o=this.engine.getCurrentRenderPass(),i=Cv(Cv({},this.uniforms),eb(n.uniforms||{})),a=[];Object.keys(i).forEach(function(s){var f=wc(i[s]);if(f==="boolean"||f==="number"||Array.isArray(i[s])||i[s].BYTES_PER_ELEMENT){var d,h=(d=r.uniformGPUBufferLayout.find(function(_){var A=_.name;return A===s}))===null||d===void 0?void 0:d.offset;h!==null&&r.uniformBuffer.subData({data:i[s],offset:h})}else{var v,y=(v=r.uniformGPUBufferLayout.find(function(_){var A=_.name;return A===s}))===null||v===void 0?void 0:v.offset;if(y!==null){var m=i[s].get(),b=m.color||m,S=b.texture,O=b.sampler;O&&(a.push({binding:y,resource:O}),y++),a.push({binding:y,resource:S.createView()})}}}),this.uniformBuffer&&(a[0]={binding:0,resource:{buffer:this.uniformBuffer.get()}}),this.uniformBindGroup=this.engine.device.createBindGroup({layout:this.uniformsBindGroupLayout,entries:a}),this.renderPipeline&&o.setPipeline(this.renderPipeline),o.setBindGroup(0,this.uniformBindGroup),this.indexBuffer&&o.setIndexBuffer(this.indexBuffer.get(),xn.IndexFormat.Uint32,0),Object.keys(this.attributeCache).forEach(function(s,f){o.setVertexBuffer(0+f,r.attributeCache[s].get().buffer,0)}),this.indexBuffer?o.drawIndexed(this.indexCount,this.options.instances||1,0,0,0):o.draw(this.options.count||0,this.options.instances||0,0,0)}},{key:"destroy",value:function(){throw new Error("Method not implemented.")}},{key:"compilePipelineStageDescriptor",value:function(){var t=ro(Hn.mark(function r(o,i,a){var s,f,d;return Hn.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(s=`#version 450
`,f=o,d=i,this.engine.options.useWGSL){v.next=10;break}return v.next=6,this.compileShaderToSpirV(o,"vertex",s);case 6:return f=v.sent,v.next=9,this.compileShaderToSpirV(i,"fragment",s);case 9:d=v.sent;case 10:return v.abrupt("return",this.createPipelineStageDescriptor(f,d));case 11:case"end":return v.stop()}},r,this)}));function n(r,o,i){return t.apply(this,arguments)}return n}()},{key:"compileShaderToSpirV",value:function(n,r,o){return this.compileRawShaderToSpirV(o+n,r)}},{key:"compileRawShaderToSpirV",value:function(n,r){return this.engine.glslang.compileGLSL(n,r)}},{key:"createPipelineStageDescriptor",value:function(n,r){return{vertexStage:{module:this.engine.device.createShaderModule({code:n,isWHLSL:ka}),entryPoint:"main"},fragmentStage:{module:this.engine.device.createShaderModule({code:r,isWHLSL:ka}),entryPoint:"main"}}}},{key:"getDefaultRasterizationStateDescriptor",value:function(){return{frontFace:xn.FrontFace.CCW,cullMode:xn.CullMode.None,depthBias:0,depthBiasSlopeScale:0,depthBiasClamp:0}}},{key:"buildUniformBindGroup",value:function(n){var r=this,o=0,i=u9e.apply(void 0,[Float32Array].concat(li(Object.keys(n).map(function(f){return n[f]?(r.uniformGPUBufferLayout.push({name:f,offset:o}),o+=(n[f].length||1)*4,n[f]):[]})))),a=[],s=!1;i.length&&(s=!0,a.push({binding:0,visibility:xn.ShaderStage.Fragment|xn.ShaderStage.Vertex,type:xn.BindingType.UniformBuffer})),Object.keys(n).filter(function(f){return n[f]===null}).forEach(function(f,d){r.uniformGPUBufferLayout.push({name:f,offset:d*2+(s?1:0)}),a.push({binding:d*2+(s?1:0),visibility:xn.ShaderStage.Fragment,type:xn.BindingType.Sampler},{binding:d*2+(s?1:0)+1,visibility:xn.ShaderStage.Fragment,type:xn.BindingType.SampledTexture})}),this.uniformsBindGroupLayout=this.engine.device.createBindGroupLayout({entries:a}),this.pipelineLayout=this.engine.device.createPipelineLayout({bindGroupLayouts:[this.uniformsBindGroupLayout]}),s&&(this.uniformBuffer=new ry(this.engine,{data:i instanceof Array?new Float32Array(i):i,usage:xn.BufferUsage.Uniform|xn.BufferUsage.CopyDst}))}}]),e}(),f9e=function(){function e(t,n){Qn(this,e),this.engine=t,this.options=n,this.texture=void 0,this.sampler=void 0,this.width=void 0,this.height=void 0,this.createTexture()}return vr(e,[{key:"get",value:function(){return{texture:this.texture,sampler:this.sampler}}},{key:"update",value:function(){}},{key:"resize",value:function(n){var r=n.width,o=n.height;(r!==this.width||o!==this.height)&&(this.destroy(),this.createTexture()),this.width=r,this.height=o}},{key:"destroy",value:function(){this.texture&&this.texture.destroy()}},{key:"createTexture",value:function(){var n=this.options;n.data;var r=n.type;r===void 0&&dt.UNSIGNED_BYTE;var o=n.width,i=n.height;n.flipY;var a=n.format,s=a===void 0?dt.RGBA:a;n.mipmap;var f=n.wrapS,d=f===void 0?dt.CLAMP_TO_EDGE:f,h=n.wrapT,v=h===void 0?dt.CLAMP_TO_EDGE:h,y=n.aniso,m=y===void 0?0:y;n.alignment,n.premultiplyAlpha;var b=n.mag,S=b===void 0?dt.NEAREST:b,O=n.min,_=O===void 0?dt.NEAREST:O,A=n.colorSpace;A===void 0&&dt.BROWSER_DEFAULT_WEBGL;var T=n.usage;this.width=o,this.height=i,this.texture=this.engine.device.createTexture({size:[o,i,1],mipLevelCount:1,sampleCount:1,dimension:xn.TextureDimension.E2d,format:i9e[s],usage:T||xn.TextureUsage.Sampled|xn.TextureUsage.CopyDst}),(!T||T&xn.TextureUsage.Sampled)&&(this.sampler=this.engine.device.createSampler({addressModeU:iP[d],addressModeV:iP[v],addressModeW:iP[d],magFilter:Q5[S],minFilter:Q5[_],maxAnisotropy:m}))}}]),e}(),ez,tz,nz,d9e=(ez=so(),ez(tz=(nz=function(){function e(){var t=this;Qn(this,e),this.supportWebGPU=!0,this.useWGSL=!1,this.options=void 0,this.canvas=void 0,this.context=void 0,this.glslang=void 0,this.adapter=void 0,this.device=void 0,this.swapChain=void 0,this.mainPassSampleCount=void 0,this.mainTexture=void 0,this.depthTexture=void 0,this.mainColorAttachments=void 0,this.mainTextureExtends=void 0,this.mainDepthAttachment=void 0,this.uploadEncoder=void 0,this.renderEncoder=void 0,this.computeEncoder=void 0,this.renderTargetEncoder=void 0,this.commandBuffers=new Array(4).fill(void 0),this.currentRenderPass=null,this.mainRenderPass=null,this.currentRenderTargetViewDescriptor=void 0,this.currentComputePass=null,this.bundleEncoder=void 0,this.tempBuffers=[],this.currentRenderTarget=null,this.uploadEncoderDescriptor={label:"upload"},this.renderEncoderDescriptor={label:"render"},this.renderTargetEncoderDescriptor={label:"renderTarget"},this.computeEncoderDescriptor={label:"compute"},this.pipelines={},this.computePipelines={},this.defaultSampleCount=4,this.clearDepthValue=1,this.clearStencilValue=0,this.transientViewport={x:1/0,y:0,width:0,height:0},this.cachedViewport={x:0,y:0,width:0,height:0},this.clear=function(n){n.framebuffer;var r=n.color,o=n.depth,i=n.stencil;t.options.supportCompute&&t.startComputePass(),t.currentRenderTarget?(t.currentRenderPass&&t.endRenderTargetRenderPass(),t.startRenderTargetRenderPass(t.currentRenderTarget,r||null,!!o,!!i)):(t.mainColorAttachments[0].loadValue=r||xn.LoadOp.Load,t.mainDepthAttachment.depthLoadValue=o||xn.LoadOp.Load,t.mainDepthAttachment.stencilLoadValue=i?t.clearStencilValue:xn.LoadOp.Load,t.mainRenderPass&&t.endMainRenderPass(),t.startMainRenderPass())},this.createModel=function(){var n=ro(Hn.mark(function r(o){var i;return Hn.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return i=new c9e(t,o),s.next=3,i.init();case 3:return s.abrupt("return",i);case 4:case"end":return s.stop()}},r)}));return function(r){return n.apply(this,arguments)}}(),this.createAttribute=function(n){return new Q7e(t,n)},this.createBuffer=function(n){return new ry(t,n)},this.createElements=function(n){return new t9e(t,n)},this.createTexture2D=function(n){return new f9e(t,n)},this.createFramebuffer=function(n){return new n9e(t,n)},this.useFramebuffer=function(n,r){t.currentRenderTarget&&t.unbindFramebuffer(t.currentRenderTarget),t.currentRenderTarget=n,t.currentRenderTargetViewDescriptor={dimension:xn.TextureViewDimension.E2d,arrayLayerCount:1,aspect:xn.TextureAspect.All},t.currentRenderPass=null,r()},this.createComputeModel=function(){var n=ro(Hn.mark(function r(o){var i;return Hn.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return i=new e9e(t,o),s.next=3,i.init();case 3:return s.abrupt("return",i);case 4:case"end":return s.stop()}},r)}));return function(r){return n.apply(this,arguments)}}(),this.getCanvas=function(){return t.canvas},this.getGLContext=function(){throw new Error("Method not implemented.")},this.viewport=function(n){var r=n.x,o=n.y,i=n.width,a=n.height;if(!t.currentRenderPass)t.transientViewport={x:r,y:o,width:i,height:a};else if(t.transientViewport.x!==1/0){var s=t.getCurrentRenderPass();s.setViewport(t.transientViewport.x,t.transientViewport.y,t.transientViewport.width,t.transientViewport.height,0,1)}else if(r!==t.cachedViewport.x||o!==t.cachedViewport.y||i!==t.cachedViewport.width||a!==t.cachedViewport.height){t.cachedViewport={x:r,y:o,width:i,height:a};var f=t.getCurrentRenderPass();f.setViewport(r,o,i,a,0,1)}},this.readPixels=function(n){throw new Error("Method not implemented.")}}return vr(e,[{key:"isFloatSupported",value:function(){return!0}},{key:"init",value:function(){var t=ro(Hn.mark(function r(o){return Hn.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.canvas=o.canvas,this.options=o,this.useWGSL=!!o.useWGSL,this.mainPassSampleCount=o.antialiasing?this.defaultSampleCount:1,a.next=6,this.initGlslang();case 6:this.initContextAndSwapChain(),this.initMainAttachments();case 8:case"end":return a.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"setScissor",value:function(n){throw new Error("Method not implemented.")}},{key:"destroy",value:function(){this.mainTexture&&this.mainTexture.destroy(),this.depthTexture&&this.depthTexture.destroy(),this.tempBuffers.forEach(function(n){return n.destroy()}),this.tempBuffers=[]}},{key:"beginFrame",value:function(){this.uploadEncoder=this.device.createCommandEncoder(this.uploadEncoderDescriptor),this.renderEncoder=this.device.createCommandEncoder(this.renderEncoderDescriptor),this.renderTargetEncoder=this.device.createCommandEncoder(this.renderTargetEncoderDescriptor),this.options.supportCompute&&(this.computeEncoder=this.device.createCommandEncoder(this.computeEncoderDescriptor))}},{key:"endFrame",value:function(){this.options.supportCompute&&this.endComputePass(),this.endMainRenderPass(),this.commandBuffers[0]=this.uploadEncoder.finish(),this.commandBuffers[1]=this.renderEncoder.finish(),this.options.supportCompute&&(this.commandBuffers[2]=this.computeEncoder.finish()),this.commandBuffers[3]=this.renderTargetEncoder.finish(),ka?this.device.getQueue().submit(this.commandBuffers.filter(function(n){return n})):this.device.defaultQueue.submit(this.commandBuffers.filter(function(n){return n}))}},{key:"getCurrentRenderPass",value:function(){return this.currentRenderTarget&&!this.currentRenderPass?this.startRenderTargetRenderPass(this.currentRenderTarget,null,!1,!1):this.currentRenderPass||this.startMainRenderPass(),this.currentRenderPass}},{key:"initGlslang",value:function(){var t=ro(Hn.mark(function r(){var o,i;return Hn.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,J7e();case 2:return this.glslang=s.sent,s.next=5,(o=navigator)===null||o===void 0||(i=o.gpu)===null||i===void 0?void 0:i.requestAdapter();case 5:return this.adapter=s.sent,s.next=8,this.adapter.requestDevice();case 8:this.device=s.sent;case 9:case"end":return s.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"initContextAndSwapChain",value:function(){this.context=this.canvas.getContext(ka?"gpu":"gpupresent"),this.swapChain=this.context.configureSwapChain({device:this.device,format:this.options.swapChainFormat,usage:xn.TextureUsage.OutputAttachment|xn.TextureUsage.CopySrc})}},{key:"initMainAttachments",value:function(){if(this.mainTextureExtends={width:this.canvas.width,height:this.canvas.height,depth:1},this.options.antialiasing){var n={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:xn.TextureDimension.E2d,format:xn.TextureFormat.BGRA8Unorm,usage:xn.TextureUsage.OutputAttachment};this.mainTexture&&this.mainTexture.destroy(),this.mainTexture=this.device.createTexture(n),this.mainColorAttachments=[{attachment:ka?this.mainTexture.createDefaultView():this.mainTexture.createView(),loadValue:[0,0,0,1],storeOp:xn.StoreOp.Store}]}else this.mainColorAttachments=[{attachment:ka?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),loadValue:[0,0,0,1],storeOp:xn.StoreOp.Store}];var r={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:xn.TextureDimension.E2d,format:ka?"depth32float-stencil8":xn.TextureFormat.Depth24PlusStencil8,usage:xn.TextureUsage.OutputAttachment};this.depthTexture&&this.depthTexture.destroy(),this.depthTexture=this.device.createTexture(r),this.mainDepthAttachment={attachment:ka?this.depthTexture.createDefaultView():this.depthTexture.createView(),depthLoadValue:this.clearDepthValue,depthStoreOp:xn.StoreOp.Store,stencilLoadValue:this.clearStencilValue,stencilStoreOp:xn.StoreOp.Store}}},{key:"startComputePass",value:function(){this.currentComputePass&&this.endComputePass(),this.currentComputePass=this.computeEncoder.beginComputePass()}},{key:"startMainRenderPass",value:function(){this.currentRenderPass&&!this.currentRenderTarget&&this.endMainRenderPass(),this.options.antialiasing?this.mainColorAttachments[0].resolveTarget=ka?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView():this.mainColorAttachments[0].attachment=ka?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),this.currentRenderPass=this.renderEncoder.beginRenderPass({colorAttachments:this.mainColorAttachments,depthStencilAttachment:this.mainDepthAttachment}),this.mainRenderPass=this.currentRenderPass,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"startRenderTargetRenderPass",value:function(n,r,o){var i,a,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,f=(i=n.get().color)===null||i===void 0?void 0:i.texture,d;f&&(d=f.createView(this.currentRenderTargetViewDescriptor));var h=(a=n.get().depth)===null||a===void 0?void 0:a.texture,v;h&&(v=h.createView());var y=this.renderTargetEncoder.beginRenderPass({colorAttachments:[{attachment:d,loadValue:r!==null?r:xn.LoadOp.Load,storeOp:xn.StoreOp.Store}],depthStencilAttachment:h&&v?{attachment:v,depthLoadValue:o?this.clearDepthValue:xn.LoadOp.Load,depthStoreOp:xn.StoreOp.Store,stencilLoadValue:s?this.clearStencilValue:xn.LoadOp.Load,stencilStoreOp:xn.StoreOp.Store}:void 0});this.currentRenderPass=y,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"endMainRenderPass",value:function(){this.currentRenderPass===this.mainRenderPass&&this.currentRenderPass!==null&&(this.currentRenderPass.endPass(),this.resetCachedViewport(),this.currentRenderPass=null,this.mainRenderPass=null)}},{key:"endComputePass",value:function(){this.currentComputePass&&(this.currentComputePass.endPass(),this.currentComputePass=null)}},{key:"endRenderTargetRenderPass",value:function(){this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport())}},{key:"resetCachedViewport",value:function(){this.cachedViewport={x:0,y:0,width:0,height:0}}},{key:"unbindFramebuffer",value:function(n){this.currentRenderPass&&this.currentRenderPass!==this.mainRenderPass&&this.endRenderTargetRenderPass(),this.transientViewport.x=1/0,this.currentRenderTarget=null,this.currentRenderPass=this.mainRenderPass}}]),e}(),nz))||tz),rz,oz;function h9e(e){var t=p9e();return function(){var r=ao(e),o;if(t){var i=ao(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return aa(this,o)}}function p9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Zx=4/64,iz=1-Zx*2,v9e=(rz=so(),rz(oz=function(e){ia(n,e);var t=h9e(n);function n(){return Qn(this,n),t.apply(this,arguments)}return vr(n,[{key:"onEntityCreated",value:function(){var o=this.config,i=o.widthSegments,a=i===void 0?1:i,s=o.heightSegments,f=s===void 0?1:s,d=o.depthSegments,h=d===void 0?1:d,v=o.halfExtents,y=v===void 0?jr(.5,.5,.5):v,m=a,b=f,S=h,O=J_(y,3),_=O[0],A=O[1],T=O[2],P=[jr(-_,-A,T),jr(_,-A,T),jr(_,A,T),jr(-_,A,T),jr(_,-A,-T),jr(-_,-A,-T),jr(-_,A,-T),jr(_,A,-T)],x=[[0,1,3],[4,5,7],[3,2,6],[1,0,4],[1,4,2],[5,0,6]],N=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]],L={FRONT:0,BACK:1,TOP:2,BOTTOM:3,RIGHT:4,LEFT:5},j=[],k=[],F=[],z=[],M=0,D=function(K,X,W){var ie,oe,ee,ue;for(ee=0;ee<=X;ee++)for(ue=0;ue<=W;ue++){var Ne=fo(),$e=fo(),Ie=fo(),Le=fo();Gh(Ne,P[x[K][0]],P[x[K][1]],ee/X),Gh($e,P[x[K][0]],P[x[K][2]],ue/W),Hx(Ie,$e,P[x[K][0]]),fc(Le,Ne,Ie),ie=ee/X,oe=ue/W,j.push(Le[0],Le[1],Le[2]),k.push(N[K][0],N[K][1],N[K][2]),F.push(ie,oe),ie/=3,oe/=3,ie=ie*iz+Zx,oe=oe*iz+Zx,ie+=K%3/3,oe+=Math.floor(K/3)/3,ee<X&&ue<W&&(z.push(M+W+1,M+1,M),z.push(M+W+1,M+W+2,M+1)),M++}};D(L.FRONT,m,b),D(L.BACK,m,b),D(L.TOP,m,S),D(L.BOTTOM,m,S),D(L.RIGHT,S,b),D(L.LEFT,S,b);var B=ER(j),V=this.getComponent();V.indices=Uint32Array.from(z),V.aabb=B,V.vertexCount=M,V.attributes=[{dirty:!0,name:"position",data:Float32Array.from(j),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(k),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(F),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(Gf))||oz);function y9e(e,t){if(!e&&!t)throw new Error("Please specify valid arguments for parameters a and b.");if(!t||t.length===0)return e;if(!e||e.length===0)return t;if(Object.prototype.toString.call(e)!==Object.prototype.toString.call(t))throw new Error("The types of the two arguments passed for parameters a and b do not match.");var n=new e.constructor(e.length+t.length);return n.set(e),n.set(t,e.length),n}var az,sz;function m9e(e){var t=g9e();return function(){var r=ao(e),o;if(t){var i=ao(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return aa(this,o)}}function g9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var b9e=(az=so(),az(sz=function(e){ia(n,e);var t=m9e(n);function n(){return Qn(this,n),t.apply(this,arguments)}return vr(n,[{key:"onEntityCreated",value:function(){var o=this.config.geometries,i=o===void 0?[]:o,a=this.getComponent();a.aabb=new bR;var s=[],f=[],d=0;i.forEach(function(h){var v=h.aabb,y=h.indices,m=h.vertexCount,b=h.attributes;a.aabb.add(v),a.vertexCount+=m,y&&f.push.apply(f,li(y.map(function(S){return S+d}))),d+=m,b.forEach(function(S,O){s[O]?S.data&&(SR(S.data)?s[O].push(S.data):KX(S.data)?s[O].data=y9e(s[O].data,S.data):s[O].data=s[O].data.concat(S.data)):(s[O]=S,s[O].dirty=!0)})}),a.attributes=s,a.indices=Uint32Array.from(f),a.dirty=!0}}]),n}(Gf))||sz),lz,uz;function E9e(e){var t=S9e();return function(){var r=ao(e),o;if(t){var i=ao(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return aa(this,o)}}function S9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var w9e=(lz=so(),lz(uz=function(e){ia(n,e);var t=E9e(n);function n(){return Qn(this,n),t.apply(this,arguments)}return vr(n,[{key:"onEntityCreated",value:function(){for(var o=this.config,i=o.halfExtents,a=i===void 0?[.5,.5]:i,s=o.widthSegments,f=s===void 0?5:s,d=o.lengthSegments,h=d===void 0?5:d,v=[],y=[],m=[],b=[],S=0,O=0;O<=f;O++)for(var _=0;_<=h;_++){var A=-a[0]+2*a[0]*O/f,T=0,P=-(-a[1]+2*a[1]*_/h),x=O/f,N=_/h;v.push(A,T,P),y.push(0,1,0),m.push(x,N),O<f&&_<h&&(b.push(S+h+1,S+1,S),b.push(S+h+1,S+h+2,S+1)),S++}var L=ER(v),j=this.getComponent();j.indices=Uint32Array.from(b),j.aabb=L,j.vertexCount=S,j.attributes=[{dirty:!0,name:"position",data:Float32Array.from(v),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(y),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(m),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(Gf))||uz),cz,fz;function O9e(e){var t=_9e();return function(){var r=ao(e),o;if(t){var i=ao(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return aa(this,o)}}function _9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var T9e=(cz=so(),cz(fz=function(e){ia(n,e);var t=O9e(n);function n(){return Qn(this,n),t.apply(this,arguments)}return vr(n,[{key:"onEntityCreated",value:function(){for(var o=this.config,i=o.radius,a=i===void 0?.5:i,s=o.latitudeBands,f=s===void 0?16:s,d=o.longitudeBands,h=d===void 0?16:d,v=[],y=[],m=[],b=[],S=0;S<=f;S++)for(var O=S*Math.PI/f,_=Math.sin(O),A=Math.cos(O),T=0;T<=h;T++){var P=T*2*Math.PI/h-Math.PI/2,x=Math.sin(P),N=Math.cos(P),L=N*_,j=A,k=x*_,F=1-T/h,z=1-S/f;v.push(L*a,j*a,k*a),y.push(L,j,k),m.push(F,z)}for(var M=0;M<f;++M)for(var D=0;D<h;++D){var B=M*(h+1)+D,V=B+h+1;b.push(B+1,V,B),b.push(B+1,V+1,V)}var Y=ER(v),K=this.getComponent();K.indices=Uint32Array.from(b),K.aabb=Y,K.vertexCount=v.length/3,K.attributes=[{dirty:!0,name:"position",data:Float32Array.from(v),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(y),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(m),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(Gf))||fz),dz,hz,pz,vz,fw,yz,mz,gz;function C9e(e){var t=A9e();return function(){var r=ao(e),o;if(t){var i=ao(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return aa(this,o)}}function A9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var P9e=`varying vec4 fragColor;

#pragma include "uv.frag.declaration"
#pragma include "map.frag.declaration"

void main() {
  vec4 diffuseColor = fragColor;

  #pragma include "map.frag.main"

  gl_FragColor = diffuseColor;
}`,x9e=`attribute vec3 position;
attribute vec3 normal;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform vec4 color;

varying vec4 fragColor;

#pragma include "uv.vert.declaration"

void main() {
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  fragColor = color;

  #pragma include "uv.vert.main"
}`,M9e=`// layout(set = 0, binding = 1) uniform WireframeUniforms {
//   float lineWidth;
//   vec4 lineColor;
// } wireframe;

layout(location = 0) in vec4 fragColor;
// layout(location = 1) in vec3 v_Barycentric;

layout(location = 0) out vec4 outColor;

// wireframe
// float edgeFactor() {
//   vec3 d = fwidth(v_Barycentric);
//   vec3 a3 = smoothstep(vec3(0.0), d * wireframe.lineWidth, v_Barycentric);
//   return min(min(a3.x, a3.y), a3.z);
// }

void main() {
  // outColor = mix(fragColor, wireframe.lineColor, (1.0 - edgeFactor()));
  outColor = fragColor;
}`,N9e=`layout(set = 0, binding = 0) uniform Uniforms {
  vec4 color;
  mat4 projectionMatrix;
  mat4 modelViewMatrix;
} uniforms;

layout(location = 0) in vec3 position;
// layout(location = 1) in vec3 barycentric;

layout(location = 0) out vec4 fragColor;
// layout(location = 1) out vec3 v_Barycentric;

void main() {
  gl_Position = uniforms.projectionMatrix * uniforms.modelViewMatrix * vec4(position, 1.0);
  fragColor = uniforms.color;
  // v_Barycentric = barycentric;
}`,R9e=(dz=so(),hz=lr(qt.RenderEngine),pz=lr(qt.ShaderModuleService),dz(vz=(fw=(gz=function(e){ia(n,e);var t=C9e(n);function n(){var r;Qn(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),ar(r,"engine",yz,ei(r)),ar(r,"shaderModuleService",mz,ei(r)),r}return vr(n,[{key:"onEntityCreated",value:function(){var o=this.getComponent(),i=this.engine.supportWebGPU?N9e:x9e,a=this.engine.supportWebGPU?M9e:P9e;this.shaderModuleService.registerModule("material-basic",{vs:i,fs:a});var s=this.shaderModuleService.getModule("material-basic"),f=s.vs,d=s.fs,h=s.uniforms;o.vertexShaderGLSL=f,o.fragmentShaderGLSL=d,o.setUniform(h),this.config.map&&(o.setDefines({USE_UV:1,USE_MAP:1}),o.setUniform({map:this.config.map,uvTransform:a0()}))}}]),n}(XX),gz),yz=sr(fw.prototype,"engine",[hz],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mz=sr(fw.prototype,"shaderModuleService",[pz],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fw))||vz),bz,Ez,Sz,wz,Oz,_z,Tz,Cg,Cz,Az,Pz,xz;function I9e(e){var t=D9e();return function(){var r=ao(e),o;if(t){var i=ao(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return aa(this,o)}}function D9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var k9e=`// generate grid, borrow from clay.gl viewer
// @see https://github.com/pissang/clay-viewer/blob/master/src/graphic/ground.glsl
#extension GL_OES_standard_derivatives : enable

varying vec3 v_Position;
// varying vec3 v_Normal;

uniform float u_GridSize : 5;
uniform float u_GridSize2 : .5;
uniform vec4 u_GridColor : [0, 0, 0, 1];
uniform vec4 u_GridColor2 : [0.3, 0.3, 0.3, 1];
uniform bool u_GridEnabled : true;

// uniform vec3 u_LightDirection;
// uniform vec3 u_LightColor;
// uniform vec3 u_Camera;

void main() {
  // vec3 n = v_Normal;
  // vec3 l = normalize(u_LightDirection);
  // float NdotL = clamp(dot(n, l), 0.001, 1.0);

  gl_FragColor = vec4(1.);

  if (u_GridEnabled) {
    float wx = v_Position.x;
    float wz = v_Position.z;
    // float x0 = abs(fract(wx / u_GridSize - 0.5) - 0.5) / fwidth(wx) * u_GridSize / 2.0;
    // float z0 = abs(fract(wz / u_GridSize - 0.5) - 0.5) / fwidth(wz) * u_GridSize / 2.0;

    float x1 = abs(fract(wx / u_GridSize2 - 0.5) - 0.5) / fwidth(wx) * u_GridSize2;
    float z1 = abs(fract(wz / u_GridSize2 - 0.5) - 0.5) / fwidth(wz) * u_GridSize2;

    // float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);
    float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);
    // if (v0 > 0.1) {
        // gl_FragColor = mix(gl_FragColor, u_GridColor, v0);
    // }
    // else {
        gl_FragColor = mix(gl_FragColor, u_GridColor2, v1);
    // }
  }

  // float shadowFactor = calcShadow(u_ShadowMap, v_PositionFromLight, l, n);
  // vec3 diffuseColor = u_LightColor * NdotL * shadowFactor;

  // gl_FragColor.rgb *= diffuseColor;
}`,L9e=`attribute vec3 a_Position;

varying vec3 v_Position;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

void main() {
  v_Position = a_Position;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_Position, 1.);
}`,$9e=(bz=so(),Ez=lr(qt.Systems),Sz=mu(qt.MaterialSystem),wz=lr(qt.Systems),Oz=mu(qt.GeometrySystem),_z=lr(qt.ShaderModuleService),bz(Tz=(Cg=(xz=function(e){ia(n,e);var t=I9e(n);function n(){var r;Qn(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),ar(r,"materialSystem",Cz,ei(r)),ar(r,"geometrySystem",Az,ei(r)),ar(r,"shaderModuleService",Pz,ei(r)),r}return vr(n,[{key:"onAttributeChanged",value:function(o){var i=o.name,a=o.data,s=this.getMeshComponent();s&&s.material&&(i==="gridColor"?(s.material.setUniform("u_GridColor",a),s.material.setUniform("u_GridColor2",a)):i==="gridSize"&&(s.material.setUniform("u_GridSize",a),s.material.setUniform("u_GridSize2",a)))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:L9e,fs:k9e});var o=this.shaderModuleService.getModule("grid"),i=o.vs,a=o.fs,s=o.uniforms,f=this.materialSystem.createShaderMaterial({vertexShader:i,fragmentShader:a});this.setMaterial(f);var d=this.geometrySystem.createBufferGeometry({vertexCount:4});this.setGeometry(d),f.setCull({enable:!1,face:dt.BACK}).setDepth({enable:!0,func:dt.LESS}),f.setUniform(s),this.setAttributes({gridColor:this.config.gridColor,gridSize:this.config.gridSize}),d.setIndex([0,3,2,2,1,0]),d.setAttribute("a_Position",Float32Array.from([-4,-1,-4,4,-1,-4,4,-1,4,-4,-1,4]),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})}}]),n}(Ff),xz),Cz=sr(Cg.prototype,"materialSystem",[Ez,Sz],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Az=sr(Cg.prototype,"geometrySystem",[wz,Oz],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pz=sr(Cg.prototype,"shaderModuleService",[_z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cg))||Tz),JX=1e-6,QX=B9e;function B9e(){var e=new Float32Array(2);return e[0]=0,e[1]=0,e}var j9e=F9e;function F9e(e){var t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}var z9e=U9e;function U9e(e,t){var n=new Float32Array(2);return n[0]=e,n[1]=t,n}var V9e=H9e;function H9e(e,t){return e[0]=t[0],e[1]=t[1],e}var qX=G9e;function G9e(e,t,n){return e[0]=t,e[1]=n,e}var W9e=K9e,Mz=JX;function K9e(e,t){var n=e[0],r=e[1],o=t[0],i=t[1];return Math.abs(n-o)<=Mz*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-i)<=Mz*Math.max(1,Math.abs(r),Math.abs(i))}var X9e=Y9e;function Y9e(e,t){return e[0]===t[0]&&e[1]===t[1]}var eY=Z9e;function Z9e(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}var OR=J9e;function J9e(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}var tY={exports:{}};(function(e){e.exports=OR})(tY);var nY=Q9e;function Q9e(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}var rY={exports:{}};(function(e){e.exports=nY})(rY);var oY=q9e;function q9e(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}var iY={exports:{}};(function(e){e.exports=oY})(iY);var eWe=tWe;function tWe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}var nWe=rWe;function rWe(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}var oWe=iWe;function iWe(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}var aWe=sWe;function sWe(e,t,n){var r=Math.cos(n),o=Math.sin(n),i=t[0],a=t[1];return e[0]=i*r-a*o,e[1]=i*o+a*r,e}var lWe=uWe;function uWe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}var cWe=fWe;function fWe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}var dWe=hWe;function hWe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}var pWe=vWe;function vWe(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}var yWe=mWe;function mWe(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}var aY=gWe;function gWe(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}var sY={exports:{}};(function(e){e.exports=aY})(sY);var lY=bWe;function bWe(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}var uY={exports:{}};(function(e){e.exports=lY})(uY);var cY=EWe;function EWe(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)}var fY={exports:{}};(function(e){e.exports=cY})(fY);var dY=SWe;function SWe(e){var t=e[0],n=e[1];return t*t+n*n}var hY={exports:{}};(function(e){e.exports=dY})(hY);var wWe=OWe;function OWe(e,t){return e[0]=-t[0],e[1]=-t[1],e}var pY=_We;function _We(e,t){var n=t[0],r=t[1],o=n*n+r*r;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o),e}var vY=TWe;function TWe(e,t){return e[0]*t[0]+e[1]*t[1]}var CWe=AWe;function AWe(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}var PWe=xWe;function xWe(e,t,n,r){var o=t[0],i=t[1];return e[0]=o+r*(n[0]-o),e[1]=i+r*(n[1]-i),e}var MWe=NWe;function NWe(e,t){t=t||1;var n=Math.random()*2*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}var RWe=IWe;function IWe(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[2]*o,e[1]=n[1]*r+n[3]*o,e}var DWe=kWe;function kWe(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[2]*o+n[4],e[1]=n[1]*r+n[3]*o+n[5],e}var LWe=$We;function $We(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[3]*o+n[6],e[1]=n[1]*r+n[4]*o+n[7],e}var BWe=jWe;function jWe(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[4]*o+n[12],e[1]=n[1]*r+n[5]*o+n[13],e}var FWe=zWe,Av=QX();function zWe(e,t,n,r,o,i){var a,s;for(t||(t=2),n||(n=0),r?s=Math.min(r*t+n,e.length):s=e.length,a=n;a<s;a+=t)Av[0]=e[a],Av[1]=e[a+1],o(Av,Av,i),e[a]=Av[0],e[a+1]=Av[1];return e}var UWe=VWe;function VWe(e,t,n){var r=t[0]*t[0]+t[1]*t[1];if(r>n*n){var o=Math.sqrt(r);e[0]=t[0]/o*n,e[1]=t[1]/o*n}else e[0]=t[0],e[1]=t[1];return e}var dw={EPSILON:JX,create:QX,clone:j9e,fromValues:z9e,copy:V9e,set:qX,equals:W9e,exactEquals:X9e,add:eY,subtract:OR,sub:tY.exports,multiply:nY,mul:rY.exports,divide:oY,div:iY.exports,inverse:eWe,min:nWe,max:oWe,rotate:aWe,floor:lWe,ceil:cWe,round:dWe,scale:pWe,scaleAndAdd:yWe,distance:aY,dist:sY.exports,squaredDistance:lY,sqrDist:uY.exports,length:cY,len:fY.exports,squaredLength:dY,sqrLen:hY.exports,negate:wWe,normalize:pY,dot:vY,cross:CWe,lerp:PWe,random:MWe,transformMat2:RWe,transformMat2d:DWe,transformMat3:LWe,transformMat4:BWe,forEach:FWe,limit:UWe},HWe=eY,Jx=qX,yY=pY,GWe=OR,WWe=vY,Nz=[0,0],KWe=function(t,n,r,o,i){return HWe(t,r,o),yY(t,t),Jx(n,-t[1],t[0]),Jx(Nz,-r[1],r[0]),i/WWe(n,Nz)},hw=function(t,n){return Jx(t,-n[1],n[0]),t},Rz=function(t,n,r){return GWe(t,n,r),yY(t,t),t};function pw(e,t,n,r,o){tb(t,r,-o),tb(t,r,o),e.push(n),e.push(n)}function tb(e,t,n){e.push([[t[0],t[1]],n])}function XWe(e,t,n){var r=[0,0],o=[0,0],i=[0,0],a=[0,0],s=-1,f=!1,d=null,h=dw.create(),v=n||0,y=3,m=[],b=[],S=[],O=[0,0];t&&(e=e.slice(),e.push(e[0]));for(var _=e.length,A=1;A<_;A++){var T=v,P=e[A-1],x=e[A],N=A<e.length-1?e[A+1]:null;if(O.push(A/_,A/_),Rz(r,x,P),d||(d=[0,0],hw(d,r)),f||(f=!0,pw(b,m,P,d,1)),S.push([T+0,T+1,T+2]),!N)hw(d,r),pw(b,m,x,d,1),S.push(s===1?[T,T+2,T+3]:[T+2,T+1,T+3]),v+=2;else{Rz(o,N,x);var L=KWe(i,a,r,o,1),j=dw.dot(i,d)<0?-1:1,k=L>y;if(!isFinite(L)){hw(d,r),pw(b,m,x,d,1),S.push(s===1?[T,T+2,T+3]:[T+2,T+1,T+3]),v+=2,s=j;continue}k?(L=y,O.push(A/_),tb(m,d,-j),b.push(x),tb(m,a,L*j),b.push(x),S.push(s!==-j?[T,T+2,T+3]:[T+2,T+1,T+3]),S.push([T+2,T+3,T+4]),hw(h,o),dw.copy(d,h),tb(m,d,-j),b.push(x),v+=3):(pw(b,m,x,a,L),S.push(s===1?[T,T+2,T+3]:[T+2,T+1,T+3]),j=-1,dw.copy(d,a),v+=2),s=j}}return{normals:m,attrIndex:S,attrPos:b,attrCounters:O}}var Iz,Dz,kz,Lz,$z,Bz,jz,Ag,Fz,zz,Uz,Vz;function YWe(e){var t=ZWe();return function(){var r=ao(e),o;if(t){var i=ao(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return aa(this,o)}}function ZWe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var JWe=`uniform float u_dash_array : 0.02;
uniform float u_dash_offset : 0;
uniform float u_dash_ratio : 0;
uniform float u_thickness : 0.02;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
    float blur = 1. - smoothstep(0.98, 1., length(v_normal));

    gl_FragColor = v_color;
    gl_FragColor.a *= blur * ceil(mod(v_counters + u_dash_offset, u_dash_array) - (u_dash_array * u_dash_ratio));
}`,QWe=`attribute vec2 a_pos;
attribute vec4 a_color;
attribute float a_line_miter;
attribute vec2 a_line_normal;
attribute float a_counters;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform float u_thickness : 0.02;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
  v_color = a_color;
  v_counters = a_counters;

  vec3 normal = normalize(vec3(a_line_normal, 0.0));

  vec4 offset = vec4(normal * u_thickness / 2.0 * a_line_miter, 0.0);

  v_normal = vec2(normal * sign(a_line_miter));

  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_pos, 0.0, 1.0) + offset;
}
`,qWe=(Iz=so(),Dz=lr(qt.Systems),kz=mu(qt.MaterialSystem),Lz=lr(qt.Systems),$z=mu(qt.GeometrySystem),Bz=lr(qt.ShaderModuleService),Iz(jz=(Ag=(Vz=function(e){ia(n,e);var t=YWe(n);function n(){var r;Qn(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),ar(r,"materialSystem",Fz,ei(r)),ar(r,"geometrySystem",zz,ei(r)),ar(r,"shaderModuleService",Uz,ei(r)),r.vertexCount=void 0,r}return vr(n,[{key:"onAttributeChanged",value:function(o){var i=o.name,a=o.data,s=this.getMeshComponent();if(s&&s.material)switch(i){case"dashArray":s.material.setUniform("u_dash_array",a);break;case"dashOffset":s.material.setUniform("u_dash_offset",a);break;case"dashRatio":s.material.setUniform("u_dash_ratio",a);break;case"thickness":s.material.setUniform("u_thickness",a);break;case"color":var f=new Array(this.vertexCount).fill(void 0).map(function(){return a}).reduce(function(d,h){return[].concat(li(d),li(h))},[]);s.geometry.setAttribute("a_color",Float32Array.from(f),{arrayStride:4*4,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]});break}}},{key:"onEntityCreated",value:function(){var o=this;this.shaderModuleService.registerModule("line",{vs:QWe,fs:JWe});var i=this.shaderModuleService.getModule("line"),a=i.vs,s=i.fs,f=i.uniforms,d=this.materialSystem.createShaderMaterial({vertexShader:a,fragmentShader:s}),h=XWe(this.config.points,!1),v=h.normals,y=h.attrIndex,m=h.attrPos,b=h.attrCounters,S=m.length;this.vertexCount=S;var O=this.geometrySystem.createBufferGeometry({vertexCount:S});this.setMaterial(d),this.setGeometry(O),d.setCull({enable:!1,face:dt.BACK}).setUniform(f),this.setAttributes({dashArray:this.config.dashArray,dashOffset:this.config.dashOffset,dashRatio:this.config.dashRatio,thickness:this.config.thickness});var _=[],A=[];v.forEach(function(P){var x=P[0],N=P[1];_.push([x[0],x[1]]),A.push(N)}),O.setIndex(y.reduce(function(P,x){return[].concat(li(P),li(x))},[])),O.setAttribute("a_pos",Float32Array.from(m.reduce(function(P,x){return[].concat(li(P),li(x))},[])),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]});var T=new Array(S).fill(void 0).map(function(){return li(o.config.color)}).reduce(function(P,x){return[].concat(li(P),li(x))},[]);O.setAttribute("a_color",Float32Array.from(T),{arrayStride:4*4,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]}),O.setAttribute("a_line_miter",Float32Array.from(A),{arrayStride:4*1,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float"}]}),O.setAttribute("a_line_normal",Float32Array.from(_.reduce(function(P,x){return[].concat(li(P),li(x))},[])),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:3,offset:0,format:"float2"}]}),O.setAttribute("a_counters",Float32Array.from(b),{arrayStride:4*1,stepMode:"vertex",attributes:[{shaderLocation:4,offset:0,format:"float"}]})}}]),n}(Ff),Vz),Fz=sr(Ag.prototype,"materialSystem",[Dz,kz],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zz=sr(Ag.prototype,"geometrySystem",[Lz,$z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uz=sr(Ag.prototype,"shaderModuleService",[Bz],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ag))||jz);function eKe(e){return[e+1&255,e+1>>8&255,e+1>>8>>8&255]}var Hz,Gz,Wz,Kz,Xz,Yz,Zz,Pg,Jz,Qz,qz,eU;function tU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function tKe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tU(Object(n),!0).forEach(function(r){Gt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nKe(e){var t=rKe();return function(){var r=ao(e),o;if(t){var i=ao(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return aa(this,o)}}function rKe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var oKe=`uniform float u_blur : 0.05;
uniform float u_opacity : 0.7;
uniform float u_stroke_width : 0.01;
uniform vec4 u_stroke_color : [0, 0, 0, 0];
uniform float u_stroke_opacity : 1;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "sdf2d"
#pragma include "picking"

void main() {
  int shape = int(floor(v_data.w + 0.5));

  float antialiasblur = v_data.z;
  float antialiased_blur = -max(u_blur, antialiasblur);
  float r = v_radius / (v_radius + u_stroke_width);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  // if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  // } else if (shape == 1) {
  //   outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
  //   inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  // } else if (shape == 2) {
  //   outer_df = sdBox(v_data.xy, vec2(1.));
  //   inner_df = sdBox(v_data.xy, vec2(r));
  // } else if (shape == 3) {
  //   outer_df = sdPentagon(v_data.xy, 0.8);
  //   inner_df = sdPentagon(v_data.xy, r * 0.8);
  // } else if (shape == 4) {
  //   outer_df = sdHexagon(v_data.xy, 0.8);
  //   inner_df = sdHexagon(v_data.xy, r * 0.8);
  // } else if (shape == 5) {
  //   outer_df = sdOctogon(v_data.xy, 1.0);
  //   inner_df = sdOctogon(v_data.xy, r);
  // } else if (shape == 6) {
  //   outer_df = sdHexagram(v_data.xy, 0.52);
  //   inner_df = sdHexagram(v_data.xy, r * 0.52);
  // } else if (shape == 7) {
  //   outer_df = sdRhombus(v_data.xy, vec2(1.0));
  //   inner_df = sdRhombus(v_data.xy, vec2(r));
  // } else if (shape == 8) {
  //   outer_df = sdVesica(v_data.xy, 1.1, 0.8);
  //   inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  // }

  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);

  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(
    antialiased_blur,
    0.0,
    inner_df
  );
  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;

  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);
  gl_FragColor.a = gl_FragColor.a * opacity_t;

  gl_FragColor = filterColor(gl_FragColor);
}`,iKe=`attribute vec2 position;
attribute vec4 color;
attribute float shape;
attribute vec2 offset;
attribute float size;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

uniform float u_stroke_width : 0.01;
uniform float u_device_pixel_ratio;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "picking"

void main() {
  v_color = color;
  v_radius = size;

  lowp float antialiasblur = 1.0 / u_device_pixel_ratio * (size + u_stroke_width);

  // construct point coords
  v_data = vec4(position, antialiasblur, shape);

  gl_Position = projectionMatrix * modelViewMatrix
    * vec4(position * size + offset, 0.0, 1.0);

  setPickingColor(a_PickingColor);
}`,aKe=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],sKe=(Hz=so(),Gz=lr(qt.Systems),Wz=mu(qt.MaterialSystem),Kz=lr(qt.Systems),Xz=mu(qt.GeometrySystem),Yz=lr(qt.ShaderModuleService),Hz(Zz=(Pg=(eU=function(e){ia(n,e);var t=nKe(n);function n(){var r;Qn(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),ar(r,"materialSystem",Jz,ei(r)),ar(r,"geometrySystem",Qz,ei(r)),ar(r,"shaderModuleService",qz,ei(r)),r}return vr(n,[{key:"onAttributeChanged",value:function(o){var i=o.name,a=o.data,s=this.getMeshComponent();s&&s.material&&(i==="strokeWidth"?s.material.setUniform("u_stroke_width",a):i==="strokeColor"?s.material.setUniform("u_stroke_color",a):i==="strokeOpacity"?s.material.setUniform("u_stroke_opacity",a):i==="opacity"?s.material.setUniform("u_opacity",a):i==="blur"&&s.material.setUniform("u_blur",a))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:iKe,fs:oKe});var o=this.shaderModuleService.getModule("grid"),i=o.vs,a=o.fs,s=o.uniforms,f=this.materialSystem.createShaderMaterial({vertexShader:i,fragmentShader:a,cull:{enable:!1},depth:{enable:!1},blend:{enable:!0,func:{srcRGB:dt.SRC_ALPHA,dstRGB:dt.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}});f.setUniform(tKe({u_device_pixel_ratio:window.devicePixelRatio},s));var d=this.buildAttributes(),h=this.geometrySystem.createInstancedBufferGeometry({maxInstancedCount:d.instancedOffsets.length/2,vertexCount:6});h.setIndex([0,2,1,0,3,2]),h.setAttribute("position",Float32Array.from(d.positions),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]}),h.setAttribute("offset",Float32Array.from(d.instancedOffsets),{arrayStride:4*2,stepMode:"instance",attributes:[{shaderLocation:1,offset:0,format:"float2"}]}),h.setAttribute("color",Float32Array.from(d.instancedColors),{arrayStride:4*4,stepMode:"instance",attributes:[{shaderLocation:2,offset:0,format:"float4"}]}),h.setAttribute("size",Float32Array.from(d.instancedSizes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:3,offset:0,format:"float"}]}),h.setAttribute("shape",Float32Array.from(d.instancedShapes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:4,offset:0,format:"float"}]}),h.setAttribute("a_PickingColor",Float32Array.from(d.instancedPickingColors),{arrayStride:4*3,stepMode:"instance",attributes:[{shaderLocation:6,offset:0,format:"float3"}]}),this.setMaterial(f),this.setGeometry(h)}},{key:"buildAttribute",value:function(o,i,a){var s,f,d,h;(s=i.instancedPickingColors).push.apply(s,li(eKe(o.id||a))),i.instancedShapes.push(aKe.indexOf(o.shape||"circle")),(f=i.instancedColors).push.apply(f,li(o.color||[1,0,0,1])),(d=i.instancedOffsets).push.apply(d,li(o.position||[0,0])),(h=i.instancedSizes).push.apply(h,li(o.size||[.2,.2]))}},{key:"buildAttributes",value:function(){var o=this,i={positions:[1,1,1,-1,-1,-1,-1,1],instancedOffsets:[],instancedColors:[],instancedSizes:[],instancedShapes:[],instancedPickingColors:[]};return Array.isArray(this.config)?this.config.forEach(function(a,s){o.buildAttribute(a,i,s)}):this.buildAttribute(this.config,i,0),i}}]),n}(Ff),eU),Jz=sr(Pg.prototype,"materialSystem",[Gz,Wz],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qz=sr(Pg.prototype,"geometrySystem",[Kz,Xz],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qz=sr(Pg.prototype,"shaderModuleService",[Yz],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pg))||Zz),nU,rU,oU,iU,aU,xg,sU,lU,uU,cU;function fU(e,t){var n;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=lKe(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,a=!1,s;return{s:function(){n=e[Symbol.iterator]()},n:function(){var d=n.next();return i=d.done,d},e:function(d){a=!0,s=d},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(a)throw s}}}}function lKe(e,t){if(!!e){if(typeof e=="string")return dU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dU(e,t)}}function dU(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var uKe=`#ifdef USE_MAP
  uniform sampler2D map;
#endif`,cKe=`#ifdef USE_MAP
  vec4 texelColor = texture2D(map, vUv);
  // texelColor = mapTexelToLinear(texelColor);
  diffuseColor *= texelColor;
#endif`,fKe=`#if (defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ))
  varying vec2 vUv;
#endif`,dKe=`#ifdef USE_UV
  attribute vec2 uv;
	#ifdef UVS_VERTEX_ONLY
    vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,hKe=`#ifdef USE_UV
  vUv = (uvTransform * vec3(uv, 1)).xy;
#endif`,hU=(nU=so(),rU=lr(qt.RenderEngine),oU=lr(qt.ShaderModuleService),iU=lr(qt.ConfigService),nU(aU=(xg=(cU=function(){function e(){Qn(this,e),this.container=void 0,ar(this,"engine",sU,this),ar(this,"shaderModule",lU,this),ar(this,"configService",uU,this),this.inited=!1,this.rendering=!1,this.pendings=[],this.views=[],this.size=void 0}return vr(e,[{key:"init",value:function(){var t=ro(Hn.mark(function r(){var o,i,a,s,f;return Hn.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this.shaderModule.registerBuiltinModules(),this.shaderModule.registerModule("uv.vert.declaration",{vs:dKe}),this.shaderModule.registerModule("uv.vert.main",{vs:hKe}),this.shaderModule.registerModule("uv.frag.declaration",{fs:fKe}),this.shaderModule.registerModule("map.frag.declaration",{fs:uKe}),this.shaderModule.registerModule("map.frag.main",{fs:cKe}),o=this.container.getAll(qt.Systems),i=this.configService.get(),!i.canvas){h.next=30;break}return h.next=11,this.engine.init({canvas:i.canvas,swapChainFormat:xn.TextureFormat.BGRA8Unorm,antialiasing:!1});case 11:a=fU(o),h.prev=12,a.s();case 14:if((s=a.n()).done){h.next=21;break}if(f=s.value,!f.initialize){h.next=19;break}return h.next=19,f.initialize();case 19:h.next=14;break;case 21:h.next=26;break;case 23:h.prev=23,h.t0=h.catch(12),a.e(h.t0);case 26:return h.prev=26,a.f(),h.finish(26);case 29:this.inited=!0;case 30:case"end":return h.stop()}},r,this,[[12,23,26,29]])}));function n(){return t.apply(this,arguments)}return n}()},{key:"render",value:function(){var t=ro(Hn.mark(function r(){var o,i,a,s,f,d,h,v=arguments;return Hn.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(!(!this.inited||this.rendering)){m.next=2;break}return m.abrupt("return");case 2:for(this.pendings.length&&this.pendings.forEach(function(b){b()}),this.rendering=!0,this.engine.beginFrame(),o=this.container.getAll(qt.Systems),i=v.length,a=new Array(i),s=0;s<i;s++)a[s]=v[s];f=fU(o),m.prev=8,f.s();case 10:if((d=f.n()).done){m.next=17;break}if(h=d.value,!h.execute){m.next=15;break}return m.next=15,h.execute(a);case 15:m.next=10;break;case 17:m.next=22;break;case 19:m.prev=19,m.t0=m.catch(8),f.e(m.t0);case 22:return m.prev=22,f.f(),m.finish(22);case 25:this.engine.endFrame(),this.rendering=!1;case 27:case"end":return m.stop()}},r,this,[[8,19,22,25]])}));function n(){return t.apply(this,arguments)}return n}()},{key:"clear",value:function(n){var r=this;return this.inited?this.engine.clear(n):this.pendings.unshift(function(){r.engine.clear(n),r.pendings.shift()}),this}},{key:"setSize",value:function(n){var r=n.width,o=n.height,i=this.engine.getCanvas();return this.size={width:r,height:o},i.width=r,i.height=o,this}},{key:"getSize",value:function(){return this.size}}]),e}(),cU),sU=sr(xg.prototype,"engine",[rU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lU=sr(xg.prototype,"shaderModule",[oU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uU=sr(xg.prototype,"configService",[iU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xg))||aU),pU,vU,yU,mU=(pU=so(),pU(vU=(yU=function(){function e(){Qn(this,e),this.entities=[]}return vr(e,[{key:"getEntities",value:function(){return this.entities}},{key:"addRenderable",value:function(n){return this.addEntity(n.getEntity()),this}},{key:"removeRenderable",value:function(n){return this.removeEntity(n.getEntity()),this}},{key:"addLight",value:function(){}},{key:"addEntity",value:function(n){return this.entities.indexOf(n)===-1&&this.entities.push(n),this}},{key:"removeEntity",value:function(n){var r=this.entities.indexOf(n);return this.entities.splice(r,1),this}}]),e}(),yU))||vU),gU,bU,EU,mY=(gU=so(),gU(bU=(EU=function(){function e(){Qn(this,e),this.cache={}}return vr(e,[{key:"get",value:function(n){return this.cache[n]}},{key:"set",value:function(n,r){this.cache[n]=r}}]),e}(),EU))||bU),SU,wU,OU,_U,vw,TU,CU,AU;function PU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function xU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PU(Object(n),!0).forEach(function(r){Gt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var MU=(SU=so(),wU=lr(mY),OU=lr(qt.RenderEngine),SU(_U=(vw=(AU=function(){function e(){Qn(this,e),ar(this,"textureCache",TU,this),ar(this,"engine",CU,this),this.config=void 0,this.loaded=!1,this.texture=void 0}return vr(e,[{key:"setConfig",value:function(n){this.config=n}},{key:"isLoaded",value:function(){return this.loaded}},{key:"load",value:function(){var t=ro(Hn.mark(function r(){var o=this;return Hn.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.config.url){a.next=4;break}return a.abrupt("return",new Promise(function(s,f){var d=o.textureCache.get(o.config.url);if(d)s(d);else{var h=new Image;h.crossOrigin="Anonymous",h.src=o.config.url,h.onload=function(){var v=o.engine.createTexture2D(xU(xU({},o.config),{},{data:h,width:h.width,height:h.height,flipY:!0}));o.textureCache.set(o.config.url,v),o.texture=v,o.loaded=!0,s(v)},h.onerror=function(){f()}}}));case 4:return this.loaded=!0,this.texture=this.engine.createTexture2D(this.config),a.abrupt("return",this.texture);case 7:case"end":return a.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()}]),e}(),AU),TU=sr(vw.prototype,"textureCache",[wU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),CU=sr(vw.prototype,"engine",[OU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vw))||_U),NU,RU,IU,DU,aP,kU,LU,$U=(NU=so(),RU=lr(qt.Systems),IU=mu(qt.RendererSystem),NU(DU=(aP=(LU=function(){function e(){Qn(this,e),ar(this,"rendererSystem",kU,this),this.camera=void 0,this.scene=void 0,this.viewport={x:0,y:0,width:0,height:0},this.clearColor=[1,1,1,1]}return vr(e,[{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getViewport",value:function(){return this.viewport}},{key:"getClearColor",value:function(){return this.clearColor}},{key:"setCamera",value:function(n){return this.camera=n,this}},{key:"setScene",value:function(n){return this.scene=n,this}},{key:"setViewport",value:function(n){return this.viewport=n,this}},{key:"setClearColor",value:function(n){return this.clearColor=n,this}},{key:"pick",value:function(n){return this.rendererSystem.pick(n,this)}}]),e}(),LU),kU=sr(aP.prototype,"rendererSystem",[RU,IU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),aP))||DU),BU,jU,FU,sP,zU,UU;function VU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function pKe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VU(Object(n),!0).forEach(function(r){Gt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}BU=so(),jU=lr(qt.ConfigService),BU(FU=(sP=(UU=function(){function e(){Qn(this,e),ar(this,"configService",zU,this),this.container=void 0}return vr(e,[{key:"getEngine",value:function(){var t=ro(Hn.mark(function r(){var o,i,a,s;return Hn.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return o=this.container.get(qt.RenderEngine),i=this.configService.get(),a=i.canvas,s=i.engineOptions,d.next=4,o.init(pKe({canvas:a||WX(),swapChainFormat:xn.TextureFormat.BGRA8Unorm,antialiasing:!1},s));case 4:return d.abrupt("return",o);case 5:case"end":return d.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"getTransformComponent",value:function(n){var r=this.container.get(qt.TransformComponentManager);return r.getComponentByEntity(n)}},{key:"getMeshComponent",value:function(n){var r=this.container.get(qt.MeshComponentManager);return r.getComponentByEntity(n)}},{key:"setConfig",value:function(n){this.configService.set(n)}},{key:"setContainer",value:function(n){this.container=n}},{key:"getContainer",value:function(){return this.container}},{key:"createEntity",value:function(){return cu()}},{key:"createScene",value:function(){return this.container.get(mU)}},{key:"createCamera",value:function(){return this.container.get(s5)}},{key:"createView",value:function(){return this.container.get($U)}},{key:"createRenderable",value:function(n,r){var o=n?this.container.getNamed(qt.Renderable,n):this.container.get(Ff),i=cu();return o.setConfig(r||{}),o.setEntity(i),o}},{key:"createGeometry",value:function(n,r){var o=this.container.getNamed(qt.Geometry,n),i=cu();return o.setConfig(r||{}),o.setEntity(i),o.getComponent()}},{key:"createMaterial",value:function(n,r){var o=this.container.getNamed(qt.Material,n),i=cu();return o.setConfig(r||{}),o.setEntity(i,n),o.getComponent()}},{key:"createTexture2D",value:function(n){var r=this.container.get(MU);return r.setConfig(n),r}},{key:"createBufferGeometry",value:function(n){var r=this.container.getNamed(qt.Systems,qt.GeometrySystem);return r.createBufferGeometry(n)}},{key:"createInstancedBufferGeometry",value:function(n){var r=this.container.getNamed(qt.Systems,qt.GeometrySystem);return r.createInstancedBufferGeometry(n)}},{key:"createShaderMaterial",value:function(n){var r=this.container.getNamed(qt.Systems,qt.MaterialSystem);return r.createShaderMaterial(n)}},{key:"createKernel",value:function(n){var r=this.container.get(w5);return typeof n=="string"?r.setBundle(JSON.parse(n)):r.setBundle(n),r.init(),r}},{key:"createRenderer",value:function(){var n=this.container.get(hU);return n.container=this.container,n.init(),n}},{key:"destroy",value:function(){var n=this.container.getAll(qt.Systems);n.forEach(function(i){i.tearDown&&i.tearDown()});var r=this.container.get(qt.RenderEngine);r.destroy();var o=this.container.get(qt.InteractorService);o.destroy()}}],[{key:"create",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=yGe(),o=navigator.gpu?d9e:K7e;r.isBound(qt.RenderEngine)||r.bind(qt.RenderEngine).to(o).inSingletonScope(),r.bind(hU).toSelf(),r.bind(w5).toSelf(),r.bind(Ff).toSelf(),r.bind($U).toSelf(),r.bind(s5).toSelf(),r.bind(mU).toSelf(),r.bind(e).toSelf(),r.bind(mY).toSelf(),r.bind(MU).toSelf(),r.bind(qt.Geometry).to(v9e).whenTargetNamed(Gf.BOX),r.bind(qt.Geometry).to(T9e).whenTargetNamed(Gf.SPHERE),r.bind(qt.Geometry).to(w9e).whenTargetNamed(Gf.PLANE),r.bind(qt.Geometry).to(b9e).whenTargetNamed(Gf.MERGED),r.bind(qt.Material).to(R9e).whenTargetNamed(XX.BASIC),r.bind(qt.Renderable).to(sKe).whenTargetNamed(Ff.POINT),r.bind(qt.Renderable).to(qWe).whenTargetNamed(Ff.LINE),r.bind(qt.Renderable).to($9e).whenTargetNamed(Ff.GRID);var i=r.get(e);return i.setContainer(r),i.setConfig(n),i}}]),e}(),UU),zU=sr(sP.prototype,"configService",[jU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sP));globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;var vKe=Object.defineProperty,HU=Object.getOwnPropertySymbols,yKe=Object.prototype.hasOwnProperty,mKe=Object.prototype.propertyIsEnumerable,GU=(e,t,n)=>t in e?vKe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gKe=(e,t)=>{for(var n in t||(t={}))yKe.call(t,n)&&GU(e,n,t[n]);if(HU)for(var n of HU(t))mKe.call(t,n)&&GU(e,n,t[n]);return e};class gY{render(t){this.lf=t}getBytesLength(t){if(!t)return 0;let n=0;for(let r=0;r<t.length;r++){const o=t.charCodeAt(r);t.match(/[A-Z]/)?n+=1.5:o>=1&&o<=126||o>=65376&&o<=65439?n+=1:n+=2}return n}layout(t={}){const{nodes:n,edges:r,gridSize:o}=this.lf.graphModel;let i=40,a=40;o>20&&(i=o*2,a=o*2),this.option=gKe({type:"dagre",rankdir:"LR",align:"DR",nodesep:i,ranksep:a,begin:[120,120]},t);const f=new jFe(this.option).layout({nodes:n.map(h=>({id:h.id,size:{width:h.width,height:h.height},model:h})),edges:r.map(h=>({source:h.sourceNodeId,target:h.targetNodeId,model:h}))}),d={nodes:[],edges:[]};f.nodes.forEach(h=>{const{model:v}=h,y=v.getData();y.x=h.x,y.y=h.y,d.nodes.push(y)}),f.edges.forEach(h=>{const{model:v}=h,y=v.getData();if(y.pointsList=this.calcPointsList(v,d.nodes),y.pointsList){const m=y.pointsList[0],b=y.pointsList[y.pointsList.length-1];y.startPoint={x:m.x,y:m.y},y.endPoint={x:b.x,y:b.y},y.text&&y.text.value&&(y.text={x:b.x-this.getBytesLength(y.text.value)*6-10,y:b.y,value:y.text.value})}else y.startPoint=void 0,y.endPoint=void 0,y.text&&y.text.value&&(y.text=y.text.value);d.edges.push(y)}),this.lf.render(d)}pointFilter(t){const n=t;let r=1;for(;r<n.length-1;){const o=n[r-1],i=n[r],a=n[r+1];o.x===i.x&&i.x===a.x||o.y===i.y&&i.y===a.y?n.splice(r,1):r++}return n}calcPointsList(t,n){const r=[];if(this.option.rankdir==="LR"&&t.modelType==="polyline-edge"){const o=this.lf.getNodeModelById(t.sourceNodeId),i=this.lf.getNodeModelById(t.targetNodeId),a=n.find(f=>f.id===t.sourceNodeId),s=n.find(f=>f.id===t.targetNodeId);if(a.x<s.x)return r.push({x:a.x+o.width/2,y:a.y}),r.push({x:a.x+o.width/2+(t.offset||50),y:a.y}),r.push({x:a.x+o.width/2+(t.offset||50),y:s.y}),r.push({x:s.x-i.width/2,y:s.y}),this.pointFilter(r);if(a.x>s.x)return a.y>=s.y?(r.push({x:a.x,y:a.y+o.height/2}),r.push({x:a.x,y:a.y+o.height/2+(t.offset||50)}),r.push({x:s.x,y:a.y+o.height/2+(t.offset||50)}),r.push({x:s.x,y:s.y+i.height/2})):(r.push({x:a.x,y:a.y-o.height/2}),r.push({x:a.x,y:a.y-o.height/2-(t.offset||50)}),r.push({x:s.x,y:a.y-o.height/2-(t.offset||50)}),r.push({x:s.x,y:s.y-i.height/2})),this.pointFilter(r)}}}gY.pluginName="dagre";const bKe={mounted(){this.lf=new HN({container:this.$refs.container,width:1200,height:1e3,grid:{visible:!1,size:10},keyboard:{enabled:!0},plugins:[q4e,uBe,dBe,hBe,rK,gY]}),this.lf.extension.control.addItem({iconClass:"beautify-flow",title:"",text:"\u4E00\u952E\u7F8E\u5316",onClick:(e,t)=>{e.extension.dagre&&this.lf.extension.dagre.layout({nodesep:20,ranksep:20})}}),this.lf.render()},methods:{}},EKe={class:"beautify-chart"},SKe={ref:"container",class:"container"};function wKe(e,t,n,r,o,i){return H(),le("div",EKe,[ve("div",SKe,null,512)])}const OKe=cd(bKe,[["render",wKe],["__scopeId","data-v-7879e3ac"]]),_Ke={props:{properties:Object,text:String,isSelected:Boolean,isEditing:Boolean},computed:{rowText(){return this.text?this.text.split(/\n/):[]}}};function TKe(e,t,n,r,o,i){return Gn((H(),le("div",null,[(H(!0),le(wn,null,_r(i.rowText,(a,s)=>(H(),le("div",{key:s},Bt(a),1))),128))],512)),[[Lr,!n.isEditing]])}const CKe=cd(_Ke,[["render",TKe]]);var AKe=Object.defineProperty,PKe=Object.defineProperties,xKe=Object.getOwnPropertyDescriptors,WU=Object.getOwnPropertySymbols,MKe=Object.prototype.hasOwnProperty,NKe=Object.prototype.propertyIsEnumerable,KU=(e,t,n)=>t in e?AKe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RKe=(e,t)=>{for(var n in t||(t={}))MKe.call(t,n)&&KU(e,n,t[n]);if(WU)for(var n of WU(t))NKe.call(t,n)&&KU(e,n,t[n]);return e},IKe=(e,t)=>PKe(e,xKe(t));class DKe extends Un.exports.HtmlNode{constructor(t){super(t),this.isMounted=!1,this.r=Pn(this.getVueComponent(),this.getVueProps(t)),this.app=Wb({render:()=>this.r})}getVueComponent(){return CKe}getVueProps(t){return{properties:t.model.getProperties(),isSelected:t.model.isSelected,isEditing:t.model.state===2,text:t.model.text.value}}shouldUpdate(){const t=IKe(RKe({},this.props.model.properties),{isSelected:this.props.model.isSelected,text:this.props.model.text.value});if(!(this.preProperties&&this.preProperties===JSON.stringify(t)))return this.preProperties=JSON.stringify(t),!0}setHtml(t){if(this.isMounted){const n=this.getVueProps(this.props);Object.keys(n).forEach(r=>{this.r.component.props[r]=n[r]})}else{this.isMounted=!0;const n=document.createElement("div");n.className="mind-element_base-node",n.addEventListener("dblclick",()=>{this.props.model.setElementState(2),this.r.component.props.isEditing=!0}),t.appendChild(n),this.app.mount(n)}}getText(){return null}}class kKe extends Un.exports.HtmlNodeModel{initNodeData(t){super.initNodeData(t),this.isEditing=!1,this.fontSize=24,this.text.editable=!1}setAttributes(){if(!this.text.value)this.width=100,this.height=80;else{const{width:t,height:n}=YN(this.text.value,this.fontSize);this.width=t+90,this.height=n+28+8}}getOutlineStyle(){const t=super.getOutlineStyle();return t.stroke="none",t.hover.stroke="none",t}getAnchorStyle(t){const n=super.getAnchorStyle(t);return n.stroke="none",n.fill="none",n}updateText(t){super.updateText(t),this.setAttributes()}}const _R={type:"center-node",model:kKe,view:DKe},LKe={props:{properties:Object,text:String,isSelected:Boolean,isEditing:Boolean},computed:{rowText(){return this.text?this.text.split(/\n/):[]}}},$Ke={class:"sub-node"};function BKe(e,t,n,r,o,i){return Gn((H(),le("div",$Ke,[(H(!0),le(wn,null,_r(i.rowText,(a,s)=>(H(),le("div",{key:s},Bt(a),1))),128))],512)),[[Lr,!n.isEditing]])}const jKe=cd(LKe,[["render",BKe],["__scopeId","data-v-c5ee1965"]]);class FKe extends _R.view{getVueComponent(){return jKe}setHtml(t){if(this.isMounted){const n=this.getVueProps(this.props);Object.keys(n).forEach(r=>{this.r.component.props[r]=n[r]})}else{this.isMounted=!0;const n=document.createElement("div");n.className="mind-element_base-node mind-element_sub-node",n.addEventListener("dblclick",()=>{this.props.model.setElementState(2),this.r.component.props.isEditing=!0}),t.appendChild(n),this.app.mount(n)}}}class zKe extends _R.model{initNodeData(t){super.initNodeData(t),this.fontSize=16}setAttributes(){if(!this.text.value)this.width=100,this.height=40;else{const{width:t,height:n}=YN(this.text.value,this.fontSize);this.width=t+60,this.height=n+10+8}}}const UKe={type:"sub-node",model:zKe,view:FKe};class VKe extends Un.exports.BezierEdge{getArrow(){return null}}class HKe extends Un.exports.BezierEdgeModel{getEdgeStyle(){const t=super.getEdgeStyle();return t.stroke="rgb(67, 169, 255)",t.strokeWidth=2,t}}const GKe={type:"mindmap-edge",model:HKe,view:VKe};var bY={exports:{}};(function(e,t){(function(r,o){e.exports=o()})(typeof self<"u"?self:is,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var a=r[i]={i,l:!1,exports:{}};return n[i].call(a.exports,a,a.exports,o),a.l=!0,a.exports}return o.m=n,o.c=r,o.d=function(i,a,s){o.o(i,a)||Object.defineProperty(i,a,{configurable:!1,enumerable:!0,get:s})},o.n=function(i){var a=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(a,"a",a),a},o.o=function(i,a){return Object.prototype.hasOwnProperty.call(i,a)},o.p="",o(o.s=31)}([function(n,r,o){var i=o(4);r.a=function(a){return Array.isArray?Array.isArray(a):Object(i.a)(a,"Array")}},function(n,r,o){var i=function(a){return a!==null&&typeof a!="function"&&isFinite(a.length)};r.a=i},function(n,r,o){var i=o(0),a=o(13);function s(f,d){if(!!f){var h;if(Object(i.a)(f))for(var v=0,y=f.length;v<y&&(h=d(f[v],v),h!==!1);v++);else if(Object(a.a)(f)){for(var m in f)if(f.hasOwnProperty(m)&&(h=d(f[m],m),h===!1))break}}}r.a=s},function(n,r,o){var i=o(4);r.a=function(a){return Object(i.a)(a,"Function")}},function(n,r,o){var i={}.toString,a=function(s,f){return i.call(s)==="[object "+f+"]"};r.a=a},function(n,r,o){var i=o(4),a=function(s){return Object(i.a)(s,"Number")};r.a=a},function(n,r,o){var i=function(a){return a==null};r.a=i},function(n,r,o){var i=o(33),a=i.mix;n.exports={assign:a}},function(n,r,o){var i=o(4);r.a=function(a){return Object(i.a)(a,"String")}},function(n,r,o){var i=o(15),a=o(4),s=function(f){if(!Object(i.a)(f)||!Object(a.a)(f,"Object"))return!1;if(Object.getPrototypeOf(f)===null)return!0;for(var d=f;Object.getPrototypeOf(d)!==null;)d=Object.getPrototypeOf(d);return Object.getPrototypeOf(f)===d};r.a=s},function(n,r,o){var i=o(6);r.a=function(a){return Object(i.a)(a)?"":a.toString()}},function(n,r,o){var i=o(18),a=function(){function s(d,h){h===void 0&&(h={});var v=this;v.options=h,v.rootNode=i(d,h)}var f=s.prototype;return f.execute=function(){throw new Error("please override this method")},s}();n.exports=a},function(n,r,o){var i=o(1),a=function(s,f){return Object(i.a)(s)?s.indexOf(f)>-1:!1};r.a=a},function(n,r,o){r.a=function(i){var a=typeof i;return i!==null&&a==="object"||a==="function"}},function(n,r,o){var i=o(2),a=o(1),s=function(f,d){if(!Object(a.a)(f))return f;var h=[];return Object(i.a)(f,function(v,y){d(v,y)&&h.push(v)}),h};r.a=s},function(n,r,o){var i=function(a){return typeof a=="object"&&a!==null};r.a=i},function(n,r,o){r.a=a;function i(s,f){for(var d in f)f.hasOwnProperty(d)&&d!=="constructor"&&f[d]!==void 0&&(s[d]=f[d])}function a(s,f,d,h){return f&&i(s,f),d&&i(s,d),h&&i(s,h),s}},function(n,r,o){var i=o(30),a=["LR","RL","TB","BT","H","V"],s=["LR","RL","H"],f=function(v){return s.indexOf(v)>-1},d=a[0];n.exports=function(h,v,y){var m=v.direction||d;if(v.isHorizontal=f(m),m&&a.indexOf(m)===-1)throw new TypeError("Invalid direction: "+m);if(m===a[0])y(h,v);else if(m===a[1])y(h,v),h.right2left();else if(m===a[2])y(h,v);else if(m===a[3])y(h,v),h.bottom2top();else if(m===a[4]||m===a[5]){var b=i(h,v),S=b.left,O=b.right;y(S,v),y(O,v),v.isHorizontal?S.right2left():S.bottom2top(),O.translate(S.x-O.x,S.y-O.y),h.x=S.x,h.y=O.y;var _=h.getBoundingBox();v.isHorizontal?_.top<0&&h.translate(0,-_.top):_.left<0&&h.translate(-_.left,0)}var A=v.fixedRoot;return A===void 0&&(A=!0),A&&h.translate(-(h.x+h.width/2+h.hgap),-(h.y+h.height/2+h.vgap)),h}},function(n,r,o){var i=o(7),a=18,s=a*2,f=a,d={getId:function(m){return m.id||m.name},getPreH:function(m){return m.preH||0},getPreV:function(m){return m.preV||0},getHGap:function(m){return m.hgap||f},getVGap:function(m){return m.vgap||f},getChildren:function(m){return m.children},getHeight:function(m){return m.height||s},getWidth:function(m){var b=m.label||" ";return m.width||b.split("").length*a}};function h(y,m){var b=this;if(b.vgap=b.hgap=0,y instanceof h)return y;b.data=y;var S=m.getHGap(y),O=m.getVGap(y);return b.preH=m.getPreH(y),b.preV=m.getPreV(y),b.width=m.getWidth(y),b.height=m.getHeight(y),b.width+=b.preH,b.height+=b.preV,b.id=m.getId(y),b.x=b.y=0,b.depth=0,b.children||(b.children=[]),b.addGap(S,O),b}i.assign(h.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(m,b){var S=this;S.hgap+=m,S.vgap+=b,S.width+=2*m,S.height+=2*b},eachNode:function(m){for(var b=this,S=[b],O;O=S.shift();)m(O),S=O.children.concat(S)},DFTraverse:function(m){this.eachNode(m)},BFTraverse:function(m){for(var b=this,S=[b],O;O=S.shift();)m(O),S=S.concat(O.children)},getBoundingBox:function(){var m={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(b){m.left=Math.min(m.left,b.x),m.top=Math.min(m.top,b.y),m.width=Math.max(m.width,b.x+b.width),m.height=Math.max(m.height,b.y+b.height)}),m},translate:function(m,b){m===void 0&&(m=0),b===void 0&&(b=0),this.eachNode(function(S){S.x+=m,S.y+=b,S.x+=S.preH,S.y+=S.preV})},right2left:function(){var m=this,b=m.getBoundingBox();m.eachNode(function(S){S.x=S.x-(S.x-b.left)*2-S.width}),m.translate(b.width,0)},bottom2top:function(){var m=this,b=m.getBoundingBox();m.eachNode(function(S){S.y=S.y-(S.y-b.top)*2-S.height}),m.translate(0,b.height)}});function v(y,m,b){m===void 0&&(m={}),m=i.assign({},d,m);var S=new h(y,m),O=[S],_;if(!b&&!y.collapsed){for(;_=O.shift();)if(!_.data.collapsed){var A=m.getChildren(_.data),T=A?A.length:0;if(_.children=new Array(T),A&&T)for(var P=0;P<T;P++){var x=new h(A[P],m);_.children[P]=x,O.push(x),x.parent=_,x.depth=_.depth+1}}}return S}n.exports=v},function(n,r,o){var i=o(6),a=o(20);function s(f,d){var h=Object(a.a)(d),v=h.length;if(Object(i.a)(f))return!v;for(var y=0;y<v;y+=1){var m=h[y];if(d[m]!==f[m]||!(m in f))return!1}return!0}r.a=s},function(n,r,o){var i=o(2),a=o(3),s=Object.keys?function(f){return Object.keys(f)}:function(f){var d=[];return Object(i.a)(f,function(h,v){Object(a.a)(f)&&v==="prototype"||d.push(v)}),d};r.a=s},function(n,r,o){var i=o(1),a=Array.prototype.splice,s=function(d,h){if(!Object(i.a)(d))return[];for(var v=d?h.length:0,y=v-1;v--;){var m=void 0,b=h[v];(v===y||b!==m)&&(m=b,a.call(d,b,1))}return d};r.a=s},function(n,r,o){var i=o(12),a=o(2),s=function(f){var d=[];return Object(a.a)(f,function(h){Object(i.a)(d,h)||d.push(h)}),d};r.a=s},function(n,r,o){var i=o(0),a=o(3),s=o(24),f=function(d,h){if(!h)return{0:d};if(!Object(a.a)(h)){var v=Object(i.a)(h)?h:h.replace(/\s+/g,"").split("*");h=function(m){for(var b="_",S=0,O=v.length;S<O;S++)b+=m[v[S]]&&m[v[S]].toString();return b}}var y=Object(s.a)(d,h);return y};r.a=f},function(n,r,o){var i=o(2),a=o(0),s=o(3),f=Object.prototype.hasOwnProperty;function d(h,v){if(!v||!Object(a.a)(h))return{};var y={},m=Object(s.a)(v)?v:function(S){return S[v]},b;return Object(i.a)(h,function(S){b=m(S),f.call(y,b)?y[b].push(S):y[b]=[S]}),y}r.a=d},function(n,r,o){r.a=function(i,a){return i.hasOwnProperty(a)}},function(n,r,o){var i=o(2),a=o(3),s=Object.values?function(f){return Object.values(f)}:function(f){var d=[];return Object(i.a)(f,function(h,v){Object(a.a)(f)&&v==="prototype"||d.push(h)}),d};r.a=s},function(n,r,o){var i={}.toString,a=function(s){return i.call(s).replace(/^\[object /,"").replace(/]$/,"")};r.a=a},function(n,r,o){var i=Object.prototype,a=function(s){var f=s&&s.constructor,d=typeof f=="function"&&f.prototype||i;return s===d};r.a=a},function(n,r,o){var i=o(15),a=o(1),s=o(8),f=function(d,h){if(d===h)return!0;if(!d||!h||Object(s.a)(d)||Object(s.a)(h))return!1;if(Object(a.a)(d)||Object(a.a)(h)){if(d.length!==h.length)return!1;for(var v=!0,y=0;y<d.length&&(v=f(d[y],h[y]),!!v);y++);return v}if(Object(i.a)(d)||Object(i.a)(h)){var m=Object.keys(d),b=Object.keys(h);if(m.length!==b.length)return!1;for(var v=!0,y=0;y<m.length&&(v=f(d[m[y]],h[m[y]]),!!v);y++);return v}return!1};r.a=f},function(n,r,o){var i=o(18);n.exports=function(a,s){for(var f=i(a.data,s,!0),d=i(a.data,s,!0),h=a.children.length,v=Math.round(h/2),y=s.getSide||function(O,_){return _<v?"right":"left"},m=0;m<h;m++){var b=a.children[m],S=y(b,m);S==="right"?d.children.push(b):f.children.push(b)}return f.eachNode(function(O){O.isRoot()||(O.side="left")}),d.eachNode(function(O){O.isRoot()||(O.side="right")}),{left:f,right:d}}},function(n,r,o){var i={compactBox:o(32),dendrogram:o(114),indented:o(116),mindmap:o(118)};n.exports=i},function(n,r,o){function i(m,b){m.prototype=Object.create(b.prototype),m.prototype.constructor=m,m.__proto__=b}var a=o(11),s=o(113),f=o(17),d=o(7),h=function(m){i(b,m);function b(){return m.apply(this,arguments)||this}var S=b.prototype;return S.execute=function(){var _=this;return f(_.rootNode,_.options,s)},b}(a),v={};function y(m,b){return b=d.assign({},v,b),new h(m,b).execute()}n.exports=y},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(12);o.d(r,"contains",function(){return i.a}),o.d(r,"includes",function(){return i.a});var a=o(34);o.d(r,"difference",function(){return a.a});var s=o(35);o.d(r,"find",function(){return s.a});var f=o(36);o.d(r,"findIndex",function(){return f.a});var d=o(37);o.d(r,"firstValue",function(){return d.a});var h=o(38);o.d(r,"flatten",function(){return h.a});var v=o(39);o.d(r,"flattenDeep",function(){return v.a});var y=o(40);o.d(r,"getRange",function(){return y.a});var m=o(41);o.d(r,"pull",function(){return m.a});var b=o(21);o.d(r,"pullAt",function(){return b.a});var S=o(42);o.d(r,"reduce",function(){return S.a});var O=o(43);o.d(r,"remove",function(){return O.a});var _=o(44);o.d(r,"sortBy",function(){return _.a});var A=o(45);o.d(r,"union",function(){return A.a});var T=o(22);o.d(r,"uniq",function(){return T.a});var P=o(46);o.d(r,"valuesOfKey",function(){return P.a});var x=o(47);o.d(r,"head",function(){return x.a});var N=o(48);o.d(r,"last",function(){return N.a});var L=o(49);o.d(r,"startsWith",function(){return L.a});var j=o(50);o.d(r,"endsWith",function(){return j.a});var k=o(14);o.d(r,"filter",function(){return k.a});var F=o(51);o.d(r,"every",function(){return F.a});var z=o(52);o.d(r,"some",function(){return z.a});var M=o(53);o.d(r,"group",function(){return M.a});var D=o(24);o.d(r,"groupBy",function(){return D.a});var B=o(23);o.d(r,"groupToMap",function(){return B.a});var V=o(54);o.d(r,"getWrapBehavior",function(){return V.a});var Y=o(55);o.d(r,"wrapBehavior",function(){return Y.a});var K=o(56);o.d(r,"number2color",function(){return K.a});var X=o(57);o.d(r,"parseRadius",function(){return X.a});var W=o(58);o.d(r,"clamp",function(){return W.a});var ie=o(59);o.d(r,"fixedBase",function(){return ie.a});var oe=o(60);o.d(r,"isDecimal",function(){return oe.a});var ee=o(61);o.d(r,"isEven",function(){return ee.a});var ue=o(62);o.d(r,"isInteger",function(){return ue.a});var Ne=o(63);o.d(r,"isNegative",function(){return Ne.a});var $e=o(64);o.d(r,"isNumberEqual",function(){return $e.a});var Ie=o(65);o.d(r,"isOdd",function(){return Ie.a});var Le=o(66);o.d(r,"isPositive",function(){return Le.a});var he=o(67);o.d(r,"maxBy",function(){return he.a});var te=o(68);o.d(r,"minBy",function(){return te.a});var ae=o(69);o.d(r,"mod",function(){return ae.a});var Ce=o(70);o.d(r,"toDegree",function(){return Ce.a});var Ze=o(71);o.d(r,"toInteger",function(){return Ze.a});var se=o(72);o.d(r,"toRadian",function(){return se.a});var de=o(73);o.d(r,"forIn",function(){return de.a});var ze=o(25);o.d(r,"has",function(){return ze.a});var lt=o(74);o.d(r,"hasKey",function(){return lt.a});var Re=o(75);o.d(r,"hasValue",function(){return Re.a});var qe=o(20);o.d(r,"keys",function(){return qe.a});var pe=o(19);o.d(r,"isMatch",function(){return pe.a});var Ue=o(26);o.d(r,"values",function(){return Ue.a});var Ke=o(76);o.d(r,"lowerCase",function(){return Ke.a});var Ve=o(77);o.d(r,"lowerFirst",function(){return Ve.a});var ne=o(78);o.d(r,"substitute",function(){return ne.a});var fe=o(79);o.d(r,"upperCase",function(){return fe.a});var Me=o(80);o.d(r,"upperFirst",function(){return Me.a});var it=o(27);o.d(r,"getType",function(){return it.a});var Oe=o(81);o.d(r,"isArguments",function(){return Oe.a});var _e=o(0);o.d(r,"isArray",function(){return _e.a});var nt=o(1);o.d(r,"isArrayLike",function(){return nt.a});var Se=o(82);o.d(r,"isBoolean",function(){return Se.a});var tt=o(83);o.d(r,"isDate",function(){return tt.a});var we=o(84);o.d(r,"isError",function(){return we.a});var ht=o(3);o.d(r,"isFunction",function(){return ht.a});var yt=o(85);o.d(r,"isFinite",function(){return yt.a});var Et=o(6);o.d(r,"isNil",function(){return Et.a});var Wt=o(86);o.d(r,"isNull",function(){return Wt.a});var ur=o(5);o.d(r,"isNumber",function(){return ur.a});var tn=o(13);o.d(r,"isObject",function(){return tn.a});var Dn=o(15);o.d(r,"isObjectLike",function(){return Dn.a});var vn=o(9);o.d(r,"isPlainObject",function(){return vn.a});var Ln=o(28);o.d(r,"isPrototype",function(){return Ln.a});var Ot=o(87);o.d(r,"isRegExp",function(){return Ot.a});var be=o(8);o.d(r,"isString",function(){return be.a});var We=o(4);o.d(r,"isType",function(){return We.a});var rt=o(88);o.d(r,"isUndefined",function(){return rt.a});var vt=o(89);o.d(r,"isElement",function(){return vt.a});var Jt=o(90);o.d(r,"requestAnimationFrame",function(){return Jt.a});var An=o(91);o.d(r,"clearAnimationFrame",function(){return An.a});var Yn=o(92);o.d(r,"augment",function(){return Yn.a});var Jr=o(93);o.d(r,"clone",function(){return Jr.a});var ui=o(94);o.d(r,"debounce",function(){return ui.a});var ci=o(95);o.d(r,"memoize",function(){return ci.a});var Fs=o(96);o.d(r,"deepMix",function(){return Fs.a});var Oa=o(2);o.d(r,"each",function(){return Oa.a});var Dc=o(97);o.d(r,"extend",function(){return Dc.a});var Mi=o(98);o.d(r,"indexOf",function(){return Mi.a});var Su=o(99);o.d(r,"isEmpty",function(){return Su.a});var Yr=o(29);o.d(r,"isEqual",function(){return Yr.a});var ss=o(100);o.d(r,"isEqualWith",function(){return ss.a});var zs=o(101);o.d(r,"map",function(){return zs.a});var Ha=o(102);o.d(r,"mapValues",function(){return Ha.a});var ls=o(16);o.d(r,"mix",function(){return ls.a}),o.d(r,"assign",function(){return ls.a});var us=o(103);o.d(r,"get",function(){return us.a});var cs=o(104);o.d(r,"set",function(){return cs.a});var _l=o(105);o.d(r,"pick",function(){return _l.a});var hd=o(106);o.d(r,"throttle",function(){return hd.a});var Tl=o(107);o.d(r,"toArray",function(){return Tl.a});var Cl=o(10);o.d(r,"toString",function(){return Cl.a});var kc=o(108);o.d(r,"uniqueId",function(){return kc.a});var Xn=o(109);o.d(r,"noop",function(){return Xn.a});var Lc=o(110);o.d(r,"identity",function(){return Lc.a});var pd=o(111);o.d(r,"size",function(){return pd.a});var _a=o(112);o.d(r,"Cache",function(){return _a.a})},function(n,r,o){var i=o(14),a=o(12),s=function(f,d){return d===void 0&&(d=[]),Object(i.a)(f,function(h){return!Object(a.a)(d,h)})};r.a=s},function(n,r,o){var i=o(3),a=o(19),s=o(0),f=o(9);function d(h,v){if(!Object(s.a)(h))return null;var y;if(Object(i.a)(v)&&(y=v),Object(f.a)(v)&&(y=function(b){return Object(a.a)(b,v)}),y){for(var m=0;m<h.length;m+=1)if(y(h[m]))return h[m]}return null}r.a=d},function(n,r,o){function i(a,s,f){f===void 0&&(f=0);for(var d=f;d<a.length;d++)if(s(a[d],d))return d;return-1}r.a=i},function(n,r,o){var i=o(6),a=o(0),s=function(f,d){for(var h=null,v=0;v<f.length;v++){var y=f[v],m=y[d];if(!Object(i.a)(m)){Object(a.a)(m)?h=m[0]:h=m;break}}return h};r.a=s},function(n,r,o){var i=o(0),a=function(s){if(!Object(i.a)(s))return[];for(var f=[],d=0;d<s.length;d++)f=f.concat(s[d]);return f};r.a=a},function(n,r,o){var i=o(0),a=function(s,f){if(f===void 0&&(f=[]),!Object(i.a)(s))f.push(s);else for(var d=0;d<s.length;d+=1)a(s[d],f);return f};r.a=a},function(n,r,o){var i=o(0),a=o(14),s=function(f){if(f=Object(a.a)(f,function(m){return!isNaN(m)}),!f.length)return{min:0,max:0};if(Object(i.a)(f[0])){for(var d=[],h=0;h<f.length;h++)d=d.concat(f[h]);f=d}var v=Math.max.apply(null,f),y=Math.min.apply(null,f);return{min:y,max:v}};r.a=s},function(n,r,o){var i=Array.prototype,a=i.splice,s=i.indexOf,f=function(d){for(var h=[],v=1;v<arguments.length;v++)h[v-1]=arguments[v];for(var y=0;y<h.length;y++)for(var m=h[y],b=-1;(b=s.call(d,m))>-1;)a.call(d,b,1);return d};r.a=f},function(n,r,o){var i=o(2),a=o(0),s=o(9),f=function(d,h,v){if(!Object(a.a)(d)&&!Object(s.a)(d))return d;var y=v;return Object(i.a)(d,function(m,b){y=h(y,m,b)}),y};r.a=f},function(n,r,o){var i=o(1),a=o(21),s=function(f,d){var h=[];if(!Object(i.a)(f))return h;for(var v=-1,y=[],m=f.length;++v<m;){var b=f[v];d(b,v,f)&&(h.push(b),y.push(v))}return Object(a.a)(f,y),h};r.a=s},function(n,r,o){var i=o(0),a=o(8),s=o(3);function f(d,h){var v;if(Object(s.a)(h))v=function(m,b){return h(m)-h(b)};else{var y=[];Object(a.a)(h)?y.push(h):Object(i.a)(h)&&(y=h),v=function(m,b){for(var S=0;S<y.length;S+=1){var O=y[S];if(m[O]>b[O])return 1;if(m[O]<b[O])return-1}return 0}}return d.sort(v),d}r.a=f},function(n,r,o){var i=o(22),a=function(){for(var s=[],f=0;f<arguments.length;f++)s[f]=arguments[f];return Object(i.a)([].concat.apply([],s))};r.a=a},function(n,r,o){var i=o(2),a=o(0),s=o(6);r.a=function(f,d){var h=[],v={};return f.forEach(function(y){var m=y[d];Object(s.a)(m)||(Object(a.a)(m)||(m=[m]),Object(i.a)(m,function(b){v[b]||(h.push(b),v[b]=!0)}))}),h}},function(n,r,o){r.a=a;var i=o(1);function a(s){if(Object(i.a)(s))return s[0]}},function(n,r,o){r.a=a;var i=o(1);function a(s){if(Object(i.a)(s)){var f=s;return f[f.length-1]}}},function(n,r,o){var i=o(0),a=o(8);function s(f,d){return Object(i.a)(f)||Object(a.a)(f)?f[0]===d:!1}r.a=s},function(n,r,o){var i=o(0),a=o(8);function s(f,d){return Object(i.a)(f)||Object(a.a)(f)?f[f.length-1]===d:!1}r.a=s},function(n,r,o){var i=function(a,s){for(var f=0;f<a.length;f++)if(!s(a[f],f))return!1;return!0};r.a=i},function(n,r,o){var i=function(a,s){for(var f=0;f<a.length;f++)if(s(a[f],f))return!0;return!1};r.a=i},function(n,r,o){var i=o(23);r.a=function(a,s){if(!s)return[a];var f=Object(i.a)(a,s),d=[];for(var h in f)d.push(f[h]);return d}},function(n,r,o){function i(a,s){return a["_wrap_"+s]}r.a=i},function(n,r,o){function i(a,s){if(a["_wrap_"+s])return a["_wrap_"+s];var f=function(d){a[s](d)};return a["_wrap_"+s]=f,f}r.a=i},function(n,r,o){var i={};function a(s){var f=i[s];if(!f){for(var d=s.toString(16),h=d.length;h<6;h++)d="0"+d;f="#"+d,i[s]=f}return f}r.a=a},function(n,r,o){var i=o(0);function a(s){var f=0,d=0,h=0,v=0;return Object(i.a)(s)?s.length===1?f=d=h=v=s[0]:s.length===2?(f=h=s[0],d=v=s[1]):s.length===3?(f=s[0],d=v=s[1],h=s[2]):(f=s[0],d=s[1],h=s[2],v=s[3]):f=d=h=v=s,{r1:f,r2:d,r3:h,r4:v}}r.a=a},function(n,r,o){var i=function(a,s,f){return a<s?s:a>f?f:a};r.a=i},function(n,r,o){var i=function(a,s){var f=s.toString(),d=f.indexOf(".");if(d===-1)return Math.round(a);var h=f.substr(d+1).length;return h>20&&(h=20),parseFloat(a.toFixed(h))};r.a=i},function(n,r,o){var i=o(5),a=function(s){return Object(i.a)(s)&&s%1!==0};r.a=a},function(n,r,o){var i=o(5),a=function(s){return Object(i.a)(s)&&s%2===0};r.a=a},function(n,r,o){var i=o(5),a=Number.isInteger?Number.isInteger:function(s){return Object(i.a)(s)&&s%1===0};r.a=a},function(n,r,o){var i=o(5),a=function(s){return Object(i.a)(s)&&s<0};r.a=a},function(n,r,o){r.a=a;var i=1e-5;function a(s,f,d){return d===void 0&&(d=i),Math.abs(s-f)<d}},function(n,r,o){var i=o(5),a=function(s){return Object(i.a)(s)&&s%2!==0};r.a=a},function(n,r,o){var i=o(5),a=function(s){return Object(i.a)(s)&&s>0};r.a=a},function(n,r,o){var i=o(2),a=o(0),s=o(3);r.a=function(f,d){if(!!Object(a.a)(f)){var h=f[0],v;Object(s.a)(d)?v=d(f[0]):v=f[0][d];var y;return Object(i.a)(f,function(m){Object(s.a)(d)?y=d(m):y=m[d],y>v&&(h=m,v=y)}),h}}},function(n,r,o){var i=o(2),a=o(0),s=o(3);r.a=function(f,d){if(!!Object(a.a)(f)){var h=f[0],v;Object(s.a)(d)?v=d(f[0]):v=f[0][d];var y;return Object(i.a)(f,function(m){Object(s.a)(d)?y=d(m):y=m[d],y<v&&(h=m,v=y)}),h}}},function(n,r,o){var i=function(a,s){return(a%s+s)%s};r.a=i},function(n,r,o){var i=180/Math.PI,a=function(s){return i*s};r.a=a},function(n,r,o){r.a=parseInt},function(n,r,o){var i=Math.PI/180,a=function(s){return i*s};r.a=a},function(n,r,o){var i=o(2);r.a=i.a},function(n,r,o){var i=o(25);r.a=i.a},function(n,r,o){var i=o(12),a=o(26);r.a=function(s,f){return Object(i.a)(Object(a.a)(s),f)}},function(n,r,o){var i=o(10),a=function(s){return Object(i.a)(s).toLowerCase()};r.a=a},function(n,r,o){var i=o(10),a=function(s){var f=Object(i.a)(s);return f.charAt(0).toLowerCase()+f.substring(1)};r.a=a},function(n,r,o){function i(a,s){return!a||!s?a:a.replace(/\\?\{([^{}]+)\}/g,function(f,d){return f.charAt(0)==="\\"?f.slice(1):s[d]===void 0?"":s[d]})}r.a=i},function(n,r,o){var i=o(10),a=function(s){return Object(i.a)(s).toUpperCase()};r.a=a},function(n,r,o){var i=o(10),a=function(s){var f=Object(i.a)(s);return f.charAt(0).toUpperCase()+f.substring(1)};r.a=a},function(n,r,o){var i=o(4),a=function(s){return Object(i.a)(s,"Arguments")};r.a=a},function(n,r,o){var i=o(4),a=function(s){return Object(i.a)(s,"Boolean")};r.a=a},function(n,r,o){var i=o(4),a=function(s){return Object(i.a)(s,"Date")};r.a=a},function(n,r,o){var i=o(4),a=function(s){return Object(i.a)(s,"Error")};r.a=a},function(n,r,o){var i=o(5);r.a=function(a){return Object(i.a)(a)&&isFinite(a)}},function(n,r,o){var i=function(a){return a===null};r.a=i},function(n,r,o){var i=o(4),a=function(s){return Object(i.a)(s,"RegExp")};r.a=a},function(n,r,o){var i=function(a){return a===void 0};r.a=i},function(n,r,o){var i=function(a){return a instanceof Element||a instanceof HTMLDocument};r.a=i},function(n,r,o){r.a=i;function i(a){var s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(f){return setTimeout(f,16)};return s(a)}},function(n,r,o){r.a=i;function i(a){var s=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;s(a)}},function(n,r,o){var i=o(16),a=o(3),s=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];for(var h=f[0],v=1;v<f.length;v++){var y=f[v];Object(a.a)(y)&&(y=y.prototype),Object(i.a)(h.prototype,y)}};r.a=s},function(n,r,o){var i=o(0),a=function(s){if(typeof s!="object"||s===null)return s;var f;if(Object(i.a)(s)){f=[];for(var d=0,h=s.length;d<h;d++)typeof s[d]=="object"&&s[d]!=null?f[d]=a(s[d]):f[d]=s[d]}else{f={};for(var v in s)typeof s[v]=="object"&&s[v]!=null?f[v]=a(s[v]):f[v]=s[v]}return f};r.a=a},function(n,r,o){function i(a,s,f){var d;return function(){var h=this,v=arguments,y=function(){d=null,f||a.apply(h,v)},m=f&&!d;clearTimeout(d),d=setTimeout(y,s),m&&a.apply(h,v)}}r.a=i},function(n,r,o){var i=o(3);r.a=function(a,s){if(!Object(i.a)(a))throw new TypeError("Expected a function");var f=function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var v=s?s.apply(this,d):d[0],y=f.cache;if(y.has(v))return y.get(v);var m=a.apply(this,d);return y.set(v,m),m};return f.cache=new Map,f}},function(n,r,o){var i=o(0),a=o(9),s=5;function f(h,v,y,m){y=y||0,m=m||s;for(var b in v)if(v.hasOwnProperty(b)){var S=v[b];S!==null&&Object(a.a)(S)?(Object(a.a)(h[b])||(h[b]={}),y<m?f(h[b],S,y+1,m):h[b]=v[b]):Object(i.a)(S)?(h[b]=[],h[b]=h[b].concat(S)):S!==void 0&&(h[b]=S)}}var d=function(h){for(var v=[],y=1;y<arguments.length;y++)v[y-1]=arguments[y];for(var m=0;m<v.length;m+=1)f(h,v[m]);return h};r.a=d},function(n,r,o){var i=o(16),a=o(3),s=function(f,d,h,v){Object(a.a)(d)||(h=d,d=f,f=function(){});var y=Object.create?function(b,S){return Object.create(b,{constructor:{value:S}})}:function(b,S){function O(){}O.prototype=b;var _=new O;return _.constructor=S,_},m=y(d.prototype,f);return f.prototype=Object(i.a)(m,f.prototype),f.superclass=y(d.prototype,d),Object(i.a)(m,h),Object(i.a)(f,v),f};r.a=s},function(n,r,o){var i=o(1),a=function(s,f){if(!Object(i.a)(s))return-1;var d=Array.prototype.indexOf;if(d)return d.call(s,f);for(var h=-1,v=0;v<s.length;v++)if(s[v]===f){h=v;break}return h};r.a=a},function(n,r,o){var i=o(6),a=o(1),s=o(27),f=o(28),d=Object.prototype.hasOwnProperty;function h(v){if(Object(i.a)(v))return!0;if(Object(a.a)(v))return!v.length;var y=Object(s.a)(v);if(y==="Map"||y==="Set")return!v.size;if(Object(f.a)(v))return!Object.keys(v).length;for(var m in v)if(d.call(v,m))return!1;return!0}r.a=h},function(n,r,o){var i=o(3),a=o(29);r.a=function(s,f,d){return Object(i.a)(d)?!!d(s,f):Object(a.a)(s,f)}},function(n,r,o){var i=o(2),a=o(1),s=function(f,d){if(!Object(a.a)(f))return f;var h=[];return Object(i.a)(f,function(v,y){h.push(d(v,y))}),h};r.a=s},function(n,r,o){var i=o(6),a=o(13),s=function(f){return f};r.a=function(f,d){d===void 0&&(d=s);var h={};return Object(a.a)(f)&&!Object(i.a)(f)&&Object.keys(f).forEach(function(v){h[v]=d(f[v],v)}),h}},function(n,r,o){var i=o(8);r.a=function(a,s,f){for(var d=0,h=Object(i.a)(s)?s.split("."):s;a&&d<h.length;)a=a[h[d++]];return a===void 0||d<h.length?f:a}},function(n,r,o){var i=o(13),a=o(8),s=o(5);r.a=function(f,d,h){var v=f,y=Object(a.a)(d)?d.split("."):d;return y.forEach(function(m,b){b<y.length-1?(Object(i.a)(v[m])||(v[m]=Object(s.a)(y[b+1])?[]:{}),v=v[m]):v[m]=h}),f}},function(n,r,o){var i=o(2),a=o(9),s=Object.prototype.hasOwnProperty;r.a=function(f,d){if(f===null||!Object(a.a)(f))return{};var h={};return Object(i.a)(d,function(v){s.call(f,v)&&(h[v]=f[v])}),h}},function(n,r,o){r.a=function(i,a,s){var f,d,h,v,y=0;s||(s={});var m=function(){y=s.leading===!1?0:Date.now(),f=null,v=i.apply(d,h),f||(d=h=null)},b=function(){var S=Date.now();!y&&s.leading===!1&&(y=S);var O=a-(S-y);return d=this,h=arguments,O<=0||O>a?(f&&(clearTimeout(f),f=null),y=S,v=i.apply(d,h),f||(d=h=null)):!f&&s.trailing!==!1&&(f=setTimeout(m,O)),v};return b.cancel=function(){clearTimeout(f),y=0,f=d=h=null},b}},function(n,r,o){var i=o(1);r.a=function(a){return Object(i.a)(a)?Array.prototype.slice.call(a):[]}},function(n,r,o){var i={};r.a=function(a){return a=a||"g",i[a]?i[a]+=1:i[a]=1,a+i[a]}},function(n,r,o){r.a=function(){}},function(n,r,o){r.a=function(i){return i}},function(n,r,o){r.a=s;var i=o(6),a=o(1);function s(f){return Object(i.a)(f)?0:Object(a.a)(f)?f.length:Object.keys(f).length}},function(n,r,o){var i=function(){function a(){this.map={}}return a.prototype.has=function(s){return this.map[s]!==void 0},a.prototype.get=function(s,f){var d=this.map[s];return d===void 0?f:d},a.prototype.set=function(s,f){this.map[s]=f},a.prototype.clear=function(){this.map={}},a.prototype.delete=function(s){delete this.map[s]},a.prototype.size=function(){return Object.keys(this.map).length},a}();r.a=i},function(n,r){function o(h,v,y,m){m===void 0&&(m=[]);var b=this;b.w=h||0,b.h=v||0,b.y=y||0,b.x=0,b.c=m||[],b.cs=m.length,b.prelim=0,b.mod=0,b.shift=0,b.change=0,b.tl=null,b.tr=null,b.el=null,b.er=null,b.msel=0,b.mser=0}o.fromNode=function(h,v){if(!h)return null;var y=[];return h.children.forEach(function(m){y.push(o.fromNode(m,v))}),v?new o(h.height,h.width,h.x,y):new o(h.width,h.height,h.y,y)};function i(h,v,y){y?h.y+=v:h.x+=v,h.children.forEach(function(m){i(m,v,y)})}function a(h,v){var y=v?h.y:h.x;return h.children.forEach(function(m){y=Math.min(a(m,v),y)}),y}function s(h,v){var y=a(h,v);i(h,-y,v)}function f(h,v,y){y?v.y=h.x:v.x=h.x,h.c.forEach(function(m,b){f(m,v.children[b],y)})}function d(h,v,y){y===void 0&&(y=0),v?(h.x=y,y+=h.width):(h.y=y,y+=h.height),h.children.forEach(function(m){d(m,v,y)})}n.exports=function(h,v){v===void 0&&(v={});var y=v.isHorizontal;function m(M){if(M.cs===0){b(M);return}m(M.c[0]);for(var D=F(T(M.c[0].el),0,null),B=1;B<M.cs;++B){m(M.c[B]);var V=T(M.c[B].er);S(M,B,D),D=F(V,B,D)}N(M),b(M)}function b(M){M.cs===0?(M.el=M,M.er=M,M.msel=M.mser=0):(M.el=M.c[0].el,M.msel=M.c[0].msel,M.er=M.c[M.cs-1].er,M.mser=M.c[M.cs-1].mser)}function S(M,D,B){for(var V=M.c[D-1],Y=V.mod,K=M.c[D],X=K.mod;V!==null&&K!==null;){T(V)>B.low&&(B=B.nxt);var W=Y+V.prelim+V.w-(X+K.prelim);W>0&&(X+=W,O(M,D,B.index,W));var ie=T(V),oe=T(K);ie<=oe&&(V=A(V),V!==null&&(Y+=V.mod)),ie>=oe&&(K=_(K),K!==null&&(X+=K.mod))}!V&&!!K?P(M,D,K,X):!!V&&!K&&x(M,D,V,Y)}function O(M,D,B,V){M.c[D].mod+=V,M.c[D].msel+=V,M.c[D].mser+=V,j(M,D,B,V)}function _(M){return M.cs===0?M.tl:M.c[0]}function A(M){return M.cs===0?M.tr:M.c[M.cs-1]}function T(M){return M.y+M.h}function P(M,D,B,V){var Y=M.c[0].el;Y.tl=B;var K=V-B.mod-M.c[0].msel;Y.mod+=K,Y.prelim-=K,M.c[0].el=M.c[D].el,M.c[0].msel=M.c[D].msel}function x(M,D,B,V){var Y=M.c[D].er;Y.tr=B;var K=V-B.mod-M.c[D].mser;Y.mod+=K,Y.prelim-=K,M.c[D].er=M.c[D-1].er,M.c[D].mser=M.c[D-1].mser}function N(M){M.prelim=(M.c[0].prelim+M.c[0].mod+M.c[M.cs-1].mod+M.c[M.cs-1].prelim+M.c[M.cs-1].w)/2-M.w/2}function L(M,D){D+=M.mod,M.x=M.prelim+D,k(M);for(var B=0;B<M.cs;B++)L(M.c[B],D)}function j(M,D,B,V){if(B!==D-1){var Y=D-B;M.c[B+1].shift+=V/Y,M.c[D].shift-=V/Y,M.c[D].change-=V-V/Y}}function k(M){for(var D=0,B=0,V=0;V<M.cs;V++)D+=M.c[V].shift,B+=D+M.c[V].change,M.c[V].mod+=B}function F(M,D,B){for(;B!==null&&M>=B.low;)B=B.nxt;return{low:M,index:D,nxt:B}}d(h,y);var z=o.fromNode(h,y);return m(z),L(z,0),f(z,h,y),s(h,y),h}},function(n,r,o){function i(m,b){m.prototype=Object.create(b.prototype),m.prototype.constructor=m,m.__proto__=b}var a=o(11),s=o(115),f=o(17),d=o(7),h=function(m){i(b,m);function b(){return m.apply(this,arguments)||this}var S=b.prototype;return S.execute=function(){var _=this;return _.rootNode.width=0,f(_.rootNode,_.options,s)},b}(a),v={};function y(m,b){return b=d.assign({},v,b),new h(m,b).execute()}n.exports=y},function(n,r,o){var i=o(7);function a(d,h){h===void 0&&(h=[]);var v=this;v.x=v.y=0,v.leftChild=v.rightChild=null,v.height=0,v.children=h}var s={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function f(d,h,v){v?(h.x=d.x,h.y=d.y):(h.x=d.y,h.y=d.x),d.children.forEach(function(y,m){f(y,h.children[m],v)})}n.exports=function(d,h){h===void 0&&(h={}),h=i.assign({},s,h);var v=0;function y(_){if(!_)return null;_.width=0,_.depth&&_.depth>v&&(v=_.depth);var A=_.children,T=A.length,P=new a(_.height,[]);return A.forEach(function(x,N){var L=y(x);P.children.push(L),N===0&&(P.leftChild=L),N===T-1&&(P.rightChild=L)}),P.originNode=_,P.isLeaf=_.isLeaf(),P}function m(_){if(_.isLeaf||_.children.length===0)_.drawingDepth=v;else{var A=_.children.map(function(P){return m(P)}),T=Math.min.apply(null,A);_.drawingDepth=T-1}return _.drawingDepth}var b;function S(_){_.x=_.drawingDepth*h.rankSep,_.isLeaf?(_.y=0,b&&(_.y=b.y+b.height+h.nodeSep,_.originNode.parent!==b.originNode.parent&&(_.y+=h.subTreeSep)),b=_):(_.children.forEach(function(A){S(A)}),_.y=(_.leftChild.y+_.rightChild.y)/2)}var O=y(d);return m(O),S(O),f(O,d,h.isHorizontal),d}},function(n,r,o){function i(S,O){S.prototype=Object.create(O.prototype),S.prototype.constructor=S,S.__proto__=O}var a=o(11),s=o(117),f=o(30),d=o(7),h=["LR","RL","H"],v=h[0],y=function(S){i(O,S);function O(){return S.apply(this,arguments)||this}var _=O.prototype;return _.execute=function(){var T=this,P=T.options,x=T.rootNode;P.isHorizontal=!0;var N=P.indent,L=N===void 0?20:N,j=P.dropCap,k=j===void 0?!0:j,F=P.direction||v;if(F&&h.indexOf(F)===-1)throw new TypeError("Invalid direction: "+F);if(F===h[0])s(x,L,k);else if(F===h[1])s(x,L,k),x.right2left();else if(F===h[2]){var z=f(x,P),M=z.left,D=z.right;s(M,L,k),M.right2left(),s(D,L,k);var B=M.getBoundingBox();D.translate(B.width,0),x.x=D.x-x.width/2}return x},O}(a),m={};function b(S,O){return O=d.assign({},m,O),new y(S,O).execute()}n.exports=b},function(n,r){function o(i,a,s,f){var d=typeof s=="function"?s(i):s*i.depth;if(!f)try{if(i.id===i.parent.children[0].id){i.x+=d,i.y=a?a.y:0;return}}catch{}i.x+=d,i.y=a?a.y+a.height:0}n.exports=function(i,a,s){var f=null;i.eachNode(function(d){o(d,f,a,s),f=d})}},function(n,r,o){function i(m,b){m.prototype=Object.create(b.prototype),m.prototype.constructor=m,m.__proto__=b}var a=o(11),s=o(119),f=o(17),d=o(7),h=function(m){i(b,m);function b(){return m.apply(this,arguments)||this}var S=b.prototype;return S.execute=function(){var _=this;return f(_.rootNode,_.options,s)},b}(a),v={};function y(m,b){return b=d.assign({},v,b),new h(m,b).execute()}n.exports=y},function(n,r,o){var i=o(7);function a(d,h){var v=0;return d.children.length?d.children.forEach(function(y){v+=a(y,h)}):v=d.height,d._subTreeSep=h.getSubTreeSep(d.data),d.totalHeight=Math.max(d.height,v)+2*d._subTreeSep,d.totalHeight}function s(d){var h=d.children,v=h.length;if(v){h.forEach(function(_){s(_)});var y=h[0],m=h[v-1],b=m.y-y.y+m.height,S=0;if(h.forEach(function(_){S+=_.totalHeight}),b>d.height)d.y=y.y+b/2-d.height/2;else if(h.length!==1||d.height>S){var O=d.y+(d.height-b)/2-y.y;h.forEach(function(_){_.translate(0,O)})}else d.y=(y.y+y.height/2+m.y+m.height/2)/2-d.height/2}}var f={getSubTreeSep:function(){return 0}};n.exports=function(d,h){h===void 0&&(h={}),h=i.assign({},f,h),d.parent={x:0,width:0,height:0,y:0},d.BFTraverse(function(v){v.x=v.parent.x+v.parent.width}),d.parent=null,a(d,h),d.startY=0,d.y=d.totalHeight/2-d.height/2,d.eachNode(function(v){var y=v.children,m=y.length;if(m){var b=y[0];if(b.startY=v.startY+v._subTreeSep,m===1)b.y=v.y+v.height/2-b.height/2;else{b.y=b.startY+b.totalHeight/2-b.height/2;for(var S=1;S<m;S++){var O=y[S];O.startY=y[S-1].startY+y[S-1].totalHeight,O.y=O.startY+O.totalHeight/2-O.height/2}}}}),s(d)}}])})})(bY);const WKe=t7(bY.exports);var KKe=Object.defineProperty,XKe=Object.defineProperties,YKe=Object.getOwnPropertyDescriptors,XU=Object.getOwnPropertySymbols,ZKe=Object.prototype.hasOwnProperty,JKe=Object.prototype.propertyIsEnumerable,YU=(e,t,n)=>t in e?KKe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EY=(e,t)=>{for(var n in t||(t={}))ZKe.call(t,n)&&YU(e,n,t[n]);if(XU)for(var n of XU(t))JKe.call(t,n)&&YU(e,n,t[n]);return e},QKe=(e,t)=>XKe(e,YKe(t));const SY="center-node",qKe=10,eXe=10,tXe=e=>{const t=[],n=[];function r(o,i=null){const a=EY({},o);if(t.push(a),o.children&&o.children.forEach(s=>{r(s,a)}),i){const s={sourceNodeId:i.id,targetNodeId:a.id,type:"mindmap-edge"};n.push(s)}}return r(e),{nodes:t,edges:n}},nXe=e=>{if(!e||!e.children||e.children.length===0)return e;const t=40,n=20;e.isRoot=!0;const r=WKe.compactBox(e,{direction:"LR",getId(v){return v.id},getHeight(v){return v.type===SY?t*4:t},getWidth(){return 200+n*1.6},getHGap(){return n},getVGap(){return n},getSubTreeSep(v){return!v.children||!v.children.length?0:n}}),o=e.x||qKe,i=e.y||eXe,a=r.x,s=r.y,f=o-a,d=i-s;return wY(r,v=>({id:v.id,text:v.data.text.value,properties:v.data.properties,type:v.data.type,x:v.x+f,y:v.y+d}))},wY=(e,t)=>{const n=t(e);return e.children&&e.children.length>0&&(n.children=e.children.map(r=>wY(r,t))),n},rXe=e=>{let t=null;const n=new Map;return e.nodes.forEach(r=>{const o=QKe(EY({},r),{children:[]});n.set(r.id,o),r.type===SY&&(t=o)}),e.edges.forEach(r=>{n.get(r.sourceNodeId).children.push(n.get(r.targetNodeId))}),t},oXe=e=>{const t=rXe(e),n=nXe(t);return tXe(n)},iXe={emits:["addSubNode"]},OY=e=>(dM("data-v-baefec1f"),e=e(),hM(),e),aXe={class:"tool-menu"},sXe=OY(()=>ve("span",null,"\u65B0\u589E\u5B50\u4E3B\u9898",-1)),lXe=OY(()=>ve("span",{class:"shortcut-keys"},"Tab",-1)),uXe=[sXe,lXe],cXe=vle('<li data-v-baefec1f><span data-v-baefec1f>\u65B0\u589E\u540C\u7EA7\u4E3B\u9898</span><span class="shortcut-keys" data-v-baefec1f>Enter</span></li><li class="disabled" data-v-baefec1f><span data-v-baefec1f>\u65B0\u589E\u7236\u4E3B\u9898</span></li><li class="split-line" data-v-baefec1f></li><li class="disabled" data-v-baefec1f><span data-v-baefec1f>\u6536\u8D77\u4E3B\u9898</span></li><li class="disabled" data-v-baefec1f><span data-v-baefec1f>\u5C55\u5F00\u5B50\u4E3B\u9898</span></li><li class="split-line" data-v-baefec1f></li><li class="disabled" data-v-baefec1f><span data-v-baefec1f>\u590D\u5236</span></li><li class="disabled" data-v-baefec1f><span data-v-baefec1f>\u7C98\u8D34</span></li><li data-v-baefec1f><span data-v-baefec1f>\u5220\u9664</span></li>',9);function fXe(e,t,n,r,o,i){return H(),le("div",aXe,[ve("ul",null,[ve("li",{onClick:t[0]||(t[0]=a=>e.$emit("addSubNode"))},uXe),cXe])])}const dXe=cd(iXe,[["render",fXe],["__scopeId","data-v-baefec1f"]]),hXe="menu-common",pXe=200;class _Y{constructor({lf:t}){this.setContextMenuByType=(n,r)=>{this.menuTypeMap.set(n,r)},this.listenDelete=()=>{this.hideContextMenu()},this.menuTypeMap=new Map,this.lf=t,this.menuTypeMap.set(hXe,[]),this.menuComponent=Pn(dXe,{onAddSubNode:()=>{this.addSubNode()}}),this.app=Wb({render:()=>this.menuComponent}),this.lf.keyboard.on("tab",()=>{const{nodes:n}=this.lf.getSelectElements();n.length>0&&(this._activeData=n[0]),this._activeData&&this.addSubNode()}),this.lf.keyboard.on("enter",()=>{const{nodes:n}=this.lf.getSelectElements();if(n.length>0){const{edges:r}=this.lf.graphModel,o=r.find(i=>i.targetNodeId===n[0].id);o&&(this._activeData=this.lf.getNodeDataById(o.sourceNodeId))}this._activeData&&this.addSubNode()})}render(t,n){this.container=n,t.on("node:contextmenu",({data:r})=>{this._activeData=r,this.showMenu()})}getContextMenuPosition(){const t=this._activeData,n=this.lf.graphModel.getElement(t.id);if(!n){console.warn(`\u627E\u4E0D\u5230\u5143\u7D20${t.id}`);return}let r,o;if(n.BaseType==="edge"){r=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER;const i=n.getData();r=Math.max(i.startPoint.x,r),o=Math.min(i.startPoint.y,o),r=Math.max(i.endPoint.x,r),o=Math.min(i.endPoint.y,o),i.pointsList&&i.pointsList.forEach(a=>{r=Math.max(a.x,r),o=Math.min(a.y,o)})}return n.BaseType==="node"&&(r=t.x+n.width/2,o=t.y-n.height/2),this.lf.graphModel.transformModel.CanvasPointToHtmlPoint([r,o])}showMenu(){const{isSilentMode:t}=this.lf.options;if(t)return;if(!this.menuWrapper){this.isShow=!0;const o=document.createElement("div");o.className="menu-wrapper",this.container.appendChild(o),this.app.mount(o),this.menuWrapper=o}const[n,r]=this.getContextMenuPosition();this.menuWrapper.style.display="block",this.menuWrapper.style.left=`${n}px`,this.menuWrapper.style.top=`${r}px`,this.lf.on("node:delete,blank:click,edge:delete,node:drag,graph:transform",this.listenDelete)}hideContextMenu(){this.lf.off("node:delete,blank:click,edge:delete,node:drag,graph:transform",this.listenDelete),this.menuWrapper&&(this.menuWrapper.style.display="none")}addSubNode(){this.hideContextMenu();const t=this.lf.addNode({type:"sub-node",x:this._activeData.x+pXe,y:this._activeData.y,text:"\u5B50\u4E3B\u9898"});this.lf.addEdge({type:"bezier",sourceNodeId:this._activeData.id,targetNodeId:t.id});const n=this.lf.getGraphData(),{nodes:r,edges:o}=oXe(n),i=r.reduce((a,s)=>(a[s.id]=s,a),{});o.map(a=>{const{sourceNodeId:s,targetNodeId:f}=a,d=this.lf.getNodeModelById(f),h={x:i[s].x,y:i[s].y},v={x:i[f].x-d.width/2-100,y:i[f].y},y={x:i[f].x-d.width/2-100,y:i[f].y},m={x:i[f].x-d.width/2,y:i[f].y};a.startPoint=h,a.endPoint=m,a.pointsList=[h,v,y,m]}),this.lf.render({nodes:r,edges:o}),this.lf.selectElementById(t.id)}}_Y.pluginName="contextPad";class TY{constructor({lf:t}){t.register(_R),t.register(UKe),t.register(GKe),t.extension.contextPad=new _Y({lf:t})}render(t,n){t.extension.contextPad.render(t,n)}}TY.pluginName="LayoutFlowExtension";const vXe={props:{flowName:{type:String,default:"\u672A\u547D\u540D"}},setup(){return{}}},CY=e=>(dM("data-v-6b97f212"),e=e(),hM(),e),yXe={class:"header"},mXe={class:"header-item"},gXe=CY(()=>ve("div",{class:"header-item"},[ve("div",{class:"header-icon"},[ve("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:"24",height:"24"},[ve("path",{d:"M456.96 375.893A432.213 432.213 0 0 1 870.4 807.68a34.133 34.133 0 0 1-68.267 0A363.947 363.947 0 0 0 456.96 444.16v192.853L153.6 409.6l303.36-227.413z","p-id":"2268"})])])],-1)),bXe=CY(()=>ve("div",{class:"header-item"},[ve("div",{class:"header-icon"},[ve("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:"24",height:"24"},[ve("path",{d:"M567.04 375.893A432.213 432.213 0 0 0 153.6 807.68a34.133 34.133 0 1 0 68.267 0A363.947 363.947 0 0 1 567.04 444.16v192.853L870.4 409.6 567.04 182.187z","p-id":"1248"})])])],-1));function EXe(e,t,n,r,o,i){return H(),le("header",yXe,[ve("div",mXe,[Gn(ve("input",{class:"title",type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>n.flowName=a)},null,512),[[u_,n.flowName]])]),gXe,bXe])}const SXe=cd(vXe,[["render",EXe],["__scopeId","data-v-6b97f212"]]),wXe={setup(){const e=re(0),t=re(null);return{count:e,currentNode:t}},mounted(){this.lf=new HN({container:this.$refs.container,width:1200,height:1e3,grid:!1,edgeTextEdit:!1,adjustEdge:!1,adjustNodePosition:!1,hoverOutline:!1,edgeSelectedOutline:!1,stopScrollGraph:!0,stopZoomGraph:!0,keyboard:{enabled:!0},plugins:[TY]}),this.lf.render({nodes:[{x:200,y:200,type:"center-node",text:"\u4E2D\u5FC3\u4E3B\u9898"}]})},methods:{changeStyle(e){this.lf.setProperties(this.currentNode.id,{style:e})},stopTab(e){e.code==="Tab"&&e.preventDefault()}},components:{FlowHeader:SXe}},OXe={ref:"container",class:"container"};function _Xe(e,t,n,r,o,i){return H(),le("div",{class:"flow-chart",onKeydown:t[0]||(t[0]=(...a)=>i.stopTab&&i.stopTab(...a))},[ve("div",OXe,null,512)],32)}const TXe=cd(wXe,[["render",_Xe],["__scopeId","data-v-62686636"]]),CXe={class:"layout-flow"},AXe=St({__name:"LayoutFlow",setup(e){const t=re("first");return(n,r)=>{const o=_n("el-tab-pane"),i=_n("el-tabs");return H(),le("div",CXe,[Te(i,{modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=a=>t.value=a),class:"layout-tabs"},{default:Be(()=>[Te(o,{label:"\u81EA\u52A8\u5E03\u5C40(\u6811)",name:"first"},{default:Be(()=>[t.value==="first"?(H(),et(TXe,{key:0})):Ye("",!0)]),_:1}),Te(o,{label:"\u4E00\u952E\u7F8E\u5316",name:"second"},{default:Be(()=>[t.value==="second"?(H(),et(OKe,{key:0})):Ye("",!0)]),_:1})]),_:1},8,["modelValue"])])}}}),PXe=cd(AXe,[["__scopeId","data-v-397ee069"]]),xXe=St({__name:"App",setup(e){return(t,n)=>(H(),et(PXe))}}),AY=Wb(xXe);AY.use(Y4e);AY.mount("#app")});export default MXe();
